import{N as e,z as t,a1 as s,F as a,aM as r,aN as l,a2 as d,U as n,a0 as i,V as o}from"./vendor-react-CWmbX_Im.js";import{P as c}from"./vendor-pdf-Chr6DQ98.js";import"./vendor-CIxjMMAQ.js";const x=()=>{const[x,m]=e.useState([]),[h,u]=e.useState(!1),[b,p]=e.useState(null),[g,f]=e.useState(null),j=e.useRef(null),N=(e,t)=>{const s=[...x];"up"===t&&e>0?[s[e],s[e-1]]=[s[e-1],s[e]]:"down"===t&&e<s.length-1&&([s[e],s[e+1]]=[s[e+1],s[e]]),m(s)};return t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Merge PDF Files"}),t.jsxs("div",{onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group",children:[t.jsx("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:t.jsx(s,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),t.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload PDFs"}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Select multiple files"})]}),t.jsx("input",{type:"file",ref:j,className:"hidden",accept:"application/pdf",multiple:!0,onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=[];Array.from(e.target.files).forEach(e=>{"application/pdf"===e.type&&t.push({id:Math.random().toString(36).substr(2,9),name:e.name,file:e})}),m(e=>[...e,...t]),f(null),p(null)}j.current&&(j.current.value="")}})]}),x.length>0&&t.jsxs("div",{className:"space-y-3 mb-8",children:[x.map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[t.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded text-red-600 dark:text-red-400",children:t.jsx(a,{className:"w-5 h-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white truncate",children:e.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(e.file.size/1024/1024).toFixed(2)," MB"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(s,"up"),disabled:0===s,className:"p-2 text-slate-400 hover:text-primary-600 disabled:opacity-30 disabled:hover:text-slate-400",children:t.jsx(r,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>N(s,"down"),disabled:s===x.length-1,className:"p-2 text-slate-400 hover:text-primary-600 disabled:opacity-30 disabled:hover:text-slate-400",children:t.jsx(l,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{return t=e.id,m(e=>e.filter(e=>e.id!==t)),void f(null);var t},className:"p-2 text-red-400 hover:text-red-600",children:t.jsx(d,{className:"w-4 h-4"})})]})]},e.id)),t.jsxs("div",{className:"text-center text-sm text-slate-500 mt-2",children:[x.length," files selected. Drag order not supported yet, use arrows to reorder."]})]}),t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.length>0&&!g&&t.jsxs("button",{onClick:async()=>{if(x.length<2)p("Please upload at least 2 PDF files to merge.");else{u(!0),p(null);try{const e=await c.create();for(const r of x){const t=await r.file.arrayBuffer(),s=await c.load(t);(await e.copyPages(s,s.getPageIndices())).forEach(t=>e.addPage(t))}const t=await e.save(),s=new Blob([t],{type:"application/pdf"}),a=URL.createObjectURL(s);f(a)}catch(e){p("Failed to merge PDFs. One of the files might be corrupted.")}finally{u(!1)}}},disabled:h||x.length<2,className:"w-full md:w-auto px-8 py-4 bg-red-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-red-500/30 flex items-center justify-center gap-2 hover:bg-red-700 transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:[h?t.jsx(n,{className:"w-6 h-6 animate-spin"}):t.jsx(a,{className:"w-6 h-6"}),h?"Merging...":"Merge Files"]}),g&&t.jsxs("div",{className:"w-full animate-fade-in bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/50 rounded-2xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(i,{className:"w-8 h-8 text-green-600"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Files Merged!"}),t.jsx("p",{className:"text-slate-500 mb-6",children:"Your combined document is ready."}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("a",{href:g,download:"merged-document.pdf",className:"px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:shadow-lg transition-all flex items-center gap-2",children:[t.jsx(i,{className:"w-4 h-4"})," Download PDF"]}),t.jsx("button",{onClick:()=>{f(null),m([])},className:"px-6 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Start Over"})]})]}),b&&t.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[t.jsx(o,{className:"w-5 h-5"}),b]})]})]})})};export{x as default};
