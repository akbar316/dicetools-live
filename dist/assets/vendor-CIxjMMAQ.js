var A=Object.defineProperty,t=(t,e,n)=>((t,e,n)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n),e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var r,i,s={exports:{}},o={};function a(){return i||(i=1,s.exports=(r||(r=1,function(A){function t(A,t){var e=A.length;A.push(t);A:for(;0<e;){var n=e-1>>>1,i=A[n];if(!(0<r(i,t)))break A;A[n]=t,A[e]=i,e=n}}function e(A){return 0===A.length?null:A[0]}function n(A){if(0===A.length)return null;var t=A[0],e=A.pop();if(e!==t){A[0]=e;A:for(var n=0,i=A.length,s=i>>>1;n<s;){var o=2*(n+1)-1,a=A[o],l=o+1,u=A[l];if(0>r(a,e))l<i&&0>r(u,a)?(A[n]=u,A[l]=e,n=l):(A[n]=a,A[o]=e,n=o);else{if(!(l<i&&0>r(u,e)))break A;A[n]=u,A[l]=e,n=l}}}return t}function r(A,t){var e=A.sortIndex-t.sortIndex;return 0!==e?e:A.id-t.id}if(A.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;A.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();A.unstable_now=function(){return s.now()-o}}var a=[],l=[],u=1,c=null,h=3,f=!1,d=!1,p=!1,g=!1,B="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function _(A){for(var r=e(l);null!==r;){if(null===r.callback)n(l);else{if(!(r.startTime<=A))break;n(l),r.sortIndex=r.expirationTime,t(a,r)}r=e(l)}}function y(A){if(p=!1,_(A),!d)if(null!==e(a))d=!0,C||(C=!0,v());else{var t=e(l);null!==t&&T(y,t.startTime-A)}}var v,C=!1,b=-1,E=5,U=-1;function Q(){return!(!g&&A.unstable_now()-U<E)}function F(){if(g=!1,C){var t=A.unstable_now();U=t;var r=!0;try{A:{d=!1,p&&(p=!1,m(b),b=-1),f=!0;var i=h;try{t:{for(_(t),c=e(a);null!==c&&!(c.expirationTime>t&&Q());){var s=c.callback;if("function"==typeof s){c.callback=null,h=c.priorityLevel;var o=s(c.expirationTime<=t);if(t=A.unstable_now(),"function"==typeof o){c.callback=o,_(t),r=!0;break t}c===e(a)&&n(a),_(t)}else n(a);c=e(a)}if(null!==c)r=!0;else{var u=e(l);null!==u&&T(y,u.startTime-t),r=!1}}break A}finally{c=null,h=i,f=!1}r=void 0}}finally{r?v():C=!1}}}if("function"==typeof w)v=function(){w(F)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,S=I.port2;I.port1.onmessage=F,v=function(){S.postMessage(null)}}else v=function(){B(F,0)};function T(t,e){b=B(function(){t(A.unstable_now())},e)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(A){A.callback=null},A.unstable_forceFrameRate=function(A){0>A||125<A||(E=0<A?Math.floor(1e3/A):5)},A.unstable_getCurrentPriorityLevel=function(){return h},A.unstable_next=function(A){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var e=h;h=t;try{return A()}finally{h=e}},A.unstable_requestPaint=function(){g=!0},A.unstable_runWithPriority=function(A,t){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var e=h;h=A;try{return t()}finally{h=e}},A.unstable_scheduleCallback=function(n,r,i){var s=A.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return n={id:u++,callback:r,priorityLevel:n,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(n.sortIndex=i,t(l,n),null===e(a)&&n===e(l)&&(p?(m(b),b=-1):p=!0,T(y,i-s))):(n.sortIndex=o,t(a,n),d||f||(d=!0,C||(C=!0,v()))),n},A.unstable_shouldYield=Q,A.unstable_wrapCallback=function(A){var t=h;return function(){var e=h;h=t;try{return A.apply(this,arguments)}finally{h=e}}}}(o)),o)),s.exports}let l,u;const c=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap;let g={get(A,t,e){if(A instanceof IDBTransaction){if("done"===t)return h.get(A);if("objectStoreNames"===t)return A.objectStoreNames||f.get(A);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return w(A[t])},set:(A,t,e)=>(A[t]=e,!0),has:(A,t)=>A instanceof IDBTransaction&&("done"===t||"store"===t)||t in A};function B(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(u||(u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(A)?function(...t){return A.apply(_(this),t),w(c.get(this))}:function(...t){return w(A.apply(_(this),t))}:function(t,...e){const n=A.call(_(this),t,...e);return f.set(n,t.sort?t.sort():[t]),w(n)}}function m(A){return"function"==typeof A?B(A):(A instanceof IDBTransaction&&function(A){if(h.has(A))return;const t=new Promise((t,e)=>{const n=()=>{A.removeEventListener("complete",r),A.removeEventListener("error",i),A.removeEventListener("abort",i)},r=()=>{t(),n()},i=()=>{e(A.error||new DOMException("AbortError","AbortError")),n()};A.addEventListener("complete",r),A.addEventListener("error",i),A.addEventListener("abort",i)});h.set(A,t)}(A),t=A,(l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(A=>t instanceof A)?new Proxy(A,g):A);var t}function w(A){if(A instanceof IDBRequest)return function(A){const t=new Promise((t,e)=>{const n=()=>{A.removeEventListener("success",r),A.removeEventListener("error",i)},r=()=>{t(w(A.result)),n()},i=()=>{e(A.error),n()};A.addEventListener("success",r),A.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,A)}).catch(()=>{}),p.set(t,A),t}(A);if(d.has(A))return d.get(A);const t=m(A);return t!==A&&(d.set(A,t),p.set(t,A)),t}const _=A=>p.get(A);function y(A,t,{blocked:e,upgrade:n,blocking:r,terminated:i}={}){const s=indexedDB.open(A,t),o=w(s);return n&&s.addEventListener("upgradeneeded",A=>{n(w(s.result),A.oldVersion,A.newVersion,w(s.transaction),A)}),e&&s.addEventListener("blocked",A=>e(A.oldVersion,A.newVersion,A)),o.then(A=>{i&&A.addEventListener("close",()=>i()),r&&A.addEventListener("versionchange",A=>r(A.oldVersion,A.newVersion,A))}).catch(()=>{}),o}const v=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],b=new Map;function E(A,t){if(!(A instanceof IDBDatabase)||t in A||"string"!=typeof t)return;if(b.get(t))return b.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,r=C.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!v.includes(e))return;const i=async function(A,...t){const i=this.transaction(A,r?"readwrite":"readonly");let s=i.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[e](...t),r&&i.done]))[0]};return b.set(t,i),i}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let U,Q;function F(A,t,e,n){var r,i;if(!(null==A?void 0:A.baseUrl)){const A={geminiUrl:U,vertexUrl:Q};return t?null!==(r=A.vertexUrl)&&void 0!==r?r:e:null!==(i=A.geminiUrl)&&void 0!==i?i:n}return A.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */g=(A=>({...A,get:(t,e,n)=>E(t,e)||A.get(t,e,n),has:(t,e)=>!!E(t,e)||A.has(t,e)}))(g);class I{}function S(A,t){return A.replace(/\{([^}]+)\}/g,(A,e)=>{if(Object.prototype.hasOwnProperty.call(t,e)){const A=t[e];return null!=A?String(A):""}throw new Error(`Key '${e}' not found in valueMap.`)})}function T(A,t,e){for(let i=0;i<t.length-1;i++){const n=t[i];if(n.endsWith("[]")){const r=n.slice(0,-2);if(!(r in A)){if(!Array.isArray(e))throw new Error(`Value must be a list given an array path ${n}`);A[r]=Array.from({length:e.length},()=>({}))}if(Array.isArray(A[r])){const n=A[r];if(Array.isArray(e))for(let A=0;A<n.length;A++){T(n[A],t.slice(i+1),e[A])}else for(const A of n)T(A,t.slice(i+1),e)}return}if(n.endsWith("[0]")){const r=n.slice(0,-3);r in A||(A[r]=[{}]);return void T(A[r][0],t.slice(i+1),e)}A[n]&&"object"==typeof A[n]||(A[n]={}),A=A[n]}const n=t[t.length-1],r=A[n];if(void 0!==r){if(!e||"object"==typeof e&&0===Object.keys(e).length)return;if(e===r)return;if("object"!=typeof r||"object"!=typeof e||null===r||null===e)throw new Error(`Cannot set value for an existing key. Key: ${n}`);Object.assign(r,e)}else if("_self"!==n||"object"!=typeof e||null===e||Array.isArray(e))A[n]=e;else{const t=e;Object.assign(A,t)}}function x(A,t,e=void 0){try{if(1===t.length&&"_self"===t[0])return A;for(let n=0;n<t.length;n++){if("object"!=typeof A||null===A)return e;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in A){const r=A[i];return Array.isArray(r)?r.map(A=>x(A,t.slice(n+1),e)):e}return e}A=A[r]}return A}catch(n){if(n instanceof TypeError)return e;throw n}}function O(A,t,e,n,r){if(n>=t.length)return;if("object"!=typeof A||null===A)return;const i=t[n];if(i.endsWith("[]")){const s=i.slice(0,-2),o=A;if(s in o&&Array.isArray(o[s]))for(const A of o[s])O(A,t,e,n+1,r)}else if("*"===i){if("object"==typeof A&&null!==A&&!Array.isArray(A)){const t=A,i=Object.keys(t).filter(A=>!A.startsWith("_")&&!r.has(A)),s={};for(const A of i)s[A]=t[A];for(const[A,r]of Object.entries(s)){const i=[];for(const t of e.slice(n))"*"===t?i.push(A):i.push(t);T(t,i,r)}for(const A of i)delete t[A]}}else{i in A&&O(A[i],t,e,n+1,r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H(A){if("string"!=typeof A)throw new Error("fromImageBytes must be a string");return A}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response","generateVideoResponse"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["generatedSamples"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["video"]);null!=e&&T(t,["video"],function(A){const t={},e=x(A,["uri"]);null!=e&&T(t,["uri"],e);const n=x(A,["encodedVideo"]);null!=n&&T(t,["videoBytes"],H(n));const r=x(A,["encoding"]);null!=r&&T(t,["mimeType"],r);return t}(e));return t}(A))),T(t,["generatedVideos"],A)}const n=x(A,["raiMediaFilteredCount"]);null!=n&&T(t,["raiMediaFilteredCount"],n);const r=x(A,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function R(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["videos"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["_self"]);null!=e&&T(t,["video"],function(A){const t={},e=x(A,["gcsUri"]);null!=e&&T(t,["uri"],e);const n=x(A,["bytesBase64Encoded"]);null!=n&&T(t,["videoBytes"],H(n));const r=x(A,["mimeType"]);null!=r&&T(t,["mimeType"],r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e));return t}(A))),T(t,["generatedVideos"],A)}const n=x(A,["raiMediaFilteredCount"]);null!=n&&T(t,["raiMediaFilteredCount"],n);const r=x(A,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function P(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["parent"]);null!=n&&T(t,["parent"],n);const r=x(A,["documentName"]);null!=r&&T(t,["documentName"],r);return t}(s)),t}function N(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["parent"]);null!=n&&T(t,["parent"],n);const r=x(A,["documentName"]);null!=r&&T(t,["documentName"],r);return t}(s)),t}var L,D,k,V,K,G,q,X,Y,j,J,W,z,Z,$,AA,tA,eA,nA,rA,iA,sA,oA,aA,lA,uA,cA,hA,fA,dA,pA,gA,BA,mA,wA,_A,yA,vA,CA,bA,EA,UA,QA,FA,IA,SA,TA,xA,OA,HA,MA,RA,PA,NA,LA,DA,kA,VA,KA,GA,qA,XA,YA,jA,JA,WA,zA,ZA,$A,At,tt,et,nt,rt,it,st,ot,at,lt,ut,ct,ht,ft,dt,pt,gt,Bt,mt,wt,_t,yt,vt,Ct,bt,Et,Ut,Qt,Ft,It,St,Tt,xt,Ot,Ht,Mt,Rt,Pt,Nt,Lt,Dt,kt,Vt;(D=L||(L={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",D.OUTCOME_OK="OUTCOME_OK",D.OUTCOME_FAILED="OUTCOME_FAILED",D.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(V=k||(k={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",V.PYTHON="PYTHON",(G=K||(K={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",G.SILENT="SILENT",G.WHEN_IDLE="WHEN_IDLE",G.INTERRUPT="INTERRUPT",(X=q||(q={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",X.STRING="STRING",X.NUMBER="NUMBER",X.INTEGER="INTEGER",X.BOOLEAN="BOOLEAN",X.ARRAY="ARRAY",X.OBJECT="OBJECT",X.NULL="NULL",(j=Y||(Y={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",j.MODE_DYNAMIC="MODE_DYNAMIC",(W=J||(J={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",W.SIMPLE_SEARCH="SIMPLE_SEARCH",W.ELASTIC_SEARCH="ELASTIC_SEARCH",(Z=z||(z={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",Z.NO_AUTH="NO_AUTH",Z.API_KEY_AUTH="API_KEY_AUTH",Z.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",Z.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",Z.OAUTH="OAUTH",Z.OIDC_AUTH="OIDC_AUTH",(AA=$||($={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",AA.HTTP_IN_QUERY="HTTP_IN_QUERY",AA.HTTP_IN_HEADER="HTTP_IN_HEADER",AA.HTTP_IN_PATH="HTTP_IN_PATH",AA.HTTP_IN_BODY="HTTP_IN_BODY",AA.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(eA=tA||(tA={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",eA.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",eA.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",eA.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",eA.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",eA.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",eA.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(rA=nA||(nA={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",rA.LOW="LOW",rA.HIGH="HIGH",(sA=iA||(iA={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",sA.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",sA.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",sA.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",sA.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",sA.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",sA.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",sA.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",sA.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",sA.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",sA.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(aA=oA||(oA={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",aA.SEVERITY="SEVERITY",aA.PROBABILITY="PROBABILITY",(uA=lA||(lA={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",uA.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",uA.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",uA.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",uA.BLOCK_NONE="BLOCK_NONE",uA.OFF="OFF",(hA=cA||(cA={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",hA.STOP="STOP",hA.MAX_TOKENS="MAX_TOKENS",hA.SAFETY="SAFETY",hA.RECITATION="RECITATION",hA.LANGUAGE="LANGUAGE",hA.OTHER="OTHER",hA.BLOCKLIST="BLOCKLIST",hA.PROHIBITED_CONTENT="PROHIBITED_CONTENT",hA.SPII="SPII",hA.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",hA.IMAGE_SAFETY="IMAGE_SAFETY",hA.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",hA.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",hA.NO_IMAGE="NO_IMAGE",(dA=fA||(fA={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",dA.NEGLIGIBLE="NEGLIGIBLE",dA.LOW="LOW",dA.MEDIUM="MEDIUM",dA.HIGH="HIGH",(gA=pA||(pA={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",gA.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",gA.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",gA.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",gA.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(mA=BA||(BA={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",mA.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",mA.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",mA.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",mA.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(_A=wA||(wA={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",_A.SAFETY="SAFETY",_A.OTHER="OTHER",_A.BLOCKLIST="BLOCKLIST",_A.PROHIBITED_CONTENT="PROHIBITED_CONTENT",_A.IMAGE_SAFETY="IMAGE_SAFETY",_A.MODEL_ARMOR="MODEL_ARMOR",_A.JAILBREAK="JAILBREAK",(vA=yA||(yA={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",vA.ON_DEMAND="ON_DEMAND",vA.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(bA=CA||(CA={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",bA.TEXT="TEXT",bA.IMAGE="IMAGE",bA.AUDIO="AUDIO",(UA=EA||(EA={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",UA.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",UA.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",UA.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(FA=QA||(QA={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",FA.TUNING_MODE_FULL="TUNING_MODE_FULL",FA.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(SA=IA||(IA={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",SA.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",SA.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",SA.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",SA.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",SA.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",SA.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(xA=TA||(TA={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",xA.JOB_STATE_QUEUED="JOB_STATE_QUEUED",xA.JOB_STATE_PENDING="JOB_STATE_PENDING",xA.JOB_STATE_RUNNING="JOB_STATE_RUNNING",xA.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",xA.JOB_STATE_FAILED="JOB_STATE_FAILED",xA.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",xA.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",xA.JOB_STATE_PAUSED="JOB_STATE_PAUSED",xA.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",xA.JOB_STATE_UPDATING="JOB_STATE_UPDATING",xA.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(HA=OA||(OA={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",HA.TUNING_TASK_I2V="TUNING_TASK_I2V",HA.TUNING_TASK_T2V="TUNING_TASK_T2V",HA.TUNING_TASK_R2V="TUNING_TASK_R2V",(RA=MA||(MA={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",RA.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",RA.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",RA.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(NA=PA||(PA={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",NA.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",NA.BALANCED="BALANCED",NA.PRIORITIZE_COST="PRIORITIZE_COST",(DA=LA||(LA={})).UNSPECIFIED="UNSPECIFIED",DA.BLOCKING="BLOCKING",DA.NON_BLOCKING="NON_BLOCKING",(VA=kA||(kA={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",VA.MODE_DYNAMIC="MODE_DYNAMIC",(GA=KA||(KA={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",GA.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(XA=qA||(qA={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",XA.AUTO="AUTO",XA.ANY="ANY",XA.NONE="NONE",XA.VALIDATED="VALIDATED",(jA=YA||(YA={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",jA.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",jA.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",jA.BLOCK_NONE="BLOCK_NONE",(WA=JA||(JA={})).DONT_ALLOW="DONT_ALLOW",WA.ALLOW_ADULT="ALLOW_ADULT",WA.ALLOW_ALL="ALLOW_ALL",(ZA=zA||(zA={})).auto="auto",ZA.en="en",ZA.ja="ja",ZA.ko="ko",ZA.hi="hi",ZA.zh="zh",ZA.pt="pt",ZA.es="es",(At=$A||($A={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",At.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",At.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",At.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",At.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(et=tt||(tt={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",et.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",et.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",et.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(rt=nt||(nt={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",rt.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",rt.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",rt.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(st=it||(it={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",st.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",st.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",st.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",st.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",st.EDIT_MODE_STYLE="EDIT_MODE_STYLE",st.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",st.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(at=ot||(ot={})).FOREGROUND="FOREGROUND",at.BACKGROUND="BACKGROUND",at.PROMPT="PROMPT",at.SEMANTIC="SEMANTIC",at.INTERACTIVE="INTERACTIVE",(ut=lt||(lt={})).ASSET="ASSET",ut.STYLE="STYLE",(ht=ct||(ct={})).INSERT="INSERT",ht.REMOVE="REMOVE",ht.REMOVE_STATIC="REMOVE_STATIC",ht.OUTPAINT="OUTPAINT",(dt=ft||(ft={})).OPTIMIZED="OPTIMIZED",dt.LOSSLESS="LOSSLESS",(gt=pt||(pt={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",gt.PREFERENCE_TUNING="PREFERENCE_TUNING",(mt=Bt||(Bt={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",mt.STATE_PENDING="STATE_PENDING",mt.STATE_ACTIVE="STATE_ACTIVE",mt.STATE_FAILED="STATE_FAILED",(_t=wt||(wt={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",_t.PROCESSING="PROCESSING",_t.ACTIVE="ACTIVE",_t.FAILED="FAILED",(vt=yt||(yt={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",vt.UPLOADED="UPLOADED",vt.GENERATED="GENERATED",(bt=Ct||(Ct={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",bt.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",bt.RESPONSE_REJECTED="RESPONSE_REJECTED",bt.NEED_MORE_INPUT="NEED_MORE_INPUT",(Ut=Et||(Et={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Ut.TEXT="TEXT",Ut.IMAGE="IMAGE",Ut.VIDEO="VIDEO",Ut.AUDIO="AUDIO",Ut.DOCUMENT="DOCUMENT",(Ft=Qt||(Qt={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Ft.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Ft.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(St=It||(It={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",St.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",St.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(xt=Tt||(Tt={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",xt.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",xt.NO_INTERRUPTION="NO_INTERRUPTION",(Ht=Ot||(Ot={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Ht.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Ht.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(Rt=Mt||(Mt={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Rt.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Rt.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Rt.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Rt.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Rt.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Rt.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Rt.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Rt.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Rt.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Rt.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Rt.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Rt.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(Nt=Pt||(Pt={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",Nt.QUALITY="QUALITY",Nt.DIVERSITY="DIVERSITY",Nt.VOCALIZATION="VOCALIZATION",(Dt=Lt||(Lt={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",Dt.PLAY="PLAY",Dt.PAUSE="PAUSE",Dt.STOP="STOP",Dt.RESET_CONTEXT="RESET_CONTEXT";class Kt{constructor(A){const t={};for(const e of A.headers.entries())t[e[0]]=e[1];this.headers=t,this.responseInternal=A}json(){return this.responseInternal.json()}}class Gt{get text(){var A,t,e,n,r,i,s,o;if(0===(null===(n=null===(e=null===(t=null===(A=this.candidates)||void 0===A?void 0:A[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.parts)||void 0===n?void 0:n.length))return;this.candidates&&this.candidates.length;let a="",l=!1;const u=[];for(const c of null!==(o=null===(s=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)&&void 0!==o?o:[]){for(const[A,t]of Object.entries(c))"text"===A||"thought"===A||"thoughtSignature"===A||null===t&&void 0===t||u.push(A);if("string"==typeof c.text){if("boolean"==typeof c.thought&&c.thought)continue;l=!0,a+=c.text}}return u.length,l?a:void 0}get data(){var A,t,e,n,r,i,s,o;if(0===(null===(n=null===(e=null===(t=null===(A=this.candidates)||void 0===A?void 0:A[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.parts)||void 0===n?void 0:n.length))return;this.candidates&&this.candidates.length;let a="";const l=[];for(const u of null!==(o=null===(s=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)&&void 0!==o?o:[]){for(const[A,t]of Object.entries(u))"inlineData"===A||null===t&&void 0===t||l.push(A);u.inlineData&&"string"==typeof u.inlineData.data&&(a+=atob(u.inlineData.data))}return l.length,a.length>0?btoa(a):void 0}get functionCalls(){var A,t,e,n,r,i,s,o;if(0===(null===(n=null===(e=null===(t=null===(A=this.candidates)||void 0===A?void 0:A[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.parts)||void 0===n?void 0:n.length))return;this.candidates&&this.candidates.length;const a=null===(o=null===(s=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===o?void 0:o.filter(A=>A.functionCall).map(A=>A.functionCall).filter(A=>void 0!==A);return 0!==(null==a?void 0:a.length)?a:void 0}get executableCode(){var A,t,e,n,r,i,s,o,a;if(0===(null===(n=null===(e=null===(t=null===(A=this.candidates)||void 0===A?void 0:A[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.parts)||void 0===n?void 0:n.length))return;this.candidates&&this.candidates.length;const l=null===(o=null===(s=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===o?void 0:o.filter(A=>A.executableCode).map(A=>A.executableCode).filter(A=>void 0!==A);return 0!==(null==l?void 0:l.length)?null===(a=null==l?void 0:l[0])||void 0===a?void 0:a.code:void 0}get codeExecutionResult(){var A,t,e,n,r,i,s,o,a;if(0===(null===(n=null===(e=null===(t=null===(A=this.candidates)||void 0===A?void 0:A[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.parts)||void 0===n?void 0:n.length))return;this.candidates&&this.candidates.length;const l=null===(o=null===(s=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===o?void 0:o.filter(A=>A.codeExecutionResult).map(A=>A.codeExecutionResult).filter(A=>void 0!==A);return 0!==(null==l?void 0:l.length)?null===(a=null==l?void 0:l[0])||void 0===a?void 0:a.output:void 0}}class qt{}class Xt{}class Yt{}class jt{}class Jt{}class Wt{}class zt{}class Zt{}class $t{}class Ae{}class te{_fromAPIResponse({apiResponse:A,_isVertexAI:t}){const e=new te;let n;const r=A;return n=t?R(r):M(r),Object.assign(e,n),e}}class ee{}class ne{}class re{}class ie{}class se{}class oe{}class ae{_fromAPIResponse({apiResponse:A,_isVertexAI:t}){const e=new ae,n=P(A);return Object.assign(e,n),e}}class le{}class ue{}class ce{}class he{}class fe{get text(){var A,t,e;let n="",r=!1;const i=[];for(const s of null!==(e=null===(t=null===(A=this.serverContent)||void 0===A?void 0:A.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==e?e:[]){for(const[A,t]of Object.entries(s))"text"!==A&&"thought"!==A&&null!==t&&i.push(A);if("string"==typeof s.text){if("boolean"==typeof s.thought&&s.thought)continue;r=!0,n+=s.text}}return i.length,r?n:void 0}get data(){var A,t,e;let n="";const r=[];for(const i of null!==(e=null===(t=null===(A=this.serverContent)||void 0===A?void 0:A.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==e?e:[]){for(const[A,t]of Object.entries(i))"inlineData"!==A&&null!==t&&r.push(A);i.inlineData&&"string"==typeof i.inlineData.data&&(n+=atob(i.inlineData.data))}return r.length,n.length>0?btoa(n):void 0}}class de{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pe{_fromAPIResponse({apiResponse:A,_isVertexAI:t}){const e=new pe,n=N(A);return Object.assign(e,n),e}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ge(A,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(A.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const A=t.split("/",2);return`publishers/${A[0]}/models/${A[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Be(A,t){const e=ge(A,t);return e?e.startsWith("publishers/")&&A.isVertexAI()?`projects/${A.getProject()}/locations/${A.getLocation()}/${e}`:e.startsWith("models/")&&A.isVertexAI()?`projects/${A.getProject()}/locations/${A.getLocation()}/publishers/google/${e}`:e:""}function me(A){return Array.isArray(A)?A.map(A=>we(A)):[we(A)]}function we(A){if("object"==typeof A&&null!==A)return A;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof A)}function _e(A){const t=we(A);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ye(A){const t=we(A);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ve(A){if(null==A)throw new Error("PartUnion is required");if("object"==typeof A)return A;if("string"==typeof A)return{text:A};throw new Error("Unsupported part type: "+typeof A)}function Ce(A){if(null==A||Array.isArray(A)&&0===A.length)throw new Error("PartListUnion is required");return Array.isArray(A)?A.map(A=>ve(A)):[ve(A)]}function be(A){return null!=A&&"object"==typeof A&&"parts"in A&&Array.isArray(A.parts)}function Ee(A){return null!=A&&"object"==typeof A&&"functionCall"in A}function Ue(A){return null!=A&&"object"==typeof A&&"functionResponse"in A}function Qe(A){if(null==A)throw new Error("ContentUnion is required");return be(A)?A:{role:"user",parts:Ce(A)}}function Fe(A,t){if(!t)return[];if(A.isVertexAI()&&Array.isArray(t))return t.flatMap(A=>{const t=Qe(A);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(A.isVertexAI()){const A=Qe(t);return A.parts&&A.parts.length>0&&void 0!==A.parts[0].text?[A.parts[0].text]:[]}return Array.isArray(t)?t.map(A=>Qe(A)):[Qe(t)]}function Ie(A){if(null==A||Array.isArray(A)&&0===A.length)throw new Error("contents are required");if(!Array.isArray(A)){if(Ee(A)||Ue(A))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(A)]}const t=[],e=[],n=be(A[0]);for(const r of A){const A=be(r);if(A!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(A)t.push(r);else{if(Ee(r)||Ue(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");e.push(r)}}return n||t.push({role:"user",parts:Ce(e)}),t}function Se(A){const t={},e=["items"],n=["anyOf"],r=["properties"];if(A.type&&A.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=A.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,A=i[1]):"null"===i[1].type&&(t.nullable=!0,A=i[0])),A.type instanceof Array&&function(A,t){A.includes("null")&&(t.nullable=!0);const e=A.filter(A=>"null"!==A);if(1===e.length)t.type=Object.values(q).includes(e[0].toUpperCase())?e[0].toUpperCase():q.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const A of e)t.anyOf.push({type:Object.values(q).includes(A.toUpperCase())?A.toUpperCase():q.TYPE_UNSPECIFIED})}}(A.type,t);for(const[s,o]of Object.entries(A))if(null!=o)if("type"==s){if("null"===o)throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(q).includes(o.toUpperCase())?o.toUpperCase():q.TYPE_UNSPECIFIED}else if(e.includes(s))t[s]=Se(o);else if(n.includes(s)){const A=[];for(const e of o)"null"!=e.type?A.push(Se(e)):t.nullable=!0;t[s]=A}else if(r.includes(s)){const A={};for(const[t,e]of Object.entries(o))A[t]=Se(e);t[s]=A}else{if("additionalProperties"===s)continue;t[s]=o}return t}function Te(A){return Se(A)}function xe(A){if("object"==typeof A)return A;if("string"==typeof A)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:A}}};throw new Error("Unsupported speechConfig type: "+typeof A)}function Oe(A){if("multiSpeakerVoiceConfig"in A)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return A}function He(A){if(A.functionDeclarations)for(const t of A.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Se(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Se(t.response));return A}function Me(A){if(null==A)throw new Error("tools is required");if(!Array.isArray(A))throw new Error("tools is required and must be an array of Tools");const t=[];for(const e of A)t.push(e);return t}function Re(A,t){if("string"!=typeof t)throw new Error("name must be a string");return function(A,t,e,n=1){const r=!t.startsWith(`${e}/`)&&t.split("/").length===n;return A.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${A.getProject()}/${t}`:t.startsWith(`${e}/`)?`projects/${A.getProject()}/locations/${A.getLocation()}/${t}`:r?`projects/${A.getProject()}/locations/${A.getLocation()}/${e}/${t}`:t:r?`${e}/${t}`:t}(A,t,"cachedContents")}function Pe(A){switch(A){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return A}}function Ne(A){return H(A)}function Le(A){var t;let e;var n;if(null!=(n=A)&&"object"==typeof n&&"name"in n&&(e=A.name),!(function(A){return null!=A&&"object"==typeof A&&"uri"in A}(A)&&(e=A.uri,void 0===e)||function(A){return null!=A&&"object"==typeof A&&"video"in A}(A)&&(e=null===(t=A.video)||void 0===t?void 0:t.uri,void 0===e))){if("string"==typeof A&&(e=A),void 0===e)throw new Error("Could not extract file name from the provided input.");if(e.startsWith("https://")){const A=e.split("files/")[1].match(/[a-z0-9]+/);if(null===A)throw new Error(`Could not extract file name from URI ${e}`);e=A[0]}else e.startsWith("files/")&&(e=e.split("files/")[1]);return e}}function De(A,t){let e;return e=A.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",e}function ke(A){for(const t of["models","tunedModels","publisherModels"])if(Ve(A,t))return A[t];return[]}function Ve(A,t){return null!==A&&"object"==typeof A&&t in A}function Ke(A,t={}){const e=A,n={name:e.name,description:e.description,parametersJsonSchema:e.inputSchema};e.outputSchema&&(n.responseJsonSchema=e.outputSchema),t.behavior&&(n.behavior=t.behavior);return{functionDeclarations:[n]}}function Ge(A,t){let e;if("string"==typeof t)if(A.isVertexAI())if(t.startsWith("gs://"))e={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);e={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);e={fileName:t}}else if(Array.isArray(t)){if(A.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");e={inlinedRequests:t}}else e=t;const n=[e.gcsUri,e.bigqueryUri].filter(Boolean).length,r=[e.inlinedRequests,e.fileName].filter(Boolean).length;if(A.isVertexAI()){if(r>0||1!==n)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||1!==r)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return e}function qe(A){if("object"!=typeof A||null===A)return{};const t=A,e=t.inlinedResponses;if("object"!=typeof e||null===e)return A;const n=e.inlinedResponses;if(!Array.isArray(n)||0===n.length)return A;let r=!1;for(const i of n){if("object"!=typeof i||null===i)continue;const A=i.response;if("object"!=typeof A||null===A)continue;if(void 0!==A.embedding){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),A}function Xe(A,t){const e=t;if(!A.isVertexAI()){if(/batches\/[^/]+$/.test(e))return e.split("/").pop();throw new Error(`Invalid batch job name: ${e}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(e))return e.split("/").pop();if(/^\d+$/.test(e))return e;throw new Error(`Invalid batch job name: ${e}.`)}function Ye(A){return"BATCH_STATE_UNSPECIFIED"===A?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===A?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===A?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===A?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===A?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===A?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===A?"JOB_STATE_EXPIRED":A}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(A){const t={},e=x(A,["responsesFile"]);null!=e&&T(t,["fileName"],e);const n=x(A,["inlinedResponses","inlinedResponses"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["response"]);null!=e&&T(t,["response"],function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["candidates"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["content"]);null!=e&&T(t,["content"],e);const n=x(A,["citationMetadata"]);null!=n&&T(t,["citationMetadata"],function(A){const t={},e=x(A,["citationSources"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["citations"],A)}return t}(n));const r=x(A,["tokenCount"]);null!=r&&T(t,["tokenCount"],r);const i=x(A,["finishReason"]);null!=i&&T(t,["finishReason"],i);const s=x(A,["avgLogprobs"]);null!=s&&T(t,["avgLogprobs"],s);const o=x(A,["groundingMetadata"]);null!=o&&T(t,["groundingMetadata"],o);const a=x(A,["index"]);null!=a&&T(t,["index"],a);const l=x(A,["logprobsResult"]);null!=l&&T(t,["logprobsResult"],l);const u=x(A,["safetyRatings"]);if(null!=u){let A=u;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["safetyRatings"],A)}const c=x(A,["urlContextMetadata"]);null!=c&&T(t,["urlContextMetadata"],c);return t}(A))),T(t,["candidates"],A)}const r=x(A,["modelVersion"]);null!=r&&T(t,["modelVersion"],r);const i=x(A,["promptFeedback"]);null!=i&&T(t,["promptFeedback"],i);const s=x(A,["responseId"]);null!=s&&T(t,["responseId"],s);const o=x(A,["usageMetadata"]);null!=o&&T(t,["usageMetadata"],o);return t}(e));const n=x(A,["error"]);null!=n&&T(t,["error"],n);return t}(A))),T(t,["inlinedResponses"],A)}const r=x(A,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["inlinedEmbedContentResponses"],A)}return t}function Je(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata","displayName"]);null!=n&&T(t,["displayName"],n);const r=x(A,["metadata","state"]);null!=r&&T(t,["state"],Ye(r));const i=x(A,["metadata","createTime"]);null!=i&&T(t,["createTime"],i);const s=x(A,["metadata","endTime"]);null!=s&&T(t,["endTime"],s);const o=x(A,["metadata","updateTime"]);null!=o&&T(t,["updateTime"],o);const a=x(A,["metadata","model"]);null!=a&&T(t,["model"],a);const l=x(A,["metadata","output"]);return null!=l&&T(t,["dest"],je(qe(l))),t}function We(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["displayName"]);null!=n&&T(t,["displayName"],n);const r=x(A,["state"]);null!=r&&T(t,["state"],Ye(r));const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["createTime"]);null!=s&&T(t,["createTime"],s);const o=x(A,["startTime"]);null!=o&&T(t,["startTime"],o);const a=x(A,["endTime"]);null!=a&&T(t,["endTime"],a);const l=x(A,["updateTime"]);null!=l&&T(t,["updateTime"],l);const u=x(A,["model"]);null!=u&&T(t,["model"],u);const c=x(A,["inputConfig"]);null!=c&&T(t,["src"],function(A){const t={},e=x(A,["instancesFormat"]);null!=e&&T(t,["format"],e);const n=x(A,["gcsSource","uris"]);null!=n&&T(t,["gcsUri"],n);const r=x(A,["bigquerySource","inputUri"]);null!=r&&T(t,["bigqueryUri"],r);return t}(c));const h=x(A,["outputConfig"]);null!=h&&T(t,["dest"],function(A){const t={},e=x(A,["predictionsFormat"]);null!=e&&T(t,["format"],e);const n=x(A,["gcsDestination","outputUriPrefix"]);null!=n&&T(t,["gcsUri"],n);const r=x(A,["bigqueryDestination","outputUri"]);return null!=r&&T(t,["bigqueryUri"],r),t}(qe(h)));const f=x(A,["completionStats"]);return null!=f&&T(t,["completionStats"],f),t}function ze(A,t){const e={};if(void 0!==x(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==x(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==x(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=x(t,["fileName"]);null!=n&&T(e,["fileName"],n);const r=x(t,["inlinedRequests"]);if(null!=r){let t=r;Array.isArray(t)&&(t=t.map(t=>function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["request","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let A=Ie(r);Array.isArray(A)&&(A=A.map(A=>Ze(A))),T(e,["request","contents"],A)}const i=x(t,["metadata"]);null!=i&&T(e,["metadata"],i);const s=x(t,["config"]);null!=s&&T(e,["request","generationConfig"],function(A,t,e){const n={},r=x(t,["systemInstruction"]);void 0!==e&&null!=r&&T(e,["systemInstruction"],Ze(Qe(r)));const i=x(t,["temperature"]);null!=i&&T(n,["temperature"],i);const s=x(t,["topP"]);null!=s&&T(n,["topP"],s);const o=x(t,["topK"]);null!=o&&T(n,["topK"],o);const a=x(t,["candidateCount"]);null!=a&&T(n,["candidateCount"],a);const l=x(t,["maxOutputTokens"]);null!=l&&T(n,["maxOutputTokens"],l);const u=x(t,["stopSequences"]);null!=u&&T(n,["stopSequences"],u);const c=x(t,["responseLogprobs"]);null!=c&&T(n,["responseLogprobs"],c);const h=x(t,["logprobs"]);null!=h&&T(n,["logprobs"],h);const f=x(t,["presencePenalty"]);null!=f&&T(n,["presencePenalty"],f);const d=x(t,["frequencyPenalty"]);null!=d&&T(n,["frequencyPenalty"],d);const p=x(t,["seed"]);null!=p&&T(n,["seed"],p);const g=x(t,["responseMimeType"]);null!=g&&T(n,["responseMimeType"],g);const B=x(t,["responseSchema"]);null!=B&&T(n,["responseSchema"],Te(B));const m=x(t,["responseJsonSchema"]);null!=m&&T(n,["responseJsonSchema"],m);if(void 0!==x(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==x(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=x(t,["safetySettings"]);if(void 0!==e&&null!=w){let A=w;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["category"]);null!=e&&T(t,["category"],e);if(void 0!==x(A,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=x(A,["threshold"]);null!=n&&T(t,["threshold"],n);return t}(A))),T(e,["safetySettings"],A)}const _=x(t,["tools"]);if(void 0!==e&&null!=_){let A=Me(_);Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["functionDeclarations"],A)}if(void 0!==x(A,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(A,["googleSearchRetrieval"]);null!=n&&T(t,["googleSearchRetrieval"],n);const r=x(A,["computerUse"]);null!=r&&T(t,["computerUse"],r);const i=x(A,["fileSearch"]);null!=i&&T(t,["fileSearch"],i);const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);if(void 0!==x(A,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(A,["googleMaps"]);null!=o&&T(t,["googleMaps"],function(A){const t={};if(void 0!==x(A,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const e=x(A,["enableWidget"]);null!=e&&T(t,["enableWidget"],e);return t}(o));const a=x(A,["googleSearch"]);null!=a&&T(t,["googleSearch"],function(A){const t={};if(void 0!==x(A,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==x(A,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=x(A,["timeRangeFilter"]);null!=e&&T(t,["timeRangeFilter"],e);return t}(a));const l=x(A,["urlContext"]);null!=l&&T(t,["urlContext"],l);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(He(A)))),T(e,["tools"],A)}const y=x(t,["toolConfig"]);void 0!==e&&null!=y&&T(e,["toolConfig"],function(A){const t={},e=x(A,["functionCallingConfig"]);null!=e&&T(t,["functionCallingConfig"],function(A){const t={},e=x(A,["mode"]);null!=e&&T(t,["mode"],e);const n=x(A,["allowedFunctionNames"]);null!=n&&T(t,["allowedFunctionNames"],n);if(void 0!==x(A,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(e));const n=x(A,["retrievalConfig"]);null!=n&&T(t,["retrievalConfig"],n);return t}(y));if(void 0!==x(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const v=x(t,["cachedContent"]);void 0!==e&&null!=v&&T(e,["cachedContent"],Re(A,v));const C=x(t,["responseModalities"]);null!=C&&T(n,["responseModalities"],C);const b=x(t,["mediaResolution"]);null!=b&&T(n,["mediaResolution"],b);const E=x(t,["speechConfig"]);null!=E&&T(n,["speechConfig"],xe(E));if(void 0!==x(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=x(t,["thinkingConfig"]);null!=U&&T(n,["thinkingConfig"],U);const Q=x(t,["imageConfig"]);null!=Q&&T(n,["imageConfig"],function(A){const t={},e=x(A,["aspectRatio"]);null!=e&&T(t,["aspectRatio"],e);const n=x(A,["imageSize"]);null!=n&&T(t,["imageSize"],n);if(void 0!==x(A,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==x(A,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(Q));return n}(A,s,x(e,["request"],{})));return e}(A,t))),T(e,["requests","requests"],t)}return e}function Ze(A){const t={},e=x(A,["parts"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["mediaResolution"]);null!=e&&T(t,["mediaResolution"],e);const n=x(A,["codeExecutionResult"]);null!=n&&T(t,["codeExecutionResult"],n);const r=x(A,["executableCode"]);null!=r&&T(t,["executableCode"],r);const i=x(A,["fileData"]);null!=i&&T(t,["fileData"],function(A){const t={};if(void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const e=x(A,["fileUri"]);null!=e&&T(t,["fileUri"],e);const n=x(A,["mimeType"]);null!=n&&T(t,["mimeType"],n);return t}(i));const s=x(A,["functionCall"]);null!=s&&T(t,["functionCall"],function(A){const t={},e=x(A,["id"]);null!=e&&T(t,["id"],e);const n=x(A,["args"]);null!=n&&T(t,["args"],n);const r=x(A,["name"]);null!=r&&T(t,["name"],r);if(void 0!==x(A,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==x(A,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const o=x(A,["functionResponse"]);null!=o&&T(t,["functionResponse"],o);const a=x(A,["inlineData"]);null!=a&&T(t,["inlineData"],function(A){const t={},e=x(A,["data"]);if(null!=e&&T(t,["data"],e),void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=x(A,["mimeType"]);return null!=n&&T(t,["mimeType"],n),t}(a));const l=x(A,["text"]);null!=l&&T(t,["text"],l);const u=x(A,["thought"]);null!=u&&T(t,["thought"],u);const c=x(A,["thoughtSignature"]);null!=c&&T(t,["thoughtSignature"],c);const h=x(A,["videoMetadata"]);null!=h&&T(t,["videoMetadata"],h);return t}(A))),T(t,["parts"],A)}const n=x(A,["role"]);return null!=n&&T(t,["role"],n),t}function $e(A,t){const e=x(A,["displayName"]);void 0!==t&&null!=e&&T(t,["displayName"],e);const n=x(A,["dest"]);return void 0!==t&&null!=n&&T(t,["outputConfig"],function(A){const t={},e=x(A,["format"]);null!=e&&T(t,["predictionsFormat"],e);const n=x(A,["gcsUri"]);null!=n&&T(t,["gcsDestination","outputUriPrefix"],n);const r=x(A,["bigqueryUri"]);if(null!=r&&T(t,["bigqueryDestination","outputUri"],r),void 0!==x(A,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==x(A,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==x(A,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(A){if("string"!=typeof A)return A;const t=A;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(n))),{}}function An(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["src"]);null!=r&&T(e,["batch","inputConfig"],ze(A,Ge(A,r)));const i=x(t,["config"]);return null!=i&&function(A,t){const e=x(A,["displayName"]);if(void 0!==t&&null!=e&&T(t,["batch","displayName"],e),void 0!==x(A,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,e),e}function tn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["model"],ge(A,n));const r=x(t,["src"]);null!=r&&T(e,["inputConfig"],function(A){const t={},e=x(A,["format"]);null!=e&&T(t,["instancesFormat"],e);const n=x(A,["gcsUri"]);null!=n&&T(t,["gcsSource","uris"],n);const r=x(A,["bigqueryUri"]);if(null!=r&&T(t,["bigquerySource","inputUri"],r),void 0!==x(A,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==x(A,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Ge(A,r)));const i=x(t,["config"]);return null!=i&&$e(i,e),e}function en(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["src"]);null!=r&&T(e,["batch","inputConfig"],function(A,t){const e={},n=x(t,["fileName"]);null!=n&&T(e,["file_name"],n);const r=x(t,["inlinedRequests"]);null!=r&&T(e,["requests"],function(A,t){const e={},n=x(t,["contents"]);if(null!=n){let t=Fe(A,n);Array.isArray(t)&&(t=t.map(A=>A)),T(e,["requests[]","request","content"],t)}const r=x(t,["config"]);null!=r&&(T(e,["_self"],function(A,t){const e={},n=x(A,["taskType"]);void 0!==t&&null!=n&&T(t,["requests[]","taskType"],n);const r=x(A,["title"]);void 0!==t&&null!=r&&T(t,["requests[]","title"],r);const i=x(A,["outputDimensionality"]);void 0!==t&&null!=i&&T(t,["requests[]","outputDimensionality"],i);if(void 0!==x(A,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==x(A,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return e}(r,e)),function(A,t){for(const[e,n]of Object.entries(t)){const t=e.split("."),r=n.split("."),i=new Set;let s=-1;for(let A=0;A<t.length;A++)if("*"===t[A]){s=A;break}if(-1!==s&&r.length>s)for(let A=s;A<r.length;A++){const t=r[A];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}O(A,t,r,0,i)}}(e,{"requests[].*":"requests[].request.*"}));return e}(A,r));return e}(A,r));const i=x(t,["config"]);return null!=i&&function(A,t){const e=x(A,["displayName"]);void 0!==t&&null!=e&&T(t,["batch","displayName"],e)}(i,e),e}function nn(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);if(void 0!==t&&null!=n&&T(t,["_query","pageToken"],n),void 0!==x(A,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(e,t),t}function rn(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n);const r=x(A,["filter"]);void 0!==t&&null!=r&&T(t,["_query","filter"],r)}(e,t),t}(Vt=kt||(kt={})).PAGED_ITEM_BATCH_JOBS="batchJobs",Vt.PAGED_ITEM_MODELS="models",Vt.PAGED_ITEM_TUNING_JOBS="tuningJobs",Vt.PAGED_ITEM_FILES="files",Vt.PAGED_ITEM_CACHED_CONTENTS="cachedContents",Vt.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",Vt.PAGED_ITEM_DOCUMENTS="documents";class sn{constructor(A,t,e,n){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(A,e,n)}init(A,t,e){var n,r;this.nameInternal=A,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=e&&0!==Object.keys(e).length?"object"==typeof e?Object.assign({},e):e:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(r=null===(n=i.config)||void 0===n?void 0:n.pageSize)&&void 0!==r?r:this.pageInternal.length}initNextPage(A){this.init(this.nameInternal,A,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(A){return this.pageInternal[A]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const A=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:A,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const A=await this.requestInternal(this.params);return this.initNextPage(A),this.page}hasNextPage(){var A;return void 0!==(null===(A=this.params.config)||void 0===A?void 0:A.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class on extends I{constructor(A){super(),this.apiClient=A,this.create=async A=>(this.apiClient.isVertexAI()&&(A.config=this.formatDestination(A.src,A.config)),this.createInternal(A)),this.createEmbeddings=async A=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(A)},this.list=async(A={})=>new sn(kt.PAGED_ITEM_BATCH_JOBS,A=>this.listInternal(A),await this.listInternal(A),A)}createInlinedGenerateContentRequest(A){const t=An(this.apiClient,A),e=S("{model}:batchGenerateContent",t._url),n=t.batch.inputConfig.requests,r=n.requests,i=[];for(const s of r){const A=Object.assign({},s);if(A.systemInstruction){const t=A.systemInstruction;delete A.systemInstruction;const e=A.request;e.systemInstruction=t,A.request=e}i.push(A)}return n.requests=i,delete t.config,delete t._url,delete t._query,{path:e,body:t}}getGcsUri(A){return"string"==typeof A?A.startsWith("gs://")?A:void 0:!Array.isArray(A)&&A.gcsUri&&A.gcsUri.length>0?A.gcsUri[0]:void 0}getBigqueryUri(A){return"string"==typeof A?A.startsWith("bq://")?A:void 0:Array.isArray(A)?void 0:A.bigqueryUri}formatDestination(A,t){const e=t?Object.assign({},t):{},n=Date.now().toString();if(e.displayName||(e.displayName=`genaiBatchJob_${n}`),void 0===e.dest){const t=this.getGcsUri(A),r=this.getBigqueryUri(A);if(t)t.endsWith(".jsonl")?e.dest=`${t.slice(0,-6)}/dest`:e.dest=`${t}_dest_${n}`;else{if(!r)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");e.dest=`${r}_dest_${n}`}}return e}async createInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=tn(this.apiClient,A);return s=S("batchPredictionJobs",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>We(A))}{const t=An(this.apiClient,A);return s=S("{model}:batchGenerateContent",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>Je(A))}}async createEmbeddingsInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=en(this.apiClient,A);return r=S("{model}:asyncBatchEmbedContent",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>Je(A))}}async get(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Xe(A,n)),e}(this.apiClient,A);return s=S("batchPredictionJobs/{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>We(A))}{const t=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Xe(A,n)),e}(this.apiClient,A);return s=S("batches/{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>Je(A))}}async cancel(A){var t,e,n,r;let i="",s={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Xe(A,n)),e}(this.apiClient,A);i=S("batchPredictionJobs/{name}:cancel",n._url),s=n._query,delete n._url,delete n._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal})}else{const t=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Xe(A,n)),e}(this.apiClient,A);i=S("batches/{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal})}}async listInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=rn(A);return s=S("batchPredictionJobs",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["batchPredictionJobs"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>We(A))),T(t,["batchJobs"],A)}return t}(A),e=new he;return Object.assign(e,t),e})}{const t=nn(A);return s=S("batches",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["operations"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>Je(A))),T(t,["batchJobs"],A)}return t}(A),e=new he;return Object.assign(e,t),e})}}async delete(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Xe(A,n)),e}(this.apiClient,A);return s=S("batchPredictionJobs/{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["name"]);null!=n&&T(t,["name"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);return null!=i&&T(t,["error"],i),t}(A))}{const t=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Xe(A,n)),e}(this.apiClient,A);return s=S("batches/{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["name"]);null!=n&&T(t,["name"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);return null!=i&&T(t,["error"],i),t}(A))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function an(A){const t={},e=x(A,["parts"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["mediaResolution"]);null!=e&&T(t,["mediaResolution"],e);const n=x(A,["codeExecutionResult"]);null!=n&&T(t,["codeExecutionResult"],n);const r=x(A,["executableCode"]);null!=r&&T(t,["executableCode"],r);const i=x(A,["fileData"]);null!=i&&T(t,["fileData"],function(A){const t={};if(void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const e=x(A,["fileUri"]);null!=e&&T(t,["fileUri"],e);const n=x(A,["mimeType"]);null!=n&&T(t,["mimeType"],n);return t}(i));const s=x(A,["functionCall"]);null!=s&&T(t,["functionCall"],function(A){const t={},e=x(A,["id"]);null!=e&&T(t,["id"],e);const n=x(A,["args"]);null!=n&&T(t,["args"],n);const r=x(A,["name"]);null!=r&&T(t,["name"],r);if(void 0!==x(A,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==x(A,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const o=x(A,["functionResponse"]);null!=o&&T(t,["functionResponse"],o);const a=x(A,["inlineData"]);null!=a&&T(t,["inlineData"],function(A){const t={},e=x(A,["data"]);if(null!=e&&T(t,["data"],e),void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=x(A,["mimeType"]);return null!=n&&T(t,["mimeType"],n),t}(a));const l=x(A,["text"]);null!=l&&T(t,["text"],l);const u=x(A,["thought"]);null!=u&&T(t,["thought"],u);const c=x(A,["thoughtSignature"]);null!=c&&T(t,["thoughtSignature"],c);const h=x(A,["videoMetadata"]);null!=h&&T(t,["videoMetadata"],h);return t}(A))),T(t,["parts"],A)}const n=x(A,["role"]);return null!=n&&T(t,["role"],n),t}function ln(A,t){const e=x(A,["ttl"]);void 0!==t&&null!=e&&T(t,["ttl"],e);const n=x(A,["expireTime"]);void 0!==t&&null!=n&&T(t,["expireTime"],n);const r=x(A,["displayName"]);void 0!==t&&null!=r&&T(t,["displayName"],r);const i=x(A,["contents"]);if(void 0!==t&&null!=i){let A=Ie(i);Array.isArray(A)&&(A=A.map(A=>an(A))),T(t,["contents"],A)}const s=x(A,["systemInstruction"]);void 0!==t&&null!=s&&T(t,["systemInstruction"],an(Qe(s)));const o=x(A,["tools"]);if(void 0!==t&&null!=o){let A=o;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["functionDeclarations"],A)}if(void 0!==x(A,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(A,["googleSearchRetrieval"]);null!=n&&T(t,["googleSearchRetrieval"],n);const r=x(A,["computerUse"]);null!=r&&T(t,["computerUse"],r);const i=x(A,["fileSearch"]);null!=i&&T(t,["fileSearch"],i);const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);if(void 0!==x(A,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(A,["googleMaps"]);null!=o&&T(t,["googleMaps"],function(A){const t={};if(void 0!==x(A,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const e=x(A,["enableWidget"]);null!=e&&T(t,["enableWidget"],e);return t}(o));const a=x(A,["googleSearch"]);null!=a&&T(t,["googleSearch"],function(A){const t={};if(void 0!==x(A,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==x(A,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=x(A,["timeRangeFilter"]);null!=e&&T(t,["timeRangeFilter"],e);return t}(a));const l=x(A,["urlContext"]);null!=l&&T(t,["urlContext"],l);return t}(A))),T(t,["tools"],A)}const a=x(A,["toolConfig"]);if(void 0!==t&&null!=a&&T(t,["toolConfig"],function(A){const t={},e=x(A,["functionCallingConfig"]);null!=e&&T(t,["functionCallingConfig"],function(A){const t={},e=x(A,["mode"]);null!=e&&T(t,["mode"],e);const n=x(A,["allowedFunctionNames"]);null!=n&&T(t,["allowedFunctionNames"],n);if(void 0!==x(A,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(e));const n=x(A,["retrievalConfig"]);null!=n&&T(t,["retrievalConfig"],n);return t}(a)),void 0!==x(A,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function un(A,t){const e=x(A,["ttl"]);void 0!==t&&null!=e&&T(t,["ttl"],e);const n=x(A,["expireTime"]);void 0!==t&&null!=n&&T(t,["expireTime"],n);const r=x(A,["displayName"]);void 0!==t&&null!=r&&T(t,["displayName"],r);const i=x(A,["contents"]);if(void 0!==t&&null!=i){let A=Ie(i);Array.isArray(A)&&(A=A.map(A=>A)),T(t,["contents"],A)}const s=x(A,["systemInstruction"]);void 0!==t&&null!=s&&T(t,["systemInstruction"],Qe(s));const o=x(A,["tools"]);if(void 0!==t&&null!=o){let A=o;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={};if(void 0!==x(A,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const e=x(A,["description"]);null!=e&&T(t,["description"],e);const n=x(A,["name"]);null!=n&&T(t,["name"],n);const r=x(A,["parameters"]);null!=r&&T(t,["parameters"],r);const i=x(A,["parametersJsonSchema"]);null!=i&&T(t,["parametersJsonSchema"],i);const s=x(A,["response"]);null!=s&&T(t,["response"],s);const o=x(A,["responseJsonSchema"]);null!=o&&T(t,["responseJsonSchema"],o);return t}(A))),T(t,["functionDeclarations"],A)}const n=x(A,["retrieval"]);null!=n&&T(t,["retrieval"],n);const r=x(A,["googleSearchRetrieval"]);null!=r&&T(t,["googleSearchRetrieval"],r);const i=x(A,["computerUse"]);null!=i&&T(t,["computerUse"],i);if(void 0!==x(A,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);const o=x(A,["enterpriseWebSearch"]);null!=o&&T(t,["enterpriseWebSearch"],o);const a=x(A,["googleMaps"]);null!=a&&T(t,["googleMaps"],a);const l=x(A,["googleSearch"]);null!=l&&T(t,["googleSearch"],l);const u=x(A,["urlContext"]);null!=u&&T(t,["urlContext"],u);return t}(A))),T(t,["tools"],A)}const a=x(A,["toolConfig"]);void 0!==t&&null!=a&&T(t,["toolConfig"],a);const l=x(A,["kmsKeyName"]);return void 0!==t&&null!=l&&T(t,["encryption_spec","kmsKeyName"],l),{}}function cn(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n)}(e,t),t}function hn(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n)}(e,t),t}function fn(A,t){const e={},n=x(t,["name"]);null!=n&&T(e,["_url","name"],Re(A,n));const r=x(t,["config"]);return null!=r&&function(A,t){const e=x(A,["ttl"]);void 0!==t&&null!=e&&T(t,["ttl"],e);const n=x(A,["expireTime"]);void 0!==t&&null!=n&&T(t,["expireTime"],n)}(r,e),e}function dn(A,t){const e={},n=x(t,["name"]);null!=n&&T(e,["_url","name"],Re(A,n));const r=x(t,["config"]);return null!=r&&function(A,t){const e=x(A,["ttl"]);void 0!==t&&null!=e&&T(t,["ttl"],e);const n=x(A,["expireTime"]);void 0!==t&&null!=n&&T(t,["expireTime"],n)}(r,e),e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pn extends I{constructor(A){super(),this.apiClient=A,this.list=async(A={})=>new sn(kt.PAGED_ITEM_CACHED_CONTENTS,A=>this.listInternal(A),await this.listInternal(A),A)}async create(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["model"],Be(A,n));const r=x(t,["config"]);return null!=r&&un(r,e),e}(this.apiClient,A);return s=S("cachedContents",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>A)}{const t=function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["model"],Be(A,n));const r=x(t,["config"]);return null!=r&&ln(r,e),e}(this.apiClient,A);return s=S("cachedContents",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>A)}}async get(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Re(A,n)),e}(this.apiClient,A);return s=S("{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>A)}{const t=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Re(A,n)),e}(this.apiClient,A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>A)}}async delete(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Re(A,n)),e}(this.apiClient,A);return s=S("{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new ne;return Object.assign(e,t),e})}{const t=function(A,t){const e={},n=x(t,["name"]);return null!=n&&T(e,["_url","name"],Re(A,n)),e}(this.apiClient,A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new ne;return Object.assign(e,t),e})}}async update(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=dn(this.apiClient,A);return s=S("{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"PATCH",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>A)}{const t=fn(this.apiClient,A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>A)}}async listInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=hn(A);return s=S("cachedContents",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["cachedContents"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["cachedContents"],A)}return t}(A),e=new re;return Object.assign(e,t),e})}{const t=cn(A);return s=S("cachedContents",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["cachedContents"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["cachedContents"],A)}return t}(A),e=new re;return Object.assign(e,t),e})}}}function gn(A){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&A[t],n=0;if(e)return e.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&n>=A.length&&(A=void 0),{value:A&&A[n++],done:!A}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(A){return this instanceof Bn?(this.v=A,this):new Bn(A)}function mn(A,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=e.apply(A,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(A){return function(t){return Promise.resolve(t).then(A,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(A,t){r[A]&&(n[A]=function(t){return new Promise(function(e,n){i.push([A,t,e,n])>1||o(A,t)})},t&&(n[A]=t(n[A])))}function o(A,t){try{(e=r[A](t)).value instanceof Bn?Promise.resolve(e.value.v).then(a,l):u(i[0][2],e)}catch(n){u(i[0][3],n)}var e}function a(A){o("next",A)}function l(A){o("throw",A)}function u(A,t){A(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function wn(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=A[Symbol.asyncIterator];return e?e.call(A):(A=gn(A),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(e){t[e]=A[e]&&function(t){return new Promise(function(n,r){(function(A,t,e,n){Promise.resolve(n).then(function(t){A({value:t,done:e})},t)})(n,r,(t=A[e](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function _n(A){var t;if(null==A.candidates||0===A.candidates.length)return!1;const e=null===(t=A.candidates[0])||void 0===t?void 0:t.content;return void 0!==e&&yn(e)}function yn(A){if(void 0===A.parts||0===A.parts.length)return!1;for(const t of A.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function vn(A){if(void 0===A||0===A.length)return[];const t=[],e=A.length;let n=0;for(;n<e;)if("user"===A[n].role)t.push(A[n]),n++;else{const r=[];let i=!0;for(;n<e&&"model"===A[n].role;)r.push(A[n]),i&&!yn(A[n])&&(i=!1),n++;i?t.push(...r):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class Cn{constructor(A,t){this.modelsModule=A,this.apiClient=t}create(A){return new bn(this.apiClient,this.modelsModule,A.model,A.config,structuredClone(A.history))}}class bn{constructor(A,t,e,n={},r=[]){this.apiClient=A,this.modelsModule=t,this.model=e,this.config=n,this.history=r,this.sendPromise=Promise.resolve(),function(A){if(0!==A.length)for(const t of A)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(r)}async sendMessage(A){var t;await this.sendPromise;const e=Qe(A.message),n=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(e),config:null!==(t=A.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var A,t,r;const i=await n,s=null===(t=null===(A=i.candidates)||void 0===A?void 0:A[0])||void 0===t?void 0:t.content,o=i.automaticFunctionCallingHistory,a=this.getHistory(!0).length;let l=[];null!=o&&(l=null!==(r=o.slice(a))&&void 0!==r?r:[]);const u=s?[s]:[];this.recordHistory(e,u,l)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),n}async sendMessageStream(A){var t;await this.sendPromise;const e=Qe(A.message),n=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(e),config:null!==(t=A.config)&&void 0!==t?t:this.config});this.sendPromise=n.then(()=>{}).catch(()=>{});const r=await n;return this.processStreamResponse(r,e)}getHistory(A=!1){const t=A?vn(this.history):this.history;return structuredClone(t)}processStreamResponse(A,t){var e,n;return mn(this,arguments,function*(){var r,i,s,o;const a=[];try{for(var l,u=!0,c=wn(A);!(r=(l=yield Bn(c.next())).done);u=!0){o=l.value,u=!1;const A=o;if(_n(A)){const t=null===(n=null===(e=A.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content;void 0!==t&&a.push(t)}yield yield Bn(A)}}catch(h){i={error:h}}finally{try{u||r||!(s=c.return)||(yield Bn(s.call(c)))}finally{if(i)throw i.error}}this.recordHistory(t,a)})}recordHistory(A,t,e){let n=[];t.length>0&&t.every(A=>void 0!==A.role)?n=t:n.push({role:"model",parts:[]}),e&&e.length>0?this.history.push(...vn(e)):this.history.push(A),this.history.push(...n)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class En extends Error{constructor(A){super(A.message),this.name="ApiError",this.status=A.status,Object.setPrototypeOf(this,En.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Un(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n)}(e,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Qn extends I{constructor(A){super(),this.apiClient=A,this.list=async(A={})=>new sn(kt.PAGED_ITEM_FILES,A=>this.listInternal(A),await this.listInternal(A),A)}async upload(A){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(A.file,A.config).then(A=>A)}async download(A){await this.apiClient.downloadFile(A)}async listInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Un(A);return r=S("files",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["files"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["files"],A)}return t}(A),e=new le;return Object.assign(e,t),e})}}async createInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(A){const t={},e=x(A,["file"]);return null!=e&&T(t,["file"],e),t}(A);return r=S("upload/v1beta/files",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new ue;return Object.assign(e,t),e})}}async get(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","file"],Le(e)),t}(A);return r=S("files/{file}",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>A)}}async delete(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","file"],Le(e)),t}(A);return r=S("files/{file}",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new ce;return Object.assign(e,t),e})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fn(A){const t={},e=x(A,["data"]);if(null!=e&&T(t,["data"],e),void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=x(A,["mimeType"]);return null!=n&&T(t,["mimeType"],n),t}function In(A){const t={},e=x(A,["parts"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["mediaResolution"]);null!=e&&T(t,["mediaResolution"],e);const n=x(A,["codeExecutionResult"]);null!=n&&T(t,["codeExecutionResult"],n);const r=x(A,["executableCode"]);null!=r&&T(t,["executableCode"],r);const i=x(A,["fileData"]);null!=i&&T(t,["fileData"],function(A){const t={};if(void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const e=x(A,["fileUri"]);null!=e&&T(t,["fileUri"],e);const n=x(A,["mimeType"]);null!=n&&T(t,["mimeType"],n);return t}(i));const s=x(A,["functionCall"]);null!=s&&T(t,["functionCall"],function(A){const t={},e=x(A,["id"]);null!=e&&T(t,["id"],e);const n=x(A,["args"]);null!=n&&T(t,["args"],n);const r=x(A,["name"]);null!=r&&T(t,["name"],r);if(void 0!==x(A,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==x(A,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const o=x(A,["functionResponse"]);null!=o&&T(t,["functionResponse"],o);const a=x(A,["inlineData"]);null!=a&&T(t,["inlineData"],Fn(a));const l=x(A,["text"]);null!=l&&T(t,["text"],l);const u=x(A,["thought"]);null!=u&&T(t,["thought"],u);const c=x(A,["thoughtSignature"]);null!=c&&T(t,["thoughtSignature"],c);const h=x(A,["videoMetadata"]);null!=h&&T(t,["videoMetadata"],h);return t}(A))),T(t,["parts"],A)}const n=x(A,["role"]);return null!=n&&T(t,["role"],n),t}function Sn(A,t){const e=x(A,["generationConfig"]);void 0!==t&&null!=e&&T(t,["setup","generationConfig"],e);const n=x(A,["responseModalities"]);void 0!==t&&null!=n&&T(t,["setup","generationConfig","responseModalities"],n);const r=x(A,["temperature"]);void 0!==t&&null!=r&&T(t,["setup","generationConfig","temperature"],r);const i=x(A,["topP"]);void 0!==t&&null!=i&&T(t,["setup","generationConfig","topP"],i);const s=x(A,["topK"]);void 0!==t&&null!=s&&T(t,["setup","generationConfig","topK"],s);const o=x(A,["maxOutputTokens"]);void 0!==t&&null!=o&&T(t,["setup","generationConfig","maxOutputTokens"],o);const a=x(A,["mediaResolution"]);void 0!==t&&null!=a&&T(t,["setup","generationConfig","mediaResolution"],a);const l=x(A,["seed"]);void 0!==t&&null!=l&&T(t,["setup","generationConfig","seed"],l);const u=x(A,["speechConfig"]);void 0!==t&&null!=u&&T(t,["setup","generationConfig","speechConfig"],Oe(u));const c=x(A,["thinkingConfig"]);void 0!==t&&null!=c&&T(t,["setup","generationConfig","thinkingConfig"],c);const h=x(A,["enableAffectiveDialog"]);void 0!==t&&null!=h&&T(t,["setup","generationConfig","enableAffectiveDialog"],h);const f=x(A,["systemInstruction"]);void 0!==t&&null!=f&&T(t,["setup","systemInstruction"],In(Qe(f)));const d=x(A,["tools"]);if(void 0!==t&&null!=d){let A=Me(d);Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["functionDeclarations"],A)}if(void 0!==x(A,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(A,["googleSearchRetrieval"]);null!=n&&T(t,["googleSearchRetrieval"],n);const r=x(A,["computerUse"]);null!=r&&T(t,["computerUse"],r);const i=x(A,["fileSearch"]);null!=i&&T(t,["fileSearch"],i);const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);if(void 0!==x(A,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(A,["googleMaps"]);null!=o&&T(t,["googleMaps"],function(A){const t={};if(void 0!==x(A,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const e=x(A,["enableWidget"]);return null!=e&&T(t,["enableWidget"],e),t}(o));const a=x(A,["googleSearch"]);null!=a&&T(t,["googleSearch"],function(A){const t={};if(void 0!==x(A,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==x(A,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=x(A,["timeRangeFilter"]);return null!=e&&T(t,["timeRangeFilter"],e),t}(a));const l=x(A,["urlContext"]);null!=l&&T(t,["urlContext"],l);return t}(He(A)))),T(t,["setup","tools"],A)}const p=x(A,["sessionResumption"]);void 0!==t&&null!=p&&T(t,["setup","sessionResumption"],function(A){const t={},e=x(A,["handle"]);null!=e&&T(t,["handle"],e);if(void 0!==x(A,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(p));const g=x(A,["inputAudioTranscription"]);void 0!==t&&null!=g&&T(t,["setup","inputAudioTranscription"],g);const B=x(A,["outputAudioTranscription"]);void 0!==t&&null!=B&&T(t,["setup","outputAudioTranscription"],B);const m=x(A,["realtimeInputConfig"]);void 0!==t&&null!=m&&T(t,["setup","realtimeInputConfig"],m);const w=x(A,["contextWindowCompression"]);void 0!==t&&null!=w&&T(t,["setup","contextWindowCompression"],w);const _=x(A,["proactivity"]);return void 0!==t&&null!=_&&T(t,["setup","proactivity"],_),{}}function Tn(A,t){const e=x(A,["generationConfig"]);void 0!==t&&null!=e&&T(t,["setup","generationConfig"],function(A){const t={},e=x(A,["modelSelectionConfig"]);null!=e&&T(t,["modelConfig"],e);const n=x(A,["responseJsonSchema"]);null!=n&&T(t,["responseJsonSchema"],n);const r=x(A,["audioTimestamp"]);null!=r&&T(t,["audioTimestamp"],r);const i=x(A,["candidateCount"]);null!=i&&T(t,["candidateCount"],i);const s=x(A,["enableAffectiveDialog"]);null!=s&&T(t,["enableAffectiveDialog"],s);const o=x(A,["frequencyPenalty"]);null!=o&&T(t,["frequencyPenalty"],o);const a=x(A,["logprobs"]);null!=a&&T(t,["logprobs"],a);const l=x(A,["maxOutputTokens"]);null!=l&&T(t,["maxOutputTokens"],l);const u=x(A,["mediaResolution"]);null!=u&&T(t,["mediaResolution"],u);const c=x(A,["presencePenalty"]);null!=c&&T(t,["presencePenalty"],c);const h=x(A,["responseLogprobs"]);null!=h&&T(t,["responseLogprobs"],h);const f=x(A,["responseMimeType"]);null!=f&&T(t,["responseMimeType"],f);const d=x(A,["responseModalities"]);null!=d&&T(t,["responseModalities"],d);const p=x(A,["responseSchema"]);null!=p&&T(t,["responseSchema"],p);const g=x(A,["routingConfig"]);null!=g&&T(t,["routingConfig"],g);const B=x(A,["seed"]);null!=B&&T(t,["seed"],B);const m=x(A,["speechConfig"]);null!=m&&T(t,["speechConfig"],Mn(m));const w=x(A,["stopSequences"]);null!=w&&T(t,["stopSequences"],w);const _=x(A,["temperature"]);null!=_&&T(t,["temperature"],_);const y=x(A,["thinkingConfig"]);null!=y&&T(t,["thinkingConfig"],y);const v=x(A,["topK"]);null!=v&&T(t,["topK"],v);const C=x(A,["topP"]);if(null!=C&&T(t,["topP"],C),void 0!==x(A,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(e));const n=x(A,["responseModalities"]);void 0!==t&&null!=n&&T(t,["setup","generationConfig","responseModalities"],n);const r=x(A,["temperature"]);void 0!==t&&null!=r&&T(t,["setup","generationConfig","temperature"],r);const i=x(A,["topP"]);void 0!==t&&null!=i&&T(t,["setup","generationConfig","topP"],i);const s=x(A,["topK"]);void 0!==t&&null!=s&&T(t,["setup","generationConfig","topK"],s);const o=x(A,["maxOutputTokens"]);void 0!==t&&null!=o&&T(t,["setup","generationConfig","maxOutputTokens"],o);const a=x(A,["mediaResolution"]);void 0!==t&&null!=a&&T(t,["setup","generationConfig","mediaResolution"],a);const l=x(A,["seed"]);void 0!==t&&null!=l&&T(t,["setup","generationConfig","seed"],l);const u=x(A,["speechConfig"]);void 0!==t&&null!=u&&T(t,["setup","generationConfig","speechConfig"],Mn(Oe(u)));const c=x(A,["thinkingConfig"]);void 0!==t&&null!=c&&T(t,["setup","generationConfig","thinkingConfig"],c);const h=x(A,["enableAffectiveDialog"]);void 0!==t&&null!=h&&T(t,["setup","generationConfig","enableAffectiveDialog"],h);const f=x(A,["systemInstruction"]);void 0!==t&&null!=f&&T(t,["setup","systemInstruction"],Qe(f));const d=x(A,["tools"]);if(void 0!==t&&null!=d){let A=Me(d);Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={};if(void 0!==x(A,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const e=x(A,["description"]);null!=e&&T(t,["description"],e);const n=x(A,["name"]);null!=n&&T(t,["name"],n);const r=x(A,["parameters"]);null!=r&&T(t,["parameters"],r);const i=x(A,["parametersJsonSchema"]);null!=i&&T(t,["parametersJsonSchema"],i);const s=x(A,["response"]);null!=s&&T(t,["response"],s);const o=x(A,["responseJsonSchema"]);return null!=o&&T(t,["responseJsonSchema"],o),t}(A))),T(t,["functionDeclarations"],A)}const n=x(A,["retrieval"]);null!=n&&T(t,["retrieval"],n);const r=x(A,["googleSearchRetrieval"]);null!=r&&T(t,["googleSearchRetrieval"],r);const i=x(A,["computerUse"]);null!=i&&T(t,["computerUse"],i);if(void 0!==x(A,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);const o=x(A,["enterpriseWebSearch"]);null!=o&&T(t,["enterpriseWebSearch"],o);const a=x(A,["googleMaps"]);null!=a&&T(t,["googleMaps"],a);const l=x(A,["googleSearch"]);null!=l&&T(t,["googleSearch"],l);const u=x(A,["urlContext"]);null!=u&&T(t,["urlContext"],u);return t}(He(A)))),T(t,["setup","tools"],A)}const p=x(A,["sessionResumption"]);void 0!==t&&null!=p&&T(t,["setup","sessionResumption"],p);const g=x(A,["inputAudioTranscription"]);void 0!==t&&null!=g&&T(t,["setup","inputAudioTranscription"],g);const B=x(A,["outputAudioTranscription"]);void 0!==t&&null!=B&&T(t,["setup","outputAudioTranscription"],B);const m=x(A,["realtimeInputConfig"]);void 0!==t&&null!=m&&T(t,["setup","realtimeInputConfig"],m);const w=x(A,["contextWindowCompression"]);void 0!==t&&null!=w&&T(t,["setup","contextWindowCompression"],w);const _=x(A,["proactivity"]);return void 0!==t&&null!=_&&T(t,["setup","proactivity"],_),{}}function xn(A){const t={},e=x(A,["media"]);if(null!=e){let A=me(e);Array.isArray(A)&&(A=A.map(A=>Fn(A))),T(t,["mediaChunks"],A)}const n=x(A,["audio"]);null!=n&&T(t,["audio"],Fn(ye(n)));const r=x(A,["audioStreamEnd"]);null!=r&&T(t,["audioStreamEnd"],r);const i=x(A,["video"]);null!=i&&T(t,["video"],Fn(_e(i)));const s=x(A,["text"]);null!=s&&T(t,["text"],s);const o=x(A,["activityStart"]);null!=o&&T(t,["activityStart"],o);const a=x(A,["activityEnd"]);return null!=a&&T(t,["activityEnd"],a),t}function On(A){const t={},e=x(A,["media"]);if(null!=e){let A=me(e);Array.isArray(A)&&(A=A.map(A=>A)),T(t,["mediaChunks"],A)}const n=x(A,["audio"]);null!=n&&T(t,["audio"],ye(n));const r=x(A,["audioStreamEnd"]);null!=r&&T(t,["audioStreamEnd"],r);const i=x(A,["video"]);null!=i&&T(t,["video"],_e(i));const s=x(A,["text"]);null!=s&&T(t,["text"],s);const o=x(A,["activityStart"]);null!=o&&T(t,["activityStart"],o);const a=x(A,["activityEnd"]);return null!=a&&T(t,["activityEnd"],a),t}function Hn(A){const t={},e=x(A,["setupComplete"]);null!=e&&T(t,["setupComplete"],e);const n=x(A,["serverContent"]);null!=n&&T(t,["serverContent"],n);const r=x(A,["toolCall"]);null!=r&&T(t,["toolCall"],r);const i=x(A,["toolCallCancellation"]);null!=i&&T(t,["toolCallCancellation"],i);const s=x(A,["usageMetadata"]);null!=s&&T(t,["usageMetadata"],function(A){const t={},e=x(A,["promptTokenCount"]);null!=e&&T(t,["promptTokenCount"],e);const n=x(A,["cachedContentTokenCount"]);null!=n&&T(t,["cachedContentTokenCount"],n);const r=x(A,["candidatesTokenCount"]);null!=r&&T(t,["responseTokenCount"],r);const i=x(A,["toolUsePromptTokenCount"]);null!=i&&T(t,["toolUsePromptTokenCount"],i);const s=x(A,["thoughtsTokenCount"]);null!=s&&T(t,["thoughtsTokenCount"],s);const o=x(A,["totalTokenCount"]);null!=o&&T(t,["totalTokenCount"],o);const a=x(A,["promptTokensDetails"]);if(null!=a){let A=a;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["promptTokensDetails"],A)}const l=x(A,["cacheTokensDetails"]);if(null!=l){let A=l;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["cacheTokensDetails"],A)}const u=x(A,["candidatesTokensDetails"]);if(null!=u){let A=u;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["responseTokensDetails"],A)}const c=x(A,["toolUsePromptTokensDetails"]);if(null!=c){let A=c;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["toolUsePromptTokensDetails"],A)}const h=x(A,["trafficType"]);null!=h&&T(t,["trafficType"],h);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(s));const o=x(A,["goAway"]);null!=o&&T(t,["goAway"],o);const a=x(A,["sessionResumptionUpdate"]);return null!=a&&T(t,["sessionResumptionUpdate"],a),t}function Mn(A){const t={},e=x(A,["languageCode"]);null!=e&&T(t,["languageCode"],e);const n=x(A,["voiceConfig"]);if(null!=n&&T(t,["voiceConfig"],n),void 0!==x(A,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Rn(A){const t={},e=x(A,["content"]);null!=e&&T(t,["content"],e);const n=x(A,["citationMetadata"]);null!=n&&T(t,["citationMetadata"],function(A){const t={},e=x(A,["citationSources"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["citations"],A)}return t}(n));const r=x(A,["tokenCount"]);null!=r&&T(t,["tokenCount"],r);const i=x(A,["finishReason"]);null!=i&&T(t,["finishReason"],i);const s=x(A,["avgLogprobs"]);null!=s&&T(t,["avgLogprobs"],s);const o=x(A,["groundingMetadata"]);null!=o&&T(t,["groundingMetadata"],o);const a=x(A,["index"]);null!=a&&T(t,["index"],a);const l=x(A,["logprobsResult"]);null!=l&&T(t,["logprobsResult"],l);const u=x(A,["safetyRatings"]);if(null!=u){let A=u;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["safetyRatings"],A)}const c=x(A,["urlContextMetadata"]);return null!=c&&T(t,["urlContextMetadata"],c),t}function Pn(A){const t={},e=x(A,["values"]);null!=e&&T(t,["values"],e);const n=x(A,["statistics"]);return null!=n&&T(t,["statistics"],function(A){const t={},e=x(A,["truncated"]);null!=e&&T(t,["truncated"],e);const n=x(A,["token_count"]);null!=n&&T(t,["tokenCount"],n);return t}(n)),t}function Nn(A){const t={},e=x(A,["parts"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["mediaResolution"]);null!=e&&T(t,["mediaResolution"],e);const n=x(A,["codeExecutionResult"]);null!=n&&T(t,["codeExecutionResult"],n);const r=x(A,["executableCode"]);null!=r&&T(t,["executableCode"],r);const i=x(A,["fileData"]);null!=i&&T(t,["fileData"],function(A){const t={};if(void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const e=x(A,["fileUri"]);null!=e&&T(t,["fileUri"],e);const n=x(A,["mimeType"]);null!=n&&T(t,["mimeType"],n);return t}(i));const s=x(A,["functionCall"]);null!=s&&T(t,["functionCall"],function(A){const t={},e=x(A,["id"]);null!=e&&T(t,["id"],e);const n=x(A,["args"]);null!=n&&T(t,["args"],n);const r=x(A,["name"]);null!=r&&T(t,["name"],r);if(void 0!==x(A,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==x(A,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const o=x(A,["functionResponse"]);null!=o&&T(t,["functionResponse"],o);const a=x(A,["inlineData"]);null!=a&&T(t,["inlineData"],function(A){const t={},e=x(A,["data"]);if(null!=e&&T(t,["data"],e),void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=x(A,["mimeType"]);return null!=n&&T(t,["mimeType"],n),t}(a));const l=x(A,["text"]);null!=l&&T(t,["text"],l);const u=x(A,["thought"]);null!=u&&T(t,["thought"],u);const c=x(A,["thoughtSignature"]);null!=c&&T(t,["thoughtSignature"],c);const h=x(A,["videoMetadata"]);null!=h&&T(t,["videoMetadata"],h);return t}(A))),T(t,["parts"],A)}const n=x(A,["role"]);return null!=n&&T(t,["role"],n),t}function Ln(A,t){const e=x(A,["systemInstruction"]);void 0!==t&&null!=e&&T(t,["systemInstruction"],Qe(e));const n=x(A,["tools"]);if(void 0!==t&&null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>wr(A))),T(t,["tools"],A)}const r=x(A,["generationConfig"]);return void 0!==t&&null!=r&&T(t,["generationConfig"],function(A){const t={},e=x(A,["modelSelectionConfig"]);null!=e&&T(t,["modelConfig"],e);const n=x(A,["responseJsonSchema"]);null!=n&&T(t,["responseJsonSchema"],n);const r=x(A,["audioTimestamp"]);null!=r&&T(t,["audioTimestamp"],r);const i=x(A,["candidateCount"]);null!=i&&T(t,["candidateCount"],i);const s=x(A,["enableAffectiveDialog"]);null!=s&&T(t,["enableAffectiveDialog"],s);const o=x(A,["frequencyPenalty"]);null!=o&&T(t,["frequencyPenalty"],o);const a=x(A,["logprobs"]);null!=a&&T(t,["logprobs"],a);const l=x(A,["maxOutputTokens"]);null!=l&&T(t,["maxOutputTokens"],l);const u=x(A,["mediaResolution"]);null!=u&&T(t,["mediaResolution"],u);const c=x(A,["presencePenalty"]);null!=c&&T(t,["presencePenalty"],c);const h=x(A,["responseLogprobs"]);null!=h&&T(t,["responseLogprobs"],h);const f=x(A,["responseMimeType"]);null!=f&&T(t,["responseMimeType"],f);const d=x(A,["responseModalities"]);null!=d&&T(t,["responseModalities"],d);const p=x(A,["responseSchema"]);null!=p&&T(t,["responseSchema"],p);const g=x(A,["routingConfig"]);null!=g&&T(t,["routingConfig"],g);const B=x(A,["seed"]);null!=B&&T(t,["seed"],B);const m=x(A,["speechConfig"]);null!=m&&T(t,["speechConfig"],mr(m));const w=x(A,["stopSequences"]);null!=w&&T(t,["stopSequences"],w);const _=x(A,["temperature"]);null!=_&&T(t,["temperature"],_);const y=x(A,["thinkingConfig"]);null!=y&&T(t,["thinkingConfig"],y);const v=x(A,["topK"]);null!=v&&T(t,["topK"],v);const C=x(A,["topP"]);null!=C&&T(t,["topP"],C);if(void 0!==x(A,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(r)),{}}function Dn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let A=Ie(r);Array.isArray(A)&&(A=A.map(A=>Nn(A))),T(e,["contents"],A)}const i=x(t,["config"]);return null!=i&&function(A){if(void 0!==x(A,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==x(A,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==x(A,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),e}function kn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["prompt"]);null!=r&&T(e,["instances[0]","prompt"],r);const i=x(t,["referenceImages"]);if(null!=i){let A=i;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["referenceImage"]);null!=e&&T(t,["referenceImage"],ar(e));const n=x(A,["referenceId"]);null!=n&&T(t,["referenceId"],n);const r=x(A,["referenceType"]);null!=r&&T(t,["referenceType"],r);const i=x(A,["maskImageConfig"]);null!=i&&T(t,["maskImageConfig"],function(A){const t={},e=x(A,["maskMode"]);null!=e&&T(t,["maskMode"],e);const n=x(A,["segmentationClasses"]);null!=n&&T(t,["maskClasses"],n);const r=x(A,["maskDilation"]);null!=r&&T(t,["dilation"],r);return t}(i));const s=x(A,["controlImageConfig"]);null!=s&&T(t,["controlImageConfig"],function(A){const t={},e=x(A,["controlType"]);null!=e&&T(t,["controlType"],e);const n=x(A,["enableControlImageComputation"]);return null!=n&&T(t,["computeControl"],n),t}(s));const o=x(A,["styleImageConfig"]);null!=o&&T(t,["styleImageConfig"],o);const a=x(A,["subjectImageConfig"]);null!=a&&T(t,["subjectImageConfig"],a);return t}(A))),T(e,["instances[0]","referenceImages"],A)}const s=x(t,["config"]);return null!=s&&function(A,t){const e=x(A,["outputGcsUri"]);void 0!==t&&null!=e&&T(t,["parameters","storageUri"],e);const n=x(A,["negativePrompt"]);void 0!==t&&null!=n&&T(t,["parameters","negativePrompt"],n);const r=x(A,["numberOfImages"]);void 0!==t&&null!=r&&T(t,["parameters","sampleCount"],r);const i=x(A,["aspectRatio"]);void 0!==t&&null!=i&&T(t,["parameters","aspectRatio"],i);const s=x(A,["guidanceScale"]);void 0!==t&&null!=s&&T(t,["parameters","guidanceScale"],s);const o=x(A,["seed"]);void 0!==t&&null!=o&&T(t,["parameters","seed"],o);const a=x(A,["safetyFilterLevel"]);void 0!==t&&null!=a&&T(t,["parameters","safetySetting"],a);const l=x(A,["personGeneration"]);void 0!==t&&null!=l&&T(t,["parameters","personGeneration"],l);const u=x(A,["includeSafetyAttributes"]);void 0!==t&&null!=u&&T(t,["parameters","includeSafetyAttributes"],u);const c=x(A,["includeRaiReason"]);void 0!==t&&null!=c&&T(t,["parameters","includeRaiReason"],c);const h=x(A,["language"]);void 0!==t&&null!=h&&T(t,["parameters","language"],h);const f=x(A,["outputMimeType"]);void 0!==t&&null!=f&&T(t,["parameters","outputOptions","mimeType"],f);const d=x(A,["outputCompressionQuality"]);void 0!==t&&null!=d&&T(t,["parameters","outputOptions","compressionQuality"],d);const p=x(A,["addWatermark"]);void 0!==t&&null!=p&&T(t,["parameters","addWatermark"],p);const g=x(A,["labels"]);void 0!==t&&null!=g&&T(t,["labels"],g);const B=x(A,["editMode"]);void 0!==t&&null!=B&&T(t,["parameters","editMode"],B);const m=x(A,["baseSteps"]);void 0!==t&&null!=m&&T(t,["parameters","editConfig","baseSteps"],m)}(s,e),e}function Vn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let t=Fe(A,r);Array.isArray(t)&&(t=t.map(A=>A)),T(e,["requests[]","content"],t)}const i=x(t,["config"]);null!=i&&function(A,t){const e=x(A,["taskType"]);void 0!==t&&null!=e&&T(t,["requests[]","taskType"],e);const n=x(A,["title"]);void 0!==t&&null!=n&&T(t,["requests[]","title"],n);const r=x(A,["outputDimensionality"]);if(void 0!==t&&null!=r&&T(t,["requests[]","outputDimensionality"],r),void 0!==x(A,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==x(A,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,e);const s=x(t,["model"]);return void 0!==s&&T(e,["requests[]","model"],ge(A,s)),e}function Kn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let t=Fe(A,r);Array.isArray(t)&&(t=t.map(A=>A)),T(e,["instances[]","content"],t)}const i=x(t,["config"]);return null!=i&&function(A,t){const e=x(A,["taskType"]);void 0!==t&&null!=e&&T(t,["instances[]","task_type"],e);const n=x(A,["title"]);void 0!==t&&null!=n&&T(t,["instances[]","title"],n);const r=x(A,["outputDimensionality"]);void 0!==t&&null!=r&&T(t,["parameters","outputDimensionality"],r);const i=x(A,["mimeType"]);void 0!==t&&null!=i&&T(t,["instances[]","mimeType"],i);const s=x(A,["autoTruncate"]);void 0!==t&&null!=s&&T(t,["parameters","autoTruncate"],s)}(i,e),e}function Gn(A,t,e){const n={},r=x(t,["systemInstruction"]);void 0!==e&&null!=r&&T(e,["systemInstruction"],Nn(Qe(r)));const i=x(t,["temperature"]);null!=i&&T(n,["temperature"],i);const s=x(t,["topP"]);null!=s&&T(n,["topP"],s);const o=x(t,["topK"]);null!=o&&T(n,["topK"],o);const a=x(t,["candidateCount"]);null!=a&&T(n,["candidateCount"],a);const l=x(t,["maxOutputTokens"]);null!=l&&T(n,["maxOutputTokens"],l);const u=x(t,["stopSequences"]);null!=u&&T(n,["stopSequences"],u);const c=x(t,["responseLogprobs"]);null!=c&&T(n,["responseLogprobs"],c);const h=x(t,["logprobs"]);null!=h&&T(n,["logprobs"],h);const f=x(t,["presencePenalty"]);null!=f&&T(n,["presencePenalty"],f);const d=x(t,["frequencyPenalty"]);null!=d&&T(n,["frequencyPenalty"],d);const p=x(t,["seed"]);null!=p&&T(n,["seed"],p);const g=x(t,["responseMimeType"]);null!=g&&T(n,["responseMimeType"],g);const B=x(t,["responseSchema"]);null!=B&&T(n,["responseSchema"],Te(B));const m=x(t,["responseJsonSchema"]);if(null!=m&&T(n,["responseJsonSchema"],m),void 0!==x(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==x(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=x(t,["safetySettings"]);if(void 0!==e&&null!=w){let A=w;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["category"]);null!=e&&T(t,["category"],e);if(void 0!==x(A,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=x(A,["threshold"]);null!=n&&T(t,["threshold"],n);return t}(A))),T(e,["safetySettings"],A)}const _=x(t,["tools"]);if(void 0!==e&&null!=_){let A=Me(_);Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["functionDeclarations"],A)}if(void 0!==x(A,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(A,["googleSearchRetrieval"]);null!=n&&T(t,["googleSearchRetrieval"],n);const r=x(A,["computerUse"]);null!=r&&T(t,["computerUse"],r);const i=x(A,["fileSearch"]);null!=i&&T(t,["fileSearch"],i);const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);if(void 0!==x(A,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(A,["googleMaps"]);null!=o&&T(t,["googleMaps"],function(A){const t={};if(void 0!==x(A,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const e=x(A,["enableWidget"]);null!=e&&T(t,["enableWidget"],e);return t}(o));const a=x(A,["googleSearch"]);null!=a&&T(t,["googleSearch"],function(A){const t={};if(void 0!==x(A,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==x(A,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=x(A,["timeRangeFilter"]);null!=e&&T(t,["timeRangeFilter"],e);return t}(a));const l=x(A,["urlContext"]);null!=l&&T(t,["urlContext"],l);return t}(He(A)))),T(e,["tools"],A)}const y=x(t,["toolConfig"]);if(void 0!==e&&null!=y&&T(e,["toolConfig"],function(A){const t={},e=x(A,["functionCallingConfig"]);null!=e&&T(t,["functionCallingConfig"],function(A){const t={},e=x(A,["mode"]);null!=e&&T(t,["mode"],e);const n=x(A,["allowedFunctionNames"]);if(null!=n&&T(t,["allowedFunctionNames"],n),void 0!==x(A,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(e));const n=x(A,["retrievalConfig"]);null!=n&&T(t,["retrievalConfig"],n);return t}(y)),void 0!==x(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const v=x(t,["cachedContent"]);void 0!==e&&null!=v&&T(e,["cachedContent"],Re(A,v));const C=x(t,["responseModalities"]);null!=C&&T(n,["responseModalities"],C);const b=x(t,["mediaResolution"]);null!=b&&T(n,["mediaResolution"],b);const E=x(t,["speechConfig"]);if(null!=E&&T(n,["speechConfig"],xe(E)),void 0!==x(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=x(t,["thinkingConfig"]);null!=U&&T(n,["thinkingConfig"],U);const Q=x(t,["imageConfig"]);return null!=Q&&T(n,["imageConfig"],function(A){const t={},e=x(A,["aspectRatio"]);null!=e&&T(t,["aspectRatio"],e);const n=x(A,["imageSize"]);null!=n&&T(t,["imageSize"],n);if(void 0!==x(A,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==x(A,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(Q)),n}function qn(A,t,e){const n={},r=x(t,["systemInstruction"]);void 0!==e&&null!=r&&T(e,["systemInstruction"],Qe(r));const i=x(t,["temperature"]);null!=i&&T(n,["temperature"],i);const s=x(t,["topP"]);null!=s&&T(n,["topP"],s);const o=x(t,["topK"]);null!=o&&T(n,["topK"],o);const a=x(t,["candidateCount"]);null!=a&&T(n,["candidateCount"],a);const l=x(t,["maxOutputTokens"]);null!=l&&T(n,["maxOutputTokens"],l);const u=x(t,["stopSequences"]);null!=u&&T(n,["stopSequences"],u);const c=x(t,["responseLogprobs"]);null!=c&&T(n,["responseLogprobs"],c);const h=x(t,["logprobs"]);null!=h&&T(n,["logprobs"],h);const f=x(t,["presencePenalty"]);null!=f&&T(n,["presencePenalty"],f);const d=x(t,["frequencyPenalty"]);null!=d&&T(n,["frequencyPenalty"],d);const p=x(t,["seed"]);null!=p&&T(n,["seed"],p);const g=x(t,["responseMimeType"]);null!=g&&T(n,["responseMimeType"],g);const B=x(t,["responseSchema"]);null!=B&&T(n,["responseSchema"],Te(B));const m=x(t,["responseJsonSchema"]);null!=m&&T(n,["responseJsonSchema"],m);const w=x(t,["routingConfig"]);null!=w&&T(n,["routingConfig"],w);const _=x(t,["modelSelectionConfig"]);null!=_&&T(n,["modelConfig"],_);const y=x(t,["safetySettings"]);if(void 0!==e&&null!=y){let A=y;Array.isArray(A)&&(A=A.map(A=>A)),T(e,["safetySettings"],A)}const v=x(t,["tools"]);if(void 0!==e&&null!=v){let A=Me(v);Array.isArray(A)&&(A=A.map(A=>wr(He(A)))),T(e,["tools"],A)}const C=x(t,["toolConfig"]);void 0!==e&&null!=C&&T(e,["toolConfig"],C);const b=x(t,["labels"]);void 0!==e&&null!=b&&T(e,["labels"],b);const E=x(t,["cachedContent"]);void 0!==e&&null!=E&&T(e,["cachedContent"],Re(A,E));const U=x(t,["responseModalities"]);null!=U&&T(n,["responseModalities"],U);const Q=x(t,["mediaResolution"]);null!=Q&&T(n,["mediaResolution"],Q);const F=x(t,["speechConfig"]);null!=F&&T(n,["speechConfig"],mr(xe(F)));const I=x(t,["audioTimestamp"]);null!=I&&T(n,["audioTimestamp"],I);const S=x(t,["thinkingConfig"]);null!=S&&T(n,["thinkingConfig"],S);const O=x(t,["imageConfig"]);return null!=O&&T(n,["imageConfig"],function(A){const t={},e=x(A,["aspectRatio"]);null!=e&&T(t,["aspectRatio"],e);const n=x(A,["imageSize"]);null!=n&&T(t,["imageSize"],n);const r=x(A,["outputMimeType"]);null!=r&&T(t,["imageOutputOptions","mimeType"],r);const i=x(A,["outputCompressionQuality"]);null!=i&&T(t,["imageOutputOptions","compressionQuality"],i);return t}(O)),n}function Xn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let A=Ie(r);Array.isArray(A)&&(A=A.map(A=>Nn(A))),T(e,["contents"],A)}const i=x(t,["config"]);return null!=i&&T(e,["generationConfig"],Gn(A,i,e)),e}function Yn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let A=Ie(r);Array.isArray(A)&&(A=A.map(A=>A)),T(e,["contents"],A)}const i=x(t,["config"]);return null!=i&&T(e,["generationConfig"],qn(A,i,e)),e}function jn(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["candidates"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>Rn(A))),T(t,["candidates"],A)}const r=x(A,["modelVersion"]);null!=r&&T(t,["modelVersion"],r);const i=x(A,["promptFeedback"]);null!=i&&T(t,["promptFeedback"],i);const s=x(A,["responseId"]);null!=s&&T(t,["responseId"],s);const o=x(A,["usageMetadata"]);return null!=o&&T(t,["usageMetadata"],o),t}function Jn(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["candidates"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["candidates"],A)}const r=x(A,["createTime"]);null!=r&&T(t,["createTime"],r);const i=x(A,["modelVersion"]);null!=i&&T(t,["modelVersion"],i);const s=x(A,["promptFeedback"]);null!=s&&T(t,["promptFeedback"],s);const o=x(A,["responseId"]);null!=o&&T(t,["responseId"],o);const a=x(A,["usageMetadata"]);return null!=a&&T(t,["usageMetadata"],a),t}function Wn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["prompt"]);null!=r&&T(e,["instances[0]","prompt"],r);const i=x(t,["config"]);return null!=i&&function(A,t){if(void 0!==x(A,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==x(A,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const e=x(A,["numberOfImages"]);void 0!==t&&null!=e&&T(t,["parameters","sampleCount"],e);const n=x(A,["aspectRatio"]);void 0!==t&&null!=n&&T(t,["parameters","aspectRatio"],n);const r=x(A,["guidanceScale"]);if(void 0!==t&&null!=r&&T(t,["parameters","guidanceScale"],r),void 0!==x(A,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=x(A,["safetyFilterLevel"]);void 0!==t&&null!=i&&T(t,["parameters","safetySetting"],i);const s=x(A,["personGeneration"]);void 0!==t&&null!=s&&T(t,["parameters","personGeneration"],s);const o=x(A,["includeSafetyAttributes"]);void 0!==t&&null!=o&&T(t,["parameters","includeSafetyAttributes"],o);const a=x(A,["includeRaiReason"]);void 0!==t&&null!=a&&T(t,["parameters","includeRaiReason"],a);const l=x(A,["language"]);void 0!==t&&null!=l&&T(t,["parameters","language"],l);const u=x(A,["outputMimeType"]);void 0!==t&&null!=u&&T(t,["parameters","outputOptions","mimeType"],u);const c=x(A,["outputCompressionQuality"]);if(void 0!==t&&null!=c&&T(t,["parameters","outputOptions","compressionQuality"],c),void 0!==x(A,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==x(A,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const h=x(A,["imageSize"]);if(void 0!==t&&null!=h&&T(t,["parameters","sampleImageSize"],h),void 0!==x(A,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,e),e}function zn(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["prompt"]);null!=r&&T(e,["instances[0]","prompt"],r);const i=x(t,["config"]);return null!=i&&function(A,t){const e=x(A,["outputGcsUri"]);void 0!==t&&null!=e&&T(t,["parameters","storageUri"],e);const n=x(A,["negativePrompt"]);void 0!==t&&null!=n&&T(t,["parameters","negativePrompt"],n);const r=x(A,["numberOfImages"]);void 0!==t&&null!=r&&T(t,["parameters","sampleCount"],r);const i=x(A,["aspectRatio"]);void 0!==t&&null!=i&&T(t,["parameters","aspectRatio"],i);const s=x(A,["guidanceScale"]);void 0!==t&&null!=s&&T(t,["parameters","guidanceScale"],s);const o=x(A,["seed"]);void 0!==t&&null!=o&&T(t,["parameters","seed"],o);const a=x(A,["safetyFilterLevel"]);void 0!==t&&null!=a&&T(t,["parameters","safetySetting"],a);const l=x(A,["personGeneration"]);void 0!==t&&null!=l&&T(t,["parameters","personGeneration"],l);const u=x(A,["includeSafetyAttributes"]);void 0!==t&&null!=u&&T(t,["parameters","includeSafetyAttributes"],u);const c=x(A,["includeRaiReason"]);void 0!==t&&null!=c&&T(t,["parameters","includeRaiReason"],c);const h=x(A,["language"]);void 0!==t&&null!=h&&T(t,["parameters","language"],h);const f=x(A,["outputMimeType"]);void 0!==t&&null!=f&&T(t,["parameters","outputOptions","mimeType"],f);const d=x(A,["outputCompressionQuality"]);void 0!==t&&null!=d&&T(t,["parameters","outputOptions","compressionQuality"],d);const p=x(A,["addWatermark"]);void 0!==t&&null!=p&&T(t,["parameters","addWatermark"],p);const g=x(A,["labels"]);void 0!==t&&null!=g&&T(t,["labels"],g);const B=x(A,["imageSize"]);void 0!==t&&null!=B&&T(t,["parameters","sampleImageSize"],B);const m=x(A,["enhancePrompt"]);void 0!==t&&null!=m&&T(t,["parameters","enhancePrompt"],m)}(i,e),e}function Zn(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["predictions"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["_self"]);null!=e&&T(t,["image"],function(A){const t={},e=x(A,["bytesBase64Encoded"]);null!=e&&T(t,["imageBytes"],Ne(e));const n=x(A,["mimeType"]);null!=n&&T(t,["mimeType"],n);return t}(e));const n=x(A,["raiFilteredReason"]);null!=n&&T(t,["raiFilteredReason"],n);const r=x(A,["_self"]);null!=r&&T(t,["safetyAttributes"],dr(r));return t}(A))),T(t,["generatedImages"],A)}const r=x(A,["positivePromptSafetyAttributes"]);return null!=r&&T(t,["positivePromptSafetyAttributes"],dr(r)),t}function $n(A,t){const e=x(A,["numberOfVideos"]);if(void 0!==t&&null!=e&&T(t,["parameters","sampleCount"],e),void 0!==x(A,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==x(A,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const n=x(A,["durationSeconds"]);if(void 0!==t&&null!=n&&T(t,["parameters","durationSeconds"],n),void 0!==x(A,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=x(A,["aspectRatio"]);void 0!==t&&null!=r&&T(t,["parameters","aspectRatio"],r);const i=x(A,["resolution"]);void 0!==t&&null!=i&&T(t,["parameters","resolution"],i);const s=x(A,["personGeneration"]);if(void 0!==t&&null!=s&&T(t,["parameters","personGeneration"],s),void 0!==x(A,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const o=x(A,["negativePrompt"]);void 0!==t&&null!=o&&T(t,["parameters","negativePrompt"],o);const a=x(A,["enhancePrompt"]);if(void 0!==t&&null!=a&&T(t,["parameters","enhancePrompt"],a),void 0!==x(A,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const l=x(A,["lastFrame"]);void 0!==t&&null!=l&&T(t,["instances[0]","lastFrame"],or(l));const u=x(A,["referenceImages"]);if(void 0!==t&&null!=u){let A=u;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["image"]);null!=e&&T(t,["image"],or(e));const n=x(A,["referenceType"]);null!=n&&T(t,["referenceType"],n);return t}(A))),T(t,["instances[0]","referenceImages"],A)}if(void 0!==x(A,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==x(A,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function Ar(A,t){const e=x(A,["numberOfVideos"]);void 0!==t&&null!=e&&T(t,["parameters","sampleCount"],e);const n=x(A,["outputGcsUri"]);void 0!==t&&null!=n&&T(t,["parameters","storageUri"],n);const r=x(A,["fps"]);void 0!==t&&null!=r&&T(t,["parameters","fps"],r);const i=x(A,["durationSeconds"]);void 0!==t&&null!=i&&T(t,["parameters","durationSeconds"],i);const s=x(A,["seed"]);void 0!==t&&null!=s&&T(t,["parameters","seed"],s);const o=x(A,["aspectRatio"]);void 0!==t&&null!=o&&T(t,["parameters","aspectRatio"],o);const a=x(A,["resolution"]);void 0!==t&&null!=a&&T(t,["parameters","resolution"],a);const l=x(A,["personGeneration"]);void 0!==t&&null!=l&&T(t,["parameters","personGeneration"],l);const u=x(A,["pubsubTopic"]);void 0!==t&&null!=u&&T(t,["parameters","pubsubTopic"],u);const c=x(A,["negativePrompt"]);void 0!==t&&null!=c&&T(t,["parameters","negativePrompt"],c);const h=x(A,["enhancePrompt"]);void 0!==t&&null!=h&&T(t,["parameters","enhancePrompt"],h);const f=x(A,["generateAudio"]);void 0!==t&&null!=f&&T(t,["parameters","generateAudio"],f);const d=x(A,["lastFrame"]);void 0!==t&&null!=d&&T(t,["instances[0]","lastFrame"],ar(d));const p=x(A,["referenceImages"]);if(void 0!==t&&null!=p){let A=p;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["image"]);null!=e&&T(t,["image"],ar(e));const n=x(A,["referenceType"]);null!=n&&T(t,["referenceType"],n);return t}(A))),T(t,["instances[0]","referenceImages"],A)}const g=x(A,["mask"]);void 0!==t&&null!=g&&T(t,["instances[0]","mask"],function(A){const t={},e=x(A,["image"]);null!=e&&T(t,["_self"],ar(e));const n=x(A,["maskMode"]);null!=n&&T(t,["maskMode"],n);return t}(g));const B=x(A,["compressionQuality"]);return void 0!==t&&null!=B&&T(t,["parameters","compressionQuality"],B),{}}function tr(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response","generateVideoResponse"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["generatedSamples"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["video"]);null!=e&&T(t,["video"],function(A){const t={},e=x(A,["uri"]);null!=e&&T(t,["uri"],e);const n=x(A,["encodedVideo"]);null!=n&&T(t,["videoBytes"],Ne(n));const r=x(A,["encoding"]);null!=r&&T(t,["mimeType"],r);return t}(e));return t}(A))),T(t,["generatedVideos"],A)}const n=x(A,["raiMediaFilteredCount"]);null!=n&&T(t,["raiMediaFilteredCount"],n);const r=x(A,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function er(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["videos"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["_self"]);null!=e&&T(t,["video"],function(A){const t={},e=x(A,["gcsUri"]);null!=e&&T(t,["uri"],e);const n=x(A,["bytesBase64Encoded"]);null!=n&&T(t,["videoBytes"],Ne(n));const r=x(A,["mimeType"]);null!=r&&T(t,["mimeType"],r);return t}(e));return t}(A))),T(t,["generatedVideos"],A)}const n=x(A,["raiMediaFilteredCount"]);null!=n&&T(t,["raiMediaFilteredCount"],n);const r=x(A,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function nr(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["prompt"]);null!=r&&T(e,["instances[0]","prompt"],r);const i=x(t,["image"]);null!=i&&T(e,["instances[0]","image"],or(i));const s=x(t,["video"]);null!=s&&T(e,["instances[0]","video"],Cr(s));const o=x(t,["source"]);null!=o&&function(A,t){const e={},n=x(A,["prompt"]);void 0!==t&&null!=n&&T(t,["instances[0]","prompt"],n);const r=x(A,["image"]);void 0!==t&&null!=r&&T(t,["instances[0]","image"],or(r));const i=x(A,["video"]);void 0!==t&&null!=i&&T(t,["instances[0]","video"],Cr(i))}(o,e);const a=x(t,["config"]);return null!=a&&$n(a,e),e}function rr(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["prompt"]);null!=r&&T(e,["instances[0]","prompt"],r);const i=x(t,["image"]);null!=i&&T(e,["instances[0]","image"],ar(i));const s=x(t,["video"]);null!=s&&T(e,["instances[0]","video"],br(s));const o=x(t,["source"]);null!=o&&function(A,t){const e={},n=x(A,["prompt"]);void 0!==t&&null!=n&&T(t,["instances[0]","prompt"],n);const r=x(A,["image"]);void 0!==t&&null!=r&&T(t,["instances[0]","image"],ar(r));const i=x(A,["video"]);void 0!==t&&null!=i&&T(t,["instances[0]","video"],br(i))}(o,e);const a=x(t,["config"]);return null!=a&&Ar(a,e),e}function ir(A){const t={},e=x(A,["_self"]);null!=e&&T(t,["image"],sr(e));const n=x(A,["raiFilteredReason"]);null!=n&&T(t,["raiFilteredReason"],n);const r=x(A,["_self"]);null!=r&&T(t,["safetyAttributes"],pr(r));const i=x(A,["prompt"]);return null!=i&&T(t,["enhancedPrompt"],i),t}function sr(A){const t={},e=x(A,["gcsUri"]);null!=e&&T(t,["gcsUri"],e);const n=x(A,["bytesBase64Encoded"]);null!=n&&T(t,["imageBytes"],Ne(n));const r=x(A,["mimeType"]);return null!=r&&T(t,["mimeType"],r),t}function or(A){const t={};if(void 0!==x(A,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const e=x(A,["imageBytes"]);null!=e&&T(t,["bytesBase64Encoded"],Ne(e));const n=x(A,["mimeType"]);return null!=n&&T(t,["mimeType"],n),t}function ar(A){const t={},e=x(A,["gcsUri"]);null!=e&&T(t,["gcsUri"],e);const n=x(A,["imageBytes"]);null!=n&&T(t,["bytesBase64Encoded"],Ne(n));const r=x(A,["mimeType"]);return null!=r&&T(t,["mimeType"],r),t}function lr(A,t){const e={},n=x(t,["config"]);return null!=n&&function(A,t,e){const n=x(t,["pageSize"]);void 0!==e&&null!=n&&T(e,["_query","pageSize"],n);const r=x(t,["pageToken"]);void 0!==e&&null!=r&&T(e,["_query","pageToken"],r);const i=x(t,["filter"]);void 0!==e&&null!=i&&T(e,["_query","filter"],i);const s=x(t,["queryBase"]);void 0!==e&&null!=s&&T(e,["_url","models_url"],De(A,s))}(A,n,e),e}function ur(A,t){const e={},n=x(t,["config"]);return null!=n&&function(A,t,e){const n=x(t,["pageSize"]);void 0!==e&&null!=n&&T(e,["_query","pageSize"],n);const r=x(t,["pageToken"]);void 0!==e&&null!=r&&T(e,["_query","pageToken"],r);const i=x(t,["filter"]);void 0!==e&&null!=i&&T(e,["_query","filter"],i);const s=x(t,["queryBase"]);void 0!==e&&null!=s&&T(e,["_url","models_url"],De(A,s))}(A,n,e),e}function cr(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["displayName"]);null!=n&&T(t,["displayName"],n);const r=x(A,["description"]);null!=r&&T(t,["description"],r);const i=x(A,["version"]);null!=i&&T(t,["version"],i);const s=x(A,["_self"]);null!=s&&T(t,["tunedModelInfo"],function(A){const t={},e=x(A,["baseModel"]);null!=e&&T(t,["baseModel"],e);const n=x(A,["createTime"]);null!=n&&T(t,["createTime"],n);const r=x(A,["updateTime"]);null!=r&&T(t,["updateTime"],r);return t}(s));const o=x(A,["inputTokenLimit"]);null!=o&&T(t,["inputTokenLimit"],o);const a=x(A,["outputTokenLimit"]);null!=a&&T(t,["outputTokenLimit"],a);const l=x(A,["supportedGenerationMethods"]);null!=l&&T(t,["supportedActions"],l);const u=x(A,["temperature"]);null!=u&&T(t,["temperature"],u);const c=x(A,["maxTemperature"]);null!=c&&T(t,["maxTemperature"],c);const h=x(A,["topP"]);null!=h&&T(t,["topP"],h);const f=x(A,["topK"]);null!=f&&T(t,["topK"],f);const d=x(A,["thinking"]);return null!=d&&T(t,["thinking"],d),t}function hr(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["displayName"]);null!=n&&T(t,["displayName"],n);const r=x(A,["description"]);null!=r&&T(t,["description"],r);const i=x(A,["versionId"]);null!=i&&T(t,["version"],i);const s=x(A,["deployedModels"]);if(null!=s){let A=s;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["endpoint"]);null!=e&&T(t,["name"],e);const n=x(A,["deployedModelId"]);return null!=n&&T(t,["deployedModelId"],n),t}(A))),T(t,["endpoints"],A)}const o=x(A,["labels"]);null!=o&&T(t,["labels"],o);const a=x(A,["_self"]);null!=a&&T(t,["tunedModelInfo"],function(A){const t={},e=x(A,["labels","google-vertex-llm-tuning-base-model-id"]);null!=e&&T(t,["baseModel"],e);const n=x(A,["createTime"]);null!=n&&T(t,["createTime"],n);const r=x(A,["updateTime"]);null!=r&&T(t,["updateTime"],r);return t}(a));const l=x(A,["defaultCheckpointId"]);null!=l&&T(t,["defaultCheckpointId"],l);const u=x(A,["checkpoints"]);if(null!=u){let A=u;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["checkpoints"],A)}return t}function fr(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["source"]);null!=r&&function(A,t){const e={},n=x(A,["prompt"]);void 0!==t&&null!=n&&T(t,["instances[0]","prompt"],n);const r=x(A,["personImage"]);void 0!==t&&null!=r&&T(t,["instances[0]","personImage","image"],ar(r));const i=x(A,["productImages"]);if(void 0!==t&&null!=i){let A=i;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["productImage"]);return null!=e&&T(t,["image"],ar(e)),t}(A))),T(t,["instances[0]","productImages"],A)}}(r,e);const i=x(t,["config"]);return null!=i&&function(A,t){const e=x(A,["numberOfImages"]);void 0!==t&&null!=e&&T(t,["parameters","sampleCount"],e);const n=x(A,["baseSteps"]);void 0!==t&&null!=n&&T(t,["parameters","baseSteps"],n);const r=x(A,["outputGcsUri"]);void 0!==t&&null!=r&&T(t,["parameters","storageUri"],r);const i=x(A,["seed"]);void 0!==t&&null!=i&&T(t,["parameters","seed"],i);const s=x(A,["safetyFilterLevel"]);void 0!==t&&null!=s&&T(t,["parameters","safetySetting"],s);const o=x(A,["personGeneration"]);void 0!==t&&null!=o&&T(t,["parameters","personGeneration"],o);const a=x(A,["addWatermark"]);void 0!==t&&null!=a&&T(t,["parameters","addWatermark"],a);const l=x(A,["outputMimeType"]);void 0!==t&&null!=l&&T(t,["parameters","outputOptions","mimeType"],l);const u=x(A,["outputCompressionQuality"]);void 0!==t&&null!=u&&T(t,["parameters","outputOptions","compressionQuality"],u);const c=x(A,["enhancePrompt"]);void 0!==t&&null!=c&&T(t,["parameters","enhancePrompt"],c);const h=x(A,["labels"]);void 0!==t&&null!=h&&T(t,["labels"],h)}(i,e),e}function dr(A){const t={},e=x(A,["safetyAttributes","categories"]);null!=e&&T(t,["categories"],e);const n=x(A,["safetyAttributes","scores"]);null!=n&&T(t,["scores"],n);const r=x(A,["contentType"]);return null!=r&&T(t,["contentType"],r),t}function pr(A){const t={},e=x(A,["safetyAttributes","categories"]);null!=e&&T(t,["categories"],e);const n=x(A,["safetyAttributes","scores"]);null!=n&&T(t,["scores"],n);const r=x(A,["contentType"]);return null!=r&&T(t,["contentType"],r),t}function gr(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["source"]);null!=r&&function(A,t){const e={},n=x(A,["prompt"]);void 0!==t&&null!=n&&T(t,["instances[0]","prompt"],n);const r=x(A,["image"]);void 0!==t&&null!=r&&T(t,["instances[0]","image"],ar(r));const i=x(A,["scribbleImage"]);void 0!==t&&null!=i&&T(t,["instances[0]","scribble"],function(A){const t={},e=x(A,["image"]);return null!=e&&T(t,["image"],ar(e)),t}(i))}(r,e);const i=x(t,["config"]);return null!=i&&function(A,t){const e=x(A,["mode"]);void 0!==t&&null!=e&&T(t,["parameters","mode"],e);const n=x(A,["maxPredictions"]);void 0!==t&&null!=n&&T(t,["parameters","maxPredictions"],n);const r=x(A,["confidenceThreshold"]);void 0!==t&&null!=r&&T(t,["parameters","confidenceThreshold"],r);const i=x(A,["maskDilation"]);void 0!==t&&null!=i&&T(t,["parameters","maskDilation"],i);const s=x(A,["binaryColorThreshold"]);void 0!==t&&null!=s&&T(t,["parameters","binaryColorThreshold"],s);const o=x(A,["labels"]);void 0!==t&&null!=o&&T(t,["labels"],o)}(i,e),e}function Br(A){const t={},e=x(A,["predictions"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["_self"]);null!=e&&T(t,["mask"],sr(e));const n=x(A,["labels"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["labels"],A)}return t}(A))),T(t,["generatedMasks"],A)}return t}function mr(A){const t={},e=x(A,["languageCode"]);null!=e&&T(t,["languageCode"],e);const n=x(A,["voiceConfig"]);if(null!=n&&T(t,["voiceConfig"],n),void 0!==x(A,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function wr(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={};if(void 0!==x(A,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const e=x(A,["description"]);null!=e&&T(t,["description"],e);const n=x(A,["name"]);null!=n&&T(t,["name"],n);const r=x(A,["parameters"]);null!=r&&T(t,["parameters"],r);const i=x(A,["parametersJsonSchema"]);null!=i&&T(t,["parametersJsonSchema"],i);const s=x(A,["response"]);null!=s&&T(t,["response"],s);const o=x(A,["responseJsonSchema"]);return null!=o&&T(t,["responseJsonSchema"],o),t}(A))),T(t,["functionDeclarations"],A)}const n=x(A,["retrieval"]);null!=n&&T(t,["retrieval"],n);const r=x(A,["googleSearchRetrieval"]);null!=r&&T(t,["googleSearchRetrieval"],r);const i=x(A,["computerUse"]);if(null!=i&&T(t,["computerUse"],i),void 0!==x(A,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);const o=x(A,["enterpriseWebSearch"]);null!=o&&T(t,["enterpriseWebSearch"],o);const a=x(A,["googleMaps"]);null!=a&&T(t,["googleMaps"],a);const l=x(A,["googleSearch"]);null!=l&&T(t,["googleSearch"],l);const u=x(A,["urlContext"]);return null!=u&&T(t,["urlContext"],u),t}function _r(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","name"],ge(A,n));const r=x(t,["config"]);return null!=r&&function(A,t){const e=x(A,["displayName"]);void 0!==t&&null!=e&&T(t,["displayName"],e);const n=x(A,["description"]);void 0!==t&&null!=n&&T(t,["description"],n);const r=x(A,["defaultCheckpointId"]);void 0!==t&&null!=r&&T(t,["defaultCheckpointId"],r)}(r,e),e}function yr(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["config"]);return null!=r&&function(A,t){const e=x(A,["displayName"]);void 0!==t&&null!=e&&T(t,["displayName"],e);const n=x(A,["description"]);void 0!==t&&null!=n&&T(t,["description"],n);const r=x(A,["defaultCheckpointId"]);void 0!==t&&null!=r&&T(t,["defaultCheckpointId"],r)}(r,e),e}function vr(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["image"]);null!=r&&T(e,["instances[0]","image"],ar(r));const i=x(t,["upscaleFactor"]);null!=i&&T(e,["parameters","upscaleConfig","upscaleFactor"],i);const s=x(t,["config"]);return null!=s&&function(A,t){const e=x(A,["outputGcsUri"]);void 0!==t&&null!=e&&T(t,["parameters","storageUri"],e);const n=x(A,["safetyFilterLevel"]);void 0!==t&&null!=n&&T(t,["parameters","safetySetting"],n);const r=x(A,["personGeneration"]);void 0!==t&&null!=r&&T(t,["parameters","personGeneration"],r);const i=x(A,["includeRaiReason"]);void 0!==t&&null!=i&&T(t,["parameters","includeRaiReason"],i);const s=x(A,["outputMimeType"]);void 0!==t&&null!=s&&T(t,["parameters","outputOptions","mimeType"],s);const o=x(A,["outputCompressionQuality"]);void 0!==t&&null!=o&&T(t,["parameters","outputOptions","compressionQuality"],o);const a=x(A,["enhanceInputImage"]);void 0!==t&&null!=a&&T(t,["parameters","upscaleConfig","enhanceInputImage"],a);const l=x(A,["imagePreservationFactor"]);void 0!==t&&null!=l&&T(t,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=x(A,["labels"]);void 0!==t&&null!=u&&T(t,["labels"],u);const c=x(A,["numberOfImages"]);void 0!==t&&null!=c&&T(t,["parameters","sampleCount"],c);const h=x(A,["mode"]);void 0!==t&&null!=h&&T(t,["parameters","mode"],h)}(s,e),e}function Cr(A){const t={},e=x(A,["uri"]);null!=e&&T(t,["uri"],e);const n=x(A,["videoBytes"]);null!=n&&T(t,["encodedVideo"],Ne(n));const r=x(A,["mimeType"]);return null!=r&&T(t,["encoding"],r),t}function br(A){const t={},e=x(A,["uri"]);null!=e&&T(t,["gcsUri"],e);const n=x(A,["videoBytes"]);null!=n&&T(t,["bytesBase64Encoded"],Ne(n));const r=x(A,["mimeType"]);return null!=r&&T(t,["mimeType"],r),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Er="x-goog-api-client",Ur=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Qr{constructor(A){var t,e;this.clientOptions=Object.assign(Object.assign({},A),{project:A.project,location:A.location,apiKey:A.apiKey,vertexai:A.vertexai});const n={};this.clientOptions.vertexai?(n.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",n.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(n.apiVersion=null!==(e=this.clientOptions.apiVersion)&&void 0!==e?e:"v1beta",n.baseUrl="https://generativelanguage.googleapis.com/"),n.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=n,A.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(n,A.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var A;return null!==(A=this.clientOptions.vertexai)&&void 0!==A&&A}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(A){if(!A||void 0===A.baseUrl||void 0===A.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[A.baseUrl.endsWith("/")?A.baseUrl.slice(0,-1):A.baseUrl];return A.apiVersion&&""!==A.apiVersion&&t.push(A.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const A=this.getBaseUrl(),t=new URL(A);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(A){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=A}constructUrl(A,t,e){const n=[this.getRequestUrlInternal(t)];e&&n.push(this.getBaseResourcePath()),""!==A&&n.push(A);return new URL(`${n.join("/")}`)}shouldPrependVertexProjectPath(A){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!A.path.startsWith("projects/")&&("GET"!==A.httpMethod||!A.path.startsWith("publishers/google/models"))))}async request(A){let t=this.clientOptions.httpOptions;A.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,A.httpOptions));const e=this.shouldPrependVertexProjectPath(A),n=this.constructUrl(A.path,t,e);if(A.queryParams)for(const[i,s]of Object.entries(A.queryParams))n.searchParams.append(i,String(s));let r={};if("GET"===A.httpMethod){if(A.body&&"{}"!==A.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=A.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,n.toString(),A.abortSignal),this.unaryApiCall(n,r,A.httpMethod)}patchHttpOptions(A,t){const e=JSON.parse(JSON.stringify(A));for(const[n,r]of Object.entries(t))"object"==typeof r?e[n]=Object.assign(Object.assign({},e[n]),r):void 0!==r&&(e[n]=r);return e}async requestStream(A){let t=this.clientOptions.httpOptions;A.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,A.httpOptions));const e=this.shouldPrependVertexProjectPath(A),n=this.constructUrl(A.path,t,e);n.searchParams.has("alt")&&"sse"===n.searchParams.get("alt")||n.searchParams.set("alt","sse");let r={};return r.body=A.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,n.toString(),A.abortSignal),this.streamApiCall(n,r,A.httpMethod)}async includeExtraHttpOptionsToRequestInit(A,t,e,n){if(t&&t.timeout||n){const e=new AbortController,r=e.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const A=setTimeout(()=>e.abort(),t.timeout);A&&"function"==typeof A.unref&&A.unref()}n&&n.addEventListener("abort",()=>{e.abort()}),A.signal=r}return t&&null!==t.extraBody&&function(A,t){if(!t||0===Object.keys(t).length)return;if(A.body instanceof Blob)return;let e={};if("string"==typeof A.body&&A.body.length>0)try{const t=JSON.parse(A.body);if("object"!=typeof t||null===t||Array.isArray(t))return;e=t}catch(i){return}function n(A,t){const e=Object.assign({},A);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const A=t[r],i=e[r];A&&"object"==typeof A&&!Array.isArray(A)&&i&&"object"==typeof i&&!Array.isArray(i)?e[r]=n(i,A):e[r]=A}return e}const r=n(e,t);A.body=JSON.stringify(r)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(A,t.extraBody),A.headers=await this.getHeadersInternal(t,e),A}async unaryApiCall(A,t,e){return this.apiCall(A.toString(),Object.assign(Object.assign({},t),{method:e})).then(async A=>(await Fr(A),new Kt(A))).catch(A=>{throw A instanceof Error?A:new Error(JSON.stringify(A))})}async streamApiCall(A,t,e){return this.apiCall(A.toString(),Object.assign(Object.assign({},t),{method:e})).then(async A=>(await Fr(A),this.processStreamResponse(A))).catch(A=>{throw A instanceof Error?A:new Error(JSON.stringify(A))})}processStreamResponse(A){var t;return mn(this,arguments,function*(){const e=null===(t=null==A?void 0:A.body)||void 0===t?void 0:t.getReader(),n=new TextDecoder("utf-8");if(!e)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:s}=yield Bn(e.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const o=n.decode(s,{stream:!0});try{const A=JSON.parse(o);if("error"in A){const t=JSON.parse(JSON.stringify(A.error)),e=t.status,n=t.code,r=`got status: ${e}. ${JSON.stringify(A)}`;if(n>=400&&n<600){throw new En({message:r,status:n})}}}catch(r){if("ApiError"===r.name)throw r}t+=o;let a=t.match(Ur);for(;a;){const e=a[1];try{const n=new Response(e,{headers:null==A?void 0:A.headers,status:null==A?void 0:A.status,statusText:null==A?void 0:A.statusText});yield yield Bn(new Kt(n)),t=t.slice(a[0].length),a=t.match(Ur)}catch(r){throw new Error(`exception parsing stream chunk ${e}. ${r}`)}}}}finally{e.releaseLock()}})}async apiCall(A,t){return fetch(A,t).catch(A=>{throw new Error(`exception ${A} sending request`)})}getDefaultHeaders(){const A={},t="google-genai-sdk/1.30.0 "+this.clientOptions.userAgentExtra;return A["User-Agent"]=t,A[Er]=t,A["Content-Type"]="application/json",A}async getHeadersInternal(A,t){const e=new Headers;if(A&&A.headers){for(const[t,n]of Object.entries(A.headers))e.append(t,n);A.timeout&&A.timeout>0&&e.append("X-Server-Timeout",String(Math.ceil(A.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(e,t),e}getFileName(A){var t;let e="";return"string"==typeof A&&(e=A.replace(/[/\\]+$/,""),e=null!==(t=e.split(/[/\\]/).pop())&&void 0!==t?t:""),e}async uploadFile(A,t){var e;const n={};null!=t&&(n.mimeType=t.mimeType,n.name=t.name,n.displayName=t.displayName),n.name&&!n.name.startsWith("files/")&&(n.name=`files/${n.name}`);const r=this.clientOptions.uploader,i=await r.stat(A);n.sizeBytes=String(i.size);const s=null!==(e=null==t?void 0:t.mimeType)&&void 0!==e?e:i.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");n.mimeType=s;const o={file:n},a=this.getFileName(A),l=S("upload/v1beta/files",o._url),u=await this.fetchUploadUrl(l,n.sizeBytes,n.mimeType,a,o,null==t?void 0:t.httpOptions);return r.upload(A,u,this)}async uploadFileToFileSearchStore(A,t,e){var n;const r=this.clientOptions.uploader,i=await r.stat(t),s=String(i.size),o=null!==(n=null==e?void 0:e.mimeType)&&void 0!==n?n:i.type;if(void 0===o||""===o)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const a=`upload/v1beta/${A}:uploadToFileSearchStore`,l=this.getFileName(t),u={};(null==e?void 0:e.customMetadata)&&(u.customMetadata=e.customMetadata),(null==e?void 0:e.chunkingConfig)&&(u.chunkingConfig=e.chunkingConfig);const c=await this.fetchUploadUrl(a,s,o,l,u,null==e?void 0:e.httpOptions);return r.uploadToFileSearchStore(t,c,this)}async downloadFile(A){const t=this.clientOptions.downloader;await t.download(A,this)}async fetchUploadUrl(A,t,e,n,r,i){var s;let o={};o=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${e}`},n?{"X-Goog-Upload-File-Name":n}:{})};const a=await this.request({path:A,body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!a||!(null==a?void 0:a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=null===(s=null==a?void 0:a.headers)||void 0===s?void 0:s["x-goog-upload-url"];if(void 0===l)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Fr(A){var t;if(void 0===A)throw new Error("response is undefined");if(!A.ok){const e=A.status;let n;n=(null===(t=A.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await A.json():{error:{message:await A.text(),code:A.status,status:A.statusText}};const r=JSON.stringify(n);if(e>=400&&e<600){throw new En({message:r,status:e})}throw new Error(r)}}function Ir(A){for(const t of A){if(Tr(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function Sr(A){var t;const e=null!==(t=A[Er])&&void 0!==t?t:"";A[Er]=(e+" mcp_used/unknown").trimStart()}function Tr(A){return null!==A&&"object"==typeof A&&A instanceof Or}function xr(A,t=100){return mn(this,arguments,function*(){let e,n=0;for(;n<t;){const t=yield Bn(A.listTools({cursor:e}));for(const A of t.tools)yield yield Bn(A),n++;if(!t.nextCursor)break;e=t.nextCursor}})}class Or{constructor(A=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=A,this.config=t}static create(A,t){return new Or(A,t)}async initialize(){var A,t,e,n;if(this.mcpTools.length>0)return;const r={},i=[];for(const u of this.mcpClients)try{for(var s,o=!0,a=(t=void 0,wn(xr(u)));!(A=(s=await a.next()).done);o=!0){n=s.value,o=!1;const A=n;i.push(A);const t=A.name;if(r[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);r[t]=u}}catch(l){t={error:l}}finally{try{o||A||!(e=a.return)||await e.call(a)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),function(A,t={}){const e=[],n=new Set;for(const r of A){const A=r.name;if(n.has(A))throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);n.add(A);const i=Ke(r,t);i.functionDeclarations&&e.push(...i.functionDeclarations)}return{functionDeclarations:e}}(this.mcpTools,this.config)}async callTool(A){await this.initialize();const t=[];for(const e of A)if(e.name in this.functionNameToMcpClient){const A=this.functionNameToMcpClient[e.name];let n;this.config.timeout&&(n={timeout:this.config.timeout});const r=await A.callTool({name:e.name,arguments:e.args},void 0,n);t.push({functionResponse:{name:e.name,response:r.isError?{error:r}:r}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hr{constructor(A,t,e){this.apiClient=A,this.auth=t,this.webSocketFactory=e}async connect(A){var t,e;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const n=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),i=function(A){const t=new Headers;for(const[e,n]of Object.entries(A))t.append(e,n);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),s=`${n}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let o=()=>{};const a=new Promise(A=>{o=A}),l=A.callbacks,u=(this.apiClient,{onopen:function(){o({})},onmessage:A=>{!async function(A,t,e){const n=new de;let r;r=e.data instanceof Blob?JSON.parse(await e.data.text()):JSON.parse(e.data),Object.assign(n,r),t(n)}(0,l.onmessage,A)},onerror:null!==(t=null==l?void 0:l.onerror)&&void 0!==t?t:function(A){},onclose:null!==(e=null==l?void 0:l.onclose)&&void 0!==e?e:function(A){}}),c=this.webSocketFactory.create(s,function(A){const t={};return A.forEach((A,e)=>{t[e]=A}),t}(i),u);c.connect(),await a;const h={setup:{model:ge(this.apiClient,A.model)}};return c.send(JSON.stringify(h)),new Mr(c,this.apiClient)}}class Mr{constructor(A,t){this.conn=A,this.apiClient=t}async setWeightedPrompts(A){if(!A.weightedPrompts||0===Object.keys(A.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(A){const t={},e=x(A,["weightedPrompts"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["weightedPrompts"],A)}return t}(A);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(A){A.musicGenerationConfig||(A.musicGenerationConfig={});const t=function(A){const t={},e=x(A,["musicGenerationConfig"]);return null!=e&&T(t,["musicGenerationConfig"],e),t}(A);this.conn.send(JSON.stringify(t))}sendPlaybackControl(A){const t={playbackControl:A};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Lt.PLAY)}pause(){this.sendPlaybackControl(Lt.PAUSE)}stop(){this.sendPlaybackControl(Lt.STOP)}resetContext(){this.sendPlaybackControl(Lt.RESET_CONTEXT)}close(){this.conn.close()}}class Rr{constructor(A,t,e){this.apiClient=A,this.auth=t,this.webSocketFactory=e,this.music=new Hr(this.apiClient,this.auth,this.webSocketFactory)}async connect(A){var t,e,n,r,i,s;if(A.config&&A.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion();let l;const u=this.apiClient.getHeaders();A.config&&A.config.tools&&Ir(A.config.tools)&&Sr(u);const c=function(A){const t=new Headers;for(const[e,n]of Object.entries(A))t.append(e,n);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(u);if(this.apiClient.isVertexAI())l=`${o}/ws/google.cloud.aiplatform.${a}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(c,l);else{const A=this.apiClient.getApiKey();let t="BidiGenerateContent",e="key";(null==A?void 0:A.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",e="access_token"),l=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.${t}?${e}=${A}`}let h=()=>{};const f=new Promise(A=>{h=A}),d=A.callbacks,p=this.apiClient,g={onopen:function(){var A;null===(A=null==d?void 0:d.onopen)||void 0===A||A.call(d),h({})},onmessage:A=>{!async function(A,t,e){const n=new fe;let r;r=e.data instanceof Blob?await e.data.text():e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;const i=JSON.parse(r);if(A.isVertexAI()){const A=Hn(i);Object.assign(n,A)}else{const A=i;Object.assign(n,A)}t(n)}(p,d.onmessage,A)},onerror:null!==(t=null==d?void 0:d.onerror)&&void 0!==t?t:function(A){},onclose:null!==(e=null==d?void 0:d.onclose)&&void 0!==e?e:function(A){}},B=this.webSocketFactory.create(l,function(A){const t={};return A.forEach((A,e)=>{t[e]=A}),t}(c),g);B.connect(),await f;let m=ge(this.apiClient,A.model);if(this.apiClient.isVertexAI()&&m.startsWith("publishers/")){m=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+m}let w={};this.apiClient.isVertexAI()&&void 0===(null===(n=A.config)||void 0===n?void 0:n.responseModalities)&&(void 0===A.config?A.config={responseModalities:[CA.AUDIO]}:A.config.responseModalities=[CA.AUDIO]),null===(r=A.config)||void 0===r||r.generationConfig;const _=null!==(s=null===(i=A.config)||void 0===i?void 0:i.tools)&&void 0!==s?s:[],y=[];for(const C of _)if(this.isCallableTool(C)){const A=C;y.push(await A.tool())}else y.push(C);y.length>0&&(A.config.tools=y);const v={model:m,config:A.config,callbacks:A.callbacks};return w=this.apiClient.isVertexAI()?function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["setup","model"],ge(A,n));const r=x(t,["config"]);return null!=r&&T(e,["config"],Tn(r,e)),e}(this.apiClient,v):function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["setup","model"],ge(A,n));const r=x(t,["config"]);return null!=r&&T(e,["config"],Sn(r,e)),e}(this.apiClient,v),delete w.config,B.send(JSON.stringify(w)),new Nr(B,this.apiClient)}isCallableTool(A){return"callTool"in A&&"function"==typeof A.callTool}}const Pr={turnComplete:!0};class Nr{constructor(A,t){this.conn=A,this.apiClient=t}tLiveClientContent(A,t){if(null!==t.turns&&void 0!==t.turns){let n=[];try{n=Ie(t.turns),A.isVertexAI()||(n=n.map(A=>Nn(A)))}catch(e){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(A,t){let e=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(e=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===e.length)throw new Error("functionResponses is required.");for(const n of e){if("object"!=typeof n||null===n||!("name"in n)||!("response"in n))throw new Error(`Could not parse function response, type '${typeof n}'.`);if(!A.isVertexAI()&&!("id"in n))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:e}}}sendClientContent(A){A=Object.assign(Object.assign({},Pr),A);const t=this.tLiveClientContent(this.apiClient,A);this.conn.send(JSON.stringify(t))}sendRealtimeInput(A){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:On(A)}:{realtimeInput:xn(A)},this.conn.send(JSON.stringify(t))}sendToolResponse(A){if(null==A.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,A);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Lr(A){var t,e,n;if(null===(t=null==A?void 0:A.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let r=!1;for(const s of null!==(e=null==A?void 0:A.tools)&&void 0!==e?e:[])if(Dr(s)){r=!0;break}if(!r)return!0;const i=null===(n=null==A?void 0:A.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)}function Dr(A){return"callTool"in A&&"function"==typeof A.callTool}function kr(A){var t;const e=[];return(null===(t=null==A?void 0:A.config)||void 0===t?void 0:t.tools)?(A.config.tools.forEach((A,t)=>{if(Dr(A))return;const n=A;n.functionDeclarations&&n.functionDeclarations.length>0&&e.push(t)}),e):e}function Vr(A){var t;return!(null===(t=null==A?void 0:A.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kr extends I{constructor(A){super(),this.apiClient=A,this.generateContent=async A=>{var t,e,n,r,i;const s=await this.processParamsMaybeAddMcpUsage(A);if(this.maybeMoveToResponseJsonSchem(A),!function(A){var t,e,n;return null!==(n=null===(e=null===(t=A.config)||void 0===t?void 0:t.tools)||void 0===e?void 0:e.some(A=>Dr(A)))&&void 0!==n&&n}(A)||Lr(A.config))return await this.generateContentInternal(s);const o=kr(A);if(o.length>0){const A=o.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let a,l;const u=Ie(s.contents),c=null!==(n=null===(e=null===(t=s.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===e?void 0:e.maximumRemoteCalls)&&void 0!==n?n:10;let h=0;for(;h<c&&(a=await this.generateContentInternal(s),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,e=[];for(const n of null!==(i=null===(r=A.config)||void 0===r?void 0:r.tools)&&void 0!==i?i:[])if(Dr(n)){const A=n,t=await A.callTool(a.functionCalls);e.push(...t)}h++,l={role:"user",parts:e},s.contents=Ie(s.contents),s.contents.push(t),s.contents.push(l),Vr(s.config)&&(u.push(t),u.push(l))}return Vr(s.config)&&(a.automaticFunctionCallingHistory=u),a},this.generateContentStream=async A=>{var t,e,n,r,i;if(this.maybeMoveToResponseJsonSchem(A),Lr(A.config)){const t=await this.processParamsMaybeAddMcpUsage(A);return await this.generateContentStreamInternal(t)}const s=kr(A);if(s.length>0){const A=s.map(A=>`tools[${A}]`).join(", ");throw new Error(`Incompatible tools found at ${A}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const o=null===(n=null===(e=null===(t=null==A?void 0:A.config)||void 0===t?void 0:t.toolConfig)||void 0===e?void 0:e.functionCallingConfig)||void 0===n?void 0:n.streamFunctionCallArguments,a=null===(i=null===(r=null==A?void 0:A.config)||void 0===r?void 0:r.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(o&&!a)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(A)},this.generateImages=async A=>await this.generateImagesInternal(A).then(A=>{var t;let e;const n=[];if(null==A?void 0:A.generatedImages)for(const i of A.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?e=null==i?void 0:i.safetyAttributes:n.push(i);let r;return r=e?{generatedImages:n,positivePromptSafetyAttributes:e,sdkHttpResponse:A.sdkHttpResponse}:{generatedImages:n,sdkHttpResponse:A.sdkHttpResponse},r}),this.list=async A=>{var t;const e={config:Object.assign(Object.assign({},{queryBase:!0}),null==A?void 0:A.config)};if(this.apiClient.isVertexAI()&&!e.config.queryBase){if(null===(t=e.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");e.config.filter="labels.tune-type:*"}return new sn(kt.PAGED_ITEM_MODELS,A=>this.listInternal(A),await this.listInternal(e),e)},this.editImage=async A=>{const t={model:A.model,prompt:A.prompt,referenceImages:[],config:A.config};return A.referenceImages&&A.referenceImages&&(t.referenceImages=A.referenceImages.map(A=>A.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async A=>{let t={numberOfImages:1,mode:"upscale"};A.config&&(t=Object.assign(Object.assign({},t),A.config));const e={model:A.model,image:A.image,upscaleFactor:A.upscaleFactor,config:t};return await this.upscaleImageInternal(e)},this.generateVideos=async A=>{var t,e,n,r,i,s;if((A.prompt||A.image||A.video)&&A.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=A.video)||void 0===t?void 0:t.uri)&&(null===(e=A.video)||void 0===e?void 0:e.videoBytes)?A.video={uri:A.video.uri,mimeType:A.video.mimeType}:(null===(r=null===(n=A.source)||void 0===n?void 0:n.video)||void 0===r?void 0:r.uri)&&(null===(s=null===(i=A.source)||void 0===i?void 0:i.video)||void 0===s?void 0:s.videoBytes)&&(A.source.video={uri:A.source.video.uri,mimeType:A.source.video.mimeType})),await this.generateVideosInternal(A)}}maybeMoveToResponseJsonSchem(A){A.config&&A.config.responseSchema&&(A.config.responseJsonSchema||Object.keys(A.config.responseSchema).includes("$schema")&&(A.config.responseJsonSchema=A.config.responseSchema,delete A.config.responseSchema))}async processParamsMaybeAddMcpUsage(A){var t,e,n;const r=null===(t=A.config)||void 0===t?void 0:t.tools;if(!r)return A;const i=await Promise.all(r.map(async A=>{if(Dr(A)){const t=A;return await t.tool()}return A})),s={model:A.model,contents:A.contents,config:Object.assign(Object.assign({},A.config),{tools:i})};if(s.config.tools=i,A.config&&A.config.tools&&Ir(A.config.tools)){const t=null!==(n=null===(e=A.config.httpOptions)||void 0===e?void 0:e.headers)&&void 0!==n?n:{};let r=Object.assign({},t);0===Object.keys(r).length&&(r=this.apiClient.getDefaultHeaders()),Sr(r),s.config.httpOptions=Object.assign(Object.assign({},A.config.httpOptions),{headers:r})}return s}async initAfcToolsMap(A){var t,e,n;const r=new Map;for(const i of null!==(e=null===(t=A.config)||void 0===t?void 0:t.tools)&&void 0!==e?e:[])if(Dr(i)){const A=i,t=await A.tool();for(const e of null!==(n=t.functionDeclarations)&&void 0!==n?n:[]){if(!e.name)throw new Error("Function declaration name is required.");if(r.has(e.name))throw new Error(`Duplicate tool declaration name: ${e.name}`);r.set(e.name,A)}}return r}async processAfcStream(A){var t,e,n;const r=null!==(n=null===(e=null===(t=A.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===e?void 0:e.maximumRemoteCalls)&&void 0!==n?n:10;let i=!1,s=0;return function(A,t,e){var n,o;return mn(this,arguments,function*(){for(var a,l,u,c;s<r;){i&&(s++,i=!1);const g=yield Bn(A.processParamsMaybeAddMcpUsage(e)),B=yield Bn(A.generateContentStreamInternal(g)),m=[],w=[];try{for(var h,f=!0,d=(l=void 0,wn(B));!(a=(h=yield Bn(d.next())).done);f=!0){c=h.value,f=!1;const A=c;if(yield yield Bn(A),A.candidates&&(null===(n=A.candidates[0])||void 0===n?void 0:n.content)){w.push(A.candidates[0].content);for(const e of null!==(o=A.candidates[0].content.parts)&&void 0!==o?o:[])if(s<r&&e.functionCall){if(!e.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(e.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${e.functionCall.name}`);{const A=yield Bn(t.get(e.functionCall.name).callTool([e.functionCall]));m.push(...A)}}}}}catch(p){l={error:p}}finally{try{f||a||!(u=d.return)||(yield Bn(u.call(d)))}finally{if(l)throw l.error}}if(!(m.length>0))break;{i=!0;const A=new Gt;A.candidates=[{content:{role:"user",parts:m}}],yield yield Bn(A);const t=[];t.push(...w),t.push({role:"user",parts:m});const n=Ie(e.contents).concat(t);e.contents=n}}})}(this,await this.initAfcToolsMap(A),A)}async generateContentInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=Yn(this.apiClient,A);return s=S("{model}:generateContent",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=Jn(A),e=new Gt;return Object.assign(e,t),e})}{const t=Xn(this.apiClient,A);return s=S("{model}:generateContent",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=jn(A),e=new Gt;return Object.assign(e,t),e})}}async generateContentStreamInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=Yn(this.apiClient,A);s=S("{model}:streamGenerateContent?alt=sse",n._url),o=n._query,delete n._url,delete n._query;return i=this.apiClient.requestStream({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}),i.then(function(A){return mn(this,arguments,function*(){var t,e,n,r;try{for(var i,s=!0,o=wn(A);!(t=(i=yield Bn(o.next())).done);s=!0){r=i.value,s=!1;const A=r,t=Jn(yield Bn(A.json()));t.sdkHttpResponse={headers:A.headers};const e=new Gt;Object.assign(e,t),yield yield Bn(e)}}catch(a){e={error:a}}finally{try{s||t||!(n=o.return)||(yield Bn(n.call(o)))}finally{if(e)throw e.error}}})})}{const t=Xn(this.apiClient,A);s=S("{model}:streamGenerateContent?alt=sse",t._url),o=t._query,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}),i.then(function(A){return mn(this,arguments,function*(){var t,e,n,r;try{for(var i,s=!0,o=wn(A);!(t=(i=yield Bn(o.next())).done);s=!0){r=i.value,s=!1;const A=r,t=jn(yield Bn(A.json()));t.sdkHttpResponse={headers:A.headers};const e=new Gt;Object.assign(e,t),yield yield Bn(e)}}catch(a){e={error:a}}finally{try{s||t||!(n=o.return)||(yield Bn(n.call(o)))}finally{if(e)throw e.error}}})})}}async embedContent(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=Kn(this.apiClient,A);return s=S("{model}:predict",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["predictions[]","embeddings"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>Pn(A))),T(t,["embeddings"],A)}const r=x(A,["metadata"]);return null!=r&&T(t,["metadata"],r),t}(A),e=new qt;return Object.assign(e,t),e})}{const t=Vn(this.apiClient,A);return s=S("{model}:batchEmbedContents",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["embeddings"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["embeddings"],A)}const r=x(A,["metadata"]);return null!=r&&T(t,["metadata"],r),t}(A),e=new qt;return Object.assign(e,t),e})}}async generateImagesInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=zn(this.apiClient,A);return s=S("{model}:predict",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["predictions"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>ir(A))),T(t,["generatedImages"],A)}const r=x(A,["positivePromptSafetyAttributes"]);return null!=r&&T(t,["positivePromptSafetyAttributes"],pr(r)),t}(A),e=new Xt;return Object.assign(e,t),e})}{const t=Wn(this.apiClient,A);return s=S("{model}:predict",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=Zn(A),e=new Xt;return Object.assign(e,t),e})}}async editImageInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=kn(this.apiClient,A);return r=S("{model}:predict",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["predictions"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>ir(A))),T(t,["generatedImages"],A)}return t}(A),e=new Yt;return Object.assign(e,t),e})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=vr(this.apiClient,A);return r=S("{model}:predict",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["predictions"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>ir(A))),T(t,["generatedImages"],A)}return t}(A),e=new jt;return Object.assign(e,t),e})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=fr(this.apiClient,A);return r=S("{model}:predict",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=function(A){const t={},e=x(A,["predictions"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>ir(A))),T(t,["generatedImages"],A)}return t}(A),e=new Jt;return Object.assign(e,t),e})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=gr(this.apiClient,A);return r=S("{model}:predict",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=Br(A),e=new Wt;return Object.assign(e,t),e})}throw new Error("This method is only supported by the Vertex AI.")}async get(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["model"]);return null!=n&&T(e,["_url","name"],ge(A,n)),e}(this.apiClient,A);return s=S("{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>hr(A))}{const t=function(A,t){const e={},n=x(t,["model"]);return null!=n&&T(e,["_url","name"],ge(A,n)),e}(this.apiClient,A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>cr(A))}}async listInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=ur(this.apiClient,A);return s=S("{models_url}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["_self"]);if(null!=r){let A=ke(r);Array.isArray(A)&&(A=A.map(A=>hr(A))),T(t,["models"],A)}return t}(A),e=new zt;return Object.assign(e,t),e})}{const t=lr(this.apiClient,A);return s=S("{models_url}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["_self"]);if(null!=r){let A=ke(r);Array.isArray(A)&&(A=A.map(A=>cr(A))),T(t,["models"],A)}return t}(A),e=new zt;return Object.assign(e,t),e})}}async update(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=yr(this.apiClient,A);return s=S("{model}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"PATCH",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>hr(A))}{const t=_r(this.apiClient,A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>cr(A))}}async delete(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["model"]);return null!=n&&T(e,["_url","name"],ge(A,n)),e}(this.apiClient,A);return s=S("{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new Zt;return Object.assign(e,t),e})}{const t=function(A,t){const e={},n=x(t,["model"]);return null!=n&&T(e,["_url","name"],ge(A,n)),e}(this.apiClient,A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new Zt;return Object.assign(e,t),e})}}async countTokens(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let A=Ie(r);Array.isArray(A)&&(A=A.map(A=>A)),T(e,["contents"],A)}const i=x(t,["config"]);return null!=i&&Ln(i,e),e}(this.apiClient,A);return s=S("{model}:countTokens",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["totalTokens"]);return null!=n&&T(t,["totalTokens"],n),t}(A),e=new $t;return Object.assign(e,t),e})}{const t=Dn(this.apiClient,A);return s=S("{model}:countTokens",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["totalTokens"]);null!=n&&T(t,["totalTokens"],n);const r=x(A,["cachedContentTokenCount"]);return null!=r&&T(t,["cachedContentTokenCount"],r),t}(A),e=new $t;return Object.assign(e,t),e})}}async computeTokens(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["_url","model"],ge(A,n));const r=x(t,["contents"]);if(null!=r){let A=Ie(r);Array.isArray(A)&&(A=A.map(A=>A)),T(e,["contents"],A)}return e}(this.apiClient,A);return r=S("{model}:computeTokens",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["tokensInfo"]);if(null!=n){let A=n;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["tokensInfo"],A)}return t}(A),e=new Ae;return Object.assign(e,t),e})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=rr(this.apiClient,A);return s=S("{model}:predictLongRunning",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i.then(A=>{const t=er(A),e=new te;return Object.assign(e,t),e})}{const t=nr(this.apiClient,A);return s=S("{model}:predictLongRunning",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i.then(A=>{const t=tr(A),e=new te;return Object.assign(e,t),e})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gr extends I{constructor(A){super(),this.apiClient=A}async getVideosOperation(A){const t=A.operation,e=A.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const A=t.name.split("/operations/")[0];let n;e&&"httpOptions"in e&&(n=e.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:A,config:{httpOptions:n}});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}{const A=await this.getVideosOperationInternal({operationName:t.name,config:e});return t._fromAPIResponse({apiResponse:A,_isVertexAI:!1})}}async get(A){const t=A.operation,e=A.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const A=t.name.split("/operations/")[0];let n;e&&"httpOptions"in e&&(n=e.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:A,config:{httpOptions:n}});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}{const A=await this.getVideosOperationInternal({operationName:t.name,config:e});return t._fromAPIResponse({apiResponse:A,_isVertexAI:!1})}}async getVideosOperationInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A){const t={},e=x(A,["operationName"]);return null!=e&&T(t,["_url","operationName"],e),t}(A);return s=S("{operationName}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),i}{const t=function(A){const t={},e=x(A,["operationName"]);return null!=e&&T(t,["_url","operationName"],e),t}(A);return s=S("{operationName}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json()),i}}async fetchPredictVideosOperationInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=function(A){const t={},e=x(A,["operationName"]);null!=e&&T(t,["operationName"],e);const n=x(A,["resourceName"]);return null!=n&&T(t,["_url","resourceName"],n),t}(A);return r=S("{resourceName}:fetchPredictOperation",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qr(A){const t={},e=x(A,["parts"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["mediaResolution"]);null!=e&&T(t,["mediaResolution"],e);const n=x(A,["codeExecutionResult"]);null!=n&&T(t,["codeExecutionResult"],n);const r=x(A,["executableCode"]);null!=r&&T(t,["executableCode"],r);const i=x(A,["fileData"]);null!=i&&T(t,["fileData"],function(A){const t={};if(void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const e=x(A,["fileUri"]);null!=e&&T(t,["fileUri"],e);const n=x(A,["mimeType"]);null!=n&&T(t,["mimeType"],n);return t}(i));const s=x(A,["functionCall"]);null!=s&&T(t,["functionCall"],function(A){const t={},e=x(A,["id"]);null!=e&&T(t,["id"],e);const n=x(A,["args"]);null!=n&&T(t,["args"],n);const r=x(A,["name"]);null!=r&&T(t,["name"],r);if(void 0!==x(A,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==x(A,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const o=x(A,["functionResponse"]);null!=o&&T(t,["functionResponse"],o);const a=x(A,["inlineData"]);null!=a&&T(t,["inlineData"],function(A){const t={},e=x(A,["data"]);if(null!=e&&T(t,["data"],e),void 0!==x(A,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=x(A,["mimeType"]);return null!=n&&T(t,["mimeType"],n),t}(a));const l=x(A,["text"]);null!=l&&T(t,["text"],l);const u=x(A,["thought"]);null!=u&&T(t,["thought"],u);const c=x(A,["thoughtSignature"]);null!=c&&T(t,["thoughtSignature"],c);const h=x(A,["videoMetadata"]);null!=h&&T(t,["videoMetadata"],h);return t}(A))),T(t,["parts"],A)}const n=x(A,["role"]);return null!=n&&T(t,["role"],n),t}function Xr(A,t,e){const n=x(t,["expireTime"]);void 0!==e&&null!=n&&T(e,["expireTime"],n);const r=x(t,["newSessionExpireTime"]);void 0!==e&&null!=r&&T(e,["newSessionExpireTime"],r);const i=x(t,["uses"]);void 0!==e&&null!=i&&T(e,["uses"],i);const s=x(t,["liveConnectConstraints"]);void 0!==e&&null!=s&&T(e,["bidiGenerateContentSetup"],function(A,t){const e={},n=x(t,["model"]);null!=n&&T(e,["setup","model"],ge(A,n));const r=x(t,["config"]);null!=r&&T(e,["config"],function(A,t){const e={},n=x(A,["generationConfig"]);void 0!==t&&null!=n&&T(t,["setup","generationConfig"],n);const r=x(A,["responseModalities"]);void 0!==t&&null!=r&&T(t,["setup","generationConfig","responseModalities"],r);const i=x(A,["temperature"]);void 0!==t&&null!=i&&T(t,["setup","generationConfig","temperature"],i);const s=x(A,["topP"]);void 0!==t&&null!=s&&T(t,["setup","generationConfig","topP"],s);const o=x(A,["topK"]);void 0!==t&&null!=o&&T(t,["setup","generationConfig","topK"],o);const a=x(A,["maxOutputTokens"]);void 0!==t&&null!=a&&T(t,["setup","generationConfig","maxOutputTokens"],a);const l=x(A,["mediaResolution"]);void 0!==t&&null!=l&&T(t,["setup","generationConfig","mediaResolution"],l);const u=x(A,["seed"]);void 0!==t&&null!=u&&T(t,["setup","generationConfig","seed"],u);const c=x(A,["speechConfig"]);void 0!==t&&null!=c&&T(t,["setup","generationConfig","speechConfig"],Oe(c));const h=x(A,["thinkingConfig"]);void 0!==t&&null!=h&&T(t,["setup","generationConfig","thinkingConfig"],h);const f=x(A,["enableAffectiveDialog"]);void 0!==t&&null!=f&&T(t,["setup","generationConfig","enableAffectiveDialog"],f);const d=x(A,["systemInstruction"]);void 0!==t&&null!=d&&T(t,["setup","systemInstruction"],qr(Qe(d)));const p=x(A,["tools"]);if(void 0!==t&&null!=p){let A=Me(p);Array.isArray(A)&&(A=A.map(A=>function(A){const t={},e=x(A,["functionDeclarations"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["functionDeclarations"],A)}if(void 0!==x(A,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(A,["googleSearchRetrieval"]);null!=n&&T(t,["googleSearchRetrieval"],n);const r=x(A,["computerUse"]);null!=r&&T(t,["computerUse"],r);const i=x(A,["fileSearch"]);null!=i&&T(t,["fileSearch"],i);const s=x(A,["codeExecution"]);null!=s&&T(t,["codeExecution"],s);if(void 0!==x(A,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(A,["googleMaps"]);null!=o&&T(t,["googleMaps"],function(A){const t={};if(void 0!==x(A,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const e=x(A,["enableWidget"]);null!=e&&T(t,["enableWidget"],e);return t}(o));const a=x(A,["googleSearch"]);null!=a&&T(t,["googleSearch"],function(A){const t={};if(void 0!==x(A,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==x(A,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=x(A,["timeRangeFilter"]);null!=e&&T(t,["timeRangeFilter"],e);return t}(a));const l=x(A,["urlContext"]);null!=l&&T(t,["urlContext"],l);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(He(A)))),T(t,["setup","tools"],A)}const g=x(A,["sessionResumption"]);void 0!==t&&null!=g&&T(t,["setup","sessionResumption"],function(A){const t={},e=x(A,["handle"]);null!=e&&T(t,["handle"],e);if(void 0!==x(A,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const B=x(A,["inputAudioTranscription"]);void 0!==t&&null!=B&&T(t,["setup","inputAudioTranscription"],B);const m=x(A,["outputAudioTranscription"]);void 0!==t&&null!=m&&T(t,["setup","outputAudioTranscription"],m);const w=x(A,["realtimeInputConfig"]);void 0!==t&&null!=w&&T(t,["setup","realtimeInputConfig"],w);const _=x(A,["contextWindowCompression"]);void 0!==t&&null!=_&&T(t,["setup","contextWindowCompression"],_);const y=x(A,["proactivity"]);void 0!==t&&null!=y&&T(t,["setup","proactivity"],y);return e}(r,e));return e}(A,s));const o=x(t,["lockAdditionalFields"]);return void 0!==e&&null!=o&&T(e,["fieldMask"],o),{}}function Yr(A,t){let e=null;const n=A.bidiGenerateContentSetup;if("object"==typeof n&&null!==n&&"setup"in n){const t=n.setup;"object"==typeof t&&null!==t?(A.bidiGenerateContentSetup=t,e=t):delete A.bidiGenerateContentSetup}else void 0!==n&&delete A.bidiGenerateContentSetup;const r=A.fieldMask;if(e){const n=function(A){const t=[];for(const e in A)if(Object.prototype.hasOwnProperty.call(A,e)){const n=A[e];if("object"==typeof n&&null!=n&&Object.keys(n).length>0){const A=Object.keys(n).map(A=>`${e}.${A}`);t.push(...A)}else t.push(e)}return t.join(",")}(e);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))n?A.fieldMask=n:delete A.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==r&&Array.isArray(r)&&r.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let e=[];r.length>0&&(e=r.map(A=>t.includes(A)?`generationConfig.${A}`:A));const i=[];n&&i.push(n),e.length>0&&i.push(...e),i.length>0?A.fieldMask=i.join(","):delete A.fieldMask}else delete A.fieldMask}else null!==r&&Array.isArray(r)&&r.length>0?A.fieldMask=r.join(","):delete A.fieldMask;return A}class jr extends I{constructor(A){super(),this.apiClient=A}async create(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=function(A,t){const e={},n=x(t,["config"]);return null!=n&&T(e,["config"],Xr(A,n,e)),e}(this.apiClient,A);r=S("auth_tokens",s._url),i=s._query,delete s.config,delete s._url,delete s._query;const o=Yr(s,A.config);return n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>A)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jr(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["displayName"]);void 0!==t&&null!=e&&T(t,["displayName"],e)}(e,t),t}function Wr(A){const t={},e=x(A,["name"]);null!=e&&T(t,["_url","name"],e);const n=x(A,["config"]);return null!=n&&function(A,t){const e=x(A,["force"]);void 0!==t&&null!=e&&T(t,["_query","force"],e)}(n,t),t}function zr(A){const t={},e=x(A,["name"]);null!=e&&T(t,["name"],e);const n=x(A,["metadata"]);null!=n&&T(t,["metadata"],n);const r=x(A,["done"]);null!=r&&T(t,["done"],r);const i=x(A,["error"]);null!=i&&T(t,["error"],i);const s=x(A,["response"]);return null!=s&&T(t,["response"],function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["parent"]);null!=n&&T(t,["parent"],n);const r=x(A,["documentName"]);null!=r&&T(t,["documentName"],r);return t}(s)),t}function Zr(A){const t={},e=x(A,["fileSearchStoreName"]);null!=e&&T(t,["_url","file_search_store_name"],e);const n=x(A,["fileName"]);null!=n&&T(t,["fileName"],n);const r=x(A,["config"]);return null!=r&&function(A,t){const e=x(A,["customMetadata"]);if(void 0!==t&&null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["customMetadata"],A)}const n=x(A,["chunkingConfig"]);void 0!==t&&null!=n&&T(t,["chunkingConfig"],n)}(r,t),t}function $r(A){const t={},e=x(A,["config"]);return null!=e&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n)}(e,t),t}function Ai(A){const t={},e=x(A,["fileSearchStoreName"]);null!=e&&T(t,["_url","file_search_store_name"],e);const n=x(A,["config"]);return null!=n&&function(A,t){const e=x(A,["mimeType"]);void 0!==t&&null!=e&&T(t,["mimeType"],e);const n=x(A,["displayName"]);void 0!==t&&null!=n&&T(t,["displayName"],n);const r=x(A,["customMetadata"]);if(void 0!==t&&null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["customMetadata"],A)}const i=x(A,["chunkingConfig"]);void 0!==t&&null!=i&&T(t,["chunkingConfig"],i)}(n,t),t}function ti(A){const t={},e=x(A,["name"]);null!=e&&T(t,["_url","name"],e);const n=x(A,["config"]);return null!=n&&
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(A,t){const e=x(A,["force"]);void 0!==t&&null!=e&&T(t,["_query","force"],e)}(n,t),t}function ei(A){const t={},e=x(A,["parent"]);null!=e&&T(t,["_url","parent"],e);const n=x(A,["config"]);return null!=n&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ni extends I{constructor(A){super(),this.apiClient=A,this.list=async A=>new sn(kt.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:A.parent,config:t.config}),await this.listInternal(A),A)}async get(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","name"],e),t}(A);return r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>A)}}async delete(A){var t,e;let n="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=ti(A);n=S("{name}",i._url),r=i._query,delete i._url,delete i._query,await this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal})}}async listInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ei(A);return r=S("{parent}/documents",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["documents"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["documents"],A)}return t}(A),e=new ie;return Object.assign(e,t),e})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ri extends I{constructor(A,t=new ni(A)){super(),this.apiClient=A,this.documents=t,this.list=async(A={})=>new sn(kt.PAGED_ITEM_FILE_SEARCH_STORES,A=>this.listInternal(A),await this.listInternal(A),A)}async uploadToFileSearchStore(A){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(A.fileSearchStoreName,A.file,A.config)}async create(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jr(A);return r=S("fileSearchStores",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>A)}}async get(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","name"],e),t}(A);return r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>A)}}async delete(A){var t,e;let n="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=Wr(A);n=S("{name}",i._url),r=i._query,delete i._url,delete i._query,await this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal})}}async listInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$r(A);return r=S("fileSearchStores",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["fileSearchStores"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["fileSearchStores"],A)}return t}(A),e=new se;return Object.assign(e,t),e})}}async uploadToFileSearchStoreInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ai(A);return r=S("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);return null!=e&&T(t,["sdkHttpResponse"],e),t}(A),e=new oe;return Object.assign(e,t),e})}}async importFile(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zr(A);return r=S("{file_search_store_name}:importFile",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json()),n.then(A=>{const t=zr(A),e=new ae;return Object.assign(e,t),e})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ii(A,t){const e={},n=x(A,["baseModel"]);null!=n&&T(e,["baseModel"],n);const r=x(A,["preTunedModel"]);null!=r&&T(e,["preTunedModel"],r);const i=x(A,["trainingDataset"]);null!=i&&function(A){const t={};if(void 0!==x(A,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==x(A,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const e=x(A,["examples"]);if(null!=e){let A=e;Array.isArray(A)&&(A=A.map(A=>A)),T(t,["examples","examples"],A)}}(i);const s=x(A,["config"]);return null!=s&&function(A,t){const e={};if(void 0!==x(A,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const n=x(A,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&T(t,["displayName"],n),void 0!==x(A,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=x(A,["epochCount"]);void 0!==t&&null!=r&&T(t,["tuningTask","hyperparameters","epochCount"],r);const i=x(A,["learningRateMultiplier"]);if(null!=i&&T(e,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==x(A,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==x(A,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==x(A,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const s=x(A,["batchSize"]);void 0!==t&&null!=s&&T(t,["tuningTask","hyperparameters","batchSize"],s);const o=x(A,["learningRate"]);if(void 0!==t&&null!=o&&T(t,["tuningTask","hyperparameters","learningRate"],o),void 0!==x(A,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==x(A,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(s,e),e}function si(A,t){const e={},n=x(A,["baseModel"]);null!=n&&T(e,["baseModel"],n);const r=x(A,["preTunedModel"]);null!=r&&T(e,["preTunedModel"],r);const i=x(A,["trainingDataset"]);null!=i&&function(A,t,e){const n={};let r=x(e,["config","method"]);void 0===r&&(r="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===r){const e=x(A,["gcsUri"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec","trainingDatasetUri"],e)}else if("PREFERENCE_TUNING"===r){const e=x(A,["gcsUri"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec","trainingDatasetUri"],e)}let i=x(e,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const e=x(A,["vertexDatasetResource"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec","trainingDatasetUri"],e)}else if("PREFERENCE_TUNING"===i){const e=x(A,["vertexDatasetResource"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec","trainingDatasetUri"],e)}if(void 0!==x(A,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,e,t);const s=x(A,["config"]);return null!=s&&function(A,t,e){let n=x(e,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){const e=x(A,["validationDataset"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec"],ci(e))}else if("PREFERENCE_TUNING"===n){const e=x(A,["validationDataset"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec"],ci(e))}const r=x(A,["tunedModelDisplayName"]);void 0!==t&&null!=r&&T(t,["tunedModelDisplayName"],r);const i=x(A,["description"]);void 0!==t&&null!=i&&T(t,["description"],i);let s=x(e,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const e=x(A,["epochCount"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec","hyperParameters","epochCount"],e)}else if("PREFERENCE_TUNING"===s){const e=x(A,["epochCount"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],e)}let o=x(e,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const e=x(A,["learningRateMultiplier"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],e)}else if("PREFERENCE_TUNING"===o){const e=x(A,["learningRateMultiplier"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],e)}let a=x(e,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const e=x(A,["exportLastCheckpointOnly"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec","exportLastCheckpointOnly"],e)}else if("PREFERENCE_TUNING"===a){const e=x(A,["exportLastCheckpointOnly"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],e)}let l=x(e,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const e=x(A,["adapterSize"]);void 0!==t&&null!=e&&T(t,["supervisedTuningSpec","hyperParameters","adapterSize"],e)}else if("PREFERENCE_TUNING"===l){const e=x(A,["adapterSize"]);void 0!==t&&null!=e&&T(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],e)}if(void 0!==x(A,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==x(A,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const u=x(A,["labels"]);void 0!==t&&null!=u&&T(t,["labels"],u);const c=x(A,["beta"]);void 0!==t&&null!=c&&T(t,["preferenceOptimizationSpec","hyperParameters","beta"],c)}(s,e,t),e}function oi(A,t){const e={},n=x(A,["config"]);return null!=n&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n);const r=x(A,["filter"]);void 0!==t&&null!=r&&T(t,["_query","filter"],r)}(n,e),e}function ai(A,t){const e={},n=x(A,["config"]);return null!=n&&function(A,t){const e=x(A,["pageSize"]);void 0!==t&&null!=e&&T(t,["_query","pageSize"],e);const n=x(A,["pageToken"]);void 0!==t&&null!=n&&T(t,["_query","pageToken"],n);const r=x(A,["filter"]);void 0!==t&&null!=r&&T(t,["_query","filter"],r)}(n,e),e}function li(A,t){const e={},n=x(A,["sdkHttpResponse"]);null!=n&&T(e,["sdkHttpResponse"],n);const r=x(A,["name"]);null!=r&&T(e,["name"],r);const i=x(A,["state"]);null!=i&&T(e,["state"],Pe(i));const s=x(A,["createTime"]);null!=s&&T(e,["createTime"],s);const o=x(A,["tuningTask","startTime"]);null!=o&&T(e,["startTime"],o);const a=x(A,["tuningTask","completeTime"]);null!=a&&T(e,["endTime"],a);const l=x(A,["updateTime"]);null!=l&&T(e,["updateTime"],l);const u=x(A,["description"]);null!=u&&T(e,["description"],u);const c=x(A,["baseModel"]);null!=c&&T(e,["baseModel"],c);const h=x(A,["_self"]);return null!=h&&T(e,["tunedModel"],function(A){const t={},e=x(A,["name"]);null!=e&&T(t,["model"],e);const n=x(A,["name"]);return null!=n&&T(t,["endpoint"],n),t}(h)),e}function ui(A,t){const e={},n=x(A,["sdkHttpResponse"]);null!=n&&T(e,["sdkHttpResponse"],n);const r=x(A,["name"]);null!=r&&T(e,["name"],r);const i=x(A,["state"]);null!=i&&T(e,["state"],Pe(i));const s=x(A,["createTime"]);null!=s&&T(e,["createTime"],s);const o=x(A,["startTime"]);null!=o&&T(e,["startTime"],o);const a=x(A,["endTime"]);null!=a&&T(e,["endTime"],a);const l=x(A,["updateTime"]);null!=l&&T(e,["updateTime"],l);const u=x(A,["error"]);null!=u&&T(e,["error"],u);const c=x(A,["description"]);null!=c&&T(e,["description"],c);const h=x(A,["baseModel"]);null!=h&&T(e,["baseModel"],h);const f=x(A,["tunedModel"]);null!=f&&T(e,["tunedModel"],f);const d=x(A,["preTunedModel"]);null!=d&&T(e,["preTunedModel"],d);const p=x(A,["supervisedTuningSpec"]);null!=p&&T(e,["supervisedTuningSpec"],p);const g=x(A,["preferenceOptimizationSpec"]);null!=g&&T(e,["preferenceOptimizationSpec"],g);const B=x(A,["tuningDataStats"]);null!=B&&T(e,["tuningDataStats"],B);const m=x(A,["encryptionSpec"]);null!=m&&T(e,["encryptionSpec"],m);const w=x(A,["partnerModelTuningSpec"]);null!=w&&T(e,["partnerModelTuningSpec"],w);const _=x(A,["customBaseModel"]);null!=_&&T(e,["customBaseModel"],_);const y=x(A,["experiment"]);null!=y&&T(e,["experiment"],y);const v=x(A,["labels"]);null!=v&&T(e,["labels"],v);const C=x(A,["outputUri"]);null!=C&&T(e,["outputUri"],C);const b=x(A,["pipelineJob"]);null!=b&&T(e,["pipelineJob"],b);const E=x(A,["serviceAccount"]);null!=E&&T(e,["serviceAccount"],E);const U=x(A,["tunedModelDisplayName"]);null!=U&&T(e,["tunedModelDisplayName"],U);const Q=x(A,["veoTuningSpec"]);return null!=Q&&T(e,["veoTuningSpec"],Q),e}function ci(A,t){const e={},n=x(A,["gcsUri"]);null!=n&&T(e,["validationDatasetUri"],n);const r=x(A,["vertexDatasetResource"]);return null!=r&&T(e,["validationDatasetUri"],r),e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi extends I{constructor(A){super(),this.apiClient=A,this.get=async A=>await this.getInternal(A),this.list=async(A={})=>new sn(kt.PAGED_ITEM_TUNING_JOBS,A=>this.listInternal(A),await this.listInternal(A),A),this.tune=async A=>{var t;if(this.apiClient.isVertexAI()){if(A.baseModel.startsWith("projects/")){const e={tunedModelName:A.baseModel};(null===(t=A.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(e.checkpointId=A.config.preTunedModelCheckpointId);const n=Object.assign(Object.assign({},A),{preTunedModel:e});return n.baseModel=void 0,await this.tuneInternal(n)}{const t=Object.assign({},A);return await this.tuneInternal(t)}}{const t=Object.assign({},A),e=await this.tuneMldevInternal(t);let n="";void 0!==e.metadata&&void 0!==e.metadata.tunedModel?n=e.metadata.tunedModel:void 0!==e.name&&e.name.includes("/operations/")&&(n=e.name.split("/operations/")[0]);return{name:n,state:TA.JOB_STATE_QUEUED}}}}async getInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","name"],e),t}(A);return s=S("{name}",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>ui(A))}{const t=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","name"],e),t}(A);return s=S("{name}",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>li(A))}}async listInternal(A){var t,e,n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const n=ai(A);return s=S("tuningJobs",n._url),o=n._query,delete n._url,delete n._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["tuningJobs"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>ui(A))),T(t,["tuningJobs"],A)}return t}(A),e=new ee;return Object.assign(e,t),e})}{const t=oi(A);return s=S("tunedModels",t._url),o=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),i.then(A=>{const t=function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["nextPageToken"]);null!=n&&T(t,["nextPageToken"],n);const r=x(A,["tunedModels"]);if(null!=r){let A=r;Array.isArray(A)&&(A=A.map(A=>li(A))),T(t,["tuningJobs"],A)}return t}(A),e=new ee;return Object.assign(e,t),e})}}async cancel(A){var t,e,n,r;let i="",s={};if(this.apiClient.isVertexAI()){const n=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","name"],e),t}(A);i=S("{name}:cancel",n._url),s=n._query,delete n._url,delete n._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal})}else{const t=function(A){const t={},e=x(A,["name"]);return null!=e&&T(t,["_url","name"],e),t}(A);i=S("{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(n=A.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(r=A.config)||void 0===r?void 0:r.abortSignal})}}async tuneInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI()){const s=si(A,A);return r=S("tuningJobs",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>ui(A))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(A){var t,e;let n,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ii(A);return r=S("tunedModels",s._url),i=s._query,delete s._url,delete s._query,n=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=A.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(e=A.config)||void 0===e?void 0:e.abortSignal}).then(A=>A.json().then(t=>{const e=t;return e.sdkHttpResponse={headers:A.headers},e})),n.then(A=>function(A){const t={},e=x(A,["sdkHttpResponse"]);null!=e&&T(t,["sdkHttpResponse"],e);const n=x(A,["name"]);null!=n&&T(t,["name"],n);const r=x(A,["metadata"]);null!=r&&T(t,["metadata"],r);const i=x(A,["done"]);null!=i&&T(t,["done"],i);const s=x(A,["error"]);return null!=s&&T(t,["error"],s),t}(A))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi{async download(A,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const di="x-goog-upload-status";async function pi(A,t,e){var n,r;let i=0,s=0,o=new Kt(new Response),a="upload";for(i=A.size;s<i;){const l=Math.min(8388608,i-s),u=A.slice(s,s+l);s+l>=i&&(a+=", finalize");let c=0,h=1e3;for(;c<3&&(o=await e.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(s),"Content-Length":String(l)}}}),!(null===(n=null==o?void 0:o.headers)||void 0===n?void 0:n[di]));)c++,await gi(h),h*=2;if(s+=l,"active"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[di]))break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}function gi(A){return new Promise(t=>setTimeout(t,A))}class Bi{async upload(A,t,e){if("string"==typeof A)throw new Error("File path is not supported in browser uploader.");return await async function(A,t,e){var n;const r=await pi(A,t,e),i=await(null==r?void 0:r.json());if("final"!==(null===(n=null==r?void 0:r.headers)||void 0===n?void 0:n[di]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(A,t,e)}async uploadToFileSearchStore(A,t,e){if("string"==typeof A)throw new Error("File path is not supported in browser uploader.");return await async function(A,t,e){var n;const r=await pi(A,t,e),i=await(null==r?void 0:r.json());if("final"!==(null===(n=null==r?void 0:r.headers)||void 0===n?void 0:n[di]))throw new Error("Failed to upload file: Upload status is not finalized.");const s=N(i),o=new pe;return Object.assign(o,s),o}(A,t,e)}async stat(A){if("string"==typeof A)throw new Error("File path is not supported in browser uploader.");return await async function(A){return{size:A.size,type:A.type}}(A)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mi{create(A,t,e){return new wi(A,t,e)}}class wi{constructor(A,t,e){this.url=A,this.headers=t,this.callbacks=e}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(A){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(A)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _i="x-goog-api-key";class yi{constructor(A){this.apiKey=A}async addAuthHeaders(A,t){if(null===A.get(_i)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");A.append(_i,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vi{constructor(A){var t;if(null==A.apiKey)throw new Error("An API Key must be set when running in a browser");if(A.project||A.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=A.vertexai)&&void 0!==t&&t,this.apiKey=A.apiKey;const e=F(A.httpOptions,A.vertexai,void 0,void 0);e&&(A.httpOptions?A.httpOptions.baseUrl=e:A.httpOptions={baseUrl:e}),this.apiVersion=A.apiVersion;const n=new yi(this.apiKey);this.apiClient=new Qr({auth:n,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:A.httpOptions,userAgentExtra:"gl-node/web",uploader:new Bi,downloader:new fi}),this.models=new Kr(this.apiClient),this.live=new Rr(this.apiClient,n,new mi),this.batches=new on(this.apiClient),this.chats=new Cn(this.models,this.apiClient),this.caches=new pn(this.apiClient),this.files=new Qn(this.apiClient),this.operations=new Gr(this.apiClient),this.authTokens=new jr(this.apiClient),this.tunings=new hi(this.apiClient),this.fileSearchStores=new ri(this.apiClient)}}function Ci(A){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}var bi=Uint8Array,Ei=Uint16Array,Ui=Int32Array,Qi=new bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fi=new bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ii=new bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Si=function(A,t){for(var e=new Ei(31),n=0;n<31;++n)e[n]=t+=1<<A[n-1];var r=new Ui(e[30]);for(n=1;n<30;++n)for(var i=e[n];i<e[n+1];++i)r[i]=i-e[n]<<5|n;return{b:e,r:r}},Ti=Si(Qi,2),xi=Ti.b,Oi=Ti.r;xi[28]=258,Oi[258]=28;for(var Hi=Si(Fi,0).r,Mi=new Ei(32768),Ri=0;Ri<32768;++Ri){var Pi=(43690&Ri)>>1|(21845&Ri)<<1;Pi=(61680&(Pi=(52428&Pi)>>2|(13107&Pi)<<2))>>4|(3855&Pi)<<4,Mi[Ri]=((65280&Pi)>>8|(255&Pi)<<8)>>1}var Ni=function(A,t,e){for(var n=A.length,r=0,i=new Ei(t);r<n;++r)A[r]&&++i[A[r]-1];var s,o=new Ei(t);for(r=1;r<t;++r)o[r]=o[r-1]+i[r-1]<<1;if(e){s=new Ei(1<<t);var a=15-t;for(r=0;r<n;++r)if(A[r])for(var l=r<<4|A[r],u=t-A[r],c=o[A[r]-1]++<<u,h=c|(1<<u)-1;c<=h;++c)s[Mi[c]>>a]=l}else for(s=new Ei(n),r=0;r<n;++r)A[r]&&(s[r]=Mi[o[A[r]-1]++]>>15-A[r]);return s},Li=new bi(288);for(Ri=0;Ri<144;++Ri)Li[Ri]=8;for(Ri=144;Ri<256;++Ri)Li[Ri]=9;for(Ri=256;Ri<280;++Ri)Li[Ri]=7;for(Ri=280;Ri<288;++Ri)Li[Ri]=8;var Di=new bi(32);for(Ri=0;Ri<32;++Ri)Di[Ri]=5;var ki=Ni(Li,9,0),Vi=Ni(Di,5,0),Ki=function(A){return(A+7)/8|0},Gi=function(A,t,e){e<<=7&t;var n=t/8|0;A[n]|=e,A[n+1]|=e>>8},qi=function(A,t,e){e<<=7&t;var n=t/8|0;A[n]|=e,A[n+1]|=e>>8,A[n+2]|=e>>16},Xi=function(A,t){for(var e=[],n=0;n<A.length;++n)A[n]&&e.push({s:n,f:A[n]});var r=e.length,i=e.slice();if(!r)return{t:$i,l:0};if(1==r){var s=new bi(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(A,t){return A.f-t.f}),e.push({s:-1,f:25001});var o=e[0],a=e[1],l=0,u=1,c=2;for(e[0]={s:-1,f:o.f+a.f,l:o,r:a};u!=r-1;)o=e[e[l].f<e[c].f?l++:c++],a=e[l!=u&&e[l].f<e[c].f?l++:c++],e[u++]={s:-1,f:o.f+a.f,l:o,r:a};var h=i[0].s;for(n=1;n<r;++n)i[n].s>h&&(h=i[n].s);var f=new Ei(h+1),d=Yi(e[u-1],f,0);if(d>t){n=0;var p=0,g=d-t,B=1<<g;for(i.sort(function(A,t){return f[t.s]-f[A.s]||A.f-t.f});n<r;++n){var m=i[n].s;if(!(f[m]>t))break;p+=B-(1<<d-f[m]),f[m]=t}for(p>>=g;p>0;){var w=i[n].s;f[w]<t?p-=1<<t-f[w]++-1:++n}for(;n>=0&&p;--n){var _=i[n].s;f[_]==t&&(--f[_],++p)}d=t}return{t:new bi(f),l:d}},Yi=function(A,t,e){return-1==A.s?Math.max(Yi(A.l,t,e+1),Yi(A.r,t,e+1)):t[A.s]=e},ji=function(A){for(var t=A.length;t&&!A[--t];);for(var e=new Ei(++t),n=0,r=A[0],i=1,s=function(A){e[n++]=A},o=1;o<=t;++o)if(A[o]==r&&o!=t)++i;else{if(!r&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(r),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(r);i=1,r=A[o]}return{c:e.subarray(0,n),n:t}},Ji=function(A,t){for(var e=0,n=0;n<t.length;++n)e+=A[n]*t[n];return e},Wi=function(A,t,e){var n=e.length,r=Ki(t+2);A[r]=255&n,A[r+1]=n>>8,A[r+2]=255^A[r],A[r+3]=255^A[r+1];for(var i=0;i<n;++i)A[r+i+4]=e[i];return 8*(r+4+n)},zi=function(A,t,e,n,r,i,s,o,a,l,u){Gi(t,u++,e),++r[256];for(var c=Xi(r,15),h=c.t,f=c.l,d=Xi(i,15),p=d.t,g=d.l,B=ji(h),m=B.c,w=B.n,_=ji(p),y=_.c,v=_.n,C=new Ei(19),b=0;b<m.length;++b)++C[31&m[b]];for(b=0;b<y.length;++b)++C[31&y[b]];for(var E=Xi(C,7),U=E.t,Q=E.l,F=19;F>4&&!U[Ii[F-1]];--F);var I,S,T,x,O=l+5<<3,H=Ji(r,Li)+Ji(i,Di)+s,M=Ji(r,h)+Ji(i,p)+s+14+3*F+Ji(C,U)+2*C[16]+3*C[17]+7*C[18];if(a>=0&&O<=H&&O<=M)return Wi(t,u,A.subarray(a,a+l));if(Gi(t,u,1+(M<H)),u+=2,M<H){I=Ni(h,f,0),S=h,T=Ni(p,g,0),x=p;var R=Ni(U,Q,0);Gi(t,u,w-257),Gi(t,u+5,v-1),Gi(t,u+10,F-4),u+=14;for(b=0;b<F;++b)Gi(t,u+3*b,U[Ii[b]]);u+=3*F;for(var P=[m,y],N=0;N<2;++N){var L=P[N];for(b=0;b<L.length;++b){var D=31&L[b];Gi(t,u,R[D]),u+=U[D],D>15&&(Gi(t,u,L[b]>>5&127),u+=L[b]>>12)}}}else I=ki,S=Li,T=Vi,x=Di;for(b=0;b<o;++b){var k=n[b];if(k>255){qi(t,u,I[(D=k>>18&31)+257]),u+=S[D+257],D>7&&(Gi(t,u,k>>23&31),u+=Qi[D]);var V=31&k;qi(t,u,T[V]),u+=x[V],V>3&&(qi(t,u,k>>5&8191),u+=Fi[V])}else qi(t,u,I[k]),u+=S[k]}return qi(t,u,I[256]),u+S[256]},Zi=new Ui([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$i=new bi(0),As=function(A,t,e,n,r,i){var s=i.z||A.length,o=new bi(n+s+5*(1+Math.ceil(s/7e3))+r),a=o.subarray(n,o.length-r),l=i.l,u=7&(i.r||0);if(t){u&&(a[0]=i.r>>3);for(var c=Zi[t-1],h=c>>13,f=8191&c,d=(1<<e)-1,p=i.p||new Ei(32768),g=i.h||new Ei(d+1),B=Math.ceil(e/3),m=2*B,w=function(t){return(A[t]^A[t+1]<<B^A[t+2]<<m)&d},_=new Ui(25e3),y=new Ei(288),v=new Ei(32),C=0,b=0,E=i.i||0,U=0,Q=i.w||0,F=0;E+2<s;++E){var I=w(E),S=32767&E,T=g[I];if(p[S]=T,g[I]=S,Q<=E){var x=s-E;if((C>7e3||U>24576)&&(x>423||!l)){u=zi(A,a,0,_,y,v,b,U,F,E-F,u),U=C=b=0,F=E;for(var O=0;O<286;++O)y[O]=0;for(O=0;O<30;++O)v[O]=0}var H=2,M=0,R=f,P=S-T&32767;if(x>2&&I==w(E-P))for(var N=Math.min(h,x)-1,L=Math.min(32767,E),D=Math.min(258,x);P<=L&&--R&&S!=T;){if(A[E+H]==A[E+H-P]){for(var k=0;k<D&&A[E+k]==A[E+k-P];++k);if(k>H){if(H=k,M=P,k>N)break;var V=Math.min(P,k-2),K=0;for(O=0;O<V;++O){var G=E-P+O&32767,q=G-p[G]&32767;q>K&&(K=q,T=G)}}}P+=(S=T)-(T=p[S])&32767}if(M){_[U++]=268435456|Oi[H]<<18|Hi[M];var X=31&Oi[H],Y=31&Hi[M];b+=Qi[X]+Fi[Y],++y[257+X],++v[Y],Q=E+H,++C}else _[U++]=A[E],++y[A[E]]}}for(E=Math.max(E,Q);E<s;++E)_[U++]=A[E],++y[A[E]];u=zi(A,a,l,_,y,v,b,U,F,E-F,u),l||(i.r=7&u|a[u/8|0]<<3,u-=7,i.h=g,i.p=p,i.i=E,i.w=Q)}else{for(E=i.w||0;E<s+l;E+=65535){var j=E+65535;j>=s&&(a[u/8|0]=l,j=s),u=Wi(a,u+1,A.subarray(E,j))}i.i=s}return function(A,t,e){return(null==e||e>A.length)&&(e=A.length),new bi(A.subarray(t,e))}(o,0,n+Ki(u)+r)},ts=function(){var A=1,t=0;return{p:function(e){for(var n=A,r=t,i=0|e.length,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)r+=n+=e[s];n=(65535&n)+15*(n>>16),r=(65535&r)+15*(r>>16)}A=n,t=r},d:function(){return(255&(A%=65521))<<24|(65280&A)<<8|(255&(t%=65521))<<8|t>>8}}},es=function(A,t,e){for(;e;++t)A[t]=e,e>>>=8};function ns(A,t){t||(t={});var e=ts();e.p(A);var n=function(A,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new bi(i.length+A.length);s.set(i),s.set(A,i.length),A=s,r.w=i.length}return As(A,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(A.length)))):20:12+t.mem,e,n,r)}(A,t,t.dictionary?6:2,4);return function(A,t){var e=t.level,n=0==e?0:e<6?1:9==e?3:2;if(A[0]=120,A[1]=n<<6|(t.dictionary&&32),A[1]|=31-(A[0]<<8|A[1])%31,t.dictionary){var r=ts();r.p(t.dictionary),es(A,2,r.d())}}(n,t),es(n,n.length-4,e.d()),n}var rs="undefined"!=typeof TextDecoder&&new TextDecoder;try{rs.decode($i,{stream:!0})}catch(GI){}function is(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,n=Array(t);e<t;e++)n[e]=A[e];return n}function ss(A,t){return function(A){if(Array.isArray(A))return A}(A)||function(A,t){var e=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null!=e){var n,r,i,s,o=[],a=!0,l=!1;try{if(i=(e=e.call(A)).next,0===t);else for(;!(a=(n=i.call(e)).done)&&(o.push(n.value),o.length!==t);a=!0);}catch(u){l=!0,r=u}finally{try{if(!a&&null!=e.return&&(s=e.return(),Object(s)!==s))return}finally{if(l)throw r}}return o}}(A,t)||function(A,t){if(A){if("string"==typeof A)return is(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?is(A,t):void 0}}(A,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(A,t="utf8"){return new TextDecoder(t).decode(A)}const as=new TextEncoder;const ls=(()=>{const A=new Uint8Array(4);return!((new Uint32Array(A.buffer)[0]=1)&A[0])})(),us={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cs{constructor(A=8192,e={}){t(this,"buffer"),t(this,"byteLength"),t(this,"byteOffset"),t(this,"length"),t(this,"offset"),t(this,"lastWrittenByte"),t(this,"littleEndian"),t(this,"_data"),t(this,"_mark"),t(this,"_marks");let n=!1;"number"==typeof A?A=new ArrayBuffer(A):(n=!0,this.lastWrittenByte=A.byteLength);const r=e.offset?e.offset>>>0:0,i=A.byteLength-r;let s=r;(ArrayBuffer.isView(A)||A instanceof cs)&&(A.byteLength!==A.buffer.byteLength&&(s=A.byteOffset+r),A=A.buffer),this.lastWrittenByte=n?i:0,this.buffer=A,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(A=1){return this.offset+A<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(A=1){return this.offset+=A,this}back(A=1){return this.offset-=A,this}seek(A){return this.offset=A,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const A=this._marks.pop();if(void 0===A)throw new Error("Mark stack empty");return this.seek(A),this}rewind(){return this.offset=0,this}ensureAvailable(A=1){if(!this.available(A)){const t=2*(this.offset+A),e=new Uint8Array(t);e.set(new Uint8Array(this.buffer)),this.buffer=e.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(A=1){return this.readArray(A,"uint8")}readArray(A,t){const e=us[t].BYTES_PER_ELEMENT*A,n=this.byteOffset+this.offset,r=this.buffer.slice(n,n+e);if(this.littleEndian===ls&&"uint8"!==t&&"int8"!==t){const A=new Uint8Array(this.buffer.slice(n,n+e));A.reverse();const r=new us[t](A.buffer);return this.offset+=e,r.reverse(),r}const i=new us[t](r);return this.offset+=e,i}readInt16(){const A=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,A}readUint16(){const A=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,A}readInt32(){const A=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,A}readUint32(){const A=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,A}readFloat32(){const A=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,A}readFloat64(){const A=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,A}readBigInt64(){const A=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,A}readBigUint64(){const A=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,A}readChar(){return String.fromCharCode(this.readInt8())}readChars(A=1){let t="";for(let e=0;e<A;e++)t+=this.readChar();return t}readUtf8(A=1){return os(this.readBytes(A))}decodeText(A=1,t="utf8"){return os(this.readBytes(A),t)}writeBoolean(A){return this.writeUint8(A?255:0),this}writeInt8(A){return this.ensureAvailable(1),this._data.setInt8(this.offset++,A),this._updateLastWrittenByte(),this}writeUint8(A){return this.ensureAvailable(1),this._data.setUint8(this.offset++,A),this._updateLastWrittenByte(),this}writeByte(A){return this.writeUint8(A)}writeBytes(A){this.ensureAvailable(A.length);for(let t=0;t<A.length;t++)this._data.setUint8(this.offset++,A[t]);return this._updateLastWrittenByte(),this}writeInt16(A){return this.ensureAvailable(2),this._data.setInt16(this.offset,A,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(A){return this.ensureAvailable(2),this._data.setUint16(this.offset,A,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(A){return this.ensureAvailable(4),this._data.setInt32(this.offset,A,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(A){return this.ensureAvailable(4),this._data.setUint32(this.offset,A,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(A){return this.ensureAvailable(4),this._data.setFloat32(this.offset,A,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(A){return this.ensureAvailable(8),this._data.setFloat64(this.offset,A,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(A){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,A,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(A){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,A,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(A){return this.writeUint8(A.charCodeAt(0))}writeChars(A){for(let t=0;t<A.length;t++)this.writeUint8(A.charCodeAt(t));return this}writeUtf8(A){return this.writeBytes(function(A){return as.encode(A)}(A))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function hs(A){let t=A.length;for(;--t>=0;)A[t]=0}hs(new Array(576));hs(new Array(60));hs(new Array(512));hs(new Array(256));hs(new Array(29));hs(new Array(30));var fs=(A,t,e,n)=>{let r=65535&A,i=A>>>16&65535,s=0;for(;0!==e;){s=e>2e3?2e3:e,e-=s;do{r=r+t[n++]|0,i=i+r|0}while(--s);r%=65521,i%=65521}return r|i<<16};const ds=new Uint32Array((()=>{let A,t=[];for(var e=0;e<256;e++){A=e;for(var n=0;n<8;n++)A=1&A?3988292384^A>>>1:A>>>1;t[e]=A}return t})());var ps=(A,t,e,n)=>{const r=ds,i=n+e;A^=-1;for(let s=n;s<i;s++)A=A>>>8^r[255&(A^t[s])];return-1^A},gs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bs={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ms=(A,t)=>Object.prototype.hasOwnProperty.call(A,t);var ws=function(A){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const t in e)ms(e,t)&&(A[t]=e[t])}}return A},_s=A=>{let t=0;for(let n=0,r=A.length;n<r;n++)t+=A[n].length;const e=new Uint8Array(t);for(let n=0,r=0,i=A.length;n<i;n++){let t=A[n];e.set(t,r),r+=t.length}return e};let ys=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(qI){ys=!1}const vs=new Uint8Array(256);for(let EQ=0;EQ<256;EQ++)vs[EQ]=EQ>=252?6:EQ>=248?5:EQ>=240?4:EQ>=224?3:EQ>=192?2:1;vs[254]=vs[254]=1;var Cs=A=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);let t,e,n,r,i,s=A.length,o=0;for(r=0;r<s;r++)e=A.charCodeAt(r),55296==(64512&e)&&r+1<s&&(n=A.charCodeAt(r+1),56320==(64512&n)&&(e=65536+(e-55296<<10)+(n-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(o),i=0,r=0;i<o;r++)e=A.charCodeAt(r),55296==(64512&e)&&r+1<s&&(n=A.charCodeAt(r+1),56320==(64512&n)&&(e=65536+(e-55296<<10)+(n-56320),r++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|63&e):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|63&e):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|63&e);return t},bs=(A,t)=>{const e=t||A.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,t));let n,r;const i=new Array(2*e);for(r=0,n=0;n<e;){let t=A[n++];if(t<128){i[r++]=t;continue}let s=vs[t];if(s>4)i[r++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<e;)t=t<<6|63&A[n++],s--;s>1?i[r++]=65533:t<65536?i[r++]=t:(t-=65536,i[r++]=55296|t>>10&1023,i[r++]=56320|1023&t)}}return((A,t)=>{if(t<65534&&A.subarray&&ys)return String.fromCharCode.apply(null,A.length===t?A:A.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(A[n]);return e})(i,r)},Es=(A,t)=>{(t=t||A.length)>A.length&&(t=A.length);let e=t-1;for(;e>=0&&128==(192&A[e]);)e--;return e<0||0===e?t:e+vs[A[e]]>t?e:t};var Us=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Qs=16209;var Fs=function(A,t){let e,n,r,i,s,o,a,l,u,c,h,f,d,p,g,B,m,w,_,y,v,C,b,E;const U=A.state;e=A.next_in,b=A.input,n=e+(A.avail_in-5),r=A.next_out,E=A.output,i=r-(t-A.avail_out),s=r+(A.avail_out-257),o=U.dmax,a=U.wsize,l=U.whave,u=U.wnext,c=U.window,h=U.hold,f=U.bits,d=U.lencode,p=U.distcode,g=(1<<U.lenbits)-1,B=(1<<U.distbits)-1;A:do{f<15&&(h+=b[e++]<<f,f+=8,h+=b[e++]<<f,f+=8),m=d[h&g];t:for(;;){if(w=m>>>24,h>>>=w,f-=w,w=m>>>16&255,0===w)E[r++]=65535&m;else{if(!(16&w)){if(64&w){if(32&w){U.mode=16191;break A}A.msg="invalid literal/length code",U.mode=Qs;break A}m=d[(65535&m)+(h&(1<<w)-1)];continue t}for(_=65535&m,w&=15,w&&(f<w&&(h+=b[e++]<<f,f+=8),_+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=b[e++]<<f,f+=8,h+=b[e++]<<f,f+=8),m=p[h&B];;){if(w=m>>>24,h>>>=w,f-=w,w=m>>>16&255,16&w){if(y=65535&m,w&=15,f<w&&(h+=b[e++]<<f,f+=8,f<w&&(h+=b[e++]<<f,f+=8)),y+=h&(1<<w)-1,y>o){A.msg="invalid distance too far back",U.mode=Qs;break A}if(h>>>=w,f-=w,w=r-i,y>w){if(w=y-w,w>l&&U.sane){A.msg="invalid distance too far back",U.mode=Qs;break A}if(v=0,C=c,0===u){if(v+=a-w,w<_){_-=w;do{E[r++]=c[v++]}while(--w);v=r-y,C=E}}else if(u<w){if(v+=a+u-w,w-=u,w<_){_-=w;do{E[r++]=c[v++]}while(--w);if(v=0,u<_){w=u,_-=w;do{E[r++]=c[v++]}while(--w);v=r-y,C=E}}}else if(v+=u-w,w<_){_-=w;do{E[r++]=c[v++]}while(--w);v=r-y,C=E}for(;_>2;)E[r++]=C[v++],E[r++]=C[v++],E[r++]=C[v++],_-=3;_&&(E[r++]=C[v++],_>1&&(E[r++]=C[v++]))}else{v=r-y;do{E[r++]=E[v++],E[r++]=E[v++],E[r++]=E[v++],_-=3}while(_>2);_&&(E[r++]=E[v++],_>1&&(E[r++]=E[v++]))}break}if(64&w){A.msg="invalid distance code",U.mode=Qs;break A}m=p[(65535&m)+(h&(1<<w)-1)]}}break}}while(e<n&&r<s);_=f>>3,e-=_,f-=_<<3,h&=(1<<f)-1,A.next_in=e,A.next_out=r,A.avail_in=e<n?n-e+5:5-(e-n),A.avail_out=r<s?s-r+257:257-(r-s),U.hold=h,U.bits=f};const Is=15,Ss=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ts=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Os=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Hs=(A,t,e,n,r,i,s,o)=>{const a=o.bits;let l,u,c,h,f,d,p=0,g=0,B=0,m=0,w=0,_=0,y=0,v=0,C=0,b=0,E=null;const U=new Uint16Array(16),Q=new Uint16Array(16);let F,I,S,T=null;for(p=0;p<=Is;p++)U[p]=0;for(g=0;g<n;g++)U[t[e+g]]++;for(w=a,m=Is;m>=1&&0===U[m];m--);if(w>m&&(w=m),0===m)return r[i++]=20971520,r[i++]=20971520,o.bits=1,0;for(B=1;B<m&&0===U[B];B++);for(w<B&&(w=B),v=1,p=1;p<=Is;p++)if(v<<=1,v-=U[p],v<0)return-1;if(v>0&&(0===A||1!==m))return-1;for(Q[1]=0,p=1;p<Is;p++)Q[p+1]=Q[p]+U[p];for(g=0;g<n;g++)0!==t[e+g]&&(s[Q[t[e+g]]++]=g);if(0===A?(E=T=s,d=20):1===A?(E=Ss,T=Ts,d=257):(E=xs,T=Os,d=0),b=0,g=0,p=B,f=i,_=w,y=0,c=-1,C=1<<w,h=C-1,1===A&&C>852||2===A&&C>592)return 1;for(;;){F=p-y,s[g]+1<d?(I=0,S=s[g]):s[g]>=d?(I=T[s[g]-d],S=E[s[g]-d]):(I=96,S=0),l=1<<p-y,u=1<<_,B=u;do{u-=l,r[f+(b>>y)+u]=F<<24|I<<16|S}while(0!==u);for(l=1<<p-1;b&l;)l>>=1;if(0!==l?(b&=l-1,b+=l):b=0,g++,0===--U[p]){if(p===m)break;p=t[e+s[g]]}if(p>w&&(b&h)!==c){for(0===y&&(y=w),f+=B,_=p-y,v=1<<_;_+y<m&&(v-=U[_+y],!(v<=0));)_++,v<<=1;if(C+=1<<_,1===A&&C>852||2===A&&C>592)return 1;c=b&h,r[c]=w<<24|_<<16|f-i}}return 0!==b&&(r[f+b]=p-y<<24|64<<16),o.bits=w,0};const{Z_FINISH:Ms,Z_BLOCK:Rs,Z_TREES:Ps,Z_OK:Ns,Z_STREAM_END:Ls,Z_NEED_DICT:Ds,Z_STREAM_ERROR:ks,Z_DATA_ERROR:Vs,Z_MEM_ERROR:Ks,Z_BUF_ERROR:Gs,Z_DEFLATED:qs}=Bs,Xs=16180,Ys=16190,js=16191,Js=16192,Ws=16194,zs=16199,Zs=16200,$s=16206,Ao=16209,to=A=>(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24);function eo(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const no=A=>{if(!A)return 1;const t=A.state;return!t||t.strm!==A||t.mode<Xs||t.mode>16211?1:0},ro=A=>{if(no(A))return ks;const t=A.state;return A.total_in=A.total_out=t.total=0,A.msg="",t.wrap&&(A.adler=1&t.wrap),t.mode=Xs,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ns},io=A=>{if(no(A))return ks;const t=A.state;return t.wsize=0,t.whave=0,t.wnext=0,ro(A)},so=(A,t)=>{let e;if(no(A))return ks;const n=A.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?ks:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,io(A))},oo=(A,t)=>{if(!A)return ks;const e=new eo;A.state=e,e.strm=A,e.window=null,e.mode=Xs;const n=so(A,t);return n!==Ns&&(A.state=null),n};let ao,lo,uo=!0;const co=A=>{if(uo){ao=new Int32Array(512),lo=new Int32Array(32);let t=0;for(;t<144;)A.lens[t++]=8;for(;t<256;)A.lens[t++]=9;for(;t<280;)A.lens[t++]=7;for(;t<288;)A.lens[t++]=8;for(Hs(1,A.lens,0,288,ao,0,A.work,{bits:9}),t=0;t<32;)A.lens[t++]=5;Hs(2,A.lens,0,32,lo,0,A.work,{bits:5}),uo=!1}A.lencode=ao,A.lenbits=9,A.distcode=lo,A.distbits=5},ho=(A,t,e,n)=>{let r;const i=A.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(e-i.wsize,e),0),i.wnext=0,i.whave=i.wsize):(r=i.wsize-i.wnext,r>n&&(r=n),i.window.set(t.subarray(e-n,e-n+r),i.wnext),(n-=r)?(i.window.set(t.subarray(e-n,e),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=r,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=r))),0};var fo={inflateReset:io,inflateReset2:so,inflateResetKeep:ro,inflateInit:A=>oo(A,15),inflateInit2:oo,inflate:(A,t)=>{let e,n,r,i,s,o,a,l,u,c,h,f,d,p,g,B,m,w,_,y,v,C,b=0;const E=new Uint8Array(4);let U,Q;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(no(A)||!A.output||!A.input&&0!==A.avail_in)return ks;e=A.state,e.mode===js&&(e.mode=Js),s=A.next_out,r=A.output,a=A.avail_out,i=A.next_in,n=A.input,o=A.avail_in,l=e.hold,u=e.bits,c=o,h=a,C=Ns;A:for(;;)switch(e.mode){case Xs:if(0===e.wrap){e.mode=Js;break}for(;u<16;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(2&e.wrap&&35615===l){0===e.wbits&&(e.wbits=15),e.check=0,E[0]=255&l,E[1]=l>>>8&255,e.check=ps(e.check,E,2,0),l=0,u=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&l)<<8)+(l>>8))%31){A.msg="incorrect header check",e.mode=Ao;break}if((15&l)!==qs){A.msg="unknown compression method",e.mode=Ao;break}if(l>>>=4,u-=4,v=8+(15&l),0===e.wbits&&(e.wbits=v),v>15||v>e.wbits){A.msg="invalid window size",e.mode=Ao;break}e.dmax=1<<e.wbits,e.flags=0,A.adler=e.check=1,e.mode=512&l?16189:js,l=0,u=0;break;case 16181:for(;u<16;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(e.flags=l,(255&e.flags)!==qs){A.msg="unknown compression method",e.mode=Ao;break}if(57344&e.flags){A.msg="unknown header flags set",e.mode=Ao;break}e.head&&(e.head.text=l>>8&1),512&e.flags&&4&e.wrap&&(E[0]=255&l,E[1]=l>>>8&255,e.check=ps(e.check,E,2,0)),l=0,u=0,e.mode=16182;case 16182:for(;u<32;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}e.head&&(e.head.time=l),512&e.flags&&4&e.wrap&&(E[0]=255&l,E[1]=l>>>8&255,E[2]=l>>>16&255,E[3]=l>>>24&255,e.check=ps(e.check,E,4,0)),l=0,u=0,e.mode=16183;case 16183:for(;u<16;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}e.head&&(e.head.xflags=255&l,e.head.os=l>>8),512&e.flags&&4&e.wrap&&(E[0]=255&l,E[1]=l>>>8&255,e.check=ps(e.check,E,2,0)),l=0,u=0,e.mode=16184;case 16184:if(1024&e.flags){for(;u<16;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}e.length=l,e.head&&(e.head.extra_len=l),512&e.flags&&4&e.wrap&&(E[0]=255&l,E[1]=l>>>8&255,e.check=ps(e.check,E,2,0)),l=0,u=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(f=e.length,f>o&&(f=o),f&&(e.head&&(v=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(i,i+f),v)),512&e.flags&&4&e.wrap&&(e.check=ps(e.check,n,f,i)),o-=f,i+=f,e.length-=f),e.length))break A;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(0===o)break A;f=0;do{v=n[i+f++],e.head&&v&&e.length<65536&&(e.head.name+=String.fromCharCode(v))}while(v&&f<o);if(512&e.flags&&4&e.wrap&&(e.check=ps(e.check,n,f,i)),o-=f,i+=f,v)break A}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(0===o)break A;f=0;do{v=n[i+f++],e.head&&v&&e.length<65536&&(e.head.comment+=String.fromCharCode(v))}while(v&&f<o);if(512&e.flags&&4&e.wrap&&(e.check=ps(e.check,n,f,i)),o-=f,i+=f,v)break A}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;u<16;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(4&e.wrap&&l!==(65535&e.check)){A.msg="header crc mismatch",e.mode=Ao;break}l=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),A.adler=e.check=0,e.mode=js;break;case 16189:for(;u<32;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}A.adler=e.check=to(l),l=0,u=0,e.mode=Ys;case Ys:if(0===e.havedict)return A.next_out=s,A.avail_out=a,A.next_in=i,A.avail_in=o,e.hold=l,e.bits=u,Ds;A.adler=e.check=1,e.mode=js;case js:if(t===Rs||t===Ps)break A;case Js:if(e.last){l>>>=7&u,u-=7&u,e.mode=$s;break}for(;u<3;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}switch(e.last=1&l,l>>>=1,u-=1,3&l){case 0:e.mode=16193;break;case 1:if(co(e),e.mode=zs,t===Ps){l>>>=2,u-=2;break A}break;case 2:e.mode=16196;break;case 3:A.msg="invalid block type",e.mode=Ao}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){A.msg="invalid stored block lengths",e.mode=Ao;break}if(e.length=65535&l,l=0,u=0,e.mode=Ws,t===Ps)break A;case Ws:e.mode=16195;case 16195:if(f=e.length,f){if(f>o&&(f=o),f>a&&(f=a),0===f)break A;r.set(n.subarray(i,i+f),s),o-=f,i+=f,a-=f,s+=f,e.length-=f;break}e.mode=js;break;case 16196:for(;u<14;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(e.nlen=257+(31&l),l>>>=5,u-=5,e.ndist=1+(31&l),l>>>=5,u-=5,e.ncode=4+(15&l),l>>>=4,u-=4,e.nlen>286||e.ndist>30){A.msg="too many length or distance symbols",e.mode=Ao;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;u<3;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}e.lens[F[e.have++]]=7&l,l>>>=3,u-=3}for(;e.have<19;)e.lens[F[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U={bits:e.lenbits},C=Hs(0,e.lens,0,19,e.lencode,0,e.work,U),e.lenbits=U.bits,C){A.msg="invalid code lengths set",e.mode=Ao;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;b=e.lencode[l&(1<<e.lenbits)-1],g=b>>>24,B=b>>>16&255,m=65535&b,!(g<=u);){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(m<16)l>>>=g,u-=g,e.lens[e.have++]=m;else{if(16===m){for(Q=g+2;u<Q;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(l>>>=g,u-=g,0===e.have){A.msg="invalid bit length repeat",e.mode=Ao;break}v=e.lens[e.have-1],f=3+(3&l),l>>>=2,u-=2}else if(17===m){for(Q=g+3;u<Q;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}l>>>=g,u-=g,v=0,f=3+(7&l),l>>>=3,u-=3}else{for(Q=g+7;u<Q;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}l>>>=g,u-=g,v=0,f=11+(127&l),l>>>=7,u-=7}if(e.have+f>e.nlen+e.ndist){A.msg="invalid bit length repeat",e.mode=Ao;break}for(;f--;)e.lens[e.have++]=v}}if(e.mode===Ao)break;if(0===e.lens[256]){A.msg="invalid code -- missing end-of-block",e.mode=Ao;break}if(e.lenbits=9,U={bits:e.lenbits},C=Hs(1,e.lens,0,e.nlen,e.lencode,0,e.work,U),e.lenbits=U.bits,C){A.msg="invalid literal/lengths set",e.mode=Ao;break}if(e.distbits=6,e.distcode=e.distdyn,U={bits:e.distbits},C=Hs(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,U),e.distbits=U.bits,C){A.msg="invalid distances set",e.mode=Ao;break}if(e.mode=zs,t===Ps)break A;case zs:e.mode=Zs;case Zs:if(o>=6&&a>=258){A.next_out=s,A.avail_out=a,A.next_in=i,A.avail_in=o,e.hold=l,e.bits=u,Fs(A,h),s=A.next_out,r=A.output,a=A.avail_out,i=A.next_in,n=A.input,o=A.avail_in,l=e.hold,u=e.bits,e.mode===js&&(e.back=-1);break}for(e.back=0;b=e.lencode[l&(1<<e.lenbits)-1],g=b>>>24,B=b>>>16&255,m=65535&b,!(g<=u);){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(B&&!(240&B)){for(w=g,_=B,y=m;b=e.lencode[y+((l&(1<<w+_)-1)>>w)],g=b>>>24,B=b>>>16&255,m=65535&b,!(w+g<=u);){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}l>>>=w,u-=w,e.back+=w}if(l>>>=g,u-=g,e.back+=g,e.length=m,0===B){e.mode=16205;break}if(32&B){e.back=-1,e.mode=js;break}if(64&B){A.msg="invalid literal/length code",e.mode=Ao;break}e.extra=15&B,e.mode=16201;case 16201:if(e.extra){for(Q=e.extra;u<Q;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;b=e.distcode[l&(1<<e.distbits)-1],g=b>>>24,B=b>>>16&255,m=65535&b,!(g<=u);){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(!(240&B)){for(w=g,_=B,y=m;b=e.distcode[y+((l&(1<<w+_)-1)>>w)],g=b>>>24,B=b>>>16&255,m=65535&b,!(w+g<=u);){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}l>>>=w,u-=w,e.back+=w}if(l>>>=g,u-=g,e.back+=g,64&B){A.msg="invalid distance code",e.mode=Ao;break}e.offset=m,e.extra=15&B,e.mode=16203;case 16203:if(e.extra){for(Q=e.extra;u<Q;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){A.msg="invalid distance too far back",e.mode=Ao;break}e.mode=16204;case 16204:if(0===a)break A;if(f=h-a,e.offset>f){if(f=e.offset-f,f>e.whave&&e.sane){A.msg="invalid distance too far back",e.mode=Ao;break}f>e.wnext?(f-=e.wnext,d=e.wsize-f):d=e.wnext-f,f>e.length&&(f=e.length),p=e.window}else p=r,d=s-e.offset,f=e.length;f>a&&(f=a),a-=f,e.length-=f;do{r[s++]=p[d++]}while(--f);0===e.length&&(e.mode=Zs);break;case 16205:if(0===a)break A;r[s++]=e.length,a--,e.mode=Zs;break;case $s:if(e.wrap){for(;u<32;){if(0===o)break A;o--,l|=n[i++]<<u,u+=8}if(h-=a,A.total_out+=h,e.total+=h,4&e.wrap&&h&&(A.adler=e.check=e.flags?ps(e.check,r,h,s-h):fs(e.check,r,h,s-h)),h=a,4&e.wrap&&(e.flags?l:to(l))!==e.check){A.msg="incorrect data check",e.mode=Ao;break}l=0,u=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;u<32;){if(0===o)break A;o--,l+=n[i++]<<u,u+=8}if(4&e.wrap&&l!==(4294967295&e.total)){A.msg="incorrect length check",e.mode=Ao;break}l=0,u=0}e.mode=16208;case 16208:C=Ls;break A;case Ao:C=Vs;break A;case 16210:return Ks;default:return ks}return A.next_out=s,A.avail_out=a,A.next_in=i,A.avail_in=o,e.hold=l,e.bits=u,(e.wsize||h!==A.avail_out&&e.mode<Ao&&(e.mode<$s||t!==Ms))&&ho(A,A.output,A.next_out,h-A.avail_out),c-=A.avail_in,h-=A.avail_out,A.total_in+=c,A.total_out+=h,e.total+=h,4&e.wrap&&h&&(A.adler=e.check=e.flags?ps(e.check,r,h,A.next_out-h):fs(e.check,r,h,A.next_out-h)),A.data_type=e.bits+(e.last?64:0)+(e.mode===js?128:0)+(e.mode===zs||e.mode===Ws?256:0),(0===c&&0===h||t===Ms)&&C===Ns&&(C=Gs),C},inflateEnd:A=>{if(no(A))return ks;let t=A.state;return t.window&&(t.window=null),A.state=null,Ns},inflateGetHeader:(A,t)=>{if(no(A))return ks;const e=A.state;return 2&e.wrap?(e.head=t,t.done=!1,Ns):ks},inflateSetDictionary:(A,t)=>{const e=t.length;let n,r,i;return no(A)?ks:(n=A.state,0!==n.wrap&&n.mode!==Ys?ks:n.mode===Ys&&(r=1,r=fs(r,t,e,0),r!==n.check)?Vs:(i=ho(A,t,e,e),i?(n.mode=16210,Ks):(n.havedict=1,Ns)))},inflateInfo:"pako inflate (from Nodeca project)"};var po=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const go=Object.prototype.toString,{Z_NO_FLUSH:Bo,Z_FINISH:mo,Z_OK:wo,Z_STREAM_END:_o,Z_NEED_DICT:yo,Z_STREAM_ERROR:vo,Z_DATA_ERROR:Co,Z_MEM_ERROR:bo}=Bs;function Eo(A){this.options=ws({chunkSize:65536,windowBits:15,to:""},A||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||A&&A.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Us,this.strm.avail_out=0;let e=fo.inflateInit2(this.strm,t.windowBits);if(e!==wo)throw new Error(gs[e]);if(this.header=new po,fo.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Cs(t.dictionary):"[object ArrayBuffer]"===go.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=fo.inflateSetDictionary(this.strm,t.dictionary),e!==wo)))throw new Error(gs[e])}Eo.prototype.push=function(A,t){const e=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?mo:Bo,"[object ArrayBuffer]"===go.call(A)?e.input=new Uint8Array(A):e.input=A,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),i=fo.inflate(e,s),i===yo&&r&&(i=fo.inflateSetDictionary(e,r),i===wo?i=fo.inflate(e,s):i===Co&&(i=yo));e.avail_in>0&&i===_o&&e.state.wrap>0&&0!==A[e.next_in];)fo.inflateReset(e),i=fo.inflate(e,s);switch(i){case vo:case Co:case yo:case bo:return this.onEnd(i),this.ended=!0,!1}if(o=e.avail_out,e.next_out&&(0===e.avail_out||i===_o))if("string"===this.options.to){let A=Es(e.output,e.next_out),t=e.next_out-A,r=bs(e.output,A);e.next_out=t,e.avail_out=n-t,t&&e.output.set(e.output.subarray(A,A+t),0),this.onData(r)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(i!==wo||0!==o){if(i===_o)return i=fo.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},Eo.prototype.onData=function(A){this.chunks.push(A)},Eo.prototype.onEnd=function(A){A===wo&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_s(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var Uo={Inflate:Eo,inflate:function(A,t){const e=new Eo(t);if(e.push(A),e.err)throw e.msg||gs[e.err];return e.result}};const{Inflate:Qo,inflate:Fo}=Uo;var Io=Qo,So=Fo;const To=[];for(let EQ=0;EQ<256;EQ++){let A=EQ;for(let t=0;t<8;t++)1&A?A=3988292384^A>>>1:A>>>=1;To[EQ]=A}const xo=4294967295;function Oo(A,t){return(function(A,t,e){let n=A;for(let r=0;r<e;r++)n=To[255&(n^t[r])]^n>>>8;return n}(xo,A,t)^xo)>>>0}function Ho(A,t,e){const n=A.readUint32(),r=Oo(new Uint8Array(A.buffer,A.byteOffset+A.offset-t-4,t),t);if(r!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${r}`)}function Mo(A,t,e){for(let n=0;n<e;n++)t[n]=A[n]}function Ro(A,t,e,n){let r=0;for(;r<n;r++)t[r]=A[r];for(;r<e;r++)t[r]=A[r]+t[r-n]&255}function Po(A,t,e,n){let r=0;if(0===e.length)for(;r<n;r++)t[r]=A[r];else for(;r<n;r++)t[r]=A[r]+e[r]&255}function No(A,t,e,n,r){let i=0;if(0===e.length){for(;i<r;i++)t[i]=A[i];for(;i<n;i++)t[i]=A[i]+(t[i-r]>>1)&255}else{for(;i<r;i++)t[i]=A[i]+(e[i]>>1)&255;for(;i<n;i++)t[i]=A[i]+(t[i-r]+e[i]>>1)&255}}function Lo(A,t,e,n,r){let i=0;if(0===e.length){for(;i<r;i++)t[i]=A[i];for(;i<n;i++)t[i]=A[i]+t[i-r]&255}else{for(;i<r;i++)t[i]=A[i]+e[i]&255;for(;i<n;i++)t[i]=A[i]+Do(t[i-r],e[i],e[i-r])&255}}function Do(A,t,e){const n=A+t-e,r=Math.abs(n-A),i=Math.abs(n-t),s=Math.abs(n-e);return r<=i&&r<=s?A:i<=s?t:e}function ko(A,t,e,n,r,i){switch(A){case 0:Mo(t,e,r);break;case 1:Ro(t,e,r,i);break;case 2:Po(t,e,n,r);break;case 3:No(t,e,n,r,i);break;case 4:Lo(t,e,n,r,i);break;default:throw new Error(`Unsupported filter: ${A}`)}}const Vo=new Uint16Array([255]),Ko=255===new Uint8Array(Vo.buffer)[0];function Go(A){return(255&A)<<8|A>>8&255}const qo=new Uint16Array([255]),Xo=255===new Uint8Array(qo.buffer)[0],Yo=new Uint8Array(0);function jo(A){const{data:t,width:e,height:n,channels:r,depth:i}=A,s=Math.ceil(i/8)*r,o=Math.ceil(i/8*r*e),a=new Uint8Array(n*o);let l,u,c=Yo,h=0;for(let f=0;f<n;f++){switch(l=t.subarray(h+1,h+1+o),u=a.subarray(f*o,(f+1)*o),t[h]){case 0:Mo(l,u,o);break;case 1:Ro(l,u,o,s);break;case 2:Po(l,u,c,o);break;case 3:No(l,u,c,o,s);break;case 4:Lo(l,u,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}c=u,h+=o+1}if(16===i){const A=new Uint16Array(a.buffer);if(Xo)for(let t=0;t<A.length;t++)A[t]=Jo(A[t]);return A}return a}function Jo(A){return(255&A)<<8|A>>8&255}const Wo=Uint8Array.of(137,80,78,71,13,10,26,10);function zo(A){if(!function(A){if(A.length<Wo.length)return!1;for(let t=0;t<Wo.length;t++)if(A[t]!==Wo[t])return!1;return!0}(A.readBytes(Wo.length)))throw new Error("wrong PNG signature")}const Zo=new TextDecoder("latin1");function $o(A){if(function(A){if(!Aa.test(A))throw new Error("invalid latin1 text")}(A),0===A.length||A.length>79)throw new Error("keyword length must be between 1 and 79")}const Aa=/^[\u0000-\u00FF]*$/;function ta(A,t,e){const n=ea(t);A[n]=function(A,t){return Zo.decode(A.readBytes(t))}(t,e-n.length-1)}function ea(A){for(A.mark();0!==A.readByte(););const t=A.offset;A.reset();const e=Zo.decode(A.readBytes(t-A.offset-1));return A.skip(1),$o(e),e}const na=-1,ra=0,ia=2,sa=3,oa=4,aa=6,la=-1,ua=0,ca=-1,ha=0,fa=-1,da=0,pa=1,ga=0,Ba=1,ma=2,wa=0,_a=1;class ya extends cs{constructor(A,e={}){super(A),t(this,"_checkCrc"),t(this,"_inflator"),t(this,"_png"),t(this,"_apng"),t(this,"_end"),t(this,"_hasPalette"),t(this,"_palette"),t(this,"_hasTransparency"),t(this,"_transparency"),t(this,"_compressionMethod"),t(this,"_filterMethod"),t(this,"_interlaceMethod"),t(this,"_colorType"),t(this,"_isAnimated"),t(this,"_numberOfFrames"),t(this,"_numberOfPlays"),t(this,"_frames"),t(this,"_writingDataChunks");const{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new Io,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=la,this._filterMethod=ca,this._interlaceMethod=fa,this._colorType=na,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zo(this);!this._end;){const A=this.readUint32(),t=this.readChars(4);this.decodeChunk(A,t)}return this.decodeImage(),this._png}decodeApng(){for(zo(this);!this._end;){const A=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(A,t)}return this.decodeApngImage(),this._apng}decodeChunk(A,t){const e=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(A);break;case"IDAT":this.decodeIDAT(A);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(A);break;case"iCCP":this.decodeiCCP(A);break;case"tEXt":ta(this._png.text,this,A);break;case"pHYs":this.decodepHYs();break;default:this.skip(A)}if(this.offset-e!==A)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Ho(this,A+4,t):this.skip(4)}decodeApngChunk(A,t){const e=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(A);break;default:this.decodeChunk(A,t),this.offset=e+A}if(this.offset-e!==A)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Ho(this,A+4,t):this.skip(4)}decodeIHDR(){const A=this._png;A.width=this.readUint32(),A.height=this.readUint32(),A.depth=function(A){if(1!==A&&2!==A&&4!==A&&8!==A&&16!==A)throw new Error(`invalid bit depth: ${A}`);return A}(this.readUint8());const t=this.readUint8();let e;switch(this._colorType=t,t){case ra:e=1;break;case ia:e=3;break;case sa:e=1;break;case oa:e=2;break;case aa:e=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=e,this._compressionMethod=this.readUint8(),this._compressionMethod!==ua)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const A={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(A)}decodePLTE(A){if(A%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${A}`);const t=A/3;this._hasPalette=!0;const e=[];this._palette=e;for(let n=0;n<t;n++)e.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(A){this._writingDataChunks=!0;const t=A,e=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,e,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(A)}decodeFDAT(A){this._writingDataChunks=!0;let t=A,e=this.offset+this.byteOffset;if(e+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,e,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(A)}decodetRNS(A){switch(this._colorType){case ra:case ia:if(A%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${A}`);if(A/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${A/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(A/2);for(let t=0;t<A/2;t++)this._transparency[t]=this.readUint16();break;case sa:{if(A>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${A} vs ${this._palette.length})`);let t=0;for(;t<A;t++){const A=this.readByte();this._palette[t].push(A)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(A){const t=ea(this),e=this.readUint8();if(e!==ua)throw new Error(`Unsupported iCCP compression method: ${e}`);const n=this.readBytes(A-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:So(n)}}decodepHYs(){const A=this.readUint32(),t=this.readUint32(),e=this.readByte();this._png.resolution={x:A,y:t,unit:e}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let A=0;A<this._numberOfFrames;A++){const t={sequenceNumber:this._frames[A].sequenceNumber,delayNumber:this._frames[A].delayNumber,delayDenominator:this._frames[A].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},e=this._frames.at(A);if(e){if(e.data=jo({data:e.data,width:e.width,height:e.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===A||0===e.xOffset&&0===e.yOffset&&e.width===this._png.width&&e.height===this._png.height)t.data=e.data;else{const n=this._apng.frames.at(A-1);this.disposeFrame(e,n,t),this.addFrameDataToCanvas(t,e)}this._apng.frames.push(t)}}return this._apng}disposeFrame(A,t,e){switch(A.disposeOp){case ga:break;case Ba:for(let t=0;t<this._png.height;t++)for(let n=0;n<this._png.width;n++){const r=(t*A.width+n)*this._png.channels;for(let A=0;A<this._png.channels;A++)e.data[r+A]=0}break;case ma:e.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(A,t){const e=1<<this._png.depth,n=(A,e)=>({index:((A+t.yOffset)*this._png.width+t.xOffset+e)*this._png.channels,frameIndex:(A*t.width+e)*this._png.channels});switch(t.blendOp){case wa:for(let e=0;e<t.height;e++)for(let r=0;r<t.width;r++){const{index:i,frameIndex:s}=n(e,r);for(let e=0;e<this._png.channels;e++)A.data[i+e]=t.data[s+e]}break;case _a:for(let r=0;r<t.height;r++)for(let i=0;i<t.width;i++){const{index:s,frameIndex:o}=n(r,i);for(let n=0;n<this._png.channels;n++){const r=t.data[o+this._png.channels-1]/e,i=n%(this._png.channels-1)==0?1:t.data[o+n],a=Math.floor(r*i+(1-r)*A.data[s+n]);A.data[s+n]+=a}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var A;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(null==(A=this._frames)?void 0:A.at(0)).data:this._inflator.result;if(this._filterMethod!==ha)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===da)this._png.data=jo({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==pa)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(A){const{data:t,width:e,height:n,channels:r,depth:i}=A,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*r,a=new Uint8Array(n*e*o);let l=0;for(let u=0;u<7;u++){const A=s[u],r=Math.ceil((e-A.x)/A.xStep),i=Math.ceil((n-A.y)/A.yStep);if(r<=0||i<=0)continue;const c=r*o,h=new Uint8Array(c);for(let s=0;s<i;s++){const i=t[l++],u=t.subarray(l,l+c);l+=c;const f=new Uint8Array(c);ko(i,u,f,h,c,o),h.set(f);for(let t=0;t<r;t++){const r=A.x+t*A.xStep,i=A.y+s*A.yStep;if(!(r>=e||i>=n))for(let A=0;A<o;A++)a[(i*e+r)*o+A]=f[t*o+A]}}}if(16===i){const A=new Uint16Array(a.buffer);if(Ko)for(let t=0;t<A.length;t++)A[t]=Go(A[t]);return A}return a}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const A=this._inflator.result,t=this._frames.at(-1);t?t.data=A:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ga,blendOp:wa,data:A}),this._inflator=new Io,this._writingDataChunks=!1}}var va,Ca;function ba(A,t){return new ya(A,t).decode()}(Ca=va||(va={}))[Ca.UNKNOWN=0]="UNKNOWN",Ca[Ca.METRE=1]="METRE";var Ea,Ua,Qa,Fa,Ia,Sa,Ta,xa,Oa,Ha,Ma,Ra,Pa,Na,La,Da,ka,Va,Ka,Ga,qa,Xa,Ya,ja,Ja,Wa,za,Za,$a,Al,tl,el,nl,rl,il,sl,ol,al,ll,ul,cl,hl,fl,dl,pl,gl,Bl,ml,wl,_l,yl,vl,Cl,bl,El,Ul,Ql,Fl,Il,Sl,Tl,xl,Ol,Hl,Ml,Rl,Pl,Nl,Ll,Dl={};function kl(){if(Ua)return Ea;function A(A){return new Int16Array(A)}function t(A){return new Int32Array(A)}function e(A){return new Float32Array(A)}Ua=1;var n={fill:function(A,t,e,n){if(2==arguments.length)for(var r=0;r<A.length;r++)A[r]=arguments[1];else for(r=t;r<e;r++)A[r]=n}},r={arraycopy:function(A,t,e,n,r){for(var i=t+r;t<i;)e[n++]=A[t++]},out:{}};r.out.println=function(A){},r.out.printf=function(){};var i={};function s(A){this.ordinal=A}i.SQRT2=1.4142135623730951,i.FAST_LOG10=function(A){return Math.log10(A)},i.FAST_LOG10_X=function(A,t){return Math.log10(A)*t},s.short_block_allowed=new s(0),s.short_block_coupled=new s(1),s.short_block_dispensed=new s(2),s.short_block_forced=new s(3);var o={};function a(A){this.ordinal=A}o.MAX_VALUE=34028235e31,a.vbr_off=new a(0),a.vbr_mt=new a(1),a.vbr_rh=new a(2),a.vbr_abr=new a(3),a.vbr_mtrh=new a(4),a.vbr_default=a.vbr_mtrh;return Ea={System:r,VbrMode:a,Float:o,ShortBlock:s,Util:i,Arrays:n,new_array_n:function A(t){if(1==t.length)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(A(t));return n},new_byte:function(A){return new Int8Array(A)},new_double:function(A){return new Float64Array(A)},new_float:e,new_float_n:function A(t){if(1==t.length)return e(t[0]);var n=t[0];t=t.slice(1);for(var r=[],i=0;i<n;i++)r.push(A(t));return r},new_int:t,new_int_n:function A(e){if(1==e.length)return t(e[0]);var n=e[0];e=e.slice(1);for(var r=[],i=0;i<n;i++)r.push(A(e));return r},new_short:A,new_short_n:function t(e){if(1==e.length)return A(e[0]);var n=e[0];e=e.slice(1);for(var r=[],i=0;i<n;i++)r.push(t(e));return r},assert:function(A){}},Ea}function Vl(){if(Sa)return Ia;Sa=1;var A=Kl(),t=kl(),e=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var n=t.new_float,r=t.new_float_n;return t.new_int,t.new_int_n,t.assert,Ia=function(){this.l=n(A.SBMAX_l),this.s=r([A.SBMAX_s,3]);var t=this;this.assign=function(n){e.arraycopy(n.l,0,t.l,0,A.SBMAX_l);for(var r=0;r<A.SBMAX_s;r++)for(var i=0;i<3;i++)t.s[r][i]=n.s[r][i]}}}function Kl(){if(Ha)return Oa;Ha=1;var A=kl(),t=A.System,e=A.VbrMode;A.Float,A.ShortBlock,A.Util,A.Arrays;var n=A.new_array_n;A.new_byte,A.new_double;var r=A.new_float,i=A.new_float_n,s=A.new_int;A.new_int_n;var o=A.assert;function a(){var A=function(){if(Fa)return Qa;Fa=1;var A=kl(),t=A.System;A.VbrMode,A.Float,A.ShortBlock;var e=A.Util,n=A.Arrays;A.new_array_n,A.new_byte,A.new_double;var r=A.new_float;A.new_float_n,A.new_int,A.new_int_n,A.assert;var i=Kl();return Qa=function(){var A=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*e.SQRT2*.5/2384e-9,.017876148*e.SQRT2*.5/2384e-9,.003134727*e.SQRT2*.5/2384e-9,.002457142*e.SQRT2*.5/2384e-9,971317e-9*e.SQRT2*.5/2384e-9,218868e-9*e.SQRT2*.5/2384e-9,101566e-9*e.SQRT2*.5/2384e-9,13828e-9*e.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],s=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=s[i.SHORT_TYPE],a=s[i.SHORT_TYPE],l=s[i.SHORT_TYPE],u=s[i.SHORT_TYPE],c=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function h(t,n,r){for(var i,s,o,a=10,l=n+238-14-286,u=-15;u<0;u++){var c,h,f;c=A[a+-10],h=t[l+-224]*c,f=t[n+224]*c,c=A[a+-9],h+=t[l+-160]*c,f+=t[n+160]*c,c=A[a+-8],h+=t[l+-96]*c,f+=t[n+96]*c,c=A[a+-7],h+=t[l+-32]*c,f+=t[n+32]*c,c=A[a+-6],h+=t[l+32]*c,f+=t[n+-32]*c,c=A[a+-5],h+=t[l+96]*c,f+=t[n+-96]*c,c=A[a+-4],h+=t[l+160]*c,f+=t[n+-160]*c,c=A[a+-3],h+=t[l+224]*c,f+=t[n+-224]*c,c=A[a+-2],h+=t[n+-256]*c,f-=t[l+256]*c,c=A[a+-1],h+=t[n+-192]*c,f-=t[l+192]*c,c=A[a+0],h+=t[n+-128]*c,f-=t[l+128]*c,c=A[a+1],h+=t[n+-64]*c,f-=t[l+64]*c,c=A[a+2],h+=t[n+0]*c,f-=t[l+0]*c,c=A[a+3],h+=t[n+64]*c,f-=t[l+-64]*c,c=A[a+4],h+=t[n+128]*c,f-=t[l+-128]*c,c=A[a+5],h+=t[n+192]*c,c=(f-=t[l+-192]*c)-(h*=A[a+6]),r[30+2*u]=f+h,r[31+2*u]=A[a+7]*c,a+=18,n--,l++}f=t[n+-16]*A[a+-10],h=t[n+-32]*A[a+-2],f+=(t[n+-48]-t[n+16])*A[a+-9],h+=t[n+-96]*A[a+-1],f+=(t[n+-80]+t[n+48])*A[a+-8],h+=t[n+-160]*A[a+0],f+=(t[n+-112]-t[n+80])*A[a+-7],h+=t[n+-224]*A[a+1],f+=(t[n+-144]+t[n+112])*A[a+-6],h-=t[n+32]*A[a+2],f+=(t[n+-176]-t[n+144])*A[a+-5],h-=t[n+96]*A[a+3],f+=(t[n+-208]+t[n+176])*A[a+-4],h-=t[n+160]*A[a+4],f+=(t[n+-240]-t[n+208])*A[a+-3],i=(h-=t[n+224])-f,s=h+f,f=r[14],h=r[15]-f,r[31]=s+f,r[30]=i+h,r[15]=i-h,r[14]=s-f,o=r[28]-r[0],r[0]+=r[28],r[28]=o*A[a+-36+7],o=r[29]-r[1],r[1]+=r[29],r[29]=o*A[a+-36+7],o=r[26]-r[2],r[2]+=r[26],r[26]=o*A[a+-72+7],o=r[27]-r[3],r[3]+=r[27],r[27]=o*A[a+-72+7],o=r[24]-r[4],r[4]+=r[24],r[24]=o*A[a+-108+7],o=r[25]-r[5],r[5]+=r[25],r[25]=o*A[a+-108+7],o=r[22]-r[6],r[6]+=r[22],r[22]=o*e.SQRT2,o=r[23]-r[7],r[7]+=r[23],r[23]=o*e.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],o=r[6],r[6]=r[31]-o,r[31]=r[31]+o,o=r[7],r[7]=r[30]-o,r[30]=r[30]+o,o=r[22],r[22]=r[15]-o,r[15]=r[15]+o,o=r[23],r[23]=r[14]-o,r[14]=r[14]+o,o=r[20]-r[8],r[8]+=r[20],r[20]=o*A[a+-180+7],o=r[21]-r[9],r[9]+=r[21],r[21]=o*A[a+-180+7],o=r[18]-r[10],r[10]+=r[18],r[18]=o*A[a+-216+7],o=r[19]-r[11],r[11]+=r[19],r[19]=o*A[a+-216+7],o=r[16]-r[12],r[12]+=r[16],r[16]=o*A[a+-252+7],o=r[17]-r[13],r[13]+=r[17],r[17]=o*A[a+-252+7],o=-r[20]+r[24],r[20]+=r[24],r[24]=o*A[a+-216+7],o=-r[21]+r[25],r[21]+=r[25],r[25]=o*A[a+-216+7],o=r[4]-r[8],r[4]+=r[8],r[8]=o*A[a+-216+7],o=r[5]-r[9],r[5]+=r[9],r[9]=o*A[a+-216+7],o=r[0]-r[12],r[0]+=r[12],r[12]=o*A[a+-72+7],o=r[1]-r[13],r[1]+=r[13],r[13]=o*A[a+-72+7],o=r[16]-r[28],r[16]+=r[28],r[28]=o*A[a+-72+7],o=-r[17]+r[29],r[17]+=r[29],r[29]=o*A[a+-72+7],o=e.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=o,o=e.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=o,o=e.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=o-r[18],o=e.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=o-r[19],o=r[2],r[19]-=r[3],r[3]-=o,r[2]=r[31]-o,r[31]+=o,o=r[3],r[11]-=r[19],r[18]-=o,r[3]=r[30]-o,r[30]+=o,o=r[18],r[27]-=r[11],r[19]-=o,r[18]=r[15]-o,r[15]+=o,o=r[19],r[10]-=o,r[19]=r[14]-o,r[14]+=o,o=r[10],r[11]-=o,r[10]=r[23]-o,r[23]+=o,o=r[11],r[26]-=o,r[11]=r[22]-o,r[22]+=o,o=r[26],r[27]-=o,r[26]=r[7]-o,r[7]+=o,o=r[27],r[27]=r[6]-o,r[6]+=o,o=e.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=o,o=e.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=o,o=e.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=o,o=e.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=o,o=-e.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=o-r[8],o=-e.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=o-r[9],o=-e.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=o-r[25],o=-e.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=o-r[24],o=r[24]-r[16],r[24]=o,o=r[20]-o,r[20]=o,o=r[28]-o,r[28]=o,o=r[25]-r[17],r[25]=o,o=r[21]-o,r[21]=o,o=r[29]-o,r[29]=o,o=r[17]-r[1],r[17]=o,o=r[9]-o,r[9]=o,o=r[25]-o,r[25]=o,o=r[5]-o,r[5]=o,o=r[21]-o,r[21]=o,o=r[13]-o,r[13]=o,o=r[29]-o,r[29]=o,o=r[1]-r[0],r[1]=o,o=r[16]-o,r[16]=o,o=r[17]-o,r[17]=o,o=r[8]-o,r[8]=o,o=r[9]-o,r[9]=o,o=r[24]-o,r[24]=o,o=r[25]-o,r[25]=o,o=r[4]-o,r[4]=o,o=r[5]-o,r[5]=o,o=r[20]-o,r[20]=o,o=r[21]-o,r[21]=o,o=r[12]-o,r[12]=o,o=r[13]-o,r[13]=o,o=r[28]-o,r[28]=o,o=r[29]-o,r[29]=o,o=r[0],r[0]+=r[31],r[31]-=o,o=r[1],r[1]+=r[30],r[30]-=o,o=r[16],r[16]+=r[15],r[15]-=o,o=r[17],r[17]+=r[14],r[14]-=o,o=r[8],r[8]+=r[23],r[23]-=o,o=r[9],r[9]+=r[22],r[22]-=o,o=r[24],r[24]+=r[7],r[7]-=o,o=r[25],r[25]+=r[6],r[6]-=o,o=r[4],r[4]+=r[27],r[27]-=o,o=r[5],r[5]+=r[26],r[26]-=o,o=r[20],r[20]+=r[11],r[11]-=o,o=r[21],r[21]+=r[10],r[10]-=o,o=r[12],r[12]+=r[19],r[19]-=o,o=r[13],r[13]+=r[18],r[18]-=o,o=r[28],r[28]+=r[3],r[3]-=o,o=r[29],r[29]+=r[2],r[2]-=o}function f(A,t){for(var e=0;e<3;e++){var n,r,o,a,l,u;r=(a=A[t+6]*s[i.SHORT_TYPE][0]-A[t+15])+(n=A[t+0]*s[i.SHORT_TYPE][2]-A[t+9]),o=a-n,l=(a=A[t+15]*s[i.SHORT_TYPE][0]+A[t+6])+(n=A[t+9]*s[i.SHORT_TYPE][2]+A[t+0]),u=-a+n,n=2069978111953089e-26*(A[t+3]*s[i.SHORT_TYPE][1]-A[t+12]),a=2069978111953089e-26*(A[t+12]*s[i.SHORT_TYPE][1]+A[t+3]),A[t+0]=190752519173728e-25*r+n,A[t+15]=190752519173728e-25*-l+a,o=.8660254037844387*o*1907525191737281e-26,l=.5*l*1907525191737281e-26+a,A[t+3]=o-l,A[t+6]=o+l,r=.5*r*1907525191737281e-26-n,u=.8660254037844387*u*1907525191737281e-26,A[t+9]=r+u,A[t+12]=r-u,t++}}function d(A,t,e){var n,r,i,s,o,l,u,c,h,f,d,p,g,B,m,w,_,y;i=e[17]-e[9],o=e[15]-e[11],l=e[14]-e[12],u=e[0]+e[8],c=e[1]+e[7],h=e[2]+e[6],f=e[3]+e[5],A[t+17]=u+h-f-(c-e[4]),r=(u+h-f)*a[19]+(c-e[4]),n=(i-o-l)*a[18],A[t+5]=n+r,A[t+6]=n-r,s=(e[16]-e[10])*a[18],c=c*a[19]+e[4],n=i*a[12]+s+o*a[13]+l*a[14],r=-u*a[16]+c-h*a[17]+f*a[15],A[t+1]=n+r,A[t+2]=n-r,n=i*a[13]-s-o*a[14]+l*a[12],r=-u*a[17]+c-h*a[15]+f*a[16],A[t+9]=n+r,A[t+10]=n-r,n=i*a[14]-s+o*a[12]-l*a[13],r=u*a[15]-c+h*a[16]-f*a[17],A[t+13]=n+r,A[t+14]=n-r,d=e[8]-e[0],g=e[6]-e[2],B=e[5]-e[3],m=e[17]+e[9],w=e[16]+e[10],_=e[15]+e[11],y=e[14]+e[12],A[t+0]=m+_+y+(w+e[13]),n=(m+_+y)*a[19]-(w+e[13]),r=(d-g+B)*a[18],A[t+11]=n+r,A[t+12]=n-r,p=(e[7]-e[1])*a[18],w=e[13]-w*a[19],n=m*a[15]-w+_*a[16]+y*a[17],r=d*a[14]+p+g*a[12]+B*a[13],A[t+3]=n+r,A[t+4]=n-r,n=-m*a[17]+w-_*a[15]-y*a[16],r=d*a[13]+p-g*a[14]-B*a[12],A[t+7]=n+r,A[t+8]=n-r,n=-m*a[16]+w-_*a[17]-y*a[15],r=d*a[12]-p+g*a[13]-B*a[14],A[t+15]=n+r,A[t+16]=n-r}this.mdct_sub48=function(A,e,a){for(var p=e,g=286,B=0;B<A.channels_out;B++){for(var m=0;m<A.mode_gr;m++){for(var w,_=A.l3_side.tt[m][B],y=_.xr,v=0,C=A.sb_sample[B][1-m],b=0,E=0;E<9;E++)for(h(p,g,C[b]),h(p,g+32,C[b+1]),b+=2,g+=64,w=1;w<32;w+=2)C[b-1][w]*=-1;for(w=0;w<32;w++,v+=18){var U=_.block_type,Q=A.sb_sample[B][m],F=A.sb_sample[B][1-m];if(0!=_.mixed_block_flag&&w<2&&(U=0),A.amp_filter[w]<1e-12)n.fill(y,v+0,v+18,0);else{if(A.amp_filter[w]<1)for(E=0;E<18;E++)F[E][c[w]]*=A.amp_filter[w];if(U==i.SHORT_TYPE){for(E=-3;E<0;E++){var I=s[i.SHORT_TYPE][E+3];y[v+3*E+9]=Q[9+E][c[w]]*I-Q[8-E][c[w]],y[v+3*E+18]=Q[14-E][c[w]]*I+Q[15+E][c[w]],y[v+3*E+10]=Q[15+E][c[w]]*I-Q[14-E][c[w]],y[v+3*E+19]=F[2-E][c[w]]*I+F[3+E][c[w]],y[v+3*E+11]=F[3+E][c[w]]*I-F[2-E][c[w]],y[v+3*E+20]=F[8-E][c[w]]*I+F[9+E][c[w]]}f(y,v)}else{var S=r(18);for(E=-9;E<0;E++){var T,x;T=s[U][E+27]*F[E+9][c[w]]+s[U][E+36]*F[8-E][c[w]],x=s[U][E+9]*Q[E+9][c[w]]-s[U][E+18]*Q[8-E][c[w]],S[E+9]=T-x*o[3+E+9],S[E+18]=T*o[3+E+9]+x}d(y,v,S)}}if(U!=i.SHORT_TYPE&&0!=w)for(E=7;E>=0;--E){var O,H;O=y[v+E]*l[20+E]+y[v+-1-E]*u[28+E],H=y[v+E]*u[28+E]-y[v+-1-E]*l[20+E],y[v+-1-E]=O,y[v+E]=H}}}if(p=a,g=286,1==A.mode_gr)for(var M=0;M<18;M++)t.arraycopy(A.sb_sample[B][1][M],0,A.sb_sample[B][0][M],0,32)}}}}(),l=function(){if(xa)return Ta;xa=1;var A=Vl();return Ta=function(){this.thm=new A,this.en=new A}}(),u=a.FFTOFFSET,c=a.MPG_MD_MS_LR,h=null;this.psy=null;var f=null,d=null,p=null;this.setModules=function(A,t,e,n){h=A,this.psy=t,f=t,d=n,p=e};var g=new A;this.lame_encode_mp3_frame=function(A,B,m,w,_,y){var v,C=n([2,2]);C[0][0]=new l,C[0][1]=new l,C[1][0]=new l,C[1][1]=new l;var b,E=n([2,2]);E[0][0]=new l,E[0][1]=new l,E[1][0]=new l,E[1][1]=new l;var U,Q,F,I=[null,null],S=A.internal_flags,T=i([2,4]),x=[.5,.5],O=[[0,0],[0,0]],H=[[0,0],[0,0]];if(I[0]=B,I[1]=m,0==S.lame_encode_frame_init&&function(A,t){var e,n,i=A.internal_flags;if(0==i.lame_encode_frame_init){var s,l,u=r(2014),c=r(2014);for(i.lame_encode_frame_init=1,s=0,l=0;s<286+576*(1+i.mode_gr);++s)s<576*i.mode_gr?(u[s]=0,2==i.channels_out&&(c[s]=0)):(u[s]=t[0][l],2==i.channels_out&&(c[s]=t[1][l]),++l);for(n=0;n<i.mode_gr;n++)for(e=0;e<i.channels_out;e++)i.l3_side.tt[n][e].block_type=a.SHORT_TYPE;g.mdct_sub48(i,u,c),o(576>=a.FFTOFFSET),o(i.mf_size>=a.BLKSIZE+A.framesize-a.FFTOFFSET),o(i.mf_size>=512+A.framesize-32)}}(A,I),S.padding=0,(S.slot_lag-=S.frac_SpF)<0&&(S.slot_lag+=A.out_samplerate,S.padding=1),0!=S.psymodel){var M=[null,null],R=0,P=s(2);for(F=0;F<S.mode_gr;F++){for(Q=0;Q<S.channels_out;Q++)M[Q]=I[Q],R=576+576*F-a.FFTOFFSET;if(0!=(A.VBR==e.vbr_mtrh||A.VBR==e.vbr_mt?f.L3psycho_anal_vbr(A,M,R,F,C,E,O[F],H[F],T[F],P):f.L3psycho_anal_ns(A,M,R,F,C,E,O[F],H[F],T[F],P)))return-4;for(A.mode==MPEGMode.JOINT_STEREO&&(x[F]=T[F][2]+T[F][3],x[F]>0&&(x[F]=T[F][3]/x[F])),Q=0;Q<S.channels_out;Q++){var N=S.l3_side.tt[F][Q];N.block_type=P[Q],N.mixed_block_flag=0}}}else for(F=0;F<S.mode_gr;F++)for(Q=0;Q<S.channels_out;Q++)S.l3_side.tt[F][Q].block_type=a.NORM_TYPE,S.l3_side.tt[F][Q].mixed_block_flag=0,H[F][Q]=O[F][Q]=700;if(function(A){var t,e;if(0!=A.ATH.useAdjust)if(e=A.loudness_sq[0][0],t=A.loudness_sq[1][0],2==A.channels_out?(e+=A.loudness_sq[0][1],t+=A.loudness_sq[1][1]):(e+=e,t+=t),2==A.mode_gr&&(e=Math.max(e,t)),e*=.5,(e*=A.ATH.aaSensitivityP)>.03125)A.ATH.adjust>=1?A.ATH.adjust=1:A.ATH.adjust<A.ATH.adjustLimit&&(A.ATH.adjust=A.ATH.adjustLimit),A.ATH.adjustLimit=1;else{var n=31.98*e+625e-6;A.ATH.adjust>=n?(A.ATH.adjust*=.075*n+.925,A.ATH.adjust<n&&(A.ATH.adjust=n)):A.ATH.adjustLimit>=n?A.ATH.adjust=n:A.ATH.adjust<A.ATH.adjustLimit&&(A.ATH.adjust=A.ATH.adjustLimit),A.ATH.adjustLimit=n}else A.ATH.adjust=1}(S),g.mdct_sub48(S,I[0],I[1]),S.mode_ext=a.MPG_MD_LR_LR,A.force_ms)S.mode_ext=a.MPG_MD_MS_LR;else if(A.mode==MPEGMode.JOINT_STEREO){var L=0,D=0;for(F=0;F<S.mode_gr;F++)for(Q=0;Q<S.channels_out;Q++)L+=H[F][Q],D+=O[F][Q];if(L<=1*D){var k=S.l3_side.tt[0],V=S.l3_side.tt[S.mode_gr-1];k[0].block_type==k[1].block_type&&V[0].block_type==V[1].block_type&&(S.mode_ext=a.MPG_MD_MS_LR)}}if(S.mode_ext==c?(b=E,U=H):(b=C,U=O),A.analysis&&null!=S.pinfo)for(F=0;F<S.mode_gr;F++)for(Q=0;Q<S.channels_out;Q++)S.pinfo.ms_ratio[F]=S.ms_ratio[F],S.pinfo.ms_ener_ratio[F]=x[F],S.pinfo.blocktype[F][Q]=S.l3_side.tt[F][Q].block_type,S.pinfo.pe[F][Q]=U[F][Q],t.arraycopy(S.l3_side.tt[F][Q].xr,0,S.pinfo.xr[F][Q],0,576),S.mode_ext==c&&(S.pinfo.ers[F][Q]=S.pinfo.ers[F][Q+2],t.arraycopy(S.pinfo.energy[F][Q+2],0,S.pinfo.energy[F][Q],0,S.pinfo.energy[F][Q].length));if(A.VBR==e.vbr_off||A.VBR==e.vbr_abr){var K,G;for(K=0;K<18;K++)S.nsPsy.pefirbuf[K]=S.nsPsy.pefirbuf[K+1];for(G=0,F=0;F<S.mode_gr;F++)for(Q=0;Q<S.channels_out;Q++)G+=U[F][Q];for(S.nsPsy.pefirbuf[18]=G,G=S.nsPsy.pefirbuf[9],K=0;K<9;K++)G+=(S.nsPsy.pefirbuf[K]+S.nsPsy.pefirbuf[18-K])*a.fircoef[K];for(G=3350*S.mode_gr*S.channels_out/G,F=0;F<S.mode_gr;F++)for(Q=0;Q<S.channels_out;Q++)U[F][Q]*=G}if(S.iteration_loop.iteration_loop(A,U,x,b),h.format_bitstream(A),v=h.copy_buffer(S,w,_,y,1),A.bWriteVbrTag&&d.addVbrFrame(A),A.analysis&&null!=S.pinfo){for(Q=0;Q<S.channels_out;Q++){var q;for(q=0;q<u;q++)S.pinfo.pcmdata[Q][q]=S.pinfo.pcmdata[Q][q+A.framesize];for(q=u;q<1600;q++)S.pinfo.pcmdata[Q][q]=I[Q][q-u]}p.set_frame_pinfo(A,b)}return function(A){var t,e;for(o(0<=A.bitrate_index&&A.bitrate_index<16),o(0<=A.mode_ext&&A.mode_ext<4),A.bitrate_stereoMode_Hist[A.bitrate_index][4]++,A.bitrate_stereoMode_Hist[15][4]++,2==A.channels_out&&(A.bitrate_stereoMode_Hist[A.bitrate_index][A.mode_ext]++,A.bitrate_stereoMode_Hist[15][A.mode_ext]++),t=0;t<A.mode_gr;++t)for(e=0;e<A.channels_out;++e){var n=0|A.l3_side.tt[t][e].block_type;0!=A.l3_side.tt[t][e].mixed_block_flag&&(n=4),A.bitrate_blockType_Hist[A.bitrate_index][n]++,A.bitrate_blockType_Hist[A.bitrate_index][5]++,A.bitrate_blockType_Hist[15][n]++,A.bitrate_blockType_Hist[15][5]++}}(S),v}}return a.ENCDELAY=576,a.POSTDELAY=1152,a.MDCTDELAY=48,a.FFTOFFSET=224+a.MDCTDELAY,a.DECDELAY=528,a.SBLIMIT=32,a.CBANDS=64,a.SBPSY_l=21,a.SBPSY_s=12,a.SBMAX_l=22,a.SBMAX_s=13,a.PSFB21=6,a.PSFB12=6,a.BLKSIZE=1024,a.HBLKSIZE=a.BLKSIZE/2+1,a.BLKSIZE_s=256,a.HBLKSIZE_s=a.BLKSIZE_s/2+1,a.NORM_TYPE=0,a.START_TYPE=1,a.SHORT_TYPE=2,a.STOP_TYPE=3,a.MPG_MD_LR_LR=0,a.MPG_MD_LR_I=1,a.MPG_MD_MS_LR=2,a.MPG_MD_MS_I=3,a.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],Oa=a}function Gl(){if(Na)return Pa;Na=1;var A=kl();A.System;var t=A.VbrMode,e=A.Float,n=A.ShortBlock,r=A.Util,i=A.Arrays;A.new_array_n,A.new_byte,A.new_double;var s=A.new_float,o=A.new_float_n,a=A.new_int;A.new_int_n;var l=A.assert,u=function(){if(Ra)return Ma;Ra=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock;var t=A.Util;A.Arrays,A.new_array_n,A.new_byte,A.new_double;var e=A.new_float;A.new_float_n,A.new_int,A.new_int_n,A.assert;var n=Kl();return Ma=function(){var A=e(n.BLKSIZE),r=e(n.BLKSIZE_s/2),i=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function s(A,e,n){var r,s,o,a=0,l=e+(n<<=1);r=4;do{var u,c,h,f,d,p,g;g=r>>1,p=(d=r<<1)+(f=r),r=d<<1,o=(s=e)+g;do{C=A[s+0]-A[s+f],v=A[s+0]+A[s+f],Q=A[s+d]-A[s+p],E=A[s+d]+A[s+p],A[s+d]=v-E,A[s+0]=v+E,A[s+p]=C-Q,A[s+f]=C+Q,C=A[o+0]-A[o+f],v=A[o+0]+A[o+f],Q=t.SQRT2*A[o+p],E=t.SQRT2*A[o+d],A[o+d]=v-E,A[o+0]=v+E,A[o+p]=C-Q,A[o+f]=C+Q,o+=r,s+=r}while(s<l);for(c=i[a+0],u=i[a+1],h=1;h<g;h++){var B,m;B=1-2*u*u,m=2*u*c,s=e+h,o=e+f-h;do{var w,_,y,v,C,b,E,U,Q,F;_=m*A[s+f]-B*A[o+f],w=B*A[s+f]+m*A[o+f],C=A[s+0]-w,v=A[s+0]+w,b=A[o+0]-_,y=A[o+0]+_,_=m*A[s+p]-B*A[o+p],w=B*A[s+p]+m*A[o+p],Q=A[s+d]-w,E=A[s+d]+w,F=A[o+d]-_,U=A[o+d]+_,_=u*E-c*F,w=c*E+u*F,A[s+d]=v-w,A[s+0]=v+w,A[o+p]=b-_,A[o+f]=b+_,_=c*U-u*Q,w=u*U+c*Q,A[o+d]=y-w,A[o+0]=y+w,A[s+p]=C-_,A[s+f]=C+_,o+=r,s+=r}while(s<l);c=(B=c)*i[a+0]-u*i[a+1],u=B*i[a+1]+u*i[a+0]}a+=2}while(r<n)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(A,t,e,i,a){for(var l=0;l<3;l++){var u=n.BLKSIZE_s/2,c=65535&192*(l+1),h=n.BLKSIZE_s/8-1;do{var f,d,p,g,B,m=255&o[h<<2];d=(f=r[m]*i[e][a+m+c])-(B=r[127-m]*i[e][a+m+c+128]),f+=B,g=(p=r[m+64]*i[e][a+m+c+64])-(B=r[63-m]*i[e][a+m+c+192]),p+=B,u-=4,t[l][u+0]=f+p,t[l][u+2]=f-p,t[l][u+1]=d+g,t[l][u+3]=d-g,d=(f=r[m+1]*i[e][a+m+c+1])-(B=r[126-m]*i[e][a+m+c+129]),f+=B,g=(p=r[m+65]*i[e][a+m+c+65])-(B=r[62-m]*i[e][a+m+c+193]),p+=B,t[l][u+n.BLKSIZE_s/2+0]=f+p,t[l][u+n.BLKSIZE_s/2+2]=f-p,t[l][u+n.BLKSIZE_s/2+1]=d+g,t[l][u+n.BLKSIZE_s/2+3]=d-g}while(--h>=0);s(t[l],u,n.BLKSIZE_s/2)}},this.fft_long=function(t,e,r,i,a){var l=n.BLKSIZE/8-1,u=n.BLKSIZE/2;do{var c,h,f,d,p,g=255&o[l];h=(c=A[g]*i[r][a+g])-(p=A[g+512]*i[r][a+g+512]),c+=p,d=(f=A[g+256]*i[r][a+g+256])-(p=A[g+768]*i[r][a+g+768]),f+=p,e[0+(u-=4)]=c+f,e[u+2]=c-f,e[u+1]=h+d,e[u+3]=h-d,h=(c=A[g+1]*i[r][a+g+1])-(p=A[g+513]*i[r][a+g+513]),c+=p,d=(f=A[g+257]*i[r][a+g+257])-(p=A[g+769]*i[r][a+g+769]),f+=p,e[u+n.BLKSIZE/2+0]=c+f,e[u+n.BLKSIZE/2+2]=c-f,e[u+n.BLKSIZE/2+1]=h+d,e[u+n.BLKSIZE/2+3]=h-d}while(--l>=0);s(e,u,n.BLKSIZE/2)},this.init_fft=function(t){for(var e=0;e<n.BLKSIZE;e++)A[e]=.42-.5*Math.cos(2*Math.PI*(e+.5)/n.BLKSIZE)+.08*Math.cos(4*Math.PI*(e+.5)/n.BLKSIZE);for(e=0;e<n.BLKSIZE_s/2;e++)r[e]=.5*(1-Math.cos(2*Math.PI*(e+.5)/n.BLKSIZE_s))}},Ma}(),c=Kl();return Pa=function(){var A=new u,h=2.302585092994046,f=1/217621504/(c.BLKSIZE/2),d=.3,p=21,g=.2302585093;function B(A){return A}function m(A,t){for(var e=0,n=0;n<c.BLKSIZE/2;++n)e+=A[n]*t.ATH.eql_w[n];return e*=f}function w(t,e,n,i,s,o,a,l,u,h,f){var d=t.internal_flags;if(u<2)A.fft_long(d,i[s],u,h,f),A.fft_short(d,o[a],u,h,f);else if(2==u){for(var p=c.BLKSIZE-1;p>=0;--p){var g=i[s+0][p],w=i[s+1][p];i[s+0][p]=(g+w)*r.SQRT2*.5,i[s+1][p]=(g-w)*r.SQRT2*.5}for(var _=2;_>=0;--_)for(p=c.BLKSIZE_s-1;p>=0;--p){g=o[a+0][_][p],w=o[a+1][_][p];o[a+0][_][p]=(g+w)*r.SQRT2*.5,o[a+1][_][p]=(g-w)*r.SQRT2*.5}}e[0]=i[s+0][0],e[0]*=e[0];for(p=c.BLKSIZE/2-1;p>=0;--p){var y=i[s+0][c.BLKSIZE/2-p],v=i[s+0][c.BLKSIZE/2+p];e[c.BLKSIZE/2-p]=B(.5*(y*y+v*v))}for(_=2;_>=0;--_){n[_][0]=o[a+0][_][0],n[_][0]*=n[_][0];for(p=c.BLKSIZE_s/2-1;p>=0;--p){y=o[a+0][_][c.BLKSIZE_s/2-p],v=o[a+0][_][c.BLKSIZE_s/2+p];n[_][c.BLKSIZE_s/2-p]=B(.5*(y*y+v*v))}}var C=0;for(p=11;p<c.HBLKSIZE;p++)C+=e[p];if(d.tot_ener[u]=C,t.analysis){for(p=0;p<c.HBLKSIZE;p++)d.pinfo.energy[l][u][p]=d.pinfo.energy_save[u][p],d.pinfo.energy_save[u][p]=e[p];d.pinfo.pe[l][u]=d.pe[u]}2==t.athaa_loudapprox&&u<2&&(d.loudness_sq[l][u]=d.loudness_sq_save[u],d.loudness_sq_save[u]=m(e,d))}var _,y,v,C=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],b=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],E=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],U=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function Q(A,t,e,n,i,s){var o;if(t>A){if(!(t<A*y))return A+t;o=t/A}else{if(A>=t*y)return A+t;o=A/t}if(l(A>=0),l(t>=0),A+=t,n+3<=6){if(o>=_)return A;var a=0|r.FAST_LOG10_X(o,16);return A*E[a]}var u,c;a=0|r.FAST_LOG10_X(o,16);return t=i.ATH.cb_l[e]*i.ATH.adjust,l(t>=0),A<v*t?A>t?(u=1,a<=13&&(u=U[a]),c=r.FAST_LOG10_X(A/t,10/15),A*((b[a]-u)*c+u)):a>13?A:A*U[a]:A*b[a]}var F=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function I(A,t,e){var n;if(A<0&&(A=0),t<0&&(t=0),A<=0)return t;if(t<=0)return A;if(n=t>A?t/A:A/t,-2<=e&&e<=2){if(n>=_)return A+t;var i=0|r.FAST_LOG10_X(n,16);return(A+t)*F[i]}return n<y?A+t:(A<t&&(A=t),A)}function S(A,t,e,n,r){var i,s,o=0,a=0;for(i=s=0;i<c.SBMAX_s;++s,++i){for(var u=A.bo_s[i],h=A.npart_s,f=u<h?u:h;s<f;)l(t[s]>=0),l(e[s]>=0),o+=t[s],a+=e[s],s++;if(A.en[n].s[i][r]=o,A.thm[n].s[i][r]=a,s>=h){++i;break}l(t[s]>=0),l(e[s]>=0);var d=A.PSY.bo_s_weight[i],p=1-d;o=d*t[s],a=d*e[s],A.en[n].s[i][r]+=o,A.thm[n].s[i][r]+=a,o=p*t[s],a=p*e[s]}for(;i<c.SBMAX_s;++i)A.en[n].s[i][r]=0,A.thm[n].s[i][r]=0}function T(A,t,e,n){var r,i,s=0,o=0;for(r=i=0;r<c.SBMAX_l;++i,++r){for(var a=A.bo_l[r],u=A.npart_l,h=a<u?a:u;i<h;)l(t[i]>=0),l(e[i]>=0),s+=t[i],o+=e[i],i++;if(A.en[n].l[r]=s,A.thm[n].l[r]=o,i>=u){++r;break}l(t[i]>=0),l(e[i]>=0);var f=A.PSY.bo_l_weight[r],d=1-f;s=f*t[i],o=f*e[i],A.en[n].l[r]+=s,A.thm[n].l[r]+=o,s=d*t[i],o=d*e[i]}for(;r<c.SBMAX_l;++r)A.en[n].l[r]=0,A.thm[n].l[r]=0}function x(A,t,e,n,r,i){var s,o,a=A.internal_flags;for(o=s=0;o<a.npart_s;++o){for(var u=0,h=a.numlines_s[o],f=0;f<h;++f,++s){u+=t[i][s]}e[o]=u}for(l(o==a.npart_s),l(129==s),s=o=0;o<a.npart_s;o++){var d=a.s3ind_s[o][0],p=a.s3_ss[s++]*e[d];for(++d;d<=a.s3ind_s[o][1];)p+=a.s3_ss[s]*e[d],++s,++d;var g=2*a.nb_s1[r][o];if(n[o]=Math.min(p,g),a.blocktype_old[1&r]==c.SHORT_TYPE){g=16*a.nb_s2[r][o];var B=n[o];n[o]=Math.min(g,B)}a.nb_s2[r][o]=a.nb_s1[r][o],a.nb_s1[r][o]=p,l(n[o]>=0)}for(;o<=c.CBANDS;++o)e[o]=0,n[o]=0}function O(A,t,e){return e>=1?A:e<=0?t:t>0?Math.pow(A/t,e)*t:0}var H=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function M(A,t){for(var e=309.07,n=0;n<c.SBMAX_s-1;n++)for(var i=0;i<3;i++){var s=A.thm.s[n][i];if(l(n<H.length),s>0){var o=s*t,a=A.en.s[n][i];a>o&&(a>1e10*o?e+=H[n]*(10*h):(l(o>0),e+=H[n]*r.FAST_LOG10(a/o)))}}return e}var R=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function P(A,t){for(var e=281.0575,n=0;n<c.SBMAX_l-1;n++){var i=A.thm.l[n];if(l(n<R.length),i>0){var s=i*t,o=A.en.l[n];o>s&&(o>1e10*s?e+=R[n]*(10*h):(l(s>0),e+=R[n]*r.FAST_LOG10(o/s)))}}return e}function N(A,t,e,n,r){var i,s;for(i=s=0;i<A.npart_l;++i){var o,a=0,u=0;for(o=0;o<A.numlines_l[i];++o,++s){var c=t[s];l(c>=0),a+=c,u<c&&(u=c)}e[i]=a,n[i]=u,r[i]=a*A.rnumlines_l[i],l(A.rnumlines_l[i]>=0),l(a>=0),l(e[i]>=0),l(n[i]>=0),l(r[i]>=0)}}function L(A,t,e,n){var r=C.length-1,i=0,s=e[i]+e[i+1];(l(s>=0),s>0)?((o=t[i])<t[i+1]&&(o=t[i+1]),l(A.numlines_l[i]+A.numlines_l[i+1]-1>0),(a=0|(s=20*(2*o-s)/(s*(A.numlines_l[i]+A.numlines_l[i+1]-1))))>r&&(a=r),n[i]=a):n[i]=0;for(i=1;i<A.npart_l-1;i++){var o,a;if(s=e[i-1]+e[i]+e[i+1],l(s>=0),s>0)(o=t[i-1])<t[i]&&(o=t[i]),o<t[i+1]&&(o=t[i+1]),l(A.numlines_l[i-1]+A.numlines_l[i]+A.numlines_l[i+1]-1>0),(a=0|(s=20*(3*o-s)/(s*(A.numlines_l[i-1]+A.numlines_l[i]+A.numlines_l[i+1]-1))))>r&&(a=r),n[i]=a;else n[i]=0}(l(i>0),l(i==A.npart_l-1),s=e[i-1]+e[i],l(s>=0),s>0)?((o=t[i-1])<t[i]&&(o=t[i]),l(A.numlines_l[i-1]+A.numlines_l[i]-1>0),(a=0|(s=20*(2*o-s)/(s*(A.numlines_l[i-1]+A.numlines_l[i]-1))))>r&&(a=r),n[i]=a):n[i]=0;l(i==A.npart_l-1)}var D=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function k(t,e,n,i,s,o,a,l){var u=t.internal_flags;if(i<2)A.fft_long(u,a[l],i,e,n);else if(2==i)for(var h=c.BLKSIZE-1;h>=0;--h){var f=a[l+0][h],d=a[l+1][h];a[l+0][h]=(f+d)*r.SQRT2*.5,a[l+1][h]=(f-d)*r.SQRT2*.5}o[0]=a[l+0][0],o[0]*=o[0];for(h=c.BLKSIZE/2-1;h>=0;--h){var p=a[l+0][c.BLKSIZE/2-h],g=a[l+0][c.BLKSIZE/2+h];o[c.BLKSIZE/2-h]=B(.5*(p*p+g*g))}var m=0;for(h=11;h<c.HBLKSIZE;h++)m+=o[h];if(u.tot_ener[i]=m,t.analysis){for(h=0;h<c.HBLKSIZE;h++)u.pinfo.energy[s][i][h]=u.pinfo.energy_save[i][h],u.pinfo.energy_save[i][h]=o[h];u.pinfo.pe[s][i]=u.pe[i]}}function V(t,e,n,i,s,o,a,l){var u=t.internal_flags;if(0==s&&i<2&&A.fft_short(u,a[l],i,e,n),2==i)for(var h=c.BLKSIZE_s-1;h>=0;--h){var f=a[l+0][s][h],d=a[l+1][s][h];a[l+0][s][h]=(f+d)*r.SQRT2*.5,a[l+1][s][h]=(f-d)*r.SQRT2*.5}o[s][0]=a[l+0][s][0],o[s][0]*=o[s][0];for(h=c.BLKSIZE_s/2-1;h>=0;--h){var p=a[l+0][s][c.BLKSIZE_s/2-h],g=a[l+0][s][c.BLKSIZE_s/2+h];o[s][c.BLKSIZE_s/2-h]=B(.5*(p*p+g*g))}}function K(A,t,e,n){var r=A.internal_flags;2==A.athaa_loudapprox&&e<2&&(r.loudness_sq[t][e]=r.loudness_sq_save[e],r.loudness_sq_save[e]=m(n,r))}this.L3psycho_anal_ns=function(A,e,r,u,h,f,g,B,m,_){var y,v,b,E,U,F,I,H,R,k,V=A.internal_flags,K=o([2,c.BLKSIZE]),G=o([2,3,c.BLKSIZE_s]),q=s(c.CBANDS+1),X=s(c.CBANDS+1),Y=s(c.CBANDS+2),j=a(2),J=a(2),W=o([2,576]),z=a(c.CBANDS+2),Z=a(c.CBANDS+2);for(i.fill(Z,0),y=V.channels_out,A.mode==MPEGMode.JOINT_STEREO&&(y=4),R=A.VBR==t.vbr_off?0==V.ResvMax?0:V.ResvSize/V.ResvMax*.5:A.VBR==t.vbr_rh||A.VBR==t.vbr_mtrh||A.VBR==t.vbr_mt?.6:1,v=0;v<V.channels_out;v++){var $=e[v],AA=r+576-350-p+192;for(l(10==D.length),E=0;E<576;E++){var tA,eA;for(tA=$[AA+E+10],eA=0,U=0;U<9;U+=2)tA+=D[U]*($[AA+E+U]+$[AA+E+p-U]),eA+=D[U+1]*($[AA+E+U+1]+$[AA+E+p-U-1]);W[v][E]=tA+eA}h[u][v].en.assign(V.en[v]),h[u][v].thm.assign(V.thm[v]),y>2&&(f[u][v].en.assign(V.en[v+2]),f[u][v].thm.assign(V.thm[v+2]))}for(v=0;v<y;v++){var nA,rA=s(12),iA=[0,0,0,0],sA=s(12),oA=1,aA=s(c.CBANDS),lA=s(c.CBANDS),uA=[0,0,0,0],cA=s(c.HBLKSIZE),hA=o([3,c.HBLKSIZE_s]);for(l(V.npart_s<=c.CBANDS),l(V.npart_l<=c.CBANDS),E=0;E<3;E++)rA[E]=V.nsPsy.last_en_subshort[v][E+6],l(V.nsPsy.last_en_subshort[v][E+4]>0),sA[E]=rA[E]/V.nsPsy.last_en_subshort[v][E+4],iA[0]+=rA[E];if(2==v)for(E=0;E<576;E++){var fA,dA;fA=W[0][E],dA=W[1][E],W[0][E]=fA+dA,W[1][E]=fA-dA}var pA=W[1&v],gA=0;for(E=0;E<9;E++){for(var BA=gA+64,mA=1;gA<BA;gA++)mA<Math.abs(pA[gA])&&(mA=Math.abs(pA[gA]));V.nsPsy.last_en_subshort[v][E]=rA[E+3]=mA,iA[1+E/3]+=mA,mA>rA[E+3-2]?(l(rA[E+3-2]>0),mA/=rA[E+3-2]):rA[E+3-2]>10*mA?(l(mA>0),mA=rA[E+3-2]/(10*mA)):mA=0,sA[E+3]=mA}if(A.analysis){var wA=sA[0];for(E=1;E<12;E++)wA<sA[E]&&(wA=sA[E]);V.pinfo.ers[u][v]=V.pinfo.ers_save[v],V.pinfo.ers_save[v]=wA}for(nA=3==v?V.nsPsy.attackthre_s:V.nsPsy.attackthre,E=0;E<12;E++)0==uA[E/3]&&sA[E]>nA&&(uA[E/3]=E%3+1);for(E=1;E<4;E++){var _A;iA[E-1]>iA[E]?(l(iA[E]>0),_A=iA[E-1]/iA[E]):(l(iA[E-1]>0),_A=iA[E]/iA[E-1]),_A<1.7&&(uA[E]=0,1==E&&(uA[0]=0))}for(0!=uA[0]&&0!=V.nsPsy.lastAttacks[v]&&(uA[0]=0),3!=V.nsPsy.lastAttacks[v]&&uA[0]+uA[1]+uA[2]+uA[3]==0||(oA=0,0!=uA[1]&&0!=uA[0]&&(uA[1]=0),0!=uA[2]&&0!=uA[1]&&(uA[2]=0),0!=uA[3]&&0!=uA[2]&&(uA[3]=0)),v<2?J[v]=oA:0==oA&&(J[0]=J[1]=0),m[v]=V.tot_ener[v],w(A,cA,hA,K,1&v,G,1&v,u,v,e,r),N(V,cA,q,aA,lA),L(V,aA,lA,z),H=0;H<3;H++){var yA,vA;for(x(A,hA,X,Y,v,H),S(V,X,Y,v,H),I=0;I<c.SBMAX_s;I++){if(vA=V.thm[v].s[I][H],vA*=.8,uA[H]>=2||1==uA[H+1]){var CA=0!=H?H-1:2;mA=O(V.thm[v].s[I][CA],vA,.6*R);vA=Math.min(vA,mA)}if(1==uA[H]){CA=0!=H?H-1:2,mA=O(V.thm[v].s[I][CA],vA,d*R);vA=Math.min(vA,mA)}else if(0!=H&&3==uA[H-1]||0==H&&3==V.nsPsy.lastAttacks[v]){CA=2!=H?H+1:0,mA=O(V.thm[v].s[I][CA],vA,d*R);vA=Math.min(vA,mA)}yA=rA[3*H+3]+rA[3*H+4]+rA[3*H+5],6*rA[3*H+5]<yA&&(vA*=.5,6*rA[3*H+4]<yA&&(vA*=.5)),V.thm[v].s[I][H]=vA}}for(V.nsPsy.lastAttacks[v]=uA[2],F=0,b=0;b<V.npart_l;b++){for(var bA=V.s3ind[b][0],EA=q[bA]*C[z[bA]],UA=V.s3_ll[F++]*EA;++bA<=V.s3ind[b][1];)EA=q[bA]*C[z[bA]],UA=Q(UA,V.s3_ll[F++]*EA,bA,bA-b,V);UA*=.158489319246111,V.blocktype_old[1&v]==c.SHORT_TYPE?Y[b]=UA:Y[b]=O(Math.min(UA,Math.min(2*V.nb_1[v][b],16*V.nb_2[v][b])),UA,R),V.nb_2[v][b]=V.nb_1[v][b],V.nb_1[v][b]=UA}for(;b<=c.CBANDS;++b)q[b]=0,Y[b]=0;T(V,q,Y,v)}(A.mode!=MPEGMode.STEREO&&A.mode!=MPEGMode.JOINT_STEREO||A.interChRatio>0&&function(A,t){var e=A.internal_flags;if(e.channels_out>1){for(var n=0;n<c.SBMAX_l;n++){var r=e.thm[0].l[n],i=e.thm[1].l[n];e.thm[0].l[n]+=i*t,e.thm[1].l[n]+=r*t}for(n=0;n<c.SBMAX_s;n++)for(var s=0;s<3;s++)r=e.thm[0].s[n][s],i=e.thm[1].s[n][s],e.thm[0].s[n][s]+=i*t,e.thm[1].s[n][s]+=r*t}}(A,A.interChRatio),A.mode==MPEGMode.JOINT_STEREO)&&(!function(A){for(var t=0;t<c.SBMAX_l;t++)if(!(A.thm[0].l[t]>1.58*A.thm[1].l[t]||A.thm[1].l[t]>1.58*A.thm[0].l[t])){var e=A.mld_l[t]*A.en[3].l[t],n=Math.max(A.thm[2].l[t],Math.min(A.thm[3].l[t],e));e=A.mld_l[t]*A.en[2].l[t];var r=Math.max(A.thm[3].l[t],Math.min(A.thm[2].l[t],e));A.thm[2].l[t]=n,A.thm[3].l[t]=r}for(t=0;t<c.SBMAX_s;t++)for(var i=0;i<3;i++)A.thm[0].s[t][i]>1.58*A.thm[1].s[t][i]||A.thm[1].s[t][i]>1.58*A.thm[0].s[t][i]||(e=A.mld_s[t]*A.en[3].s[t][i],n=Math.max(A.thm[2].s[t][i],Math.min(A.thm[3].s[t][i],e)),e=A.mld_s[t]*A.en[2].s[t][i],r=Math.max(A.thm[3].s[t][i],Math.min(A.thm[2].s[t][i],e)),A.thm[2].s[t][i]=n,A.thm[3].s[t][i]=r)}(V),k=A.msfix,Math.abs(k)>0&&function(A,t,e){var n=t,r=Math.pow(10,e);t*=2,n*=2;for(var i=0;i<c.SBMAX_l;i++)h=A.ATH.cb_l[A.bm_l[i]]*r,(o=Math.min(Math.max(A.thm[0].l[i],h),Math.max(A.thm[1].l[i],h)))*t<(a=Math.max(A.thm[2].l[i],h))+(u=Math.max(A.thm[3].l[i],h))&&l((a*=f=o*n/(a+u))+(u*=f)>0),A.thm[2].l[i]=Math.min(a,A.thm[2].l[i]),A.thm[3].l[i]=Math.min(u,A.thm[3].l[i]);for(r*=c.BLKSIZE_s/c.BLKSIZE,i=0;i<c.SBMAX_s;i++)for(var s=0;s<3;s++){var o,a,u,h,f;h=A.ATH.cb_s[A.bm_s[i]]*r,(o=Math.min(Math.max(A.thm[0].s[i][s],h),Math.max(A.thm[1].s[i][s],h)))*t<(a=Math.max(A.thm[2].s[i][s],h))+(u=Math.max(A.thm[3].s[i][s],h))&&l((a*=f=o*t/(a+u))+(u*=f)>0),A.thm[2].s[i][s]=Math.min(A.thm[2].s[i][s],a),A.thm[3].s[i][s]=Math.min(A.thm[3].s[i][s],u)}}(V,k,A.ATHlower*V.ATH.adjust));for(function(A,t,e,r){var i=A.internal_flags;A.short_blocks!=n.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var s=0;s<i.channels_out;s++)r[s]=c.NORM_TYPE,A.short_blocks==n.short_block_dispensed&&(t[s]=1),A.short_blocks==n.short_block_forced&&(t[s]=0),0!=t[s]?(l(i.blocktype_old[s]!=c.START_TYPE),i.blocktype_old[s]==c.SHORT_TYPE&&(r[s]=c.STOP_TYPE)):(r[s]=c.SHORT_TYPE,i.blocktype_old[s]==c.NORM_TYPE&&(i.blocktype_old[s]=c.START_TYPE),i.blocktype_old[s]==c.STOP_TYPE&&(i.blocktype_old[s]=c.SHORT_TYPE)),e[s]=i.blocktype_old[s],i.blocktype_old[s]=r[s]}(A,J,_,j),v=0;v<y;v++){var QA,FA,IA,SA=0;v>1?(QA=B,SA=-2,FA=c.NORM_TYPE,_[0]!=c.SHORT_TYPE&&_[1]!=c.SHORT_TYPE||(FA=c.SHORT_TYPE),IA=f[u][v-2]):(QA=g,SA=0,FA=_[v],IA=h[u][v]),FA==c.SHORT_TYPE?QA[SA+v]=M(IA,V.masking_lower):QA[SA+v]=P(IA,V.masking_lower),A.analysis&&(V.pinfo.pe[u][v]=QA[SA+v])}return 0};var G=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function q(A,t,e){if(0==e)for(var n=0;n<A.npart_s;n++)A.nb_s2[t][n]=A.nb_s1[t][n],A.nb_s1[t][n]=0}function X(A,t){for(var e=0;e<A.npart_l;e++)A.nb_2[t][e]=A.nb_1[t][e],A.nb_1[t][e]=0}function Y(A,t,e,n,r,i){var o,a,u,h=A.internal_flags,f=new float[c.CBANDS],d=s(c.CBANDS),p=new int[c.CBANDS];for(u=a=0;u<h.npart_s;++u){var g=0,B=0,m=h.numlines_s[u];for(o=0;o<m;++o,++a){var w=t[i][a];g+=w,B<w&&(B=w)}e[u]=g,l(g>=0),f[u]=B,l(m>0),d[u]=g/m,l(d[u]>=0)}for(l(u==h.npart_s),l(129==a);u<c.CBANDS;++u)f[u]=0,d[u]=0;for(function(A,t,e,n){var r=C.length-1,i=0,s=e[i]+e[i+1];for(l(s>=0),s>0?((o=t[i])<t[i+1]&&(o=t[i+1]),l(A.numlines_s[i]+A.numlines_s[i+1]-1>0),(a=0|(s=20*(2*o-s)/(s*(A.numlines_s[i]+A.numlines_s[i+1]-1))))>r&&(a=r),n[i]=a):n[i]=0,i=1;i<A.npart_s-1;i++){var o,a;s=e[i-1]+e[i]+e[i+1],l(i+1<A.npart_s),l(s>=0),s>0?((o=t[i-1])<t[i]&&(o=t[i]),o<t[i+1]&&(o=t[i+1]),l(A.numlines_s[i-1]+A.numlines_s[i]+A.numlines_s[i+1]-1>0),(a=0|(s=20*(3*o-s)/(s*(A.numlines_s[i-1]+A.numlines_s[i]+A.numlines_s[i+1]-1))))>r&&(a=r),n[i]=a):n[i]=0}l(i>0),l(i==A.npart_s-1),s=e[i-1]+e[i],l(s>=0),s>0?((o=t[i-1])<t[i]&&(o=t[i]),l(A.numlines_s[i-1]+A.numlines_s[i]-1>0),(a=0|(s=20*(2*o-s)/(s*(A.numlines_s[i-1]+A.numlines_s[i]-1))))>r&&(a=r),n[i]=a):n[i]=0,l(i==A.npart_s-1)}(h,f,d,p),a=u=0;u<h.npart_s;u++){var _,y,v,b,E,U=h.s3ind_s[u][0],Q=h.s3ind_s[u][1];for(_=p[U],y=1,b=h.s3_ss[a]*e[U]*C[p[U]],++a,++U;U<=Q;)_+=p[U],y+=1,b=I(b,v=h.s3_ss[a]*e[U]*C[p[U]],U-u),++a,++U;b*=E=.5*C[_=(1+2*_)/(2*y)],n[u]=b,h.nb_s2[r][u]=h.nb_s1[r][u],h.nb_s1[r][u]=b,v=f[u],v*=h.minval_s[u],v*=E,n[u]>v&&(n[u]=v),h.masking_lower>1&&(n[u]*=h.masking_lower),n[u]>e[u]&&(n[u]=e[u]),h.masking_lower<1&&(n[u]*=h.masking_lower),l(n[u]>=0)}for(;u<c.CBANDS;++u)e[u]=0,n[u]=0}function j(A,t,e,n,r){var i,o=s(c.CBANDS),u=s(c.CBANDS),h=a(c.CBANDS+2);N(A,t,e,o,u),L(A,o,u,h);var f=0;for(i=0;i<A.npart_l;i++){var p,g,B,m=A.s3ind[i][0],w=A.s3ind[i][1],_=0,y=0;for(_=h[m],y+=1,g=A.s3_ll[f]*e[m]*C[h[m]],++f,++m;m<=w;)_+=h[m],y+=1,g=I(g,p=A.s3_ll[f]*e[m]*C[h[m]],m-i),++f,++m;if(g*=B=.5*C[_=(1+2*_)/(2*y)],A.blocktype_old[1&r]==c.SHORT_TYPE){var v=2*A.nb_1[r][i];n[i]=v>0?Math.min(g,v):Math.min(g,e[i]*d)}else{var b=16*A.nb_2[r][i],E=2*A.nb_1[r][i];b<=0&&(b=g),E<=0&&(E=g),v=A.blocktype_old[1&r]==c.NORM_TYPE?Math.min(E,b):E,n[i]=Math.min(g,v)}A.nb_2[r][i]=A.nb_1[r][i],A.nb_1[r][i]=g,p=o[i],p*=A.minval_l[i],p*=B,n[i]>p&&(n[i]=p),A.masking_lower>1&&(n[i]*=A.masking_lower),n[i]>e[i]&&(n[i]=e[i]),A.masking_lower<1&&(n[i]*=A.masking_lower),l(n[i]>=0)}for(;i<c.CBANDS;++i)e[i]=0,n[i]=0}function J(A,t,e,n,r,i,s){for(var o,a,u=2*i,c=i>0?Math.pow(10,r):1,h=0;h<s;++h){var f=A[2][h],d=A[3][h],p=t[0][h],g=t[1][h],B=t[2][h],m=t[3][h];if(p<=1.58*g&&g<=1.58*p){var w=e[h]*d,_=e[h]*f;a=Math.max(B,Math.min(m,w)),o=Math.max(m,Math.min(B,_))}else a=B,o=m;if(i>0){var y,v,C=n[h]*c;if(y=Math.min(Math.max(p,C),Math.max(g,C)),(v=(B=Math.max(a,C))+(m=Math.max(o,C)))>0&&y*u<v){var b=y*u/v;B*=b,m*=b,l(v>0)}a=Math.min(B,a),o=Math.min(m,o)}a>f&&(a=f),o>d&&(o=d),t[2][h]=a,t[3][h]=o}}function W(A,t){var e;return(e=A>=0?27*-A:A*t)<=-72?0:Math.exp(e*g)}function z(A){var t,e,n=0;for(n=0;W(n,A)>1e-20;n-=1);for(r=n,i=0;Math.abs(i-r)>1e-12;)W(n=(i+r)/2,A)>0?i=n:r=n;t=r;var r,i;n=0;for(n=0;W(n,A)>1e-20;n+=1);for(r=0,i=n;Math.abs(i-r)>1e-12;)W(n=(i+r)/2,A)>0?r=n:i=n;e=i;var s,o=0,a=1e3;for(s=0;s<=a;++s){o+=W(n=t+s*(e-t)/a,A)}return 1001/(o*(e-t))}function Z(A){var t,e,n,r;return t=A,e=(t*=t>=0?3:1.5)>=.5&&t<=2.5?8*((r=t-.5)*r-2*r):0,(n=15.811389+7.5*(t+=.474)-17.5*Math.sqrt(1+t*t))<=-60?0:(t=Math.exp((e+n)*g),t/=.6609193)}function $(A){return A<0&&(A=0),A*=.001,13*Math.atan(.76*A)+3.5*Math.atan(A*A/56.25)}function AA(A,t,e,n,r,i,o,u,h,f,d,p){var g,B=s(c.CBANDS+1),m=u/(p>15?1152:384),w=a(c.HBLKSIZE);u/=h;var _=0,y=0;for(g=0;g<c.CBANDS;g++){var v;for(T=$(u*_),B[g]=u*_,v=_;$(u*v)-T<.34&&v<=h/2;v++);for(A[g]=v-_,y=g+1;_<v;)l(_<c.HBLKSIZE),w[_++]=g;if(_>h/2){_=h/2,++g;break}}l(g<c.CBANDS),B[g]=u*_;for(var C=0;C<p;C++){var b,E,U,Q,F;U=f[C],Q=f[C+1],(b=0|Math.floor(.5+d*(U-.5)))<0&&(b=0),(E=0|Math.floor(.5+d*(Q-.5)))>h/2&&(E=h/2),e[C]=(w[b]+w[E])/2,t[C]=w[E];var I=m*Q;o[C]=(I-B[t[C]])/(B[t[C]+1]-B[t[C]]),o[C]<0?o[C]=0:o[C]>1&&(o[C]=1),F=$(u*f[C]*d),F=Math.min(F,15.5)/15.5,i[C]=Math.pow(10,1.25*(1-Math.cos(Math.PI*F))-2.5)}_=0;for(var S=0;S<y;S++){var T,x,O=A[S];T=$(u*_),x=$(u*(_+O-1)),n[S]=.5*(T+x),T=$(u*(_-.5)),x=$(u*(_+O-.5)),r[S]=x-T,_+=O}return y}function tA(A,t,e,n,r,i){var a,l=o([c.CBANDS,c.CBANDS]),u=0;if(i)for(var h=0;h<t;h++)for(a=0;a<t;a++){var f=Z(e[h]-e[a])*n[a];l[h][a]=f*r[h]}else for(a=0;a<t;a++){var d=15+Math.min(21/e[a],12),p=z(d);for(h=0;h<t;h++){f=p*W(e[h]-e[a],d)*n[a];l[h][a]=f*r[h]}}for(h=0;h<t;h++){for(a=0;a<t&&!(l[h][a]>0);a++);for(A[h][0]=a,a=t-1;a>0&&!(l[h][a]>0);a--);A[h][1]=a,u+=A[h][1]-A[h][0]+1}var g=s(u),B=0;for(h=0;h<t;h++)for(a=A[h][0];a<=A[h][1];a++)g[B++]=l[h][a];return g}function eA(A){var t=$(A);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function nA(A,t){return A<-.3&&(A=3410),A/=1e3,A=Math.max(.1,A),3.64*Math.pow(A,-.8)-6.8*Math.exp(-.6*Math.pow(A-3.4,2))+6*Math.exp(-.15*Math.pow(A-8.7,2))+.001*(.6+.04*t)*Math.pow(A,4)}this.L3psycho_anal_vbr=function(A,t,e,r,i,u,h,f,d,g){var B=A.internal_flags,m=s(c.HBLKSIZE),w=o([3,c.HBLKSIZE_s]),_=o([2,c.BLKSIZE]),y=o([2,3,c.BLKSIZE_s]),v=o([4,c.CBANDS]),C=o([4,c.CBANDS]),b=o([4,3]),E=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],U=a(2),Q=A.mode==MPEGMode.JOINT_STEREO?4:B.channels_out;!function(A,t,e,n,r,i,a,u,c,h){for(var f=o([2,576]),d=A.internal_flags,g=d.channels_out,B=A.mode==MPEGMode.JOINT_STEREO?4:g,m=0;m<g;m++){firbuf=t[m];var w=e+576-350-p+192;l(10==G.length);for(var _=0;_<576;_++){var y,v;y=firbuf[w+_+10],v=0;for(var C=0;C<9;C+=2)y+=G[C]*(firbuf[w+_+C]+firbuf[w+_+p-C]),v+=G[C+1]*(firbuf[w+_+C+1]+firbuf[w+_+p-C-1]);f[m][_]=y+v}r[n][m].en.assign(d.en[m]),r[n][m].thm.assign(d.thm[m]),B>2&&(i[n][m].en.assign(d.en[m+2]),i[n][m].thm.assign(d.thm[m+2]))}for(m=0;m<B;m++){var b=s(12),E=s(12),U=[0,0,0,0],Q=f[1&m],F=0,I=3==m?d.nsPsy.attackthre_s:d.nsPsy.attackthre,S=1;if(2==m)for(_=0,C=576;C>0;++_,--C){var T=f[0][_],x=f[1][_];f[0][_]=T+x,f[1][_]=T-x}for(_=0;_<3;_++)E[_]=d.nsPsy.last_en_subshort[m][_+6],l(d.nsPsy.last_en_subshort[m][_+4]>0),b[_]=E[_]/d.nsPsy.last_en_subshort[m][_+4],U[0]+=E[_];for(_=0;_<9;_++){for(var O=F+64,H=1;F<O;F++)H<Math.abs(Q[F])&&(H=Math.abs(Q[F]));d.nsPsy.last_en_subshort[m][_]=E[_+3]=H,U[1+_/3]+=H,H>E[_+3-2]?(l(E[_+3-2]>0),H/=E[_+3-2]):E[_+3-2]>10*H?(l(H>0),H=E[_+3-2]/(10*H)):H=0,b[_+3]=H}for(_=0;_<3;++_){var M=E[3*_+3]+E[3*_+4]+E[3*_+5],R=1;6*E[3*_+5]<M&&(R*=.5,6*E[3*_+4]<M&&(R*=.5)),u[m][_]=R}if(A.analysis){var P=b[0];for(_=1;_<12;_++)P<b[_]&&(P=b[_]);d.pinfo.ers[n][m]=d.pinfo.ers_save[m],d.pinfo.ers_save[m]=P}for(_=0;_<12;_++)0==c[m][_/3]&&b[_]>I&&(c[m][_/3]=_%3+1);for(_=1;_<4;_++){var N=U[_-1],L=U[_];Math.max(N,L)<4e4&&N<1.7*L&&L<1.7*N&&(1==_&&c[m][0]<=c[m][_]&&(c[m][0]=0),c[m][_]=0)}c[m][0]<=d.nsPsy.lastAttacks[m]&&(c[m][0]=0),3!=d.nsPsy.lastAttacks[m]&&c[m][0]+c[m][1]+c[m][2]+c[m][3]==0||(S=0,0!=c[m][1]&&0!=c[m][0]&&(c[m][1]=0),0!=c[m][2]&&0!=c[m][1]&&(c[m][2]=0),0!=c[m][3]&&0!=c[m][2]&&(c[m][3]=0)),m<2?h[m]=S:0==S&&(h[0]=h[1]=0),a[m]=d.tot_ener[m]}}(A,t,e,r,i,u,d,b,E,U),function(A,t){var e=A.internal_flags;A.short_blocks!=n.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var r=0;r<e.channels_out;r++)A.short_blocks==n.short_block_dispensed&&(t[r]=1),A.short_blocks==n.short_block_forced&&(t[r]=0)}(A,U);for(var F=0;F<Q;F++){k(A,t,e,F,r,m,_,x=1&F),K(A,r,F,m),0!=U[x]?j(B,m,v[F],C[F],F):X(B,F)}U[0]+U[1]==2&&A.mode==MPEGMode.JOINT_STEREO&&J(v,C,B.mld_cb_l,B.ATH.cb_l,A.ATHlower*B.ATH.adjust,A.msfix,B.npart_l);for(F=0;F<Q;F++){0!=U[x=1&F]&&T(B,v[F],C[F],F)}for(var I=0;I<3;I++){for(F=0;F<Q;++F){0!=U[x=1&F]?q(B,F,I):(V(A,t,e,F,I,w,y,x),Y(A,w,v[F],C[F],F,I))}U[0]+U[1]==0&&A.mode==MPEGMode.JOINT_STEREO&&J(v,C,B.mld_cb_s,B.ATH.cb_s,A.ATHlower*B.ATH.adjust,A.msfix,B.npart_s);for(F=0;F<Q;++F){0==U[x=1&F]&&S(B,v[F],C[F],F,I)}}for(F=0;F<Q;F++){var x;if(0==U[x=1&F])for(var H=0;H<c.SBMAX_s;H++){var R=s(3);for(I=0;I<3;I++){var N=B.thm[F].s[H][I];if(N*=.8,E[F][I]>=2||1==E[F][I+1]){var L=0!=I?I-1:2,D=O(B.thm[F].s[H][L],N,.36);N=Math.min(N,D)}else if(1==E[F][I]){L=0!=I?I-1:2,D=O(B.thm[F].s[H][L],N,.18);N=Math.min(N,D)}else if(0!=I&&3==E[F][I-1]||0==I&&3==B.nsPsy.lastAttacks[F]){L=2!=I?I+1:0,D=O(B.thm[F].s[H][L],N,.18);N=Math.min(N,D)}N*=b[F][I],R[I]=N}for(I=0;I<3;I++)B.thm[F].s[H][I]=R[I]}}for(F=0;F<Q;F++)B.nsPsy.lastAttacks[F]=E[F][2];!function(A,t,e){for(var n=A.internal_flags,r=0;r<n.channels_out;r++){var i=c.NORM_TYPE;0!=t[r]?(l(n.blocktype_old[r]!=c.START_TYPE),n.blocktype_old[r]==c.SHORT_TYPE&&(i=c.STOP_TYPE)):(i=c.SHORT_TYPE,n.blocktype_old[r]==c.NORM_TYPE&&(n.blocktype_old[r]=c.START_TYPE),n.blocktype_old[r]==c.STOP_TYPE&&(n.blocktype_old[r]=c.SHORT_TYPE)),e[r]=n.blocktype_old[r],n.blocktype_old[r]=i}}(A,U,g);for(F=0;F<Q;F++){var W,z,Z,$;F>1?(W=f,z=-2,Z=c.NORM_TYPE,g[0]!=c.SHORT_TYPE&&g[1]!=c.SHORT_TYPE||(Z=c.SHORT_TYPE),$=u[r][F-2]):(W=h,z=0,Z=g[F],$=i[r][F]),Z==c.SHORT_TYPE?W[z+F]=M($,B.masking_lower):W[z+F]=P($,B.masking_lower),A.analysis&&(B.pinfo.pe[r][F]=W[z+F])}return 0},this.psymodel_init=function(n){var r,i=n.internal_flags,o=!0,a=13,u=24,f=0,d=0,p=-8.25,g=-4.5,B=s(c.CBANDS),m=s(c.CBANDS),w=s(c.CBANDS),C=n.out_samplerate;switch(n.experimentalZ){default:case 0:o=!0;break;case 1:o=n.VBR!=t.vbr_mtrh&&n.VBR!=t.vbr_mt;break;case 2:o=!1;break;case 3:a=8,f=-1.75,d=-.0125,p=-8.25,g=-2.25}for(i.ms_ener_ratio_old=.25,i.blocktype_old[0]=i.blocktype_old[1]=c.NORM_TYPE,r=0;r<4;++r){for(var b=0;b<c.CBANDS;++b)i.nb_1[r][b]=1e20,i.nb_2[r][b]=1e20,i.nb_s1[r][b]=i.nb_s2[r][b]=1;for(var E=0;E<c.SBMAX_l;E++)i.en[r].l[E]=1e20,i.thm[r].l[E]=1e20;for(b=0;b<3;++b){for(E=0;E<c.SBMAX_s;E++)i.en[r].s[E][b]=1e20,i.thm[r].s[E][b]=1e20;i.nsPsy.lastAttacks[r]=0}for(b=0;b<9;b++)i.nsPsy.last_en_subshort[r][b]=10}for(i.loudness_sq_save[0]=i.loudness_sq_save[1]=0,i.npart_l=AA(i.numlines_l,i.bo_l,i.bm_l,B,m,i.mld_l,i.PSY.bo_l_weight,C,c.BLKSIZE,i.scalefac_band.l,c.BLKSIZE/1152,c.SBMAX_l),l(i.npart_l<c.CBANDS),r=0;r<i.npart_l;r++){var U=f;B[r]>=a&&(U=d*(B[r]-a)/(u-a)+f*(u-B[r])/(u-a)),w[r]=Math.pow(10,U/10),i.numlines_l[r]>0?i.rnumlines_l[r]=1/i.numlines_l[r]:i.rnumlines_l[r]=0}i.s3_ll=tA(i.s3ind,i.npart_l,B,m,w,o);var Q;b=0;for(r=0;r<i.npart_l;r++){S=e.MAX_VALUE;for(var F=0;F<i.numlines_l[r];F++,b++){var I=C*b/(1e3*c.BLKSIZE);T=this.ATHformula(1e3*I,n)-20,T=Math.pow(10,.1*T),S>(T*=i.numlines_l[r])&&(S=T)}i.ATH.cb_l[r]=S,(S=20*B[r]/10-20)>6&&(S=100),S<-15&&(S=-15),S-=8,i.minval_l[r]=Math.pow(10,S/10)*i.numlines_l[r]}for(i.npart_s=AA(i.numlines_s,i.bo_s,i.bm_s,B,m,i.mld_s,i.PSY.bo_s_weight,C,c.BLKSIZE_s,i.scalefac_band.s,c.BLKSIZE_s/384,c.SBMAX_s),l(i.npart_s<c.CBANDS),b=0,r=0;r<i.npart_s;r++){var S;U=p;B[r]>=a&&(U=g*(B[r]-a)/(u-a)+p*(u-B[r])/(u-a)),w[r]=Math.pow(10,U/10),S=e.MAX_VALUE;for(F=0;F<i.numlines_s[r];F++,b++){var T;I=C*b/(1e3*c.BLKSIZE_s);T=this.ATHformula(1e3*I,n)-20,T=Math.pow(10,.1*T),S>(T*=i.numlines_s[r])&&(S=T)}i.ATH.cb_s[r]=S,S=7*B[r]/12-7,B[r]>12&&(S*=1+3.1*Math.log(1+S)),B[r]<12&&(S*=1+2.3*Math.log(1-S)),S<-15&&(S=-15),S-=8,i.minval_s[r]=Math.pow(10,S/10)*i.numlines_s[r]}i.s3_ss=tA(i.s3ind_s,i.npart_s,B,m,w,o),_=Math.pow(10,9/16),y=Math.pow(10,1.5),v=Math.pow(10,1.5),A.init_fft(i),i.decay=Math.exp(-1*h/(.01*C/192)),Q=3.5,2&n.exp_nspsytune&&(Q=1),Math.abs(n.msfix)>0&&(Q=n.msfix),n.msfix=Q;for(var x=0;x<i.npart_l;x++)i.s3ind[x][1]>i.npart_l-1&&(i.s3ind[x][1]=i.npart_l-1);var O=576*i.mode_gr/C;if(i.ATH.decay=Math.pow(10,-1.2*O),i.ATH.adjust=.01,i.ATH.adjustLimit=1,l(i.bo_l[c.SBMAX_l-1]<=i.npart_l),l(i.bo_s[c.SBMAX_s-1]<=i.npart_s),-1!=n.ATHtype){var H=n.out_samplerate/c.BLKSIZE,M=0;for(I=0,r=0;r<c.BLKSIZE/2;++r)I+=H,i.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(I,n)/10),M+=i.ATH.eql_w[r];for(M=1/M,r=c.BLKSIZE/2;--r>=0;)i.ATH.eql_w[r]*=M}for(x=b=0;x<i.npart_s;++x)for(r=0;r<i.numlines_s[x];++r)++b;l(129==b);for(x=b=0;x<i.npart_l;++x)for(r=0;r<i.numlines_l[x];++r)++b;for(l(513==b),b=0,r=0;r<i.npart_l;r++){I=C*(b+i.numlines_l[r]/2)/(1*c.BLKSIZE);i.mld_cb_l[r]=eA(I),b+=i.numlines_l[r]}for(;r<c.CBANDS;++r)i.mld_cb_l[r]=1;for(b=0,r=0;r<i.npart_s;r++){I=C*(b+i.numlines_s[r]/2)/(1*c.BLKSIZE_s);i.mld_cb_s[r]=eA(I),b+=i.numlines_s[r]}for(;r<c.CBANDS;++r)i.mld_cb_s[r]=1;return 0},this.ATHformula=function(A,t){var e;switch(t.ATHtype){case 0:e=nA(A,9);break;case 1:e=nA(A,-1);break;case 2:default:e=nA(A,0);break;case 3:e=nA(A,1)+6;break;case 4:e=nA(A,t.ATHcurve)}return e}},Pa}function ql(){if(Da)return La;function A(A){var t=A;this.ordinal=function(){return t}}return Da=1,A.STEREO=new A(0),A.JOINT_STEREO=new A(1),A.DUAL_CHANNEL=new A(2),A.MONO=new A(3),A.NOT_SET=new A(4),La=A}function Xl(){if(Ga)return Ka;Ga=1;var A=Kl(),t={};return t.SFBMAX=3*A.SBMAX_s,Ka=t}function Yl(){if(Xa)return qa;Xa=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double;var t=A.new_float;A.new_float_n;var e=A.new_int;A.new_int_n,A.assert;var n=Xl();return qa=function(){this.xr=t(576),this.l3_enc=e(576),this.scalefac=e(n.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=e(3),this.subblock_gain=e(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=e(n.SFBMAX),this.window=e(n.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=e(4),this.max_nonzero_coeff=0;var A=this;function r(A){return new Int32Array(A)}this.assign=function(t){var e;A.xr=(e=t.xr,new Float32Array(e)),A.l3_enc=r(t.l3_enc),A.scalefac=r(t.scalefac),A.xrpow_max=t.xrpow_max,A.part2_3_length=t.part2_3_length,A.big_values=t.big_values,A.count1=t.count1,A.global_gain=t.global_gain,A.scalefac_compress=t.scalefac_compress,A.block_type=t.block_type,A.mixed_block_flag=t.mixed_block_flag,A.table_select=r(t.table_select),A.subblock_gain=r(t.subblock_gain),A.region0_count=t.region0_count,A.region1_count=t.region1_count,A.preflag=t.preflag,A.scalefac_scale=t.scalefac_scale,A.count1table_select=t.count1table_select,A.part2_length=t.part2_length,A.sfb_lmax=t.sfb_lmax,A.sfb_smin=t.sfb_smin,A.psy_lmax=t.psy_lmax,A.sfbmax=t.sfbmax,A.psymax=t.psymax,A.sfbdivide=t.sfbdivide,A.width=r(t.width),A.window=r(t.window),A.count1bits=t.count1bits,A.sfb_partition_table=t.sfb_partition_table.slice(0),A.slen=r(t.slen),A.max_nonzero_coeff=t.max_nonzero_coeff}}}function jl(){if(Wa)return Ja;Wa=1;var A=kl(),t=A.System;A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double,A.new_float,A.new_float_n;var e=A.new_int;A.new_int_n,A.assert;var n=Kl();return Ja=function(A,r,i,s){this.l=e(1+n.SBMAX_l),this.s=e(1+n.SBMAX_s),this.psfb21=e(1+n.PSFB21),this.psfb12=e(1+n.PSFB12);var o=this.l,a=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],t.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),t.arraycopy(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),t.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),t.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))},Ja}function Jl(){if(el)return tl;el=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n;var t=A.new_byte,e=A.new_double,n=A.new_float,r=A.new_float_n,i=A.new_int,s=A.new_int_n;A.assert;var o=function(){if(ja)return Ya;ja=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double,A.new_float,A.new_float_n;var t=A.new_int;A.new_int_n,A.assert;var e=Yl();return Ya=function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[t(4),t(4)];for(var A=0;A<2;A++)for(var n=0;n<2;n++)this.tt[A][n]=new e}}(),a=jl(),l=function(){if(Za)return za;Za=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double;var t=A.new_float,e=A.new_float_n,n=A.new_int;A.new_int_n,A.assert;var r=Kl();return za=function(){this.last_en_subshort=e([4,9]),this.lastAttacks=n(4),this.pefirbuf=t(19),this.longfact=t(r.SBMAX_l),this.shortfact=t(r.SBMAX_s),this.attackthre=0,this.attackthre_s=0}}(),u=Al?$a:(Al=1,$a=function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}),c=Vl(),h=Kl(),f=Xl();function d(){function A(){this.write_timing=0,this.ptr=0,this.buf=t(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=r([2,d.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new o,this.ms_ratio=n(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=i(2),this.CurrentStep=i(2),this.masking_lower=0,this.bv_scf=i(576),this.pseudohalf=i(f.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*d.BPC+1),this.itime=e(2),this.sideinfo_len=0,this.sb_sample=r([2,2,18,h.SBLIMIT]),this.amp_filter=n(32),this.header=new Array(d.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new a,this.minval_l=n(h.CBANDS),this.minval_s=n(h.CBANDS),this.nb_1=r([4,h.CBANDS]),this.nb_2=r([4,h.CBANDS]),this.nb_s1=r([4,h.CBANDS]),this.nb_s2=r([4,h.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=n(4),this.loudness_sq=r([2,2]),this.loudness_sq_save=n(2),this.mld_l=n(h.SBMAX_l),this.mld_s=n(h.SBMAX_s),this.bm_l=i(h.SBMAX_l),this.bo_l=i(h.SBMAX_l),this.bm_s=i(h.SBMAX_s),this.bo_s=i(h.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=s([h.CBANDS,2]),this.s3ind_s=s([h.CBANDS,2]),this.numlines_s=i(h.CBANDS),this.numlines_l=i(h.CBANDS),this.rnumlines_l=n(h.CBANDS),this.mld_cb_l=n(h.CBANDS),this.mld_cb_s=n(h.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=n(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=i(2),this.nsPsy=new l,this.VBR_seek_table=new u,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=s([16,5]),this.bitrate_blockType_Hist=s([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var p=0;p<this.en.length;p++)this.en[p]=new c;for(p=0;p<this.thm.length;p++)this.thm[p]=new c;for(p=0;p<this.header.length;p++)this.header[p]=new A}return d.MFSIZE=3456+h.ENCDELAY-h.MDCTDELAY,d.MAX_HEADER_BUF=256,d.MAX_BITS_PER_CHANNEL=4095,d.MAX_BITS_PER_GRANULE=7680,d.BPC=320,tl=d}function Wl(){if(sl)return il;sl=1;var A=kl(),t=A.System;A.VbrMode,A.Float,A.ShortBlock,A.Util;var e=A.Arrays;function n(){n.YULE_ORDER;n.MAX_SAMP_FREQ;var A=n.RMS_WINDOW_TIME_NUMERATOR,r=n.RMS_WINDOW_TIME_DENOMINATOR;n.MAX_SAMPLES_PER_WINDOW;var i=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],s=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function o(A,t,e,n,r,i){for(;0!=r--;)e[n]=1e-10+A[t+0]*i[0]-e[n-1]*i[1]+A[t-1]*i[2]-e[n-2]*i[3]+A[t-2]*i[4]-e[n-3]*i[5]+A[t-3]*i[6]-e[n-4]*i[7]+A[t-4]*i[8]-e[n-5]*i[9]+A[t-5]*i[10]-e[n-6]*i[11]+A[t-6]*i[12]-e[n-7]*i[13]+A[t-7]*i[14]-e[n-8]*i[15]+A[t-8]*i[16]-e[n-9]*i[17]+A[t-9]*i[18]-e[n-10]*i[19]+A[t-10]*i[20],++n,++t}function a(A,t,e,n,r,i){for(;0!=r--;)e[n]=A[t+0]*i[0]-e[n-1]*i[1]+A[t-1]*i[2]-e[n-2]*i[3]+A[t-2]*i[4],++n,++t}function l(A){return A*A}this.InitGainAnalysis=function(t,n){return function(t,n){for(var i=0;i<MAX_ORDER;i++)t.linprebuf[i]=t.lstepbuf[i]=t.loutbuf[i]=t.rinprebuf[i]=t.rstepbuf[i]=t.routbuf[i]=0;switch(0|n){case 48e3:t.reqindex=0;break;case 44100:t.reqindex=1;break;case 32e3:t.reqindex=2;break;case 24e3:t.reqindex=3;break;case 22050:t.reqindex=4;break;case 16e3:t.reqindex=5;break;case 12e3:t.reqindex=6;break;case 11025:t.reqindex=7;break;case 8e3:t.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return t.sampleWindow=0|(n*A+r-1)/r,t.lsum=0,t.rsum=0,t.totsamp=0,e.ill(t.A,0),INIT_GAIN_ANALYSIS_OK}(t,n)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(t.linpre=MAX_ORDER,t.rinpre=MAX_ORDER,t.lstep=MAX_ORDER,t.rstep=MAX_ORDER,t.lout=MAX_ORDER,t.rout=MAX_ORDER,e.fill(t.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(A,e,r,u,c,h,f){var d,p,g,B,m,w,_;if(0==h)return GAIN_ANALYSIS_OK;switch(_=0,m=h,f){case 1:u=e,c=r;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(h<MAX_ORDER?(t.arraycopy(e,r,A.linprebuf,MAX_ORDER,h),t.arraycopy(u,c,A.rinprebuf,MAX_ORDER,h)):(t.arraycopy(e,r,A.linprebuf,MAX_ORDER,MAX_ORDER),t.arraycopy(u,c,A.rinprebuf,MAX_ORDER,MAX_ORDER));m>0;){w=m>A.sampleWindow-A.totsamp?A.sampleWindow-A.totsamp:m,_<MAX_ORDER?(d=A.linpre+_,p=A.linprebuf,g=A.rinpre+_,B=A.rinprebuf,w>MAX_ORDER-_&&(w=MAX_ORDER-_)):(d=r+_,p=e,g=c+_,B=u),o(p,d,A.lstepbuf,A.lstep+A.totsamp,w,i[A.reqindex]),o(B,g,A.rstepbuf,A.rstep+A.totsamp,w,i[A.reqindex]),a(A.lstepbuf,A.lstep+A.totsamp,A.loutbuf,A.lout+A.totsamp,w,s[A.reqindex]),a(A.rstepbuf,A.rstep+A.totsamp,A.routbuf,A.rout+A.totsamp,w,s[A.reqindex]),d=A.lout+A.totsamp,p=A.loutbuf,g=A.rout+A.totsamp,B=A.routbuf;for(var y=w%8;0!=y--;)A.lsum+=l(p[d++]),A.rsum+=l(B[g++]);for(y=w/8;0!=y--;)A.lsum+=l(p[d+0])+l(p[d+1])+l(p[d+2])+l(p[d+3])+l(p[d+4])+l(p[d+5])+l(p[d+6])+l(p[d+7]),d+=8,A.rsum+=l(B[g+0])+l(B[g+1])+l(B[g+2])+l(B[g+3])+l(B[g+4])+l(B[g+5])+l(B[g+6])+l(B[g+7]),g+=8;if(m-=w,_+=w,A.totsamp+=w,A.totsamp==A.sampleWindow){var v=10*n.STEPS_per_dB*Math.log10((A.lsum+A.rsum)/A.totsamp*.5+1e-37),C=v<=0?0:0|v;C>=A.A.length&&(C=A.A.length-1),A.A[C]++,A.lsum=A.rsum=0,t.arraycopy(A.loutbuf,A.totsamp,A.loutbuf,0,MAX_ORDER),t.arraycopy(A.routbuf,A.totsamp,A.routbuf,0,MAX_ORDER),t.arraycopy(A.lstepbuf,A.totsamp,A.lstepbuf,0,MAX_ORDER),t.arraycopy(A.rstepbuf,A.totsamp,A.rstepbuf,0,MAX_ORDER),A.totsamp=0}if(A.totsamp>A.sampleWindow)return GAIN_ANALYSIS_ERROR}return h<MAX_ORDER?(t.arraycopy(A.linprebuf,h,A.linprebuf,0,MAX_ORDER-h),t.arraycopy(A.rinprebuf,h,A.rinprebuf,0,MAX_ORDER-h),t.arraycopy(e,r,A.linprebuf,MAX_ORDER-h,h),t.arraycopy(u,c,A.rinprebuf,MAX_ORDER-h,h)):(t.arraycopy(e,r+h-MAX_ORDER,A.linprebuf,0,MAX_ORDER),t.arraycopy(u,c+h-MAX_ORDER,A.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(A){for(var t=function(A,t){var e,r=0;for(e=0;e<t;e++)r+=A[e];if(0==r)return GAIN_NOT_ENOUGH_SAMPLES;var i=0|Math.ceil(r*(1-.95));for(e=t;e-- >0&&!((i-=A[e])<=0););return 64.82-e/n.STEPS_per_dB}(A.A,A.A.length),e=0;e<A.A.length;e++)A.B[e]+=A.A[e],A.A[e]=0;for(e=0;e<MAX_ORDER;e++)A.linprebuf[e]=A.lstepbuf[e]=A.loutbuf[e]=A.rinprebuf[e]=A.rstepbuf[e]=A.routbuf[e]=0;return A.totsamp=0,A.lsum=A.rsum=0,t}}return A.new_array_n,A.new_byte,A.new_double,A.new_float,A.new_float_n,A.new_int,A.new_int_n,A.assert,n.STEPS_per_dB=100,n.MAX_dB=120,n.GAIN_NOT_ENOUGH_SAMPLES=-24601,n.GAIN_ANALYSIS_ERROR=0,n.GAIN_ANALYSIS_OK=1,n.INIT_GAIN_ANALYSIS_ERROR=0,n.INIT_GAIN_ANALYSIS_OK=1,n.YULE_ORDER=10,n.MAX_ORDER=n.YULE_ORDER,n.MAX_SAMP_FREQ=48e3,n.RMS_WINDOW_TIME_NUMERATOR=1,n.RMS_WINDOW_TIME_DENOMINATOR=20,n.MAX_SAMPLES_PER_WINDOW=n.MAX_SAMP_FREQ*n.RMS_WINDOW_TIME_NUMERATOR/n.RMS_WINDOW_TIME_DENOMINATOR+1,il=n}function zl(){if(ul)return ll;return ul=1,ll=function(A){this.bits=A}}function Zl(){if(dl)return fl;function A(A,t,e,n){this.xlen=A,this.linmax=t,this.table=e,this.hlen=n}dl=1;var t={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};return t.ht=[new A(0,0,null,null),new A(2,0,t.t1HB,t.t1l),new A(3,0,t.t2HB,t.t2l),new A(3,0,t.t3HB,t.t3l),new A(0,0,null,null),new A(4,0,t.t5HB,t.t5l),new A(4,0,t.t6HB,t.t6l),new A(6,0,t.t7HB,t.t7l),new A(6,0,t.t8HB,t.t8l),new A(6,0,t.t9HB,t.t9l),new A(8,0,t.t10HB,t.t10l),new A(8,0,t.t11HB,t.t11l),new A(8,0,t.t12HB,t.t12l),new A(16,0,t.t13HB,t.t13l),new A(0,0,null,t.t16_5l),new A(16,0,t.t15HB,t.t15l),new A(1,1,t.t16HB,t.t16l),new A(2,3,t.t16HB,t.t16l),new A(3,7,t.t16HB,t.t16l),new A(4,15,t.t16HB,t.t16l),new A(6,63,t.t16HB,t.t16l),new A(8,255,t.t16HB,t.t16l),new A(10,1023,t.t16HB,t.t16l),new A(13,8191,t.t16HB,t.t16l),new A(4,15,t.t24HB,t.t24l),new A(5,31,t.t24HB,t.t24l),new A(6,63,t.t24HB,t.t24l),new A(7,127,t.t24HB,t.t24l),new A(8,255,t.t24HB,t.t24l),new A(9,511,t.t24HB,t.t24l),new A(11,2047,t.t24HB,t.t24l),new A(13,8191,t.t24HB,t.t24l),new A(0,0,t.t32HB,t.t32l),new A(0,0,t.t33HB,t.t33l)],t.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],t.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],t.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],t.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],t.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],t.scfsi_band=[0,6,11,16,21],fl=t}function $l(){if(gl)return pl;gl=1;var A=jl(),t=kl();t.System;var e=t.VbrMode,n=t.Float;t.ShortBlock;var r=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var i=t.new_float;t.new_float_n;var s=t.new_int;t.new_int_n;var o=t.assert,a=Kl(),l=zl(),u=Jl();function c(){var t=null,h=null,f=null;function d(A){return o(0<=A+c.Q_MAX2&&A<c.Q_MAX),_[A+c.Q_MAX2]}this.setModules=function(A,e,n){t=A,h=e,f=n},this.IPOW20=function(A){return o(0<=A&&A<c.Q_MAX),y[A]};var p=2220446049250313e-31,g=c.IXMAX_VAL+2,B=c.Q_MAX,m=c.Q_MAX2;c.LARGE_BITS;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var w=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=w,this.sfBandIndex=[new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var _=i(B+m+1),y=i(B),v=i(g),C=i(g);function b(A,t){var e=f.ATHformula(t,A);return e-=100,e=Math.pow(10,e/10+A.ATHlower)}function E(A){this.s=A}this.adj43=C,this.iteration_init=function(A){var e,r=A.internal_flags,i=r.l3_side;if(0==r.iteration_init_init){for(r.iteration_init_init=1,i.main_data_begin=0,function(A){for(var t=A.internal_flags.ATH.l,e=A.internal_flags.ATH.psfb21,r=A.internal_flags.ATH.s,i=A.internal_flags.ATH.psfb12,s=A.internal_flags,o=A.out_samplerate,l=0;l<a.SBMAX_l;l++){var u=s.scalefac_band.l[l],c=s.scalefac_band.l[l+1];t[l]=n.MAX_VALUE;for(var h=u;h<c;h++){var f=b(A,h*o/1152);t[l]=Math.min(t[l],f)}}for(l=0;l<a.PSFB21;l++)for(u=s.scalefac_band.psfb21[l],c=s.scalefac_band.psfb21[l+1],e[l]=n.MAX_VALUE,h=u;h<c;h++)f=b(A,h*o/1152),e[l]=Math.min(e[l],f);for(l=0;l<a.SBMAX_s;l++){for(u=s.scalefac_band.s[l],c=s.scalefac_band.s[l+1],r[l]=n.MAX_VALUE,h=u;h<c;h++)f=b(A,h*o/384),r[l]=Math.min(r[l],f);r[l]*=s.scalefac_band.s[l+1]-s.scalefac_band.s[l]}for(l=0;l<a.PSFB12;l++){for(u=s.scalefac_band.psfb12[l],c=s.scalefac_band.psfb12[l+1],i[l]=n.MAX_VALUE,h=u;h<c;h++)f=b(A,h*o/384),i[l]=Math.min(i[l],f);i[l]*=s.scalefac_band.s[13]-s.scalefac_band.s[12]}if(A.noATH){for(l=0;l<a.SBMAX_l;l++)t[l]=1e-20;for(l=0;l<a.PSFB21;l++)e[l]=1e-20;for(l=0;l<a.SBMAX_s;l++)r[l]=1e-20;for(l=0;l<a.PSFB12;l++)i[l]=1e-20}s.ATH.floor=10*Math.log10(b(A,-1))}(A),v[0]=0,e=1;e<g;e++)v[e]=Math.pow(e,4/3);for(e=0;e<g-1;e++)C[e]=e+1-Math.pow(.5*(v[e]+v[e+1]),.75);for(C[e]=.5,e=0;e<B;e++)y[e]=Math.pow(2,-.1875*(e-210));for(e=0;e<=B+m;e++)_[e]=Math.pow(2,.25*(e-210-m));var s,o,l,u;for(t.huffman_init(r),(e=A.exp_nspsytune>>2&63)>=32&&(e-=64),s=Math.pow(10,e/4/10),(e=A.exp_nspsytune>>8&63)>=32&&(e-=64),o=Math.pow(10,e/4/10),(e=A.exp_nspsytune>>14&63)>=32&&(e-=64),l=Math.pow(10,e/4/10),(e=A.exp_nspsytune>>20&63)>=32&&(e-=64),u=l*Math.pow(10,e/4/10),e=0;e<a.SBMAX_l;e++){c=e<=6?s:e<=13?o:e<=20?l:u,r.nsPsy.longfact[e]=c}for(e=0;e<a.SBMAX_s;e++){var c;c=e<=5?s:e<=10?o:e<=11?l:u,r.nsPsy.shortfact[e]=c}}},this.on_pe=function(A,t,e,n,r,i){var a,c,f=A.internal_flags,d=0,p=s(2),g=new l(d),B=h.ResvMaxBits(A,n,g,i),m=(d=g.bits)+B;for(m>u.MAX_BITS_PER_GRANULE&&(m=u.MAX_BITS_PER_GRANULE),a=0,c=0;c<f.channels_out;++c)e[c]=Math.min(u.MAX_BITS_PER_CHANNEL,d/f.channels_out),p[c]=0|e[c]*t[r][c]/700-e[c],p[c]>3*n/4&&(p[c]=3*n/4),p[c]<0&&(p[c]=0),p[c]+e[c]>u.MAX_BITS_PER_CHANNEL&&(p[c]=Math.max(0,u.MAX_BITS_PER_CHANNEL-e[c])),a+=p[c];if(a>B)for(c=0;c<f.channels_out;++c)p[c]=B*p[c]/a;for(c=0;c<f.channels_out;++c)e[c]+=p[c],B-=p[c];for(a=0,c=0;c<f.channels_out;++c)a+=e[c];if(a>u.MAX_BITS_PER_GRANULE){var w=0;for(c=0;c<f.channels_out;++c)e[c]*=u.MAX_BITS_PER_GRANULE,e[c]/=a,w+=e[c];o(w<=u.MAX_BITS_PER_GRANULE)}return m},this.reduce_side=function(A,t,e,n){o(n<=u.MAX_BITS_PER_GRANULE),o(A[0]+A[1]<=u.MAX_BITS_PER_GRANULE);var r=.33*(.5-t)/.5;r<0&&(r=0),r>.5&&(r=.5);var i=0|.5*r*(A[0]+A[1]);i>u.MAX_BITS_PER_CHANNEL-A[0]&&(i=u.MAX_BITS_PER_CHANNEL-A[0]),i<0&&(i=0),A[1]>=125&&(A[1]-i>125?(A[0]<e&&(A[0]+=i),A[1]-=i):(A[0]+=A[1]-125,A[1]=125)),(i=A[0]+A[1])>n&&(A[0]=n*A[0]/i,A[1]=n*A[1]/i),o(A[0]<=u.MAX_BITS_PER_CHANNEL),o(A[1]<=u.MAX_BITS_PER_CHANNEL),o(A[0]+A[1]<=u.MAX_BITS_PER_GRANULE)},this.athAdjust=function(A,t,e){var n=90.30873362,i=r.FAST_LOG10_X(t,10),s=A*A,o=0;return i-=e,s>1e-20&&(o=1+r.FAST_LOG10_X(s,10/n)),o<0&&(o=0),i*=o,i+=e+n-94.82444863,Math.pow(10,.1*i)},this.calc_xmin=function(A,t,n,r){var i,s=0,o=A.internal_flags,l=0,u=0,c=o.ATH,h=n.xr,f=A.VBR==e.vbr_mtrh?1:0,d=o.masking_lower;for(A.VBR!=e.vbr_mtrh&&A.VBR!=e.vbr_mt||(d=1),i=0;i<n.psy_lmax;i++){C=(v=A.VBR==e.vbr_rh||A.VBR==e.vbr_mtrh?athAdjust(c.adjust,c.l[i],c.floor):c.adjust*c.l[i])/(w=n.width[i]),b=p,F=w>>1,Q=0;do{Q+=I=h[l]*h[l],b+=I<C?I:C,Q+=S=h[++l]*h[l],b+=S<C?S:C,l++}while(--F>0);if(Q>v&&u++,i==a.SBPSY_l)b<(U=v*o.nsPsy.longfact[i])&&(b=U);if(0!=f&&(v=b),!A.ATHonly)if((E=t.en.l[i])>0)U=Q*t.thm.l[i]*d/E,0!=f&&(U*=o.nsPsy.longfact[i]),v<U&&(v=U);r[s++]=0!=f?v:v*o.nsPsy.longfact[i]}var g=575;if(n.block_type!=a.SHORT_TYPE)for(var B=576;0!=B--&&BitStream.EQ(h[B],0);)g=B;n.max_nonzero_coeff=g;for(var m=n.sfb_smin;i<n.psymax;m++,i+=3){var w,_,y;for(y=A.VBR==e.vbr_rh||A.VBR==e.vbr_mtrh?athAdjust(c.adjust,c.s[m],c.floor):c.adjust*c.s[m],w=n.width[i],_=0;_<3;_++){var v,C,b,E,U,Q=0,F=w>>1;C=y/w,b=p;do{var I,S;Q+=I=h[l]*h[l],b+=I<C?I:C,Q+=S=h[++l]*h[l],b+=S<C?S:C,l++}while(--F>0);if(Q>y&&u++,m==a.SBPSY_s)b<(U=y*o.nsPsy.shortfact[m])&&(b=U);if(v=0!=f?b:y,!A.ATHonly&&!A.ATHshort)if((E=t.en.s[m][_])>0)U=Q*t.thm.s[m][_]*d/E,0!=f&&(U*=o.nsPsy.shortfact[m]),v<U&&(v=U);r[s++]=0!=f?v:v*o.nsPsy.shortfact[m]}A.useTemporal&&(r[s-3]>r[s-3+1]&&(r[s-3+1]+=(r[s-3]-r[s-3+1])*o.decay),r[s-3+1]>r[s-3+2]&&(r[s-3+2]+=(r[s-3+1]-r[s-3+2])*o.decay))}return u},this.calc_noise_core=function(A,t,e,n){var r=0,s=t.s,o=A.l3_enc;if(s>A.count1)for(;0!=e--;){l=A.xr[s],s++,r+=l*l,l=A.xr[s],s++,r+=l*l}else if(s>A.big_values){var a=i(2);for(a[0]=0,a[1]=n;0!=e--;){l=Math.abs(A.xr[s])-a[o[s]],s++,r+=l*l,l=Math.abs(A.xr[s])-a[o[s]],s++,r+=l*l}}else for(;0!=e--;){var l;l=Math.abs(A.xr[s])-v[o[s]]*n,s++,r+=l*l,l=Math.abs(A.xr[s])-v[o[s]]*n,s++,r+=l*l}return t.s=s,r},this.calc_noise=function(A,t,e,n,i){var s,o,a=0,l=0,u=0,c=0,h=0,f=-20,p=0,g=A.scalefac,B=0;for(n.over_SSD=0,s=0;s<A.psymax;s++){var m,_=A.global_gain-(g[B++]+(0!=A.preflag?w[s]:0)<<A.scalefac_scale+1)-8*A.subblock_gain[A.window[s]],y=0;if(null!=i&&i.step[s]==_)y=i.noise[s],p+=A.width[s],e[a++]=y/t[l++],y=i.noise_log[s];else{var v,C=d(_);if(o=A.width[s]>>1,p+A.width[s]>A.max_nonzero_coeff)o=(v=A.max_nonzero_coeff-p+1)>0?v>>1:0;var b=new E(p);y=this.calc_noise_core(A,b,o,C),p=b.s,null!=i&&(i.step[s]=_,i.noise[s]=y),y=e[a++]=y/t[l++],y=r.FAST_LOG10(Math.max(y,1e-20)),null!=i&&(i.noise_log[s]=y)}if(null!=i&&(i.global_gain=A.global_gain),h+=y,y>0)m=Math.max(0|10*y+.5,1),n.over_SSD+=m*m,u++,c+=y;f=Math.max(f,y)}return n.over_count=u,n.tot_noise=h,n.over_noise=c,n.max_noise=f,u},this.set_pinfo=function(A,t,e,n,r){var s,l,u,c,h,f=A.internal_flags,d=0==t.scalefac_scale?.5:1,p=t.scalefac,g=i(L3Side.SFBMAX),B=i(L3Side.SFBMAX),m=new CalcNoiseResult;calc_xmin(A,e,t,g),calc_noise(t,g,B,m,null);var _=0;for(l=t.sfb_lmax,t.block_type!=a.SHORT_TYPE&&0==t.mixed_block_flag&&(l=22),s=0;s<l;s++){var y=f.scalefac_band.l[s],v=(C=f.scalefac_band.l[s+1])-y;for(c=0;_<C;_++)c+=t.xr[_]*t.xr[_];c/=v,h=1e15,f.pinfo.en[n][r][s]=h*c,f.pinfo.xfsf[n][r][s]=h*g[s]*B[s]/v,e.en.l[s]>0&&!A.ATHonly?c/=e.en.l[s]:c=0,f.pinfo.thr[n][r][s]=h*Math.max(c*e.thm.l[s],f.ATH.l[s]),f.pinfo.LAMEsfb[n][r][s]=0,0!=t.preflag&&s>=11&&(f.pinfo.LAMEsfb[n][r][s]=-d*w[s]),s<a.SBPSY_l&&(o(p[s]>=0),f.pinfo.LAMEsfb[n][r][s]-=d*p[s])}if(t.block_type==a.SHORT_TYPE)for(l=s,s=t.sfb_smin;s<a.SBMAX_s;s++){y=f.scalefac_band.s[s],v=(C=f.scalefac_band.s[s+1])-y;for(var C,b=0;b<3;b++){for(c=0,u=y;u<C;u++)c+=t.xr[_]*t.xr[_],_++;c=Math.max(c/v,1e-20),h=1e15,f.pinfo.en_s[n][r][3*s+b]=h*c,f.pinfo.xfsf_s[n][r][3*s+b]=h*g[l]*B[l]/v,e.en.s[s][b]>0?c/=e.en.s[s][b]:c=0,(A.ATHonly||A.ATHshort)&&(c=0),f.pinfo.thr_s[n][r][3*s+b]=h*Math.max(c*e.thm.s[s][b],f.ATH.s[s]),f.pinfo.LAMEsfb_s[n][r][3*s+b]=-2*t.subblock_gain[b],s<a.SBPSY_s&&(f.pinfo.LAMEsfb_s[n][r][3*s+b]-=d*p[l]),l++}}f.pinfo.LAMEqss[n][r]=t.global_gain,f.pinfo.LAMEmainbits[n][r]=t.part2_3_length+t.part2_length,f.pinfo.LAMEsfbits[n][r]=t.part2_length,f.pinfo.over[n][r]=m.over_count,f.pinfo.max_noise[n][r]=10*m.max_noise,f.pinfo.over_noise[n][r]=10*m.over_noise,f.pinfo.tot_noise[n][r]=10*m.tot_noise,f.pinfo.over_SSD[n][r]=m.over_SSD}}return c.Q_MAX=257,c.Q_MAX2=116,c.LARGE_BITS=1e5,c.IXMAX_VAL=8206,pl=c}function Au(){if(ml)return Bl;ml=1;var A=kl(),t=A.System;A.VbrMode,A.Float,A.ShortBlock,A.Util;var e=A.Arrays;A.new_array_n,A.new_byte,A.new_double,A.new_float,A.new_float_n;var n=A.new_int;A.new_int_n;var r=A.assert,i=Kl(),s=Zl(),o=Yl(),a=$l();return Bl=function A(){var l=null;function u(A){this.bits=0|A}this.qupvt=null,this.setModules=function(A){this.qupvt=A,l=A};var c=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function h(A,t,e,n,i,s){var o=.5946/t;for(r(A>0),A>>=1;0!=A--;)i[s++]=o>e[n++]?0:1,i[s++]=o>e[n++]?0:1}function f(A,t,e,n,i,s){r(A>0);var o=(A>>=1)%2;for(A>>=1;0!=A--;){var a,u,c,h,f,d,p,g;a=e[n++]*t,u=e[n++]*t,f=0|a,c=e[n++]*t,d=0|u,h=e[n++]*t,p=0|c,a+=l.adj43[f],g=0|h,u+=l.adj43[d],i[s++]=0|a,c+=l.adj43[p],i[s++]=0|u,h+=l.adj43[g],i[s++]=0|c,i[s++]=0|h}0!=o&&(f=0|(a=e[n++]*t),d=0|(u=e[n++]*t),a+=l.adj43[f],u+=l.adj43[d],i[s++]=0|a,i[s++]=0|u)}var d=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function p(A,t,e,n){var r=function(A,t,e){var n=0,r=0;do{var i=A[t++],s=A[t++];n<i&&(n=i),r<s&&(r=s)}while(t<e);return n<r&&(n=r),n}(A,t,e);switch(r){case 0:return r;case 1:return function(A,t,e,n){var r=0,i=s.ht[1].hlen;do{var o=2*A[t+0]+A[t+1];t+=2,r+=i[o]}while(t<e);return n.bits+=r,1}(A,t,e,n);case 2:case 3:return function(A,t,e,n,r){var i,o,a=0,l=s.ht[n].xlen;o=2==n?s.table23:s.table56;do{var u=A[t+0]*l+A[t+1];t+=2,a+=o[u]}while(t<e);return i=65535&a,(a>>=16)>i&&(a=i,n++),r.bits+=a,n}(A,t,e,d[r-1],n);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(A,t,e,n,r){var i=0,o=0,a=0,l=s.ht[n].xlen,u=s.ht[n].hlen,c=s.ht[n+1].hlen,h=s.ht[n+2].hlen;do{var f=A[t+0]*l+A[t+1];t+=2,i+=u[f],o+=c[f],a+=h[f]}while(t<e);var d=n;return i>o&&(i=o,d++),i>a&&(i=a,d=n+2),r.bits+=i,d}(A,t,e,d[r-1],n);default:if(r>a.IXMAX_VAL)return n.bits=a.LARGE_BITS,-1;var i,o;for(r-=15,i=24;i<32&&!(s.ht[i].linmax>=r);i++);for(o=i-8;o<24&&!(s.ht[o].linmax>=r);o++);return function(A,t,e,n,r,i){var o,a=65536*s.ht[n].xlen+s.ht[r].xlen,l=0;do{var u=A[t++],c=A[t++];0!=u&&(u>14&&(u=15,l+=a),u*=16),0!=c&&(c>14&&(c=15,l+=a),u+=c),l+=s.largetbl[u]}while(t<e);return o=65535&l,(l>>=16)>o&&(l=o,n=r),i.bits+=l,n}(A,t,e,o,i,n)}}function g(A,t,e,n,r,s,o,a){for(var l=t.big_values,c=2;c<i.SBMAX_l+1;c++){var h=A.scalefac_band.l[c];if(h>=l)break;var f=r[c-2]+t.count1bits;if(e.part2_3_length<=f)break;var d=new u(f),g=p(n,h,l,d);f=d.bits,e.part2_3_length<=f||(e.assign(t),e.part2_3_length=f,e.region0_count=s[c-2],e.region1_count=c-2-s[c-2],e.table_select[0]=o[c-2],e.table_select[1]=a[c-2],e.table_select[2]=g)}}this.noquant_count_bits=function(A,t,e){var n=t.l3_enc,o=Math.min(576,t.max_nonzero_coeff+2>>1<<1);for(null!=e&&(e.sfb_count1=0);o>1&&0==(n[o-1]|n[o-2]);o-=2);t.count1=o;for(var a=0,l=0;o>3;o-=4){var c;if((2147483647&(n[o-1]|n[o-2]|n[o-3]|n[o-4]))>1)break;c=2*(2*(2*n[o-4]+n[o-3])+n[o-2])+n[o-1],a+=s.t32l[c],l+=s.t33l[c]}var h=a;if(t.count1table_select=0,a>l&&(h=l,t.count1table_select=1),t.count1bits=h,t.big_values=o,0==o)return h;if(t.block_type==i.SHORT_TYPE)(a=3*A.scalefac_band.s[3])>t.big_values&&(a=t.big_values),l=t.big_values;else if(t.block_type==i.NORM_TYPE){if(r(o<=576),a=t.region0_count=A.bv_scf[o-2],l=t.region1_count=A.bv_scf[o-1],r(a+l+2<i.SBPSY_l),l=A.scalefac_band.l[a+l+2],a=A.scalefac_band.l[a+1],l<o){var f=new u(h);t.table_select[2]=p(n,l,o,f),h=f.bits}}else t.region0_count=7,t.region1_count=i.SBMAX_l-1-7-1,(a=A.scalefac_band.l[8])>(l=o)&&(a=l);if(a=Math.min(a,o),l=Math.min(l,o),r(a>=0),r(l>=0),0<a){f=new u(h);t.table_select[0]=p(n,0,a,f),h=f.bits}if(a<l){f=new u(h);t.table_select[1]=p(n,a,l,f),h=f.bits}if(2==A.use_best_huffman&&(t.part2_3_length=h,best_huffman_divide(A,t),h=t.part2_3_length),null!=e&&t.block_type==i.NORM_TYPE){for(var d=0;A.scalefac_band.l[d]<t.big_values;)d++;e.sfb_count1=d}return h},this.count_bits=function(A,t,n,s){var o=n.l3_enc,u=a.IXMAX_VAL/l.IPOW20(n.global_gain);if(n.xrpow_max>u)return a.LARGE_BITS;if(function(A,t,n,s,o){var a,u,c,d=0,p=0,g=0,B=0,m=t,w=0,_=m,y=0,v=A,C=0;for(c=null!=o&&s.global_gain==o.global_gain,u=s.block_type==i.SHORT_TYPE?38:21,a=0;a<=u;a++){var b=-1;if((c||s.block_type==i.NORM_TYPE)&&(b=s.global_gain-(s.scalefac[a]+(0!=s.preflag?l.pretab[a]:0)<<s.scalefac_scale+1)-8*s.subblock_gain[s.window[a]]),r(s.width[a]>=0),c&&o.step[a]==b)0!=p&&(f(p,n,v,C,_,y),p=0),0!=g&&(h(g,n,v,C,_,y),g=0);else{var E,U=s.width[a];if(d+s.width[a]>s.max_nonzero_coeff&&(E=s.max_nonzero_coeff-d+1,e.fill(t,s.max_nonzero_coeff,576,0),(U=E)<0&&(U=0),a=u+1),0==p&&0==g&&(_=m,y=w,v=A,C=B),null!=o&&o.sfb_count1>0&&a>=o.sfb_count1&&o.step[a]>0&&b>=o.step[a]?(0!=p&&(f(p,n,v,C,_,y),p=0,_=m,y=w,v=A,C=B),g+=U):(0!=g&&(h(g,n,v,C,_,y),g=0,_=m,y=w,v=A,C=B),p+=U),U<=0){0!=g&&(h(g,n,v,C,_,y),g=0),0!=p&&(f(p,n,v,C,_,y),p=0);break}}a<=u&&(w+=s.width[a],B+=s.width[a],d+=s.width[a])}0!=p&&(f(p,n,v,C,_,y),p=0),0!=g&&(h(g,n,v,C,_,y),g=0)}(t,o,l.IPOW20(n.global_gain),n,s),2&A.substep_shaping)for(var c=0,d=n.global_gain+n.scalefac_scale,p=.634521682242439/l.IPOW20(d),g=0;g<n.sfbmax;g++){var B,m=n.width[g];if(r(m>=0),0==A.pseudohalf[g])c+=m;else for(B=c,c+=m;B<c;++B)o[B]=t[B]>=p?o[B]:0}return this.noquant_count_bits(A,n,s)},this.best_huffman_divide=function(A,t){var e=new o,l=t.l3_enc,c=n(23),h=n(23),f=n(23),d=n(23);if(t.block_type!=i.SHORT_TYPE||1!=A.mode_gr){e.assign(t),t.block_type==i.NORM_TYPE&&(!function(A,t,e,n,r,i,s){for(var o=t.big_values,l=0;l<=22;l++)n[l]=a.LARGE_BITS;for(l=0;l<16;l++){var c=A.scalefac_band.l[l+1];if(c>=o)break;var h=0,f=new u(h),d=p(e,0,c,f);h=f.bits;for(var g=0;g<8;g++){var B=A.scalefac_band.l[l+g+2];if(B>=o)break;var m=h,w=p(e,c,B,f=new u(m));m=f.bits,n[l+g]>m&&(n[l+g]=m,r[l+g]=l,i[l+g]=d,s[l+g]=w)}}}(A,t,l,c,h,f,d),g(A,e,t,l,c,h,f,d));var B=e.big_values;if(!(0==B||(l[B-2]|l[B-1])>1||(B=t.count1+2)>576)){e.assign(t),e.count1=B;var m=0,w=0;for(r(B<=576);B>e.big_values;B-=4){var _=2*(2*(2*l[B-4]+l[B-3])+l[B-2])+l[B-1];m+=s.t32l[_],w+=s.t33l[_]}if(e.big_values=B,e.count1table_select=0,m>w&&(m=w,e.count1table_select=1),e.count1bits=m,e.block_type==i.NORM_TYPE)g(A,e,t,l,c,h,f,d);else{if(e.part2_3_length=m,(m=A.scalefac_band.l[8])>B&&(m=B),m>0){var y=new u(e.part2_3_length);e.table_select[0]=p(l,0,m,y),e.part2_3_length=y.bits}if(B>m){y=new u(e.part2_3_length);e.table_select[1]=p(l,m,B,y),e.part2_3_length=y.bits}t.part2_3_length>e.part2_3_length&&t.assign(e)}}}};var B=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],m=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],w=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],_=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];A.slen1_tab=w,A.slen2_tab=_,this.best_scalefac_store=function(A,t,e,n){var o,a,u,c,h=n.tt[t][e],f=0;for(u=0,o=0;o<h.sfbmax;o++){var d=h.width[o];for(r(d>=0),u+=d,c=-d;c<0&&0==h.l3_enc[c+u];c++);0==c&&(h.scalefac[o]=f=-2)}if(0==h.scalefac_scale&&0==h.preflag){var p=0;for(o=0;o<h.sfbmax;o++)h.scalefac[o]>0&&(p|=h.scalefac[o]);if(!(1&p)&&0!=p){for(o=0;o<h.sfbmax;o++)h.scalefac[o]>0&&(h.scalefac[o]>>=1);h.scalefac_scale=f=1}}if(0==h.preflag&&h.block_type!=i.SHORT_TYPE&&2==A.mode_gr){for(o=11;o<i.SBPSY_l&&!(h.scalefac[o]<l.pretab[o]&&-2!=h.scalefac[o]);o++);if(o==i.SBPSY_l){for(o=11;o<i.SBPSY_l;o++)h.scalefac[o]>0&&(h.scalefac[o]-=l.pretab[o]);h.preflag=f=1}}for(a=0;a<4;a++)n.scfsi[e][a]=0;for(2==A.mode_gr&&1==t&&n.tt[0][e].block_type!=i.SHORT_TYPE&&n.tt[1][e].block_type!=i.SHORT_TYPE&&(!function(A,t){for(var e,n=t.tt[1][A],r=t.tt[0][A],o=0;o<s.scfsi_band.length-1;o++){for(e=s.scfsi_band[o];e<s.scfsi_band[o+1]&&!(r.scalefac[e]!=n.scalefac[e]&&n.scalefac[e]>=0);e++);if(e==s.scfsi_band[o+1]){for(e=s.scfsi_band[o];e<s.scfsi_band[o+1];e++)n.scalefac[e]=-1;t.scfsi[A][o]=1}}var a=0,l=0;for(e=0;e<11;e++)-1!=n.scalefac[e]&&(l++,a<n.scalefac[e]&&(a=n.scalefac[e]));for(var u=0,c=0;e<i.SBPSY_l;e++)-1!=n.scalefac[e]&&(c++,u<n.scalefac[e]&&(u=n.scalefac[e]));for(o=0;o<16;o++)if(a<B[o]&&u<m[o]){var h=w[o]*l+_[o]*c;n.part2_length>h&&(n.part2_length=h,n.scalefac_compress=o)}}(e,n),f=0),o=0;o<h.sfbmax;o++)-2==h.scalefac[o]&&(h.scalefac[o]=0);0!=f&&(2==A.mode_gr?this.scale_bitcount(h):this.scale_bitcount_lsf(A,h))};var y=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],v=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],C=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(A){var t,e,n,s=0,o=0,u=A.scalefac;if(r(function(A,t){for(var e=0;e<t;++e)if(A[e]<0)return!1;return!0}(u,A.sfbmax)),A.block_type==i.SHORT_TYPE)n=y,0!=A.mixed_block_flag&&(n=v);else if(n=C,0==A.preflag){for(e=11;e<i.SBPSY_l&&!(u[e]<l.pretab[e]);e++);if(e==i.SBPSY_l)for(A.preflag=1,e=11;e<i.SBPSY_l;e++)u[e]-=l.pretab[e]}for(e=0;e<A.sfbdivide;e++)s<u[e]&&(s=u[e]);for(;e<A.sfbmax;e++)o<u[e]&&(o=u[e]);for(A.part2_length=a.LARGE_BITS,t=0;t<16;t++)s<B[t]&&o<m[t]&&A.part2_length>n[t]&&(A.part2_length=n[t],A.scalefac_compress=t);return A.part2_length==a.LARGE_BITS};var b=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(A,e){var s,o,a,u,c,h,f,d,p=n(4),g=e.scalefac;for(s=0!=e.preflag?2:0,f=0;f<4;f++)p[f]=0;if(e.block_type==i.SHORT_TYPE){o=1;var B=l.nr_of_sfb_block[s][o];for(d=0,a=0;a<4;a++)for(u=B[a]/3,f=0;f<u;f++,d++)for(c=0;c<3;c++)g[3*d+c]>p[a]&&(p[a]=g[3*d+c])}else{o=0;B=l.nr_of_sfb_block[s][o];for(d=0,a=0;a<4;a++)for(u=B[a],f=0;f<u;f++,d++)g[d]>p[a]&&(p[a]=g[d])}for(h=!1,a=0;a<4;a++)p[a]>b[s][a]&&(h=!0);if(!h){var m,w,_,y;for(e.sfb_partition_table=l.nr_of_sfb_block[s][o],a=0;a<4;a++)e.slen[a]=E[p[a]];switch(m=e.slen[0],w=e.slen[1],_=e.slen[2],y=e.slen[3],s){case 0:e.scalefac_compress=(5*m+w<<4)+(_<<2)+y;break;case 1:e.scalefac_compress=400+(5*m+w<<2)+_;break;case 2:e.scalefac_compress=500+3*m+w;break;default:t.err.printf("intensity stereo not implemented yet\n")}}if(!h)for(r(null!=e.sfb_partition_table),e.part2_length=0,a=0;a<4;a++)e.part2_length+=e.slen[a]*e.sfb_partition_table[a];return h};var E=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(A){for(var t=2;t<=576;t+=2){for(var e,n=0;A.scalefac_band.l[++n]<t;);for(e=c[n][0];A.scalefac_band.l[e+1]>t;)e--;for(e<0&&(e=c[n][0]),A.bv_scf[t-2]=e,e=c[n][1];A.scalefac_band.l[e+A.bv_scf[t-2]+2]>t;)e--;e<0&&(e=c[n][1]),A.bv_scf[t-1]=e}}},Bl}function tu(){if(_l)return wl;_l=1;var A=kl(),t=A.System;A.VbrMode,A.Float,A.ShortBlock,A.Util;var e=A.Arrays;A.new_array_n;var n=A.new_byte;A.new_double,A.new_float;var r=A.new_float_n,i=A.new_int;A.new_int_n;var s=A.assert,o=Au(),a=Zl(),l=Kl(),u=Jl();function c(){var A=this,c=32,h=null,f=null,d=null,p=null;this.setModules=function(A,t,e,n){h=A,f=t,d=e,p=n};var g=null,B=0,m=0,w=0;function _(A){t.arraycopy(A.header[A.w_ptr].buf,0,g,m,A.sideinfo_len),m+=A.sideinfo_len,B+=8*A.sideinfo_len,A.w_ptr=A.w_ptr+1&u.MAX_HEADER_BUF-1}function y(A,t,e){for(s(e<30);e>0;){var n;0==w&&(w=8,m++,s(m<Lame.LAME_MAXMP3BUFFER),s(A.header[A.w_ptr].write_timing>=B),A.header[A.w_ptr].write_timing==B&&_(A),g[m]=0),n=Math.min(e,w),w-=n,s((e-=n)<c),s(w<c),g[m]|=t>>e<<w,B+=n}}function v(A,t,e){for(s(e<30);e>0;){var n;0==w&&(w=8,m++,s(m<Lame.LAME_MAXMP3BUFFER),g[m]=0),n=Math.min(e,w),w-=n,s((e-=n)<c),s(w<c),g[m]|=t>>e<<w,B+=n}}function C(A,t){var e,n=A.internal_flags;if(s(t>=0),t>=8&&(y(n,76,8),t-=8),t>=8&&(y(n,65,8),t-=8),t>=8&&(y(n,77,8),t-=8),t>=8&&(y(n,69,8),t-=8),t>=32){var r=d.getLameShortVersion();if(t>=32)for(e=0;e<r.length&&t>=8;++e)t-=8,y(n,r.charAt(e),8)}for(;t>=1;t-=1)y(n,n.ancillary_flag,1),n.ancillary_flag^=A.disable_reservoir?0:1;s(0==t)}function b(A,t,e){for(var n=A.header[A.h_ptr].ptr;e>0;){var r=Math.min(e,8-(7&n));s((e-=r)<c),A.header[A.h_ptr].buf[n>>3]|=t>>e<<8-(7&n)-r,n+=r}A.header[A.h_ptr].ptr=n}function E(A,t){A<<=8;for(var e=0;e<8;e++)65536&((t<<=1)^(A<<=1))&&(t^=32773);return t}function U(A,t){var e,n=a.ht[t.count1table_select+32],r=0,i=t.big_values,o=t.big_values;for(s(t.count1table_select<2),e=(t.count1-t.big_values)/4;e>0;--e){var l,u=0,c=0;0!=(l=t.l3_enc[i+0])&&(c+=8,t.xr[o+0]<0&&u++,s(l<=1)),0!=(l=t.l3_enc[i+1])&&(c+=4,u*=2,t.xr[o+1]<0&&u++,s(l<=1)),0!=(l=t.l3_enc[i+2])&&(c+=2,u*=2,t.xr[o+2]<0&&u++,s(l<=1)),0!=(l=t.l3_enc[i+3])&&(c++,u*=2,t.xr[o+3]<0&&u++,s(l<=1)),i+=4,o+=4,y(A,u+n.table[c],n.hlen[c]),r+=n.hlen[c]}return r}function Q(A,t,e,n,r){var i=a.ht[t],o=0;if(s(t<32),0==t)return o;for(var l=e;l<n;l+=2){var u=0,h=0,f=i.xlen,d=i.xlen,p=0,g=r.l3_enc[l],B=r.l3_enc[l+1];if(0!=g&&(r.xr[l]<0&&p++,u--),t>15){if(g>14){var m=g-15;s(m<=i.linmax),p|=m<<1,h=f,g=15}if(B>14){var w=B-15;s(w<=i.linmax),p<<=f,p|=w,h+=f,B=15}d=16}0!=B&&(p<<=1,r.xr[l+1]<0&&p++,u--),s((g|B)<16),g=g*d+B,h-=u,u+=i.hlen[g],s(u<=c),s(h<=c),y(A,i.table[g],u),y(A,p,h),o+=u+h}return o}function F(A,t){var e=3*A.scalefac_band.s[3];e>t.big_values&&(e=t.big_values);var n=Q(A,t.table_select[0],0,e,t);return n+=Q(A,t.table_select[1],e,t.big_values,t)}function I(A,t){var e,n,r,i;e=t.big_values,s(0<=e&&e<=576);var o=t.region0_count+1;return s(0<=o),s(o<A.scalefac_band.l.length),r=A.scalefac_band.l[o],o+=t.region1_count+1,s(0<=o),s(o<A.scalefac_band.l.length),r>e&&(r=e),(i=A.scalefac_band.l[o])>e&&(i=e),n=Q(A,t.table_select[0],0,r,t),n+=Q(A,t.table_select[1],r,i,t),n+=Q(A,t.table_select[2],i,e,t)}function S(){this.total=0}function T(e,n){var r,i,s,o,a,l=e.internal_flags;return a=l.w_ptr,-1==(o=l.h_ptr-1)&&(o=u.MAX_HEADER_BUF-1),r=l.header[o].write_timing-B,n.total=r,r>=0&&(i=1+o-a,o<a&&(i=1+o-a+u.MAX_HEADER_BUF),r-=8*i*l.sideinfo_len),r+=s=A.getframebits(e),n.total+=s,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=m+1,r<0&&t.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(A){var t,e=A.internal_flags;return t=0!=e.bitrate_index?a.bitrate_table[A.version][e.bitrate_index]:A.brate,s(8<=t&&t<=640),8*(0|72e3*(A.version+1)*t/A.out_samplerate+e.padding)},this.CRC_writeheader=function(A,t){var e=65535;e=E(255&t[2],e),e=E(255&t[3],e);for(var n=6;n<A.sideinfo_len;n++)e=E(255&t[n],e);t[4]=byte(e>>8),t[5]=byte(255&e)},this.flush_bitstream=function(A){var t,e,n=A.internal_flags,r=n.h_ptr-1;if(-1==r&&(r=u.MAX_HEADER_BUF-1),t=n.l3_side,!((e=T(A,new S))<0)){if(C(A,e),s(n.header[r].write_timing+this.getframebits(A)==B),n.ResvSize=0,t.main_data_begin=0,n.findReplayGain){var i=h.GetTitleGain(n.rgdata);s(NEQ(i,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),n.RadioGain=0|Math.floor(10*i+.5)}n.findPeakSample&&(n.noclipGainChange=0|Math.ceil(20*Math.log10(n.PeakSample/32767)*10),n.noclipGainChange>0&&(EQ(A.scale,1)||EQ(A.scale,0))?n.noclipScale=Math.floor(32767/n.PeakSample*100)/100:n.noclipScale=-1)}},this.add_dummy_byte=function(A,t,e){for(var n,r=A.internal_flags;e-- >0;)for(v(0,t,8),n=0;n<u.MAX_HEADER_BUF;++n)r.header[n].write_timing+=8},this.format_bitstream=function(A){var n,r=A.internal_flags;n=r.l3_side;var i=this.getframebits(A);C(A,n.resvDrain_pre),function(A,n){var r,i,o,a=A.internal_flags;if(r=a.l3_side,a.header[a.h_ptr].ptr=0,e.fill(a.header[a.h_ptr].buf,0,a.sideinfo_len,0),A.out_samplerate<16e3?b(a,4094,12):b(a,4095,12),b(a,A.version,1),b(a,1,2),b(a,A.error_protection?0:1,1),b(a,a.bitrate_index,4),b(a,a.samplerate_index,2),b(a,a.padding,1),b(a,A.extension,1),b(a,A.mode.ordinal(),2),b(a,a.mode_ext,2),b(a,A.copyright,1),b(a,A.original,1),b(a,A.emphasis,2),A.error_protection&&b(a,0,16),1==A.version){for(s(r.main_data_begin>=0),b(a,r.main_data_begin,9),2==a.channels_out?b(a,r.private_bits,3):b(a,r.private_bits,5),o=0;o<a.channels_out;o++){var c;for(c=0;c<4;c++)b(a,r.scfsi[o][c],1)}for(i=0;i<2;i++)for(o=0;o<a.channels_out;o++)b(a,(h=r.tt[i][o]).part2_3_length+h.part2_length,12),b(a,h.big_values/2,9),b(a,h.global_gain,8),b(a,h.scalefac_compress,4),h.block_type!=l.NORM_TYPE?(b(a,1,1),b(a,h.block_type,2),b(a,h.mixed_block_flag,1),14==h.table_select[0]&&(h.table_select[0]=16),b(a,h.table_select[0],5),14==h.table_select[1]&&(h.table_select[1]=16),b(a,h.table_select[1],5),b(a,h.subblock_gain[0],3),b(a,h.subblock_gain[1],3),b(a,h.subblock_gain[2],3)):(b(a,0,1),14==h.table_select[0]&&(h.table_select[0]=16),b(a,h.table_select[0],5),14==h.table_select[1]&&(h.table_select[1]=16),b(a,h.table_select[1],5),14==h.table_select[2]&&(h.table_select[2]=16),b(a,h.table_select[2],5),s(0<=h.region0_count&&h.region0_count<16),s(0<=h.region1_count&&h.region1_count<8),b(a,h.region0_count,4),b(a,h.region1_count,3)),b(a,h.preflag,1),b(a,h.scalefac_scale,1),b(a,h.count1table_select,1)}else for(s(r.main_data_begin>=0),b(a,r.main_data_begin,8),b(a,r.private_bits,a.channels_out),i=0,o=0;o<a.channels_out;o++){var h;b(a,(h=r.tt[i][o]).part2_3_length+h.part2_length,12),b(a,h.big_values/2,9),b(a,h.global_gain,8),b(a,h.scalefac_compress,9),h.block_type!=l.NORM_TYPE?(b(a,1,1),b(a,h.block_type,2),b(a,h.mixed_block_flag,1),14==h.table_select[0]&&(h.table_select[0]=16),b(a,h.table_select[0],5),14==h.table_select[1]&&(h.table_select[1]=16),b(a,h.table_select[1],5),b(a,h.subblock_gain[0],3),b(a,h.subblock_gain[1],3),b(a,h.subblock_gain[2],3)):(b(a,0,1),14==h.table_select[0]&&(h.table_select[0]=16),b(a,h.table_select[0],5),14==h.table_select[1]&&(h.table_select[1]=16),b(a,h.table_select[1],5),14==h.table_select[2]&&(h.table_select[2]=16),b(a,h.table_select[2],5),s(0<=h.region0_count&&h.region0_count<16),s(0<=h.region1_count&&h.region1_count<8),b(a,h.region0_count,4),b(a,h.region1_count,3)),b(a,h.scalefac_scale,1),b(a,h.count1table_select,1)}A.error_protection&&CRC_writeheader(a,a.header[a.h_ptr].buf);var f=a.h_ptr;s(a.header[f].ptr==8*a.sideinfo_len),a.h_ptr=f+1&u.MAX_HEADER_BUF-1,a.header[a.h_ptr].write_timing=a.header[f].write_timing+n,a.h_ptr==a.w_ptr&&t.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(A,i);var a=8*r.sideinfo_len;if(a+=function(A){var t,e,n,r,i=0,a=A.internal_flags,u=a.l3_side;if(1==A.version)for(t=0;t<2;t++)for(e=0;e<a.channels_out;e++){var c=u.tt[t][e],h=o.slen1_tab[c.scalefac_compress],f=o.slen2_tab[c.scalefac_compress];for(r=0,n=0;n<c.sfbdivide;n++)-1!=c.scalefac[n]&&(y(a,c.scalefac[n],h),r+=h);for(;n<c.sfbmax;n++)-1!=c.scalefac[n]&&(y(a,c.scalefac[n],f),r+=f);s(r==c.part2_length),c.block_type==l.SHORT_TYPE?r+=F(a,c):r+=I(a,c),r+=U(a,c),s(r==c.part2_3_length+c.part2_length),i+=r}else for(t=0,e=0;e<a.channels_out;e++){c=u.tt[t][e];var d,p,g=0;if(s(null!=c.sfb_partition_table),r=0,n=0,p=0,c.block_type==l.SHORT_TYPE){for(;p<4;p++){var B=c.sfb_partition_table[p]/3,m=c.slen[p];for(d=0;d<B;d++,n++)y(a,Math.max(c.scalefac[3*n+0],0),m),y(a,Math.max(c.scalefac[3*n+1],0),m),y(a,Math.max(c.scalefac[3*n+2],0),m),g+=3*m}r+=F(a,c)}else{for(;p<4;p++)for(B=c.sfb_partition_table[p],m=c.slen[p],d=0;d<B;d++,n++)y(a,Math.max(c.scalefac[n],0),m),g+=m;r+=I(a,c)}r+=U(a,c),s(r==c.part2_3_length),s(g==c.part2_length),i+=g+r}return i}(A),C(A,n.resvDrain_post),a+=n.resvDrain_post,n.main_data_begin+=(i-a)/8,T(A,new S)!=r.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*n.main_data_begin!=r.ResvSize&&(t.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*n.main_data_begin,r.ResvSize,n.resvDrain_post,n.resvDrain_pre,8*r.sideinfo_len,a-n.resvDrain_post-8*r.sideinfo_len,a,a%8,i),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),r.ResvSize=8*n.main_data_begin),s(B%8==0),B>1e9){var c;for(c=0;c<u.MAX_HEADER_BUF;++c)r.header[c].write_timing-=B;B=0}return 0},this.copy_buffer=function(A,e,n,o,a){var l=m+1;if(l<=0)return 0;if(0!=o&&l>o)return-1;if(t.arraycopy(g,0,e,n,l),m=-1,w=0,0!=a){var u=i(1);if(u[0]=A.nMusicCRC,p.updateMusicCRC(u,e,n,l),A.nMusicCRC=u[0],l>0&&(A.VBR_seek_table.nBytesWritten+=l),A.decode_on_the_fly)for(var c,d=r([2,1152]),B=l,_=-1;0!=_;)if(_=f.hip_decode1_unclipped(A.hip,e,n,B,d[0],d[1]),B=0,-1==_&&(_=0),_>0){if(s(_<=1152),A.findPeakSample){for(c=0;c<_;c++)d[0][c]>A.PeakSample?A.PeakSample=d[0][c]:-d[0][c]>A.PeakSample&&(A.PeakSample=-d[0][c]);if(A.channels_out>1)for(c=0;c<_;c++)d[1][c]>A.PeakSample?A.PeakSample=d[1][c]:-d[1][c]>A.PeakSample&&(A.PeakSample=-d[1][c])}if(A.findReplayGain&&h.AnalyzeSamples(A.rgdata,d[0],0,d[1],0,_,A.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return l},this.init_bit_stream_w=function(A){g=n(Lame.LAME_MAXMP3BUFFER),A.h_ptr=A.w_ptr=0,A.header[A.h_ptr].write_timing=0,m=-1,w=0,B=0}}return c.EQ=function(A,t){return Math.abs(A)>Math.abs(t)?Math.abs(A-t)<=1e-6*Math.abs(A):Math.abs(A-t)<=1e-6*Math.abs(t)},c.NEQ=function(A,t){return!c.EQ(A,t)},wl=c}function eu(){if(vl)return yl;vl=1;var A=kl(),t=A.System,e=A.VbrMode;A.Float;var n=A.ShortBlock;A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double;var r=A.new_float;A.new_float_n,A.new_int;var i=A.new_int_n,s=A.new_short_n,o=A.assert,a=Gl(),l=function(){if(Va)return ka;Va=1;var A=ql();return ka=function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=A.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}}(),u=Jl(),c=function(){if(rl)return nl;rl=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double;var t=A.new_float;A.new_float_n,A.new_int,A.new_int_n,A.assert;var e=Kl();return nl=function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=t(e.SBMAX_l),this.s=t(e.SBMAX_s),this.psfb21=t(e.PSFB21),this.psfb12=t(e.PSFB12),this.cb_l=t(e.CBANDS),this.cb_s=t(e.CBANDS),this.eql_w=t(e.BLKSIZE/2)}}(),h=function(){if(al)return ol;al=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double;var t=A.new_float;A.new_float_n;var e=A.new_int;A.new_int_n,A.assert;var n=Wl();return ol=function(){this.linprebuf=t(2*n.MAX_ORDER),this.linpre=0,this.lstepbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lstep=0,this.loutbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lout=0,this.rinprebuf=t(2*n.MAX_ORDER),this.rinpre=0,this.rstepbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rstep=0,this.routbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=e(0|n.STEPS_per_dB*n.MAX_dB),this.B=e(0|n.STEPS_per_dB*n.MAX_dB)}}(),f=function(){if(hl)return cl;hl=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double;var t=A.new_float;A.new_float_n;var e=A.new_int;A.new_int_n;var n=A.assert,r=zl(),i=Kl(),s=Xl(),o=Jl();return cl=function(A){var a=A;this.quantize=a,this.iteration_loop=function(A,a,l,u){var c,h=A.internal_flags,f=t(s.SFBMAX),d=t(576),p=e(2),g=0,B=h.l3_side,m=new r(g);this.quantize.rv.ResvFrameBegin(A,m),g=m.bits;for(var w=0;w<h.mode_gr;w++){c=this.quantize.qupvt.on_pe(A,a,p,g,w,w),h.mode_ext==i.MPG_MD_MS_LR&&(this.quantize.ms_convert(h.l3_side,w),this.quantize.qupvt.reduce_side(p,l[w],g,c));for(var _=0;_<h.channels_out;_++){var y,v,C=B.tt[w][_];C.block_type!=i.SHORT_TYPE?(y=0,v=h.PSY.mask_adjust-y):(y=0,v=h.PSY.mask_adjust_short-y),h.masking_lower=Math.pow(10,.1*v),this.quantize.init_outer_loop(h,C),this.quantize.init_xrpow(h,C,d)&&(this.quantize.qupvt.calc_xmin(A,u[w][_],C,f),this.quantize.outer_loop(A,C,f,d,_,p[_])),this.quantize.iteration_finish_one(h,w,_),n(C.part2_3_length<=o.MAX_BITS_PER_CHANNEL),n(C.part2_3_length<=p[_])}}this.quantize.rv.ResvFrameEnd(h,g)}}}(),d=tu(),p=Zl(),g=Kl();return yl=function A(){var B,m,w,_,y,v=this;A.V9=410,A.V8=420,A.V7=430,A.V6=440,A.V5=450,A.V4=460,A.V3=470,A.V2=480,A.V1=490,A.V0=500,A.R3MIX=1e3,A.STANDARD=1001,A.EXTREME=1002,A.INSANE=1003,A.STANDARD_FAST=1004,A.EXTREME_FAST=1005,A.MEDIUM=1006,A.MEDIUM_FAST=1007,A.LAME_MAXMP3BUFFER=147456;var C,b,E,U=new a;function Q(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=r(g.SBMAX_l),this.bo_s_weight=r(g.SBMAX_s)}function F(){this.lowerlimit=0}function I(A,t){this.lowpass=t}this.enc=new g,this.setModules=function(A,t,e,n,r,i,s,o,a){B=A,m=t,w=e,_=n,y=r,C=i,b=o,E=a,this.enc.setModules(m,U,_,C)};var S=4294479419;function T(A){return A>1?0:A<=0?1:Math.cos(Math.PI/2*A)}function x(A,t){switch(A){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0,0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function O(A,t,e){e<16e3&&(t=2);for(var n=p.bitrate_table[t][1],r=2;r<=14;r++)p.bitrate_table[t][r]>0&&Math.abs(p.bitrate_table[t][r]-A)<Math.abs(n-A)&&(n=p.bitrate_table[t][r]);return n}function H(A,t,e){e<16e3&&(t=2);for(var n=0;n<=14;n++)if(p.bitrate_table[t][n]>0&&p.bitrate_table[t][n]==A)return n;return-1}function M(A,t){var e=[new I(8,2e3),new I(16,3700),new I(24,3900),new I(32,5500),new I(40,7e3),new I(48,7500),new I(56,1e4),new I(64,11e3),new I(80,13500),new I(96,15100),new I(112,15600),new I(128,17e3),new I(160,17500),new I(192,18600),new I(224,19400),new I(256,19700),new I(320,20500)],n=v.nearestBitrateFullIndex(t);A.lowerlimit=e[n].lowpass}function R(A){var t=g.BLKSIZE+A.framesize-g.FFTOFFSET;return t=Math.max(t,512+A.framesize-32),o(u.MFSIZE>=t),t}function P(A,t,e,n,r,i){var s=v.enc.lame_encode_mp3_frame(A,t,e,n,r,i);return A.frameNum++,s}function N(){this.n_in=0,this.n_out=0}function L(){this.num_used=0}function D(A,t){return 0!=t?D(t,A%t):A}function k(A,t,e){var n=Math.PI*t;(A/=e)<0&&(A=0),A>1&&(A=1);var r=A-.5,i=.42-.5*Math.cos(2*A*Math.PI)+.08*Math.cos(4*A*Math.PI);return Math.abs(r)<1e-9?n/Math.PI:i*Math.sin(e*n*r)/(Math.PI*e*r)}function V(A,t,e,n,i,s,a,l,c){var h,f,d=A.internal_flags,p=0,g=A.out_samplerate/D(A.out_samplerate,A.in_samplerate);g>u.BPC&&(g=u.BPC);var B=Math.abs(d.resample_ratio-Math.floor(.5+d.resample_ratio))<1e-4?1:0,m=1/d.resample_ratio;m>1&&(m=1);var w=31;0==w%2&&--w;var _=(w+=B)+1;if(0==d.fill_buffer_resample_init){for(d.inbuf_old[0]=r(_),d.inbuf_old[1]=r(_),h=0;h<=2*g;++h)d.blackfilt[h]=r(_);for(d.itime[0]=0,d.itime[1]=0,p=0;p<=2*g;p++){var y=0,v=(p-g)/(2*g);for(h=0;h<=w;h++)y+=d.blackfilt[p][h]=k(h-v,m,w);for(h=0;h<=w;h++)d.blackfilt[p][h]/=y}d.fill_buffer_resample_init=1}var C=d.inbuf_old[c];for(f=0;f<n;f++){var b,E;if(b=f*d.resample_ratio,w+(p=0|Math.floor(b-d.itime[c]))-w/2>=a)break;v=b-d.itime[c]-(p+w%2*.5);o(Math.abs(v)<=.501),E=0|Math.floor(2*v*g+g+.5);var U=0;for(h=0;h<=w;++h){var Q=0|h+p-w/2;o(Q<a),o(Q+_>=0),U+=(Q<0?C[_+Q]:i[s+Q])*d.blackfilt[E][h]}t[e+f]=U}if(l.num_used=Math.min(a,w+p-w/2),d.itime[c]+=l.num_used-f*d.resample_ratio,l.num_used>=_)for(h=0;h<_;h++)C[h]=i[s+l.num_used+h-_];else{var F=_-l.num_used;for(h=0;h<F;++h)C[h]=C[h+l.num_used];for(p=0;h<_;++h,++p)C[h]=i[s+p];o(p==l.num_used)}return f}function K(A,t,e,n,r,i){var s=A.internal_flags;if(s.resample_ratio<.9999||s.resample_ratio>1.0001)for(var o=0;o<s.channels_out;o++){var a=new L;i.n_out=V(A,t[o],s.mf_size,A.framesize,e[o],n,r,a,o),i.n_in=a.num_used}else{i.n_out=Math.min(A.framesize,r),i.n_in=i.n_out;for(var l=0;l<i.n_out;++l)t[0][s.mf_size+l]=e[0][n+l],2==s.channels_out&&(t[1][s.mf_size+l]=e[1][n+l])}}this.lame_init=function(){var A=new l;return function(A){var t;A.class_id=S,t=A.internal_flags=new u,A.mode=MPEGMode.NOT_SET,A.original=1,A.in_samplerate=44100,A.num_channels=2,A.num_samples=-1,A.bWriteVbrTag=!0,A.quality=-1,A.short_blocks=null,t.subblock_gain=-1,A.lowpassfreq=0,A.highpassfreq=0,A.lowpasswidth=-1,A.highpasswidth=-1,A.VBR=e.vbr_off,A.VBR_q=4,A.ATHcurve=-1,A.VBR_mean_bitrate_kbps=128,A.VBR_min_bitrate_kbps=0,A.VBR_max_bitrate_kbps=0,A.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,A.quant_comp=-1,A.quant_comp_short=-1,A.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,A.scale=-1,A.athaa_type=-1,A.ATHtype=-1,A.athaa_loudapprox=-1,A.athaa_sensitivity=0,A.useTemporal=null,A.interChRatio=-1,t.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY,A.encoder_padding=0,t.mf_size=g.ENCDELAY-g.MDCTDELAY,A.findReplayGain=!1,A.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,A.preset=0,A.write_id3tag_automatic=!0}(A),A.lame_allocated_gfp=1,A},this.nearestBitrateFullIndex=function(A){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],e=0,n=0,r=0,i=0;i=t[16],r=16,n=t[16],e=16;for(var s=0;s<16;s++)if(Math.max(A,t[s+1])!=A){i=t[s+1],r=s+1,n=t[s],e=s;break}return i-A>A-n?e:r},this.lame_init_params=function(A){var r,s,l,u=A.internal_flags;if(u.Class_ID=0,null==u.ATH&&(u.ATH=new c),null==u.PSY&&(u.PSY=new Q),null==u.rgdata&&(u.rgdata=new h),u.channels_in=A.num_channels,1==u.channels_in&&(A.mode=MPEGMode.MONO),u.channels_out=A.mode==MPEGMode.MONO?1:2,u.mode_ext=g.MPG_MD_MS_LR,A.mode==MPEGMode.MONO&&(A.force_ms=!1),A.VBR==e.vbr_off&&128!=A.VBR_mean_bitrate_kbps&&0==A.brate&&(A.brate=A.VBR_mean_bitrate_kbps),A.VBR==e.vbr_off||A.VBR==e.vbr_mtrh||A.VBR==e.vbr_mt||(A.free_format=!1),A.VBR==e.vbr_off&&0==A.brate&&d.EQ(A.compression_ratio,0)&&(A.compression_ratio=11.025),A.VBR==e.vbr_off&&A.compression_ratio>0&&(0==A.out_samplerate&&(A.out_samplerate=map2MP3Frequency(int(.97*A.in_samplerate))),A.brate=0|16*A.out_samplerate*u.channels_out/(1e3*A.compression_ratio),u.samplerate_index=x(A.out_samplerate,A),A.free_format||(A.brate=O(A.brate,A.version,A.out_samplerate))),0!=A.out_samplerate&&(A.out_samplerate<16e3?(A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,8),A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,64)):A.out_samplerate<32e3?(A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,8),A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,160)):(A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,32),A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,320))),0==A.lowpassfreq){var v=16e3;switch(A.VBR){case e.vbr_off:M(I=new F,A.brate),v=I.lowerlimit;break;case e.vbr_abr:var I;M(I=new F,A.VBR_mean_bitrate_kbps),v=I.lowerlimit;break;case e.vbr_rh:var R=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=A.VBR_q&&A.VBR_q<=9){var P=R[A.VBR_q],N=R[A.VBR_q+1],L=A.VBR_q_frac;v=linear_int(P,N,L)}else v=19500;break;default:R=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=A.VBR_q&&A.VBR_q<=9){P=R[A.VBR_q],N=R[A.VBR_q+1],L=A.VBR_q_frac;v=linear_int(P,N,L)}else v=19500}A.mode!=MPEGMode.MONO||A.VBR!=e.vbr_off&&A.VBR!=e.vbr_abr||(v*=1.5),A.lowpassfreq=0|v}if(0==A.out_samplerate&&(2*A.lowpassfreq>A.in_samplerate&&(A.lowpassfreq=A.in_samplerate/2),A.out_samplerate=(r=0|A.lowpassfreq,s=A.in_samplerate,l=44100,s>=48e3?l=48e3:s>=44100?l=44100:s>=32e3?l=32e3:s>=24e3?l=24e3:s>=22050?l=22050:s>=16e3?l=16e3:s>=12e3?l=12e3:s>=11025?l=11025:s>=8e3&&(l=8e3),-1==r?l:(r<=15960&&(l=44100),r<=15250&&(l=32e3),r<=11220&&(l=24e3),r<=9970&&(l=22050),r<=7230&&(l=16e3),r<=5420&&(l=12e3),r<=4510&&(l=11025),r<=3970&&(l=8e3),s<l?s>44100?48e3:s>32e3?44100:s>24e3?32e3:s>22050?24e3:s>16e3?22050:s>12e3?16e3:s>11025?12e3:s>8e3?11025:8e3:l))),A.lowpassfreq=Math.min(20500,A.lowpassfreq),A.lowpassfreq=Math.min(A.out_samplerate/2,A.lowpassfreq),A.VBR==e.vbr_off&&(A.compression_ratio=16*A.out_samplerate*u.channels_out/(1e3*A.brate)),A.VBR==e.vbr_abr&&(A.compression_ratio=16*A.out_samplerate*u.channels_out/(1e3*A.VBR_mean_bitrate_kbps)),A.bWriteVbrTag||(A.findReplayGain=!1,A.decode_on_the_fly=!1,u.findPeakSample=!1),u.findReplayGain=A.findReplayGain,u.decode_on_the_fly=A.decode_on_the_fly,u.decode_on_the_fly&&(u.findPeakSample=!0),u.findReplayGain&&B.InitGainAnalysis(u.rgdata,A.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return A.internal_flags=null,-6;switch(u.decode_on_the_fly&&!A.decode_only&&(null!=u.hip&&E.hip_decode_exit(u.hip),u.hip=E.hip_decode_init()),u.mode_gr=A.out_samplerate<=24e3?1:2,A.framesize=576*u.mode_gr,A.encoder_delay=g.ENCDELAY,u.resample_ratio=A.in_samplerate/A.out_samplerate,A.VBR){case e.vbr_mt:case e.vbr_rh:case e.vbr_mtrh:A.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][A.VBR_q];break;case e.vbr_abr:A.compression_ratio=16*A.out_samplerate*u.channels_out/(1e3*A.VBR_mean_bitrate_kbps);break;default:A.compression_ratio=16*A.out_samplerate*u.channels_out/(1e3*A.brate)}if(A.mode==MPEGMode.NOT_SET&&(A.mode=MPEGMode.JOINT_STEREO),A.highpassfreq>0?(u.highpass1=2*A.highpassfreq,A.highpasswidth>=0?u.highpass2=2*(A.highpassfreq+A.highpasswidth):u.highpass2=2*A.highpassfreq,u.highpass1/=A.out_samplerate,u.highpass2/=A.out_samplerate):(u.highpass1=0,u.highpass2=0),A.lowpassfreq>0?(u.lowpass2=2*A.lowpassfreq,A.lowpasswidth>=0?(u.lowpass1=2*(A.lowpassfreq-A.lowpasswidth),u.lowpass1<0&&(u.lowpass1=0)):u.lowpass1=2*A.lowpassfreq,u.lowpass1/=A.out_samplerate,u.lowpass2/=A.out_samplerate):(u.lowpass1=0,u.lowpass2=0),function(A){var e=A.internal_flags,n=32,r=-1;if(e.lowpass1>0){for(var i=999,s=0;s<=31;s++)(u=s/31)>=e.lowpass2&&(n=Math.min(n,s)),e.lowpass1<u&&u<e.lowpass2&&(i=Math.min(i,s));e.lowpass1=999==i?(n-.75)/31:(i-.75)/31,e.lowpass2=n/31}if(e.highpass2>0&&e.highpass2<.75/31*.9&&(e.highpass1=0,e.highpass2=0,t.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),e.highpass2>0){var o=-1;for(s=0;s<=31;s++)(u=s/31)<=e.highpass1&&(r=Math.max(r,s)),e.highpass1<u&&u<e.highpass2&&(o=Math.max(o,s));e.highpass1=r/31,e.highpass2=-1==o?(r+.75)/31:(o+.75)/31}for(s=0;s<32;s++){var a,l,u=s/31;a=e.highpass2>e.highpass1?T((e.highpass2-u)/(e.highpass2-e.highpass1+1e-20)):1,l=e.lowpass2>e.lowpass1?T((u-e.lowpass1)/(e.lowpass2-e.lowpass1+1e-20)):1,e.amp_filter[s]=a*l}}(A),u.samplerate_index=x(A.out_samplerate,A),u.samplerate_index<0)return A.internal_flags=null,-1;if(A.VBR==e.vbr_off){if(A.free_format)u.bitrate_index=0;else if(A.brate=O(A.brate,A.version,A.out_samplerate),u.bitrate_index=H(A.brate,A.version,A.out_samplerate),u.bitrate_index<=0)return A.internal_flags=null,-1}else u.bitrate_index=1;A.analysis&&(A.bWriteVbrTag=!1),null!=u.pinfo&&(A.bWriteVbrTag=!1),m.init_bit_stream_w(u);for(var D,k=u.samplerate_index+3*A.version+6*(A.out_samplerate<16e3?1:0),V=0;V<g.SBMAX_l+1;V++)u.scalefac_band.l[V]=_.sfBandIndex[k].l[V];for(V=0;V<g.PSFB21+1;V++){var K=(u.scalefac_band.l[22]-u.scalefac_band.l[21])/g.PSFB21,G=u.scalefac_band.l[21]+V*K;u.scalefac_band.psfb21[V]=G}u.scalefac_band.psfb21[g.PSFB21]=576;for(V=0;V<g.SBMAX_s+1;V++)u.scalefac_band.s[V]=_.sfBandIndex[k].s[V];for(V=0;V<g.PSFB12+1;V++){K=(u.scalefac_band.s[13]-u.scalefac_band.s[12])/g.PSFB12,G=u.scalefac_band.s[12]+V*K;u.scalefac_band.psfb12[V]=G}for(u.scalefac_band.psfb12[g.PSFB12]=192,1==A.version?u.sideinfo_len=1==u.channels_out?21:36:u.sideinfo_len=1==u.channels_out?13:21,A.error_protection&&(u.sideinfo_len+=2),function(A){var t=A.internal_flags;A.frameNum=0,A.write_id3tag_automatic&&b.id3tag_write_v2(A),t.bitrate_stereoMode_Hist=i([16,5]),t.bitrate_blockType_Hist=i([16,6]),t.PeakSample=0,A.bWriteVbrTag&&C.InitVbrTag(A)}(A),u.Class_ID=S,D=0;D<19;D++)u.nsPsy.pefirbuf[D]=700*u.mode_gr*u.channels_out;switch(-1==A.ATHtype&&(A.ATHtype=4),o(A.VBR_q<=9),o(A.VBR_q>=0),A.VBR){case e.vbr_mt:A.VBR=e.vbr_mtrh;case e.vbr_mtrh:null==A.useTemporal&&(A.useTemporal=!1),w.apply_preset(A,500-10*A.VBR_q,0),A.quality<0&&(A.quality=LAME_DEFAULT_QUALITY),A.quality<5&&(A.quality=0),A.quality>5&&(A.quality=5),u.PSY.mask_adjust=A.maskingadjust,u.PSY.mask_adjust_short=A.maskingadjust_short,A.experimentalY?u.sfb21_extra=!1:u.sfb21_extra=A.out_samplerate>44e3,u.iteration_loop=new VBRNewIterationLoop(y);break;case e.vbr_rh:w.apply_preset(A,500-10*A.VBR_q,0),u.PSY.mask_adjust=A.maskingadjust,u.PSY.mask_adjust_short=A.maskingadjust_short,A.experimentalY?u.sfb21_extra=!1:u.sfb21_extra=A.out_samplerate>44e3,A.quality>6&&(A.quality=6),A.quality<0&&(A.quality=LAME_DEFAULT_QUALITY),u.iteration_loop=new VBROldIterationLoop(y);break;default:var q;u.sfb21_extra=!1,A.quality<0&&(A.quality=LAME_DEFAULT_QUALITY),(q=A.VBR)==e.vbr_off&&(A.VBR_mean_bitrate_kbps=A.brate),w.apply_preset(A,A.VBR_mean_bitrate_kbps,0),A.VBR=q,u.PSY.mask_adjust=A.maskingadjust,u.PSY.mask_adjust_short=A.maskingadjust_short,q==e.vbr_off?u.iteration_loop=new f(y):u.iteration_loop=new ABRIterationLoop(y)}if(o(A.scale>=0),A.VBR!=e.vbr_off){if(u.VBR_min_bitrate=1,u.VBR_max_bitrate=14,A.out_samplerate<16e3&&(u.VBR_max_bitrate=8),0!=A.VBR_min_bitrate_kbps&&(A.VBR_min_bitrate_kbps=O(A.VBR_min_bitrate_kbps,A.version,A.out_samplerate),u.VBR_min_bitrate=H(A.VBR_min_bitrate_kbps,A.version,A.out_samplerate),u.VBR_min_bitrate<0))return-1;if(0!=A.VBR_max_bitrate_kbps&&(A.VBR_max_bitrate_kbps=O(A.VBR_max_bitrate_kbps,A.version,A.out_samplerate),u.VBR_max_bitrate=H(A.VBR_max_bitrate_kbps,A.version,A.out_samplerate),u.VBR_max_bitrate<0))return-1;A.VBR_min_bitrate_kbps=p.bitrate_table[A.version][u.VBR_min_bitrate],A.VBR_max_bitrate_kbps=p.bitrate_table[A.version][u.VBR_max_bitrate],A.VBR_mean_bitrate_kbps=Math.min(p.bitrate_table[A.version][u.VBR_max_bitrate],A.VBR_mean_bitrate_kbps),A.VBR_mean_bitrate_kbps=Math.max(p.bitrate_table[A.version][u.VBR_min_bitrate],A.VBR_mean_bitrate_kbps)}return A.tune&&(u.PSY.mask_adjust+=A.tune_value_a,u.PSY.mask_adjust_short+=A.tune_value_a),function(A){var t=A.internal_flags;switch(A.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:A.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(A),o(A.scale>=0),A.athaa_type<0?u.ATH.useAdjust=3:u.ATH.useAdjust=A.athaa_type,u.ATH.aaSensitivityP=Math.pow(10,A.athaa_sensitivity/-10),null==A.short_blocks&&(A.short_blocks=n.short_block_allowed),A.short_blocks!=n.short_block_allowed||A.mode!=MPEGMode.JOINT_STEREO&&A.mode!=MPEGMode.STEREO||(A.short_blocks=n.short_block_coupled),A.quant_comp<0&&(A.quant_comp=1),A.quant_comp_short<0&&(A.quant_comp_short=0),A.msfix<0&&(A.msfix=0),A.exp_nspsytune=1|A.exp_nspsytune,A.internal_flags.nsPsy.attackthre<0&&(A.internal_flags.nsPsy.attackthre=a.NSATTACKTHRE),A.internal_flags.nsPsy.attackthre_s<0&&(A.internal_flags.nsPsy.attackthre_s=a.NSATTACKTHRE_S),o(A.scale>=0),A.scale<0&&(A.scale=1),A.ATHtype<0&&(A.ATHtype=4),A.ATHcurve<0&&(A.ATHcurve=4),A.athaa_loudapprox<0&&(A.athaa_loudapprox=2),A.interChRatio<0&&(A.interChRatio=0),null==A.useTemporal&&(A.useTemporal=!0),u.slot_lag=u.frac_SpF=0,A.VBR==e.vbr_off&&(u.slot_lag=u.frac_SpF=72e3*(A.version+1)*A.brate%A.out_samplerate|0),_.iteration_init(A),U.psymodel_init(A),o(A.scale>=0),0},this.lame_encode_flush=function(A,t,e,n){var r,i,o,a,l=A.internal_flags,u=s([2,1152]),c=0,h=l.mf_samples_to_encode-g.POSTDELAY,f=R(A);if(l.mf_samples_to_encode<1)return 0;for(r=0,A.in_samplerate!=A.out_samplerate&&(h+=16*A.out_samplerate/A.in_samplerate),(o=A.framesize-h%A.framesize)<576&&(o+=A.framesize),A.encoder_padding=o,a=(h+o)/A.framesize;a>0&&c>=0;){var d=f-l.mf_size,p=A.frameNum;d*=A.in_samplerate,(d/=A.out_samplerate)>1152&&(d=1152),d<1&&(d=1),i=n-r,0==n&&(i=0),e+=c=this.lame_encode_buffer(A,u[0],u[1],d,t,e,i),r+=c,a-=p!=A.frameNum?1:0}if(l.mf_samples_to_encode=0,c<0)return c;if(i=n-r,0==n&&(i=0),m.flush_bitstream(A),(c=m.copy_buffer(l,t,e,i,1))<0)return c;if(e+=c,i=n-(r+=c),0==n&&(i=0),A.write_id3tag_automatic){if(b.id3tag_write_v1(A),(c=m.copy_buffer(l,t,e,i,0))<0)return c;r+=c}return r},this.lame_encode_buffer=function(A,t,e,n,i,s,a){var l=A.internal_flags,c=[null,null];if(l.Class_ID!=S)return-3;if(0==n)return 0;!function(A,t){(null==A.in_buffer_0||A.in_buffer_nsamples<t)&&(A.in_buffer_0=r(t),A.in_buffer_1=r(t),A.in_buffer_nsamples=t)}(l,n),c[0]=l.in_buffer_0,c[1]=l.in_buffer_1;for(var h=0;h<n;h++)c[0][h]=t[h],l.channels_in>1&&(c[1][h]=e[h]);return function(A,t,e,n,r,i,s){var a,l,c,h,f,p=A.internal_flags,w=0,_=[null,null],y=[null,null];if(p.Class_ID!=S)return-3;if(0==n)return 0;if(f=m.copy_buffer(p,r,i,s,0),f<0)return f;if(i+=f,w+=f,y[0]=t,y[1]=e,d.NEQ(A.scale,0)&&d.NEQ(A.scale,1))for(l=0;l<n;++l)y[0][l]*=A.scale,2==p.channels_out&&(y[1][l]*=A.scale);if(d.NEQ(A.scale_left,0)&&d.NEQ(A.scale_left,1))for(l=0;l<n;++l)y[0][l]*=A.scale_left;if(d.NEQ(A.scale_right,0)&&d.NEQ(A.scale_right,1))for(l=0;l<n;++l)y[1][l]*=A.scale_right;if(2==A.num_channels&&1==p.channels_out)for(l=0;l<n;++l)y[0][l]=.5*(y[0][l]+y[1][l]),y[1][l]=0;h=R(A),_[0]=p.mfbuf[0],_[1]=p.mfbuf[1];var v=0;for(;n>0;){var C=[null,null],b=0,E=0;C[0]=y[0],C[1]=y[1];var U=new N;if(K(A,_,C,v,n,U),b=U.n_in,E=U.n_out,p.findReplayGain&&!p.decode_on_the_fly&&B.AnalyzeSamples(p.rgdata,_[0],p.mf_size,_[1],p.mf_size,E,p.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(n-=b,v+=b,p.channels_out,p.mf_size+=E,o(p.mf_size<=u.MFSIZE),p.mf_samples_to_encode<1&&(p.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY),p.mf_samples_to_encode+=E,p.mf_size>=h){var Q=s-w;if(0==s&&(Q=0),(a=P(A,_[0],_[1],r,i,Q))<0)return a;for(i+=a,w+=a,p.mf_size-=A.framesize,p.mf_samples_to_encode-=A.framesize,c=0;c<p.channels_out;c++)for(l=0;l<p.mf_size;l++)_[c][l]=_[c][l+A.framesize]}}return o(0==n),w}(A,c[0],c[1],n,i,s,a)}},yl}function nu(){if(xl)return Tl;xl=1;var A=kl(),t=A.System,e=A.VbrMode;A.Float,A.ShortBlock;var n=A.Util,r=A.Arrays;A.new_array_n,A.new_byte,A.new_double;var i=A.new_float;A.new_float_n,A.new_int,A.new_int_n;var s=A.assert,o=Ul?El:(Ul=1,El=function(){this.setModules=function(A,t){}}),a=Fl?Ql:(Fl=1,Ql=function(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}),l=function(){if(Sl)return Il;Sl=1;var A=kl(),t=A.new_float,e=A.new_int;return A.assert,Il=function(){this.global_gain=0,this.sfb_count1=0,this.step=e(39),this.noise=t(39),this.noise_log=t(39)}}(),u=Kl(),c=Yl(),h=Xl();return Tl=function(){var A,f,d;this.rv=null,this.qupvt=null;var p,g=new o;function B(A){this.ordinal=A}function m(A){for(var t=0;t<A.sfbmax;t++)if(A.scalefac[t]+A.subblock_gain[A.window[t]]==0)return!1;return!0}function w(A){return n.FAST_LOG10(.368+.632*A*A*A)}function _(A,t,e,n,r){var i;switch(A){default:case 9:t.over_count>0?(i=e.over_SSD<=t.over_SSD,e.over_SSD==t.over_SSD&&(i=e.bits<t.bits)):i=e.max_noise<0&&10*e.max_noise+e.bits<=10*t.max_noise+t.bits;break;case 0:i=e.over_count<t.over_count||e.over_count==t.over_count&&e.over_noise<t.over_noise||e.over_count==t.over_count&&BitStream.EQ(e.over_noise,t.over_noise)&&e.tot_noise<t.tot_noise;break;case 8:e.max_noise=function(A,t){for(var e=1e-37,n=0;n<t.psymax;n++)e+=w(A[n]);return Math.max(1e-20,e)}(r,n);case 1:i=e.max_noise<t.max_noise;break;case 2:i=e.tot_noise<t.tot_noise;break;case 3:i=e.tot_noise<t.tot_noise&&e.max_noise<t.max_noise;break;case 4:i=e.max_noise<=0&&t.max_noise>.2||e.max_noise<=0&&t.max_noise<0&&t.max_noise>e.max_noise-.2&&e.tot_noise<t.tot_noise||e.max_noise<=0&&t.max_noise>0&&t.max_noise>e.max_noise-.2&&e.tot_noise<t.tot_noise+t.over_noise||e.max_noise>0&&t.max_noise>-.05&&t.max_noise>e.max_noise-.1&&e.tot_noise+e.over_noise<t.tot_noise+t.over_noise||e.max_noise>0&&t.max_noise>-.1&&t.max_noise>e.max_noise-.15&&e.tot_noise+e.over_noise+e.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:i=e.over_noise<t.over_noise||BitStream.EQ(e.over_noise,t.over_noise)&&e.tot_noise<t.tot_noise;break;case 6:i=e.over_noise<t.over_noise||BitStream.EQ(e.over_noise,t.over_noise)&&(e.max_noise<t.max_noise||BitStream.EQ(e.max_noise,t.max_noise)&&e.tot_noise<=t.tot_noise);break;case 7:i=e.over_count<t.over_count||e.over_noise<t.over_noise}return 0==t.over_count&&(i=i&&e.bits<t.bits),i}function y(A,t,e,n,i){var o=A.internal_flags;!function(A,t,e,n,r){var i,s=A.internal_flags;i=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var o=0,a=0;a<t.sfbmax;a++)o<e[a]&&(o=e[a]);var l=s.noise_shaping_amp;switch(3==l&&(l=r?2:1),l){case 2:break;case 1:o>1?o=Math.pow(o,.5):o*=.95;break;default:o>1?o=1:o*=.95}var u=0;for(a=0;a<t.sfbmax;a++){var c,h=t.width[a];if(u+=h,!(e[a]<o)){if(2&s.substep_shaping&&(s.pseudohalf[a]=0==s.pseudohalf[a]?1:0,0==s.pseudohalf[a]&&2==s.noise_shaping_amp))return;for(t.scalefac[a]++,c=-h;c<0;c++)n[u+c]*=i,n[u+c]>t.xrpow_max&&(t.xrpow_max=n[u+c]);if(2==s.noise_shaping_amp)return}}}(A,t,e,n,i);var a=m(t);return!a&&(!(a=2==o.mode_gr?p.scale_bitcount(t):p.scale_bitcount_lsf(o,t))||(o.noise_shaping>1&&(r.fill(o.pseudohalf,0),0==t.scalefac_scale?(!function(A,t){for(var e=0,n=0;n<A.sfbmax;n++){var r=A.width[n],i=A.scalefac[n];if(0!=A.preflag&&(i+=d.pretab[n]),e+=r,1&i){i++;for(var s=-r;s<0;s++)t[e+s]*=1.2968395546510096,t[e+s]>A.xrpow_max&&(A.xrpow_max=t[e+s])}A.scalefac[n]=i>>1}A.preflag=0,A.scalefac_scale=1}(t,n),a=!1):t.block_type==u.SHORT_TYPE&&o.subblock_gain>0&&(a=function(A,t,e){var n,r=t.scalefac;for(n=0;n<t.sfb_lmax;n++)if(r[n]>=16)return!0;for(var i=0;i<3;i++){var o=0,a=0;for(n=t.sfb_lmax+i;n<t.sfbdivide;n+=3)o<r[n]&&(o=r[n]);for(;n<t.sfbmax;n+=3)a<r[n]&&(a=r[n]);if(!(o<16&&a<8)){if(t.subblock_gain[i]>=7)return!0;t.subblock_gain[i]++;var l=A.scalefac_band.l[t.sfb_lmax];for(n=t.sfb_lmax+i;n<t.sfbmax;n+=3){var u=t.width[n],c=r[n];if(s(c>=0),(c-=4>>t.scalefac_scale)>=0)r[n]=c,l+=3*u;else{r[n]=0;var h=210+(c<<t.scalefac_scale+1);p=d.IPOW20(h),l+=u*(i+1);for(var f=-u;f<0;f++)e[l+f]*=p,e[l+f]>t.xrpow_max&&(t.xrpow_max=e[l+f]);l+=u*(3-i-1)}}var p=d.IPOW20(202);for(l+=t.width[n]*(i+1),f=-t.width[n];f<0;f++)e[l+f]*=p,e[l+f]>t.xrpow_max&&(t.xrpow_max=e[l+f])}}return!1}(o,t,n)||m(t))),a||(a=2==o.mode_gr?p.scale_bitcount(t):p.scale_bitcount_lsf(o,t)),!a))}this.setModules=function(t,e,n,r){A=t,f=e,this.rv=e,d=n,this.qupvt=n,p=r,g.setModules(d,p)},this.ms_convert=function(A,t){for(var e=0;e<576;++e){var r=A.tt[t][0].xr[e],i=A.tt[t][1].xr[e];A.tt[t][0].xr[e]=(r+i)*(.5*n.SQRT2),A.tt[t][1].xr[e]=(r-i)*(.5*n.SQRT2)}},this.init_xrpow=function(A,t,e){var n=0,i=0|t.max_nonzero_coeff;if(s(null!=e),t.xrpow_max=0,s(0<=i&&i<=575),r.fill(e,i,576,0),n=function(A,t,e,n){n=0;for(var r=0;r<=e;++r){var i=Math.abs(A.xr[r]);n+=i,t[r]=Math.sqrt(i*Math.sqrt(i)),t[r]>A.xrpow_max&&(A.xrpow_max=t[r])}return n}(t,e,i,n),n>1e-20){var o=0;2&A.substep_shaping&&(o=1);for(var a=0;a<t.psymax;a++)A.pseudohalf[a]=o;return!0}return r.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(A,e){e.part2_3_length=0,e.big_values=0,e.count1=0,e.global_gain=210,e.scalefac_compress=0,e.table_select[0]=0,e.table_select[1]=0,e.table_select[2]=0,e.subblock_gain[0]=0,e.subblock_gain[1]=0,e.subblock_gain[2]=0,e.subblock_gain[3]=0,e.region0_count=0,e.region1_count=0,e.preflag=0,e.scalefac_scale=0,e.count1table_select=0,e.part2_length=0,e.sfb_lmax=u.SBPSY_l,e.sfb_smin=u.SBPSY_s,e.psy_lmax=A.sfb21_extra?u.SBMAX_l:u.SBPSY_l,e.psymax=e.psy_lmax,e.sfbmax=e.sfb_lmax,e.sfbdivide=11;for(var n=0;n<u.SBMAX_l;n++)e.width[n]=A.scalefac_band.l[n+1]-A.scalefac_band.l[n],e.window[n]=3;if(e.block_type==u.SHORT_TYPE){var s=i(576);e.sfb_smin=0,e.sfb_lmax=0,0!=e.mixed_block_flag&&(e.sfb_smin=3,e.sfb_lmax=2*A.mode_gr+4),e.psymax=e.sfb_lmax+3*((A.sfb21_extra?u.SBMAX_s:u.SBPSY_s)-e.sfb_smin),e.sfbmax=e.sfb_lmax+3*(u.SBPSY_s-e.sfb_smin),e.sfbdivide=e.sfbmax-18,e.psy_lmax=e.sfb_lmax;var o=A.scalefac_band.l[e.sfb_lmax];t.arraycopy(e.xr,0,s,0,576);for(n=e.sfb_smin;n<u.SBMAX_s;n++)for(var a=A.scalefac_band.s[n],l=A.scalefac_band.s[n+1],c=0;c<3;c++)for(var h=a;h<l;h++)e.xr[o++]=s[3*h+c];var f=e.sfb_lmax;for(n=e.sfb_smin;n<u.SBMAX_s;n++)e.width[f]=e.width[f+1]=e.width[f+2]=A.scalefac_band.s[n+1]-A.scalefac_band.s[n],e.window[f]=0,e.window[f+1]=1,e.window[f+2]=2,f+=3}e.count1bits=0,e.sfb_partition_table=d.nr_of_sfb_block[0][0],e.slen[0]=0,e.slen[1]=0,e.slen[2]=0,e.slen[3]=0,e.max_nonzero_coeff=575,r.fill(e.scalefac,0),function(A,t){var e=A.ATH,n=t.xr;if(t.block_type!=u.SHORT_TYPE)for(var r=!1,i=u.PSFB21-1;i>=0&&!r;i--){var s=A.scalefac_band.psfb21[i],o=A.scalefac_band.psfb21[i+1],a=d.athAdjust(e.adjust,e.psfb21[i],e.floor);A.nsPsy.longfact[21]>1e-12&&(a*=A.nsPsy.longfact[21]);for(var l=o-1;l>=s;l--){if(!(Math.abs(n[l])<a)){r=!0;break}n[l]=0}}else for(var c=0;c<3;c++)for(r=!1,i=u.PSFB12-1;i>=0&&!r;i--){o=(s=3*A.scalefac_band.s[12]+(A.scalefac_band.s[13]-A.scalefac_band.s[12])*c+(A.scalefac_band.psfb12[i]-A.scalefac_band.psfb12[0]))+(A.scalefac_band.psfb12[i+1]-A.scalefac_band.psfb12[i]);var h=d.athAdjust(e.adjust,e.psfb12[i],e.floor);for(A.nsPsy.shortfact[12]>1e-12&&(h*=A.nsPsy.shortfact[12]),l=o-1;l>=s;l--){if(!(Math.abs(n[l])<h)){r=!0;break}n[l]=0}}}(A,e)},B.BINSEARCH_NONE=new B(0),B.BINSEARCH_UP=new B(1),B.BINSEARCH_DOWN=new B(2),this.trancate_smallspectrums=function(A,t,e,n){var s=i(h.SFBMAX);if((4&A.substep_shaping||t.block_type!=u.SHORT_TYPE)&&!(128&A.substep_shaping)){d.calc_noise(t,e,s,new a,null);for(var o=0;o<576;o++){var l=0;0!=t.l3_enc[o]&&(l=Math.abs(t.xr[o])),n[o]=l}o=0;var c=8;t.block_type==u.SHORT_TYPE&&(c=6);do{var f,g,B,m,w=t.width[c];if(o+=w,!(s[c]>=1||(r.sort(n,o-w,w),BitStream.EQ(n[o-1],0)))){f=(1-s[c])*e[c],g=0,m=0;do{var _;for(B=1;m+B<w&&!BitStream.NEQ(n[m+o-w],n[m+o+B-w]);B++);if(f<(_=n[m+o-w]*n[m+o-w]*B)){0!=m&&(g=n[m+o-w-1]);break}f-=_,m+=B}while(m<w);if(!BitStream.EQ(g,0))do{Math.abs(t.xr[o-w])<=g&&(t.l3_enc[o-w]=0)}while(--w>0)}}while(++c<t.psymax);t.part2_3_length=p.noquant_count_bits(A,t,null)}},this.outer_loop=function(A,n,r,o,f,g){var m=A.internal_flags,w=new c,v=i(576),C=i(h.SFBMAX),b=new a,E=new l,U=9999999,Q=!1,F=!1,I=0;if(function(A,t,e,n,r){var i,o=A.CurrentStep[n],a=!1,l=A.OldValue[n],u=B.BINSEARCH_NONE;for(t.global_gain=l,e-=t.part2_length,s(0!=o);;){var c;if(i=p.count_bits(A,r,t,null),1==o||i==e)break;i>e?(u==B.BINSEARCH_DOWN&&(a=!0),a&&(o/=2),u=B.BINSEARCH_UP,c=o):(u==B.BINSEARCH_UP&&(a=!0),a&&(o/=2),u=B.BINSEARCH_DOWN,c=-o),t.global_gain+=c,t.global_gain<0&&(t.global_gain=0,a=!0),t.global_gain>255&&(t.global_gain=255,a=!0)}for(s(t.global_gain>=0),s(t.global_gain<256);i>e&&t.global_gain<255;)t.global_gain++,i=p.count_bits(A,r,t,null);A.CurrentStep[n]=l-t.global_gain>=4?4:2,A.OldValue[n]=t.global_gain,t.part2_3_length=i}(m,n,g,f,o),0==m.noise_shaping)return 100;d.calc_noise(n,r,C,b,E),b.bits=n.part2_3_length,w.assign(n);var S=0;for(t.arraycopy(o,0,v,0,576);!Q;){do{var T,x=new a,O=255;if(T=2&m.substep_shaping?20:3,m.sfb21_extra){if(C[w.sfbmax]>1)break;if(w.block_type==u.SHORT_TYPE&&(C[w.sfbmax+1]>1||C[w.sfbmax+2]>1))break}if(!y(A,w,C,o,F))break;0!=w.scalefac_scale&&(O=254);var H=g-w.part2_length;if(H<=0)break;for(;(w.part2_3_length=p.count_bits(m,o,w,E))>H&&w.global_gain<=O;)w.global_gain++;if(w.global_gain>O)break;if(0==b.over_count){for(;(w.part2_3_length=p.count_bits(m,o,w,E))>U&&w.global_gain<=O;)w.global_gain++;if(w.global_gain>O)break}if(d.calc_noise(w,r,C,x,E),x.bits=w.part2_3_length,0!=(_(n.block_type!=u.SHORT_TYPE?A.quant_comp:A.quant_comp_short,b,x,w,C)?1:0))U=n.part2_3_length,b=x,n.assign(w),S=0,t.arraycopy(o,0,v,0,576);else if(0==m.full_outer_loop){if(++S>T&&0==b.over_count)break;if(3==m.noise_shaping_amp&&F&&S>30)break;if(3==m.noise_shaping_amp&&F&&w.global_gain-I>15)break}}while(w.global_gain+w.scalefac_scale<255);3==m.noise_shaping_amp?F?Q=!0:(w.assign(n),t.arraycopy(v,0,o,0,576),S=0,I=w.global_gain,F=!0):Q=!0}return s(n.global_gain+n.scalefac_scale<=255),A.VBR==e.vbr_rh||A.VBR==e.vbr_mtrh?t.arraycopy(v,0,o,0,576):1&m.substep_shaping&&trancate_smallspectrums(m,n,r,o),b.over_count},this.iteration_finish_one=function(A,t,e){var n=A.l3_side,r=n.tt[t][e];p.best_scalefac_store(A,t,e,n),1==A.use_best_huffman&&p.best_huffman_divide(A,r),f.ResvAdjust(A,r)},this.VBR_encode_granule=function(A,e,n,o,a,l,u){var h,f=A.internal_flags,d=new c,p=i(576),g=u,B=u+1,m=(u+l)/2,w=0,_=f.sfb21_extra;s(g<=LameInternalFlags.MAX_BITS_PER_CHANNEL),r.fill(d.l3_enc,0);do{s(m>=l),s(m<=u),s(l<=u),f.sfb21_extra=!(m>g-42)&&_,outer_loop(A,e,n,o,a,m)<=0?(w=1,B=e.part2_3_length,d.assign(e),t.arraycopy(o,0,p,0,576),h=(u=B-32)-l,m=(u+l)/2):(h=u-(l=m+32),m=(u+l)/2,0!=w&&(w=2,e.assign(d),t.arraycopy(p,0,o,0,576)))}while(h>12);f.sfb21_extra=_,2==w&&t.arraycopy(d.l3_enc,0,e.l3_enc,0,576),s(e.part2_3_length<=g)},this.get_framebits=function(t,e){var n=t.internal_flags;n.bitrate_index=n.VBR_min_bitrate;var r=A.getframebits(t);n.bitrate_index=1,r=A.getframebits(t);for(var i=1;i<=n.VBR_max_bitrate;i++){n.bitrate_index=i;var s=new MeanBits(r);e[i]=f.ResvFrameBegin(t,s),r=s.bits}},this.VBR_old_prepare=function(A,t,e,n,r,i,s,o,a){var l,c=A.internal_flags,h=0,p=1,g=0;c.bitrate_index=c.VBR_max_bitrate;var B=f.ResvFrameBegin(A,new MeanBits(0))/c.mode_gr;get_framebits(A,i);for(var m=0;m<c.mode_gr;m++){var w=d.on_pe(A,t,o[m],B,m,0);c.mode_ext==u.MPG_MD_MS_LR&&(ms_convert(c.l3_side,m),d.reduce_side(o[m],e[m],B,w));for(var _=0;_<c.channels_out;++_){var y=c.l3_side.tt[m][_];y.block_type!=u.SHORT_TYPE?(h=1.28/(1+Math.exp(3.5-t[m][_]/300))-.05,l=c.PSY.mask_adjust-h):(h=2.56/(1+Math.exp(3.5-t[m][_]/300))-.14,l=c.PSY.mask_adjust_short-h),c.masking_lower=Math.pow(10,.1*l),init_outer_loop(c,y),a[m][_]=d.calc_xmin(A,n[m][_],y,r[m][_]),0!=a[m][_]&&(p=0),s[m][_]=126,g+=o[m][_]}}for(m=0;m<c.mode_gr;m++)for(_=0;_<c.channels_out;_++)g>i[c.VBR_max_bitrate]&&(o[m][_]*=i[c.VBR_max_bitrate],o[m][_]/=g),s[m][_]>o[m][_]&&(s[m][_]=o[m][_]);return p},this.bitpressure_strategy=function(A,t,e,n){for(var r=0;r<A.mode_gr;r++)for(var i=0;i<A.channels_out;i++){for(var s=A.l3_side.tt[r][i],o=t[r][i],a=0,l=0;l<s.psy_lmax;l++)o[a++]*=1+.029*l*l/u.SBMAX_l/u.SBMAX_l;if(s.block_type==u.SHORT_TYPE)for(l=s.sfb_smin;l<u.SBMAX_s;l++)o[a++]*=1+.029*l*l/u.SBMAX_s/u.SBMAX_s,o[a++]*=1+.029*l*l/u.SBMAX_s/u.SBMAX_s,o[a++]*=1+.029*l*l/u.SBMAX_s/u.SBMAX_s;n[r][i]=0|Math.max(e[r][i],.9*n[r][i])}},this.VBR_new_prepare=function(A,t,e,n,r,i){var s,o=A.internal_flags,a=1,l=0,c=0;if(A.free_format){o.bitrate_index=0;h=new MeanBits(l);s=f.ResvFrameBegin(A,h),l=h.bits,r[0]=s}else{o.bitrate_index=o.VBR_max_bitrate;var h=new MeanBits(l);f.ResvFrameBegin(A,h),l=h.bits,get_framebits(A,r),s=r[o.VBR_max_bitrate]}for(var p=0;p<o.mode_gr;p++){d.on_pe(A,t,i[p],l,p,0),o.mode_ext==u.MPG_MD_MS_LR&&ms_convert(o.l3_side,p);for(var g=0;g<o.channels_out;++g){var B=o.l3_side.tt[p][g];o.masking_lower=Math.pow(10,.1*o.PSY.mask_adjust),init_outer_loop(o,B),0!=d.calc_xmin(A,e[p][g],B,n[p][g])&&(a=0),c+=i[p][g]}}for(p=0;p<o.mode_gr;p++)for(g=0;g<o.channels_out;g++)c>s&&(i[p][g]*=s,i[p][g]/=c);return a},this.calc_target_bits=function(t,e,n,r,i,s){var o,a,l,c,h=t.internal_flags,p=h.l3_side,g=0;h.bitrate_index=h.VBR_max_bitrate;var B=new MeanBits(g);for(s[0]=f.ResvFrameBegin(t,B),g=B.bits,h.bitrate_index=1,g=A.getframebits(t)-8*h.sideinfo_len,i[0]=g/(h.mode_gr*h.channels_out),g=t.VBR_mean_bitrate_kbps*t.framesize*1e3,1&h.substep_shaping&&(g*=1.09),g/=t.out_samplerate,g-=8*h.sideinfo_len,g/=h.mode_gr*h.channels_out,(o=.93+.07*(11-t.compression_ratio)/5.5)<.9&&(o=.9),o>1&&(o=1),a=0;a<h.mode_gr;a++){var m=0;for(l=0;l<h.channels_out;l++){if(r[a][l]=int(o*g),e[a][l]>700){var w=int((e[a][l]-700)/1.4),_=p.tt[a][l];r[a][l]=int(o*g),_.block_type==u.SHORT_TYPE&&w<g/2&&(w=g/2),w>3*g/2?w=3*g/2:w<0&&(w=0),r[a][l]+=w}r[a][l]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(r[a][l]=LameInternalFlags.MAX_BITS_PER_CHANNEL),m+=r[a][l]}if(m>LameInternalFlags.MAX_BITS_PER_GRANULE)for(l=0;l<h.channels_out;++l)r[a][l]*=LameInternalFlags.MAX_BITS_PER_GRANULE,r[a][l]/=m}if(h.mode_ext==u.MPG_MD_MS_LR)for(a=0;a<h.mode_gr;a++)d.reduce_side(r[a],n[a],g*h.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(c=0,a=0;a<h.mode_gr;a++)for(l=0;l<h.channels_out;l++)r[a][l]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(r[a][l]=LameInternalFlags.MAX_BITS_PER_CHANNEL),c+=r[a][l];if(c>s[0])for(a=0;a<h.mode_gr;a++)for(l=0;l<h.channels_out;l++)r[a][l]*=s[0],r[a][l]/=c}}}function ru(){if(Nl)return Pl;Nl=1;var A=kl(),t=A.System,e=A.VbrMode;A.Float;var n=A.ShortBlock;A.Util;var r=A.Arrays;A.new_array_n;var i=A.new_byte;A.new_double,A.new_float,A.new_float_n,A.new_int,A.new_int_n;var s=A.assert;function o(){var A,a,l;this.setModules=function(t,e,n){A=t,a=e,l=n};var u=o.NUMTOCENTRIES,c=o.MAXFRAMESIZE,h=u+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,f="Xing",d="Info",p=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function g(A,t){var e=255&A[t+0];return e<<=8,e|=255&A[t+1],e<<=8,e|=255&A[t+2],e<<=8,e|=255&A[t+3]}function B(A,t,e){A[t+0]=255&e>>24,A[t+1]=255&e>>16,A[t+2]=255&e>>8,A[t+3]=255&e}function m(A,t,e){A[t+0]=255&e>>8,A[t+1]=255&e}function w(A,t,e){return 255&(A<<t|e&~(-1<<t))}function _(t,n){var r=t.internal_flags;n[0]=w(n[0],8,255),n[1]=w(n[1],3,7),n[1]=w(n[1],1,t.out_samplerate<16e3?0:1),n[1]=w(n[1],1,t.version),n[1]=w(n[1],2,1),n[1]=w(n[1],1,t.error_protection?0:1),n[2]=w(n[2],4,r.bitrate_index),n[2]=w(n[2],2,r.samplerate_index),n[2]=w(n[2],1,0),n[2]=w(n[2],1,t.extension),n[3]=w(n[3],2,t.mode.ordinal()),n[3]=w(n[3],2,r.mode_ext),n[3]=w(n[3],1,t.copyright),n[3]=w(n[3],1,t.original),n[3]=w(n[3],2,t.emphasis),n[0]=255;var i,s,o=241&n[1];i=1==t.version?128:t.out_samplerate<16e3?32:64,t.VBR==e.vbr_off&&(i=t.brate),s=t.free_format?0:255&16*A.BitrateIndex(i,t.version,t.out_samplerate),1==t.version?(n[1]=255&o|10,o=13&n[2],n[2]=255&(s|o)):(n[1]=255&o|2,o=13&n[2],n[2]=255&(s|o))}function y(A,t){return t=t>>8^p[255&(t^A)]}this.addVbrFrame=function(A){var t=A.internal_flags,e=Tables.bitrate_table[A.version][t.bitrate_index];s(null!=t.VBR_seek_table.bag),function(A,t){if(A.nVbrNumFrames++,A.sum+=t,A.seen++,!(A.seen<A.want)&&(A.pos<A.size&&(A.bag[A.pos]=A.sum,A.pos++,A.seen=0),A.pos==A.size)){for(var e=1;e<A.size;e+=2)A.bag[e/2]=A.bag[e];A.want*=2,A.pos/=2}}(t.VBR_seek_table,e)},this.getVbrTag=function(A){var t=new VBRTagData,e=0;t.flags=0;var n=A[e+1]>>3&1,r=A[e+2]>>2&3,i=A[e+3]>>6&3,s=A[e+2]>>4&15;if(s=Tables.bitrate_table[n][s],A[e+1]>>4==14?t.samprate=Tables.samplerate_table[2][r]:t.samprate=Tables.samplerate_table[n][r],!function(A,t){return new String(A,t,4(),null).equals(f)||new String(A,t,4(),null).equals(d)}(A,e+=0!=n?3!=i?36:21:3!=i?21:13))return null;e+=4,t.hId=n;var o=t.flags=g(A,e);if(e+=4,1&o&&(t.frames=g(A,e),e+=4),2&o&&(t.bytes=g(A,e),e+=4),4&o){if(null!=t.toc)for(var a=0;a<u;a++)t.toc[a]=A[e+a];e+=u}t.vbrScale=-1,8&o&&(t.vbrScale=g(A,e),e+=4),t.headersize=72e3*(n+1)*s/t.samprate;var l=A[(e+=21)+0]<<4;l+=A[e+1]>>4;var c=(15&A[e+1])<<8;return(l<0||l>3e3)&&(l=-1),((c+=255&A[e+2])<0||c>3e3)&&(c=-1),t.encDelay=l,t.encPadding=c,t},this.InitVbrTag=function(A){var t,n=A.internal_flags;t=1==A.version?128:A.out_samplerate<16e3?32:64,A.VBR==e.vbr_off&&(t=A.brate);var r=72e3*(A.version+1)*t/A.out_samplerate,s=n.sideinfo_len+h;if(n.VBR_seek_table.TotalFrameSize=r,r<s||r>c)A.bWriteVbrTag=!1;else{n.VBR_seek_table.nVbrNumFrames=0,n.VBR_seek_table.nBytesWritten=0,n.VBR_seek_table.sum=0,n.VBR_seek_table.seen=0,n.VBR_seek_table.want=1,n.VBR_seek_table.pos=0,null==n.VBR_seek_table.bag&&(n.VBR_seek_table.bag=new int[400],n.VBR_seek_table.size=400);var o=i(c);_(A,o);for(var l=n.VBR_seek_table.TotalFrameSize,u=0;u<l;++u)a.add_dummy_byte(A,255&o[u],1)}},this.updateMusicCRC=function(A,t,e,n){for(var r=0;r<n;++r)A[0]=y(t[e+r],A[0])},this.getLameTagFrame=function(A,s){var o=A.internal_flags;if(!A.bWriteVbrTag)return 0;if(o.Class_ID!=Lame.LAME_ID)return 0;if(o.VBR_seek_table.pos<=0)return 0;if(s.length<o.VBR_seek_table.TotalFrameSize)return o.VBR_seek_table.TotalFrameSize;r.fill(s,0,o.VBR_seek_table.TotalFrameSize,0),_(A,s);var c=i(u);if(A.free_format)for(var h=1;h<u;++h)c[h]=255&255*h/100;else!function(A,t){if(!(A.pos<=0))for(var e=1;e<u;++e){var n=e/u,r=0|Math.floor(n*A.pos);r>A.pos-1&&(r=A.pos-1);var i=0|256*A.bag[r]/A.sum;i>255&&(i=255),t[e]=255&i}}(o.VBR_seek_table,c);var p=o.sideinfo_len;A.error_protection&&(p-=2),A.VBR==e.vbr_off?(s[p++]=255&d.charAt(0),s[p++]=255&d.charAt(1),s[p++]=255&d.charAt(2),s[p++]=255&d.charAt(3)):(s[p++]=255&f.charAt(0),s[p++]=255&f.charAt(1),s[p++]=255&f.charAt(2),s[p++]=255&f.charAt(3)),B(s,p,15),B(s,p+=4,o.VBR_seek_table.nVbrNumFrames),p+=4;var g=o.VBR_seek_table.nBytesWritten+o.VBR_seek_table.TotalFrameSize;B(s,p,0|g),p+=4,t.arraycopy(c,0,s,p,c.length),p+=c.length,A.error_protection&&a.CRC_writeheader(o,s);var w=0;for(h=0;h<p;h++)w=y(s[h],w);return p+=function(A,t,e,r,i){var s,o,a,u,c,h=A.internal_flags,f=0,d=A.encoder_delay,p=A.encoder_padding,g=100-10*A.VBR_q-A.quality,w=l.getLameVeryShortVersion(),_=[1,5,3,2,4,0,3],v=0|(A.lowpassfreq/100+.5>255?255:A.lowpassfreq/100+.5),C=0,b=0,E=A.internal_flags.noise_shaping,U=0,Q=0,F=0,I=!!(1&A.exp_nspsytune),S=!!(2&A.exp_nspsytune),T=!1,x=!1,O=A.internal_flags.nogap_total,H=A.internal_flags.nogap_current,M=A.ATHtype;switch(A.VBR){case vbr_abr:c=A.VBR_mean_bitrate_kbps;break;case vbr_off:c=A.brate;break;default:c=A.VBR_min_bitrate_kbps}switch(s=0+(A.VBR.ordinal()<_.length?_[A.VBR.ordinal()]:0),h.findReplayGain&&(h.RadioGain>510&&(h.RadioGain=510),h.RadioGain<-510&&(h.RadioGain=-510),b=8192,b|=3072,h.RadioGain>=0?b|=h.RadioGain:(b|=512,b|=-h.RadioGain)),h.findPeakSample&&(C=Math.abs(0|h.PeakSample/32767*Math.pow(2,23)+.5)),-1!=O&&(H>0&&(x=!0),H<O-1&&(T=!0)),u=M+((I?1:0)<<4)+((S?1:0)<<5)+((T?1:0)<<6)+((x?1:0)<<7),g<0&&(g=0),A.mode){case MONO:U=0;break;case STEREO:U=1;break;case DUAL_CHANNEL:U=2;break;case JOINT_STEREO:U=A.force_ms?4:3;break;case NOT_SET:default:U=7}F=A.in_samplerate<=32e3?0:48e3==A.in_samplerate?2:A.in_samplerate>48e3?3:1,(A.short_blocks==n.short_block_forced||A.short_blocks==n.short_block_dispensed||-1==A.lowpassfreq&&-1==A.highpassfreq||A.scale_left<A.scale_right||A.scale_left>A.scale_right||A.disable_reservoir&&A.brate<320||A.noATH||A.ATHonly||0==M||A.in_samplerate<=32e3)&&(Q=1),o=E+(U<<2)+(Q<<5)+(F<<6),a=h.nMusicCRC,B(e,r+f,g),f+=4;for(var R=0;R<9;R++)e[r+f+R]=255&w.charAt(R);e[r+(f+=9)]=255&s,e[r+ ++f]=255&v,B(e,r+ ++f,C),m(e,r+(f+=4),b),m(e,r+(f+=2),0),e[r+(f+=2)]=255&u,e[r+ ++f]=c>=255?255:255&c,e[r+ ++f]=255&d>>4,e[r+f+1]=255&(d<<4)+(p>>8),e[r+f+2]=255&p,e[r+(f+=3)]=255&o,f++,e[r+f++]=0,m(e,r+f,A.preset),B(e,r+(f+=2),t),m(e,r+(f+=4),a),f+=2;for(var P=0;P<f;P++)i=y(e[r+P],i);return m(e,r+f,i),f+2}(A,g,s,p,w),o.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(A,t){if(A.internal_flags.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;var e=function(A){A.seek(0);var t=i(10);return A.readFully(t),new String(t,"ISO-8859-1").startsWith("ID3")?0:((127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9])+t.length}(t);t.seek(e);var n=i(c),r=getLameTagFrame(A,n);return r>n.length?-1:(r<1||t.write(n,0,r),0)}}return o.NUMTOCENTRIES=100,o.MAXFRAMESIZE=2880,Pl=o}var iu=function(){if(Ll)return Dl;Ll=1;var A=kl();A.System,A.VbrMode,A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n;var t=A.new_byte;A.new_double,A.new_float,A.new_float_n,A.new_int,A.new_int_n;var e=A.assert,n=eu(),r=function(){if(bl)return Cl;bl=1;var A=kl();A.System;var t=A.VbrMode;return A.Float,A.ShortBlock,A.Util,A.Arrays,A.new_array_n,A.new_byte,A.new_double,A.new_float,A.new_float_n,A.new_int,A.new_int_n,A.assert,Cl=function(){function A(A,t,e,n,r,i,s,o,a,l,u,c,h,f,d){this.vbr_q=A,this.quant_comp=t,this.quant_comp_s=e,this.expY=n,this.st_lrm=r,this.st_s=i,this.masking_adj=s,this.masking_adj_short=o,this.ath_lower=a,this.ath_curve=l,this.ath_sensitivity=u,this.interch=c,this.safejoint=h,this.sfb21mod=f,this.msfix=d}function e(A,t,e,n,r,i,s,o,a,l,u,c,h,f){this.quant_comp=t,this.quant_comp_s=e,this.safejoint=n,this.nsmsfix=r,this.st_lrm=i,this.st_s=s,this.nsbass=o,this.scale=a,this.masking_adj=l,this.ath_lower=u,this.ath_curve=c,this.interch=h,this.sfscale=f}var n;this.setModules=function(A){n=A};var r=[new A(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new A(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new A(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new A(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new A(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new A(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new A(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new A(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new A(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new A(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new A(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new A(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new A(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new A(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new A(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new A(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new A(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new A(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new A(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new A(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new A(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new A(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function s(A,e,n){var s=A.VBR==t.vbr_rh?r:i,o=A.VBR_q_frac,a=s[e],l=s[e+1],u=a;a.st_lrm=a.st_lrm+o*(l.st_lrm-a.st_lrm),a.st_s=a.st_s+o*(l.st_s-a.st_s),a.masking_adj=a.masking_adj+o*(l.masking_adj-a.masking_adj),a.masking_adj_short=a.masking_adj_short+o*(l.masking_adj_short-a.masking_adj_short),a.ath_lower=a.ath_lower+o*(l.ath_lower-a.ath_lower),a.ath_curve=a.ath_curve+o*(l.ath_curve-a.ath_curve),a.ath_sensitivity=a.ath_sensitivity+o*(l.ath_sensitivity-a.ath_sensitivity),a.interch=a.interch+o*(l.interch-a.interch),a.msfix=a.msfix+o*(l.msfix-a.msfix),function(A,t){0>t&&(t=0),9<t&&(t=9),A.VBR_q=t,A.VBR_q_frac=0}(A,u.vbr_q),0!=n?A.quant_comp=u.quant_comp:Math.abs(A.quant_comp- -1)>0||(A.quant_comp=u.quant_comp),0!=n?A.quant_comp_short=u.quant_comp_s:Math.abs(A.quant_comp_short- -1)>0||(A.quant_comp_short=u.quant_comp_s),0!=u.expY&&(A.experimentalY=0!=u.expY),0!=n?A.internal_flags.nsPsy.attackthre=u.st_lrm:Math.abs(A.internal_flags.nsPsy.attackthre- -1)>0||(A.internal_flags.nsPsy.attackthre=u.st_lrm),0!=n?A.internal_flags.nsPsy.attackthre_s=u.st_s:Math.abs(A.internal_flags.nsPsy.attackthre_s- -1)>0||(A.internal_flags.nsPsy.attackthre_s=u.st_s),0!=n?A.maskingadjust=u.masking_adj:Math.abs(A.maskingadjust-0)>0||(A.maskingadjust=u.masking_adj),0!=n?A.maskingadjust_short=u.masking_adj_short:Math.abs(A.maskingadjust_short-0)>0||(A.maskingadjust_short=u.masking_adj_short),0!=n?A.ATHlower=-u.ath_lower/10:Math.abs(10*-A.ATHlower-0)>0||(A.ATHlower=-u.ath_lower/10),0!=n?A.ATHcurve=u.ath_curve:Math.abs(A.ATHcurve- -1)>0||(A.ATHcurve=u.ath_curve),0!=n?A.athaa_sensitivity=u.ath_sensitivity:Math.abs(A.athaa_sensitivity- -1)>0||(A.athaa_sensitivity=u.ath_sensitivity),u.interch>0&&(0!=n?A.interChRatio=u.interch:Math.abs(A.interChRatio- -1)>0||(A.interChRatio=u.interch)),u.safejoint>0&&(A.exp_nspsytune=A.exp_nspsytune|u.safejoint),u.sfb21mod>0&&(A.exp_nspsytune=A.exp_nspsytune|u.sfb21mod<<20),0!=n?A.msfix=u.msfix:Math.abs(A.msfix- -1)>0||(A.msfix=u.msfix),0==n&&(A.VBR_q=e,A.VBR_q_frac=o)}var o=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function a(A,e,r){var i=e,s=n.nearestBitrateFullIndex(e);if(A.VBR=t.vbr_abr,A.VBR_mean_bitrate_kbps=i,A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,320),A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,8),A.brate=A.VBR_mean_bitrate_kbps,A.VBR_mean_bitrate_kbps>320&&(A.disable_reservoir=!0),o[s].safejoint>0&&(A.exp_nspsytune=2|A.exp_nspsytune),o[s].sfscale>0&&(A.internal_flags.noise_shaping=2),Math.abs(o[s].nsbass)>0){var a=int(4*o[s].nsbass);a<0&&(a+=64),A.exp_nspsytune=A.exp_nspsytune|a<<2}return 0!=r?A.quant_comp=o[s].quant_comp:Math.abs(A.quant_comp- -1)>0||(A.quant_comp=o[s].quant_comp),0!=r?A.quant_comp_short=o[s].quant_comp_s:Math.abs(A.quant_comp_short- -1)>0||(A.quant_comp_short=o[s].quant_comp_s),0!=r?A.msfix=o[s].nsmsfix:Math.abs(A.msfix- -1)>0||(A.msfix=o[s].nsmsfix),0!=r?A.internal_flags.nsPsy.attackthre=o[s].st_lrm:Math.abs(A.internal_flags.nsPsy.attackthre- -1)>0||(A.internal_flags.nsPsy.attackthre=o[s].st_lrm),0!=r?A.internal_flags.nsPsy.attackthre_s=o[s].st_s:Math.abs(A.internal_flags.nsPsy.attackthre_s- -1)>0||(A.internal_flags.nsPsy.attackthre_s=o[s].st_s),0!=r?A.scale=o[s].scale:Math.abs(A.scale- -1)>0||(A.scale=o[s].scale),0!=r?A.maskingadjust=o[s].masking_adj:Math.abs(A.maskingadjust-0)>0||(A.maskingadjust=o[s].masking_adj),o[s].masking_adj>0?0!=r?A.maskingadjust_short=.9*o[s].masking_adj:Math.abs(A.maskingadjust_short-0)>0||(A.maskingadjust_short=.9*o[s].masking_adj):0!=r?A.maskingadjust_short=1.1*o[s].masking_adj:Math.abs(A.maskingadjust_short-0)>0||(A.maskingadjust_short=1.1*o[s].masking_adj),0!=r?A.ATHlower=-o[s].ath_lower/10:Math.abs(10*-A.ATHlower-0)>0||(A.ATHlower=-o[s].ath_lower/10),0!=r?A.ATHcurve=o[s].ath_curve:Math.abs(A.ATHcurve- -1)>0||(A.ATHcurve=o[s].ath_curve),0!=r?A.interChRatio=o[s].interch:Math.abs(A.interChRatio- -1)>0||(A.interChRatio=o[s].interch),e}this.apply_preset=function(A,e,n){switch(e){case Lame.R3MIX:e=Lame.V3,A.VBR=t.vbr_mtrh;break;case Lame.MEDIUM:e=Lame.V4,A.VBR=t.vbr_rh;break;case Lame.MEDIUM_FAST:e=Lame.V4,A.VBR=t.vbr_mtrh;break;case Lame.STANDARD:e=Lame.V2,A.VBR=t.vbr_rh;break;case Lame.STANDARD_FAST:e=Lame.V2,A.VBR=t.vbr_mtrh;break;case Lame.EXTREME:e=Lame.V0,A.VBR=t.vbr_rh;break;case Lame.EXTREME_FAST:e=Lame.V0,A.VBR=t.vbr_mtrh;break;case Lame.INSANE:return e=320,A.preset=e,a(A,e,n),A.VBR=t.vbr_off,e}switch(A.preset=e,e){case Lame.V9:return s(A,9,n),e;case Lame.V8:return s(A,8,n),e;case Lame.V7:return s(A,7,n),e;case Lame.V6:return s(A,6,n),e;case Lame.V5:return s(A,5,n),e;case Lame.V4:return s(A,4,n),e;case Lame.V3:return s(A,3,n),e;case Lame.V2:return s(A,2,n),e;case Lame.V1:return s(A,1,n),e;case Lame.V0:return s(A,0,n),e}return 8<=e&&e<=320?a(A,e,n):(A.preset=0,e)}},Cl}(),i=Wl(),s=$l(),o=nu(),a=Au(),l=function(){if(Hl)return Ol;Hl=1;var A=kl().assert;return Ol=function(){var t;this.setModules=function(A){t=A},this.ResvFrameBegin=function(e,n){var r,i=e.internal_flags,s=i.l3_side,o=t.getframebits(e);n.bits=(o-8*i.sideinfo_len)/i.mode_gr;var a=2048*i.mode_gr-8;e.brate>320?r=8*int(1e3*e.brate/(e.out_samplerate/1152)/8+.5):(r=11520,e.strict_ISO&&(r=8*int(32e4/(e.out_samplerate/1152)/8+.5))),i.ResvMax=r-o,i.ResvMax>a&&(i.ResvMax=a),(i.ResvMax<0||e.disable_reservoir)&&(i.ResvMax=0);var l=n.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return l>r&&(l=r),A(0==i.ResvMax%8),A(i.ResvMax>=0),s.resvDrain_pre=0,null!=i.pinfo&&(i.pinfo.mean_bits=n.bits/2,i.pinfo.resvsize=i.ResvSize),l},this.ResvMaxBits=function(A,t,e,n){var r,i=A.internal_flags,s=i.ResvSize,o=i.ResvMax;0!=n&&(s+=t),1&i.substep_shaping&&(o*=.9),e.bits=t,10*s>9*o?(r=s-9*o/10,e.bits+=r,i.substep_shaping|=128):(r=0,i.substep_shaping&=127,A.disable_reservoir||1&i.substep_shaping||(e.bits-=.1*t));var a=s<6*i.ResvMax/10?s:6*i.ResvMax/10;return(a-=r)<0&&(a=0),a},this.ResvAdjust=function(A,t){A.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(t,e){var n,r=t.l3_side;t.ResvSize+=e*t.mode_gr;var i=0;r.resvDrain_post=0,r.resvDrain_pre=0,0!=(n=t.ResvSize%8)&&(i+=n),(n=t.ResvSize-i-t.ResvMax)>0&&(A(0==n%8),A(n>=0),i+=n);var s=Math.min(8*r.main_data_begin,i)/8;r.resvDrain_pre+=8*s,i-=8*s,t.ResvSize-=8*s,r.main_data_begin-=s,r.resvDrain_post+=i,t.ResvSize-=i}}}(),u=ql(),c=tu();Kl();var h=Rl?Ml:(Rl=1,Ml=function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}),f=ru();function d(){this.setModules=function(A,t){}}function p(){this.setModules=function(A,t,e){}}function g(){}function B(){this.setModules=function(A,t){}}function m(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function w(A){return A.charCodeAt(0)<<24|A.charCodeAt(1)<<16|A.charCodeAt(2)<<8|A.charCodeAt(3)}return m.RIFF=w("RIFF"),m.WAVE=w("WAVE"),m.fmt_=w("fmt "),m.data=w("data"),m.readHeader=function(A){var t=new m,e=A.getUint32(0,!1);if(m.RIFF==e&&(A.getUint32(4,!0),m.WAVE==A.getUint32(8,!1)&&m.fmt_==A.getUint32(12,!1))){var n=A.getUint32(16,!0),r=20;switch(n){case 16:case 18:t.channels=A.getUint16(r+2,!0),t.sampleRate=A.getUint32(r+4,!0);break;default:throw"extended fmt chunk not implemented"}r+=n;for(var i=m.data,s=0;i!=e&&(e=A.getUint32(r,!1),s=A.getUint32(r+4,!0),i!=e);)r+=s+8;return t.dataLen=s,t.dataOffset=r+8,t}},Dl.Mp3Encoder=function(A,m,w){3!=arguments.length&&(A=1,m=44100,w=128);var _=new n,y=new d,v=new i,C=new c,b=new r,E=new s,U=new o,Q=new f,F=new h,I=new B,S=new l,T=new a,x=new p,O=new g;_.setModules(v,C,b,E,U,Q,F,I,O),C.setModules(v,O,F,Q),I.setModules(C,F),b.setModules(_),U.setModules(C,S,E,T),E.setModules(T,S,_.enc.psy),S.setModules(C),T.setModules(E),Q.setModules(_,C,F),y.setModules(x,O),x.setModules(F,I,b);var H=_.lame_init();H.num_channels=A,H.in_samplerate=m,H.brate=w,H.mode=u.STEREO,H.quality=3,H.bWriteVbrTag=!1,H.disable_reservoir=!0,H.write_id3tag_automatic=!1;var M=_.lame_init_params(H);e(0==M);var R=1152,P=0|1.25*R+7200,N=t(P);this.encodeBuffer=function(n,r){1==A&&(r=n),e(n.length==r.length),n.length>R&&(R=n.length,N=t(P=0|1.25*R+7200));var i=_.lame_encode_buffer(H,n,r,n.length,N,0,P);return new Int8Array(N.subarray(0,i))},this.flush=function(){var A=_.lame_encode_flush(H,N,0,P);return new Int8Array(N.subarray(0,A))}},Dl.WavHeader=m,Dl}();const su=n(iu);
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ou=function(A,t){return(ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,t){A.__proto__=t}||function(A,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(A[e]=t[e])})(A,t)};function au(A,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=A}ou(A,t),A.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var lu=function(){return lu=Object.assign||function(A){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(A[r]=t[r]);return A},lu.apply(this,arguments)};function uu(A,t,e,n){return new(e||(e=Promise))(function(t,r){function i(A){try{o(n.next(A))}catch(GI){r(GI)}}function s(A){try{o(n.throw(A))}catch(GI){r(GI)}}function o(A){var n;A.done?t(A.value):(n=A.value,n instanceof e?n:new e(function(A){A(n)})).then(i,s)}o((n=n.apply(A,[])).next())})}function cu(A,t){var e,n,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(A,s)}catch(GI){i=[6,GI],n=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}for(var hu=function(){function A(A,t,e,n){this.left=A,this.top=t,this.width=e,this.height=n}return A.prototype.add=function(t,e,n,r){return new A(this.left+t,this.top+e,this.width+n,this.height+r)},A.fromClientRect=function(t,e){return new A(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},A.fromDOMRectList=function(t,e){var n=Array.from(e).find(function(A){return 0!==A.width});return n?new A(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A}(),fu=function(A,t){return hu.fromClientRect(A,t.getBoundingClientRect())},du=function(A){for(var t=[],e=0,n=A.length;e<n;){var r=A.charCodeAt(e++);if(r>=55296&&r<=56319&&e<n){var i=A.charCodeAt(e++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),e--)}else t.push(r)}return t},pu=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var e=A.length;if(!e)return"";for(var n=[],r=-1,i="";++r<e;){var s=A[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===e||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bu="undefined"==typeof Uint8Array?[]:new Uint8Array(256),mu=0;mu<64;mu++)Bu[gu.charCodeAt(mu)]=mu;for(var wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),yu=0;yu<64;yu++)_u[wu.charCodeAt(yu)]=yu;for(var vu=function(A,t,e){return A.slice?A.slice(t,e):new Uint16Array(Array.prototype.slice.call(A,t,e))},Cu=function(){function A(A,t,e,n,r,i){this.initialValue=A,this.errorValue=t,this.highStart=e,this.highValueIndex=n,this.index=r,this.data=i}return A.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=((t=this.index[A>>5])<<2)+(31&A),this.data[t];if(A<=65535)return t=((t=this.index[2048+(A-55296>>5)])<<2)+(31&A),this.data[t];if(A<this.highStart)return t=2080+(A>>11),t=this.index[t],t+=A>>5&63,t=((t=this.index[t])<<2)+(31&A),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eu="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Uu=0;Uu<64;Uu++)Eu[bu.charCodeAt(Uu)]=Uu;var Qu,Fu,Iu,Su,Tu,xu,Ou,Hu,Mu=10,Ru=13,Pu=15,Nu=17,Lu=18,Du=19,ku=20,Vu=21,Ku=22,Gu=24,qu=25,Xu=26,Yu=27,ju=28,Ju=30,Wu=32,zu=33,Zu=34,$u=35,Ac=37,tc=38,ec=39,nc=40,rc=42,ic=[9001,65288],sc="",oc="",ac=(Su=function(A){var t,e,n,r,i,s=.75*A.length,o=A.length,a=0;"="===A[A.length-1]&&(s--,"="===A[A.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),u=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)e=_u[A.charCodeAt(t)],n=_u[A.charCodeAt(t+1)],r=_u[A.charCodeAt(t+2)],i=_u[A.charCodeAt(t+3)],u[a++]=e<<2|n>>4,u[a++]=(15&n)<<4|r>>2,u[a++]=(3&r)<<6|63&i;return l}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Tu=Array.isArray(Su)?function(A){for(var t=A.length,e=[],n=0;n<t;n+=4)e.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return e}(Su):new Uint32Array(Su),xu=Array.isArray(Su)?function(A){for(var t=A.length,e=[],n=0;n<t;n+=2)e.push(A[n+1]<<8|A[n]);return e}(Su):new Uint16Array(Su),Ou=vu(xu,12,Tu[4]/2),Hu=2===Tu[5]?vu(xu,(24+Tu[4])/2):(Qu=Tu,Fu=Math.ceil((24+Tu[4])/4),Qu.slice?Qu.slice(Fu,Iu):new Uint32Array(Array.prototype.slice.call(Qu,Fu,Iu))),new Cu(Tu[0],Tu[1],Tu[2],Tu[3],Ou,Hu)),lc=[Ju,36],uc=[1,2,3,5],cc=[Mu,8],hc=[Yu,Xu],fc=uc.concat(cc),dc=[tc,ec,nc,Zu,$u],pc=[Pu,Ru],gc=function(A,t,e,n){var r=n[e];if(Array.isArray(A)?-1!==A.indexOf(r):A===r)for(var i=e;i<=n.length;){if((a=n[++i])===t)return!0;if(a!==Mu)break}if(r===Mu)for(i=e;i>0;){var s=n[--i];if(Array.isArray(A)?-1!==A.indexOf(s):A===s)for(var o=e;o<=n.length;){var a;if((a=n[++o])===t)return!0;if(a!==Mu)break}if(s!==Mu)break}return!1},Bc=function(A,t){for(var e=A;e>=0;){var n=t[e];if(n!==Mu)return n;e--}return 0},mc=function(A,t,e,n,r){if(0===e[n])return sc;var i=n-1;if(Array.isArray(r)&&!0===r[i])return sc;var s=i-1,o=i+1,a=t[i],l=s>=0?t[s]:0,u=t[o];if(2===a&&3===u)return sc;if(-1!==uc.indexOf(a))return"!";if(-1!==uc.indexOf(u))return sc;if(-1!==cc.indexOf(u))return sc;if(8===Bc(i,t))return oc;if(11===ac.get(A[i]))return sc;if((a===Wu||a===zu)&&11===ac.get(A[o]))return sc;if(7===a||7===u)return sc;if(9===a)return sc;if(-1===[Mu,Ru,Pu].indexOf(a)&&9===u)return sc;if(-1!==[Nu,Lu,Du,Gu,ju].indexOf(u))return sc;if(Bc(i,t)===Ku)return sc;if(gc(23,Ku,i,t))return sc;if(gc([Nu,Lu],Vu,i,t))return sc;if(gc(12,12,i,t))return sc;if(a===Mu)return oc;if(23===a||23===u)return sc;if(16===u||16===a)return oc;if(-1!==[Ru,Pu,Vu].indexOf(u)||14===a)return sc;if(36===l&&-1!==pc.indexOf(a))return sc;if(a===ju&&36===u)return sc;if(u===ku)return sc;if(-1!==lc.indexOf(u)&&a===qu||-1!==lc.indexOf(a)&&u===qu)return sc;if(a===Yu&&-1!==[Ac,Wu,zu].indexOf(u)||-1!==[Ac,Wu,zu].indexOf(a)&&u===Xu)return sc;if(-1!==lc.indexOf(a)&&-1!==hc.indexOf(u)||-1!==hc.indexOf(a)&&-1!==lc.indexOf(u))return sc;if(-1!==[Yu,Xu].indexOf(a)&&(u===qu||-1!==[Ku,Pu].indexOf(u)&&t[o+1]===qu)||-1!==[Ku,Pu].indexOf(a)&&u===qu||a===qu&&-1!==[qu,ju,Gu].indexOf(u))return sc;if(-1!==[qu,ju,Gu,Nu,Lu].indexOf(u))for(var c=i;c>=0;){if((h=t[c])===qu)return sc;if(-1===[ju,Gu].indexOf(h))break;c--}if(-1!==[Yu,Xu].indexOf(u))for(c=-1!==[Nu,Lu].indexOf(a)?s:i;c>=0;){var h;if((h=t[c])===qu)return sc;if(-1===[ju,Gu].indexOf(h))break;c--}if(tc===a&&-1!==[tc,ec,Zu,$u].indexOf(u)||-1!==[ec,Zu].indexOf(a)&&-1!==[ec,nc].indexOf(u)||-1!==[nc,$u].indexOf(a)&&u===nc)return sc;if(-1!==dc.indexOf(a)&&-1!==[ku,Xu].indexOf(u)||-1!==dc.indexOf(u)&&a===Yu)return sc;if(-1!==lc.indexOf(a)&&-1!==lc.indexOf(u))return sc;if(a===Gu&&-1!==lc.indexOf(u))return sc;if(-1!==lc.concat(qu).indexOf(a)&&u===Ku&&-1===ic.indexOf(A[o])||-1!==lc.concat(qu).indexOf(u)&&a===Lu)return sc;if(41===a&&41===u){for(var f=e[i],d=1;f>0&&41===t[--f];)d++;if(d%2!=0)return sc}return a===Wu&&u===zu?sc:oc},wc=function(A,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=function(A,t){void 0===t&&(t="strict");var e=[],n=[],r=[];return A.forEach(function(A,i){var s=ac.get(A);if(s>50?(r.push(!0),s-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(A))return n.push(i),e.push(16);if(4===s||11===s){if(0===i)return n.push(i),e.push(Ju);var o=e[i-1];return-1===fc.indexOf(o)?(n.push(n[i-1]),e.push(o)):(n.push(i),e.push(Ju))}return n.push(i),31===s?e.push("strict"===t?Vu:Ac):s===rc||29===s?e.push(Ju):43===s?A>=131072&&A<=196605||A>=196608&&A<=262141?e.push(Ac):e.push(Ju):void e.push(s)}),[n,e,r]}(A,t.lineBreak),n=e[0],r=e[1],i=e[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map(function(A){return-1!==[qu,Ju,rc].indexOf(A)?Ac:A})),[n,r,"keep-all"===t.wordBreak?i.map(function(t,e){return t&&A[e]>=19968&&A[e]<=40959}):void 0]},_c=function(){function A(A,t,e,n){this.codePoints=A,this.required="!"===t,this.start=e,this.end=n}return A.prototype.slice=function(){return pu.apply(void 0,this.codePoints.slice(this.start,this.end))},A}(),yc=45,vc=43,Cc=-1,bc=function(A){return A>=48&&A<=57},Ec=function(A){return bc(A)||A>=65&&A<=70||A>=97&&A<=102},Uc=function(A){return 10===A||9===A||32===A},Qc=function(A){return function(A){return function(A){return A>=97&&A<=122}(A)||function(A){return A>=65&&A<=90}(A)}(A)||function(A){return A>=128}(A)||95===A},Fc=function(A){return Qc(A)||bc(A)||A===yc},Ic=function(A){return A>=0&&A<=8||11===A||A>=14&&A<=31||127===A},Sc=function(A,t){return 92===A&&10!==t},Tc=function(A,t,e){return A===yc?Qc(t)||Sc(t,e):!!Qc(A)||!(92!==A||!Sc(A,t))},xc=function(A,t,e){return A===vc||A===yc?!!bc(t)||46===t&&bc(e):bc(46===A?t:A)},Oc=function(A){var t=0,e=1;A[t]!==vc&&A[t]!==yc||(A[t]===yc&&(e=-1),t++);for(var n=[];bc(A[t]);)n.push(A[t++]);var r=n.length?parseInt(pu.apply(void 0,n),10):0;46===A[t]&&t++;for(var i=[];bc(A[t]);)i.push(A[t++]);var s=i.length,o=s?parseInt(pu.apply(void 0,i),10):0;69!==A[t]&&101!==A[t]||t++;var a=1;A[t]!==vc&&A[t]!==yc||(A[t]===yc&&(a=-1),t++);for(var l=[];bc(A[t]);)l.push(A[t++]);var u=l.length?parseInt(pu.apply(void 0,l),10):0;return e*(r+o*Math.pow(10,-s))*Math.pow(10,a*u)},Hc={type:2},Mc={type:3},Rc={type:4},Pc={type:13},Nc={type:8},Lc={type:21},Dc={type:9},kc={type:10},Vc={type:11},Kc={type:12},Gc={type:14},qc={type:23},Xc={type:1},Yc={type:25},jc={type:24},Jc={type:26},Wc={type:27},zc={type:28},Zc={type:29},$c={type:31},Ah={type:32},th=function(){function A(){this._value=[]}return A.prototype.write=function(A){this._value=this._value.concat(du(A))},A.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==Ah;)A.push(t),t=this.consumeToken();return A},A.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),e=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Fc(t)||Sc(e,n)){var r=Tc(t,e,n)?2:1;return{type:5,value:this.consumeName(),flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Pc;break;case 39:return this.consumeStringToken(39);case 40:return Hc;case 41:return Mc;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Gc;break;case vc:if(xc(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 44:return Rc;case yc:var i=A,s=this.peekCodePoint(0),o=this.peekCodePoint(1);if(xc(i,s,o))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Tc(i,s,o))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(s===yc&&62===o)return this.consumeCodePoint(),this.consumeCodePoint(),jc;break;case 46:if(xc(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(42===a&&47===(a=this.consumeCodePoint()))return this.consumeToken();if(a===Cc)return this.consumeToken()}break;case 58:return Jc;case 59:return Wc;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===yc&&this.peekCodePoint(2)===yc)return this.consumeCodePoint(),this.consumeCodePoint(),Yc;break;case 64:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),c=this.peekCodePoint(2);if(Tc(l,u,c))return{type:7,value:this.consumeName()};break;case 91:return zc;case 92:if(Sc(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case 93:return Zc;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Nc;break;case 123:return Vc;case 125:return Kc;case 117:case 85:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==vc||!Ec(f)&&63!==f||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Dc;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Lc;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kc;break;case Cc:return Ah}return Uc(A)?(this.consumeWhiteSpace(),$c):bc(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):Qc(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:pu(A)}},A.prototype.consumeCodePoint=function(){var A=this._value.shift();return void 0===A?-1:A},A.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},A.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},A.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();Ec(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var e=!1;63===t&&A.length<6;)A.push(t),t=this.consumeCodePoint(),e=!0;if(e)return{type:30,start:parseInt(pu.apply(void 0,A.map(function(A){return 63===A?48:A})),16),end:parseInt(pu.apply(void 0,A.map(function(A){return 63===A?70:A})),16)};var n=parseInt(pu.apply(void 0,A),16);if(this.peekCodePoint(0)===yc&&Ec(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];Ec(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(pu.apply(void 0,r),16)}}return{type:30,start:n,end:n}},A.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return"url"===A.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},A.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Cc)return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var e=this.consumeStringToken(this.consumeCodePoint());return 0===e.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Cc||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:e.value}):(this.consumeBadUrlRemnants(),qc)}for(;;){var n=this.consumeCodePoint();if(n===Cc||41===n)return{type:22,value:pu.apply(void 0,A)};if(Uc(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Cc||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:pu.apply(void 0,A)}):(this.consumeBadUrlRemnants(),qc);if(34===n||39===n||40===n||Ic(n))return this.consumeBadUrlRemnants(),qc;if(92===n){if(!Sc(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),qc;A.push(this.consumeEscapedCodePoint())}else A.push(n)}},A.prototype.consumeWhiteSpace=function(){for(;Uc(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(41===A||A===Cc)return;Sc(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(A){for(var t="";A>0;){var e=Math.min(5e4,A);t+=pu.apply(void 0,this._value.splice(0,e)),A-=e}return this._value.shift(),t},A.prototype.consumeStringToken=function(A){for(var t="",e=0;;){var n=this._value[e];if(n===Cc||void 0===n||n===A)return{type:0,value:t+=this.consumeStringSlice(e)};if(10===n)return this._value.splice(0,e),Xc;if(92===n){var r=this._value[e+1];r!==Cc&&void 0!==r&&(10===r?(t+=this.consumeStringSlice(e),e=-1,this._value.shift()):Sc(n,r)&&(t+=this.consumeStringSlice(e),t+=pu(this.consumeEscapedCodePoint()),e=-1))}e++}},A.prototype.consumeNumber=function(){var A=[],t=4,e=this.peekCodePoint(0);for(e!==vc&&e!==yc||A.push(this.consumeCodePoint());bc(this.peekCodePoint(0));)A.push(this.consumeCodePoint());e=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===e&&bc(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;bc(this.peekCodePoint(0));)A.push(this.consumeCodePoint());e=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===e||101===e)&&((n===vc||n===yc)&&bc(r)||bc(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;bc(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[Oc(A),t]},A.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],e=A[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);return Tc(n,r,i)?{type:15,number:t,flags:e,unit:this.consumeName()}:37===n?(this.consumeCodePoint(),{type:16,number:t,flags:e}):{type:17,number:t,flags:e}},A.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Ec(A)){for(var t=pu(A);Ec(this.peekCodePoint(0))&&t.length<6;)t+=pu(this.consumeCodePoint());Uc(this.peekCodePoint(0))&&this.consumeCodePoint();var e=parseInt(t,16);return 0===e||function(A){return A>=55296&&A<=57343}(e)||e>1114111?65533:e}return A===Cc?65533:A},A.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(Fc(t))A+=pu(t);else{if(!Sc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),A;A+=pu(this.consumeEscapedCodePoint())}}},A}(),eh=function(){function A(A){this._tokens=A}return A.create=function(t){var e=new th;return e.write(t),new A(e.read())},A.parseValue=function(t){return A.create(t).parseComponentValue()},A.parseValues=function(t){return A.create(t).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var A=this.consumeToken();31===A.type;)A=this.consumeToken();if(32===A.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do{A=this.consumeToken()}while(31===A.type);if(32===A.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(32===t.type)return A;A.push(t),A.push()}},A.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},A.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},e=this.consumeToken();;){if(32===e.type||ch(e,A))return t;this.reconsumeToken(e),t.values.push(this.consumeComponentValue()),e=this.consumeToken()}},A.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var e=this.consumeToken();if(32===e.type||3===e.type)return t;this.reconsumeToken(e),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var A=this._tokens.shift();return void 0===A?Ah:A},A.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},A}(),nh=function(A){return 15===A.type},rh=function(A){return 17===A.type},ih=function(A){return 20===A.type},sh=function(A){return 0===A.type},oh=function(A,t){return ih(A)&&A.value===t},ah=function(A){return 31!==A.type},lh=function(A){return 31!==A.type&&4!==A.type},uh=function(A){var t=[],e=[];return A.forEach(function(A){if(4===A.type){if(0===e.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(e),void(e=[])}31!==A.type&&e.push(A)}),e.length&&t.push(e),t},ch=function(A,t){return 11===t&&12===A.type||(28===t&&29===A.type||2===t&&3===A.type)},hh=function(A){return 17===A.type||15===A.type},fh=function(A){return 16===A.type||hh(A)},dh=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},ph={type:17,number:0,flags:4},gh={type:16,number:50,flags:4},Bh={type:16,number:100,flags:4},mh=function(A,t,e){var n=A[0],r=A[1];return[wh(n,t),wh(void 0!==r?r:n,e)]},wh=function(A,t){if(16===A.type)return A.number/100*t;if(nh(A))switch(A.unit){case"rem":case"em":return 16*A.number;default:return A.number}return A.number},_h="grad",yh="turn",vh=function(A,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case _h:return Math.PI/200*t.number;case"rad":return t.number;case yh:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},Ch=function(A){return 15===A.type&&("deg"===A.unit||A.unit===_h||"rad"===A.unit||A.unit===yh)},bh=function(A){switch(A.filter(ih).map(function(A){return A.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ph,ph];case"to top":case"bottom":return Eh(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ph,Bh];case"to right":case"left":return Eh(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Bh,Bh];case"to bottom":case"top":return Eh(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Bh,ph];case"to left":case"right":return Eh(270)}return 0},Eh=function(A){return Math.PI*A/180},Uh=function(A,t){if(18===t.type){var e=Hh[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(A,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);return Ih(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===t.value.length){n=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);var s=t.value.substring(3,4);return Ih(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(6===t.value.length){n=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6);return Ih(parseInt(n,16),parseInt(r,16),parseInt(i,16),1)}if(8===t.value.length){n=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6),s=t.value.substring(6,8);return Ih(parseInt(n,16),parseInt(r,16),parseInt(i,16),parseInt(s,16)/255)}}if(20===t.type){var o=Rh[t.value.toUpperCase()];if(void 0!==o)return o}return Rh.TRANSPARENT},Qh=function(A){return!(255&A)},Fh=function(A){var t=255&A,e=255&A>>8,n=255&A>>16,r=255&A>>24;return t<255?"rgba("+r+","+n+","+e+","+t/255+")":"rgb("+r+","+n+","+e+")"},Ih=function(A,t,e,n){return(A<<24|t<<16|e<<8|Math.round(255*n))>>>0},Sh=function(A,t){if(17===A.type)return A.number;if(16===A.type){var e=3===t?1:255;return 3===t?A.number/100*e:Math.round(A.number/100*e)}return 0},Th=function(A,t){var e=t.filter(lh);if(3===e.length){var n=e.map(Sh),r=n[0],i=n[1],s=n[2];return Ih(r,i,s,1)}if(4===e.length){var o=e.map(Sh),a=(r=o[0],i=o[1],s=o[2],o[3]);return Ih(r,i,s,a)}return 0};function xh(A,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-A)*e*6+A:e<.5?t:e<2/3?6*(t-A)*(2/3-e)+A:A}var Oh=function(A,t){var e=t.filter(lh),n=e[0],r=e[1],i=e[2],s=e[3],o=(17===n.type?Eh(n.number):vh(A,n))/(2*Math.PI),a=fh(r)?r.number/100:0,l=fh(i)?i.number/100:0,u=void 0!==s&&fh(s)?wh(s,1):1;if(0===a)return Ih(255*l,255*l,255*l,1);var c=l<=.5?l*(a+1):l+a-l*a,h=2*l-c,f=xh(h,c,o+1/3),d=xh(h,c,o),p=xh(h,c,o-1/3);return Ih(255*f,255*d,255*p,u)},Hh={hsl:Oh,hsla:Oh,rgb:Th,rgba:Th},Mh=function(A,t){return Uh(A,eh.create(t).parseComponentValue())},Rh={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ph={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,t){return t.map(function(A){if(ih(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Nh={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lh=function(A,t){var e=Uh(A,t[0]),n=t[1];return n&&fh(n)?{color:e,stop:n}:{color:e,stop:null}},Dh=function(A,t){var e=A[0],n=A[A.length-1];null===e.stop&&(e.stop=ph),null===n.stop&&(n.stop=Bh);for(var r=[],i=0,s=0;s<A.length;s++){var o=A[s].stop;if(null!==o){var a=wh(o,t);a>i?r.push(a):r.push(i),i=a}else r.push(null)}var l=null;for(s=0;s<r.length;s++){var u=r[s];if(null===u)null===l&&(l=s);else if(null!==l){for(var c=s-l,h=(u-r[l-1])/(c+1),f=1;f<=c;f++)r[l+f-1]=h*f;l=null}}return A.map(function(A,e){return{color:A.color,stop:Math.max(Math.min(1,r[e]/t),0)}})},kh=function(A,t,e){var n="number"==typeof A?A:function(A,t,e){var n=t/2,r=e/2,i=wh(A[0],t)-n,s=r-wh(A[1],e);return(Math.atan2(s,i)+2*Math.PI)%(2*Math.PI)}(A,t,e),r=Math.abs(t*Math.sin(n))+Math.abs(e*Math.cos(n)),i=t/2,s=e/2,o=r/2,a=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[r,i-l,i+l,s-a,s+a]},Vh=function(A,t){return Math.sqrt(A*A+t*t)},Kh=function(A,t,e,n,r){return[[0,0],[0,t],[A,0],[A,t]].reduce(function(A,t){var i=t[0],s=t[1],o=Vh(e-i,n-s);return(r?o<A.optimumDistance:o>A.optimumDistance)?{optimumCorner:t,optimumDistance:o}:A},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Gh=function(A,t){var e=Eh(180),n=[];return uh(t).forEach(function(t,r){if(0===r){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(e=bh(t));if(Ch(i))return void(e=(vh(A,i)+Eh(270))%Eh(360))}var s=Lh(A,t);n.push(s)}),{angle:e,stops:n,type:1}},qh="closest-side",Xh="farthest-side",Yh="closest-corner",jh="farthest-corner",Jh="circle",Wh="ellipse",zh="cover",Zh="contain",$h=function(A,t){var e=0,n=3,r=[],i=[];return uh(t).forEach(function(t,s){var o=!0;if(0===s?o=t.reduce(function(A,t){if(ih(t))switch(t.value){case"center":return i.push(gh),!1;case"top":case"left":return i.push(ph),!1;case"right":case"bottom":return i.push(Bh),!1}else if(fh(t)||hh(t))return i.push(t),!1;return A},o):1===s&&(o=t.reduce(function(A,t){if(ih(t))switch(t.value){case Jh:return e=0,!1;case Wh:return e=1,!1;case Zh:case qh:return n=0,!1;case Xh:return n=1,!1;case Yh:return n=2,!1;case zh:case jh:return n=3,!1}else if(hh(t)||fh(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return A},o)),o){var a=Lh(A,t);r.push(a)}}),{size:n,shape:e,stops:r,position:i,type:2}},Af=function(A,t){if(22===t.type){var e={url:t.value,type:0};return A.cache.addImage(t.value),e}if(18===t.type){var n=nf[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(A,t.values)}throw new Error("Unsupported image type "+t.type)};var tf,ef,nf={"linear-gradient":function(A,t){var e=Eh(180),n=[];return uh(t).forEach(function(t,r){if(0===r){var i=t[0];if(20===i.type&&"to"===i.value)return void(e=bh(t));if(Ch(i))return void(e=vh(A,i))}var s=Lh(A,t);n.push(s)}),{angle:e,stops:n,type:1}},"-moz-linear-gradient":Gh,"-ms-linear-gradient":Gh,"-o-linear-gradient":Gh,"-webkit-linear-gradient":Gh,"radial-gradient":function(A,t){var e=0,n=3,r=[],i=[];return uh(t).forEach(function(t,s){var o=!0;if(0===s){var a=!1;o=t.reduce(function(A,t){if(a)if(ih(t))switch(t.value){case"center":return i.push(gh),A;case"top":case"left":return i.push(ph),A;case"right":case"bottom":return i.push(Bh),A}else(fh(t)||hh(t))&&i.push(t);else if(ih(t))switch(t.value){case Jh:return e=0,!1;case Wh:return e=1,!1;case"at":return a=!0,!1;case qh:return n=0,!1;case zh:case Xh:return n=1,!1;case Zh:case Yh:return n=2,!1;case jh:return n=3,!1}else if(hh(t)||fh(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return A},o)}if(o){var l=Lh(A,t);r.push(l)}}),{size:n,shape:e,stops:r,position:i,type:2}},"-moz-radial-gradient":$h,"-ms-radial-gradient":$h,"-o-radial-gradient":$h,"-webkit-radial-gradient":$h,"-webkit-gradient":function(A,t){var e=Eh(180),n=[],r=1;return uh(t).forEach(function(t,e){var i=t[0];if(0===e){if(ih(i)&&"linear"===i.value)return void(r=1);if(ih(i)&&"radial"===i.value)return void(r=2)}if(18===i.type)if("from"===i.name){var s=Uh(A,i.values[0]);n.push({stop:ph,color:s})}else if("to"===i.name){s=Uh(A,i.values[0]);n.push({stop:Bh,color:s})}else if("color-stop"===i.name){var o=i.values.filter(lh);if(2===o.length){s=Uh(A,o[1]);var a=o[0];rh(a)&&n.push({stop:{type:16,number:100*a.number,flags:a.flags},color:s})}}}),1===r?{angle:(e+Eh(180))%Eh(360),stops:n,type:r}:{size:3,shape:0,stops:n,position:[],type:r}}},rf={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,t){if(0===t.length)return[];var e=t[0];return 20===e.type&&"none"===e.value?[]:t.filter(function(A){return lh(A)&&function(A){return!(20===A.type&&"none"===A.value||18===A.type&&!nf[A.name])}(A)}).map(function(t){return Af(A,t)})}},sf={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,t){return t.map(function(A){if(ih(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},of={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,t){return uh(t).map(function(A){return A.filter(fh)}).map(dh)}},af={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,t){return uh(t).map(function(A){return A.filter(ih).map(function(A){return A.value}).join(" ")}).map(lf)}},lf=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(ef=tf||(tf={})).AUTO="auto",ef.CONTAIN="contain",ef.COVER="cover";var uf,cf,hf={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,t){return uh(t).map(function(A){return A.filter(ff)})}},ff=function(A){return ih(A)||fh(A)},df=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pf=df("top"),gf=df("right"),Bf=df("bottom"),mf=df("left"),wf=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return dh(t.filter(fh))}}},_f=wf("top-left"),yf=wf("top-right"),vf=wf("bottom-right"),Cf=wf("bottom-left"),bf=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ef=bf("top"),Uf=bf("right"),Qf=bf("bottom"),Ff=bf("left"),If=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return nh(t)?t.number:0}}},Sf=If("top"),Tf=If("right"),xf=If("bottom"),Of=If("left"),Hf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mf={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,t){return"rtl"===t?1:0}},Rf={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,t){return t.filter(ih).reduce(function(A,t){return A|Pf(t.value)},0)}},Pf=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Nf={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Lf={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};(cf=uf||(uf={})).NORMAL="normal",cf.STRICT="strict";var Df,kf,Vf={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){return"strict"===t?uf.STRICT:uf.NORMAL}},Kf={name:"line-height",initialValue:"normal",prefix:!1,type:4},Gf=function(A,t){return ih(A)&&"normal"===A.value?1.2*t:17===A.type?t*A.number:fh(A)?wh(A,t):t},qf={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,t){return 20===t.type&&"none"===t.value?null:Af(A,t)}},Xf={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,t){return"inside"===t?0:1}},Yf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},jf=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},Jf=jf("top"),Wf=jf("right"),zf=jf("bottom"),Zf=jf("left"),$f={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,t){return t.filter(ih).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ad={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){return"break-word"===t?"break-word":"normal"}},td=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ed=td("top"),nd=td("right"),rd=td("bottom"),id=td("left"),sd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},od={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ad={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,t){return 1===t.length&&oh(t[0],"none")?[]:uh(t).map(function(t){for(var e={color:Rh.TRANSPARENT,offsetX:ph,offsetY:ph,blur:ph},n=0,r=0;r<t.length;r++){var i=t[r];hh(i)?(0===n?e.offsetX=i:1===n?e.offsetY=i:e.blur=i,n++):e.color=Uh(A,i)}return e})}},ld={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ud={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var e=cd[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},cd={matrix:function(A){var t=A.filter(function(A){return 17===A.type}).map(function(A){return A.number});return 6===t.length?t:null},matrix3d:function(A){var t=A.filter(function(A){return 17===A.type}).map(function(A){return A.number}),e=t[0],n=t[1];t[2],t[3];var r=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],o=t[13];return t[14],t[15],16===t.length?[e,n,r,i,s,o]:null}},hd={type:16,number:50,flags:4},fd=[hd,hd],dd={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,t){var e=t.filter(fh);return 2!==e.length?fd:[e[0],e[1]]}},pd={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(kf=Df||(Df={})).NORMAL="normal",kf.BREAK_ALL="break-all",kf.KEEP_ALL="keep-all";for(var gd={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){switch(t){case"break-all":return Df.BREAK_ALL;case"keep-all":return Df.KEEP_ALL;default:return Df.NORMAL}}},Bd={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,t){if(20===t.type)return{auto:!0,order:0};if(rh(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},md=function(A,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},wd={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,t){return rh(t)?t.number:1}},_d={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yd={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,t){return t.filter(ih).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return 0!==A})}},vd={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,t){var e=[],n=[];return t.forEach(function(A){switch(A.type){case 20:case 0:e.push(A.value);break;case 17:e.push(A.number.toString());break;case 4:n.push(e.join(" ")),e.length=0}}),e.length&&n.push(e.join(" ")),n.map(function(A){return-1===A.indexOf(" ")?A:"'"+A+"'"})}},Cd={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bd={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,t){return rh(t)?t.number:ih(t)&&"bold"===t.value?700:400}},Ed={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,t){return t.filter(ih).map(function(A){return A.value})}},Ud={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Qd=function(A,t){return 0!==(A&t)},Fd={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,t){if(0===t.length)return[];var e=t[0];return 20===e.type&&"none"===e.value?[]:t}},Id={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,t){if(0===t.length)return null;var e=t[0];if(20===e.type&&"none"===e.value)return null;for(var n=[],r=t.filter(ah),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(20===s.type){var a=o&&rh(o)?o.number:1;n.push({counter:s.value,increment:a})}}return n}},Sd={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,t){if(0===t.length)return[];for(var e=[],n=t.filter(ah),r=0;r<n.length;r++){var i=n[r],s=n[r+1];if(ih(i)&&"none"!==i.value){var o=s&&rh(s)?s.number:0;e.push({counter:i.value,reset:o})}}return e}},Td={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,t){return t.filter(nh).map(function(t){return md(A,t)})}},xd={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,t){if(0===t.length)return null;var e=t[0];if(20===e.type&&"none"===e.value)return null;var n=[],r=t.filter(sh);if(r.length%2!=0)return null;for(var i=0;i<r.length;i+=2){var s=r[i].value,o=r[i+1].value;n.push({open:s,close:o})}return n}},Od=function(A,t,e){if(!A)return"";var n=A[Math.min(t,A.length-1)];return n?e?n.open:n.close:""},Hd={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,t){return 1===t.length&&oh(t[0],"none")?[]:uh(t).map(function(t){for(var e={color:255,offsetX:ph,offsetY:ph,blur:ph,spread:ph,inset:!1},n=0,r=0;r<t.length;r++){var i=t[r];oh(i,"inset")?e.inset=!0:hh(i)?(0===n?e.offsetX=i:1===n?e.offsetY=i:2===n?e.blur=i:e.spread=i,n++):e.color=Uh(A,i)}return e})}},Md={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,t){var e=[];return t.filter(ih).forEach(function(A){switch(A.value){case"stroke":e.push(1);break;case"fill":e.push(0);break;case"markers":e.push(2)}}),[0,1,2].forEach(function(A){-1===e.indexOf(A)&&e.push(A)}),e}},Rd={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pd={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return nh(t)?t.number:0}},Nd=function(){function A(A,t){var e,n;this.animationDuration=kd(A,Td,t.animationDuration),this.backgroundClip=kd(A,Ph,t.backgroundClip),this.backgroundColor=kd(A,Nh,t.backgroundColor),this.backgroundImage=kd(A,rf,t.backgroundImage),this.backgroundOrigin=kd(A,sf,t.backgroundOrigin),this.backgroundPosition=kd(A,of,t.backgroundPosition),this.backgroundRepeat=kd(A,af,t.backgroundRepeat),this.backgroundSize=kd(A,hf,t.backgroundSize),this.borderTopColor=kd(A,pf,t.borderTopColor),this.borderRightColor=kd(A,gf,t.borderRightColor),this.borderBottomColor=kd(A,Bf,t.borderBottomColor),this.borderLeftColor=kd(A,mf,t.borderLeftColor),this.borderTopLeftRadius=kd(A,_f,t.borderTopLeftRadius),this.borderTopRightRadius=kd(A,yf,t.borderTopRightRadius),this.borderBottomRightRadius=kd(A,vf,t.borderBottomRightRadius),this.borderBottomLeftRadius=kd(A,Cf,t.borderBottomLeftRadius),this.borderTopStyle=kd(A,Ef,t.borderTopStyle),this.borderRightStyle=kd(A,Uf,t.borderRightStyle),this.borderBottomStyle=kd(A,Qf,t.borderBottomStyle),this.borderLeftStyle=kd(A,Ff,t.borderLeftStyle),this.borderTopWidth=kd(A,Sf,t.borderTopWidth),this.borderRightWidth=kd(A,Tf,t.borderRightWidth),this.borderBottomWidth=kd(A,xf,t.borderBottomWidth),this.borderLeftWidth=kd(A,Of,t.borderLeftWidth),this.boxShadow=kd(A,Hd,t.boxShadow),this.color=kd(A,Hf,t.color),this.direction=kd(A,Mf,t.direction),this.display=kd(A,Rf,t.display),this.float=kd(A,Nf,t.cssFloat),this.fontFamily=kd(A,vd,t.fontFamily),this.fontSize=kd(A,Cd,t.fontSize),this.fontStyle=kd(A,Ud,t.fontStyle),this.fontVariant=kd(A,Ed,t.fontVariant),this.fontWeight=kd(A,bd,t.fontWeight),this.letterSpacing=kd(A,Lf,t.letterSpacing),this.lineBreak=kd(A,Vf,t.lineBreak),this.lineHeight=kd(A,Kf,t.lineHeight),this.listStyleImage=kd(A,qf,t.listStyleImage),this.listStylePosition=kd(A,Xf,t.listStylePosition),this.listStyleType=kd(A,Yf,t.listStyleType),this.marginTop=kd(A,Jf,t.marginTop),this.marginRight=kd(A,Wf,t.marginRight),this.marginBottom=kd(A,zf,t.marginBottom),this.marginLeft=kd(A,Zf,t.marginLeft),this.opacity=kd(A,wd,t.opacity);var r=kd(A,$f,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=kd(A,Ad,t.overflowWrap),this.paddingTop=kd(A,ed,t.paddingTop),this.paddingRight=kd(A,nd,t.paddingRight),this.paddingBottom=kd(A,rd,t.paddingBottom),this.paddingLeft=kd(A,id,t.paddingLeft),this.paintOrder=kd(A,Md,t.paintOrder),this.position=kd(A,od,t.position),this.textAlign=kd(A,sd,t.textAlign),this.textDecorationColor=kd(A,_d,null!==(e=t.textDecorationColor)&&void 0!==e?e:t.color),this.textDecorationLine=kd(A,yd,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=kd(A,ad,t.textShadow),this.textTransform=kd(A,ld,t.textTransform),this.transform=kd(A,ud,t.transform),this.transformOrigin=kd(A,dd,t.transformOrigin),this.visibility=kd(A,pd,t.visibility),this.webkitTextStrokeColor=kd(A,Rd,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=kd(A,Pd,t.webkitTextStrokeWidth),this.wordBreak=kd(A,gd,t.wordBreak),this.zIndex=kd(A,Bd,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},A.prototype.isTransparent=function(){return Qh(this.backgroundColor)},A.prototype.isTransformed=function(){return null!==this.transform},A.prototype.isPositioned=function(){return 0!==this.position},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return 0!==this.float},A.prototype.isInlineLevel=function(){return Qd(this.display,4)||Qd(this.display,33554432)||Qd(this.display,268435456)||Qd(this.display,536870912)||Qd(this.display,67108864)||Qd(this.display,134217728)},A}(),Ld=function(){return function(A,t){this.content=kd(A,Fd,t.content),this.quotes=kd(A,xd,t.quotes)}}(),Dd=function(){return function(A,t){this.counterIncrement=kd(A,Id,t.counterIncrement),this.counterReset=kd(A,Sd,t.counterReset)}}(),kd=function(A,t,e){var n=new th,r=null!=e?e.toString():t.initialValue;n.write(r);var i=new eh(n.read());switch(t.type){case 2:var s=i.parseComponentValue();return t.parse(A,ih(s)?s.value:t.initialValue);case 0:return t.parse(A,i.parseComponentValue());case 1:return t.parse(A,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return vh(A,i.parseComponentValue());case"color":return Uh(A,i.parseComponentValue());case"image":return Af(A,i.parseComponentValue());case"length":var o=i.parseComponentValue();return hh(o)?o:ph;case"length-percentage":var a=i.parseComponentValue();return fh(a)?a:ph;case"time":return md(A,i.parseComponentValue())}}},Vd=function(A,t){var e=function(A){switch(A.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(A);return 1===e||t===e},Kd=function(){return function(A,t){this.context=A,this.textNodes=[],this.elements=[],this.flags=0,Vd(t,3),this.styles=new Nd(A,window.getComputedStyle(t,null)),jp(t)&&(this.styles.animationDuration.some(function(A){return A>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=fu(this.context,t),Vd(t,4)&&(this.flags|=16)}}(),Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qd="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Xd=0;Xd<64;Xd++)qd[Gd.charCodeAt(Xd)]=Xd;for(var Yd=function(A,t,e){return A.slice?A.slice(t,e):new Uint16Array(Array.prototype.slice.call(A,t,e))},jd=function(){function A(A,t,e,n,r,i){this.initialValue=A,this.errorValue=t,this.highStart=e,this.highValueIndex=n,this.index=r,this.data=i}return A.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=((t=this.index[A>>5])<<2)+(31&A),this.data[t];if(A<=65535)return t=((t=this.index[2048+(A-55296>>5)])<<2)+(31&A),this.data[t];if(A<this.highStart)return t=2080+(A>>11),t=this.index[t],t+=A>>5&63,t=((t=this.index[t])<<2)+(31&A),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wd="undefined"==typeof Uint8Array?[]:new Uint8Array(256),zd=0;zd<64;zd++)Wd[Jd.charCodeAt(zd)]=zd;var Zd,$d,Ap=8,tp=9,ep=11,np=12,rp=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var e=A.length;if(!e)return"";for(var n=[],r=-1,i="";++r<e;){var s=A[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===e||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},ip=function(A){var t=function(A){var t,e,n,r,i,s=.75*A.length,o=A.length,a=0;"="===A[A.length-1]&&(s--,"="===A[A.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),u=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)e=qd[A.charCodeAt(t)],n=qd[A.charCodeAt(t+1)],r=qd[A.charCodeAt(t+2)],i=qd[A.charCodeAt(t+3)],u[a++]=e<<2|n>>4,u[a++]=(15&n)<<4|r>>2,u[a++]=(3&r)<<6|63&i;return l}(A),e=Array.isArray(t)?function(A){for(var t=A.length,e=[],n=0;n<t;n+=4)e.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return e}(t):new Uint32Array(t),n=Array.isArray(t)?function(A){for(var t=A.length,e=[],n=0;n<t;n+=2)e.push(A[n+1]<<8|A[n]);return e}(t):new Uint16Array(t),r=Yd(n,12,e[4]/2),i=2===e[5]?Yd(n,(24+e[4])/2):function(A,t,e){return A.slice?A.slice(t,e):new Uint32Array(Array.prototype.slice.call(A,t,e))}(e,Math.ceil((24+e[4])/4));return new jd(e[0],e[1],e[2],e[3],r,i)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),sp="",op=function(A){return ip.get(A)},ap=function(A,t,e){var n=e-2,r=t[n],i=t[e-1],s=t[e];if(2===i&&3===s)return sp;if(2===i||3===i||4===i)return"";if(2===s||3===s||4===s)return"";if(i===Ap&&-1!==[Ap,tp,ep,np].indexOf(s))return sp;if(!(i!==ep&&i!==tp||s!==tp&&10!==s))return sp;if((i===np||10===i)&&10===s)return sp;if(13===s||5===s)return sp;if(7===s)return sp;if(1===i)return sp;if(13===i&&14===s){for(;5===r;)r=t[--n];if(14===r)return sp}if(15===i&&15===s){for(var o=0;15===r;)o++,r=t[--n];if(o%2==0)return sp}return""},lp=function(A){var t=function(A){for(var t=[],e=0,n=A.length;e<n;){var r=A.charCodeAt(e++);if(r>=55296&&r<=56319&&e<n){var i=A.charCodeAt(e++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),e--)}else t.push(r)}return t}(A),e=t.length,n=0,r=0,i=t.map(op);return{next:function(){if(n>=e)return{done:!0,value:null};for(var A=sp;n<e&&(A=ap(0,i,++n))===sp;);if(A!==sp||n===e){var s=rp.apply(null,t.slice(r,n));return r=n,{value:s,done:!1}}return{done:!0,value:null}}}},up=function(A){return 0===A[0]&&255===A[1]&&0===A[2]&&255===A[3]},cp=function(A,t,e,n,r){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",A.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(r),s},hp=function(A){return new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},fp={get SUPPORT_RANGE_BOUNDS(){var A=function(A){if(A.createRange){var t=A.createRange();if(t.getBoundingClientRect){var e=A.createElement("boundtest");e.style.height="123px",e.style.display="block",A.body.appendChild(e),t.selectNode(e);var n=t.getBoundingClientRect(),r=Math.round(n.height);if(A.body.removeChild(e),123===r)return!0}}return!1}(document);return Object.defineProperty(fp,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=fp.SUPPORT_RANGE_BOUNDS&&function(A){var t=A.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",A.body.appendChild(t);var e=A.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,r=du(n.data).map(function(A){return pu(A)}),i=0,s={},o=r.every(function(A,t){e.setStart(n,i),e.setEnd(n,i+A.length);var r=e.getBoundingClientRect();i+=A.length;var o=r.x>s.x||r.y>s.y;return s=r,0===t||o});return A.body.removeChild(t),o}(document);return Object.defineProperty(fp,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=function(A){var t=new Image,e=A.createElement("canvas"),n=e.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch(GI){return!1}return!0}(document);return Object.defineProperty(fp,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A="function"==typeof Array.from&&"function"==typeof window.fetch?function(A){var t=A.createElement("canvas"),e=100;t.width=e,t.height=e;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,e,e);var r=new Image,i=t.toDataURL();r.src=i;var s=cp(e,e,0,0,r);return n.fillStyle="red",n.fillRect(0,0,e,e),hp(s).then(function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,e,e).data;n.fillStyle="red",n.fillRect(0,0,e,e);var s=A.createElement("div");return s.style.backgroundImage="url("+i+")",s.style.height=e+"px",up(r)?hp(cp(e,e,0,0,s)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),up(n.getImageData(0,0,e,e).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(fp,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=void 0!==(new Image).crossOrigin;return Object.defineProperty(fp,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(fp,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(fp,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(fp,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},dp=function(){return function(A,t){this.text=A,this.bounds=t}}(),pp=function(A,t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(n,t);var i=fu(A,n);return n.firstChild&&r.replaceChild(n.firstChild,n),i}}return hu.EMPTY},gp=function(A,t,e){var n=A.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(A,t),r.setEnd(A,t+e),r},Bp=function(A){if(fp.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(A)).map(function(A){return A.segment})}return function(A){for(var t,e=lp(A),n=[];!(t=e.next()).done;)t.value&&n.push(t.value.slice());return n}(A)},mp=function(A,t){return 0!==t.letterSpacing?Bp(A):function(A,t){if(fp.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(A)).map(function(A){return A.segment})}return _p(A,t)}(A,t)},wp=[32,160,4961,65792,65793,4153,4241],_p=function(A,t){for(var e,n=function(A,t){var e=du(A),n=wc(e,t),r=n[0],i=n[1],s=n[2],o=e.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var A=sc;l<o&&(A=mc(e,i,r,++l,s))===sc;);if(A!==sc||l===o){var t=new _c(e,A,a,l);return a=l,{value:t,done:!1}}return{done:!0,value:null}}}}(A,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],i=function(){if(e.value){var A=e.value.slice(),t=du(A),n="";t.forEach(function(A){-1===wp.indexOf(A)?n+=pu(A):(n.length&&r.push(n),r.push(pu(A)),n="")}),n.length&&r.push(n)}};!(e=n.next()).done;)i();return r},yp=function(){return function(A,t,e){this.text=vp(t.data,e.textTransform),this.textBounds=function(A,t,e,n){var r=mp(t,e),i=[],s=0;return r.forEach(function(t){if(e.textDecorationLine.length||t.trim().length>0)if(fp.SUPPORT_RANGE_BOUNDS){var r=gp(n,s,t.length).getClientRects();if(r.length>1){var o=Bp(t),a=0;o.forEach(function(t){i.push(new dp(t,hu.fromDOMRectList(A,gp(n,a+s,t.length).getClientRects()))),a+=t.length})}else i.push(new dp(t,hu.fromDOMRectList(A,r)))}else{var l=n.splitText(t.length);i.push(new dp(t,pp(A,n))),n=l}else fp.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));s+=t.length}),i}(A,this.text,e,t)}}(),vp=function(A,t){switch(t){case 1:return A.toLowerCase();case 3:return A.replace(Cp,bp);case 2:return A.toUpperCase();default:return A}},Cp=/(^|\s|:|-|\(|\))([a-z])/g,bp=function(A,t,e){return A.length>0?t+e.toUpperCase():A},Ep=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,n.context.cache.addImage(n.src),n}return au(t,A),t}(Kd),Up=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return au(t,A),t}(Kd),Qp=function(A){function t(t,e){var n=A.call(this,t,e)||this,r=new XMLSerializer,i=fu(t,e);return e.setAttribute("width",i.width+"px"),e.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,n.context.cache.addImage(n.svg),n}return au(t,A),t}(Kd),Fp=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n.value=e.value,n}return au(t,A),t}(Kd),Ip=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n.start=e.start,n.reversed="boolean"==typeof e.reversed&&!0===e.reversed,n}return au(t,A),t}(Kd),Sp=[{type:15,flags:0,unit:"px",number:3}],Tp=[{type:16,flags:0,number:50}],xp="checkbox",Op="radio",Hp="password",Mp=707406591,Rp=function(A){function t(t,e){var n,r,i,s=A.call(this,t,e)||this;switch(s.type=e.type.toLowerCase(),s.checked=e.checked,s.value=0===(r=(n=e).type===Hp?new Array(n.value.length+1).join(""):n.value).length?n.placeholder||"":r,s.type!==xp&&s.type!==Op||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(i=s.bounds).width>i.height?new hu(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new hu(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i),s.type){case xp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Sp;break;case Op:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Tp}return s}return au(t,A),t}(Kd),Pp=function(A){function t(t,e){var n=A.call(this,t,e)||this,r=e.options[e.selectedIndex||0];return n.value=r&&r.text||"",n}return au(t,A),t}(Kd),Np=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n.value=e.value,n}return au(t,A),t}(Kd),Lp=function(A){function t(t,e){var n=A.call(this,t,e)||this;n.src=e.src,n.width=parseInt(e.width,10)||0,n.height=parseInt(e.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=Kp(t,e.contentWindow.document.documentElement);var r=e.contentWindow.document.documentElement?Mh(t,getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):Rh.TRANSPARENT,i=e.contentWindow.document.body?Mh(t,getComputedStyle(e.contentWindow.document.body).backgroundColor):Rh.TRANSPARENT;n.backgroundColor=Qh(r)?Qh(i)?n.styles.backgroundColor:i:r}}catch(GI){}return n}return au(t,A),t}(Kd),Dp=["OL","UL","MENU"],kp=function(A,t,e,n){for(var r=t.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,Xp(r)&&r.data.trim().length>0)e.textNodes.push(new yp(A,r,e.styles));else if(Yp(r))if(ag(r)&&r.assignedNodes)r.assignedNodes().forEach(function(t){return kp(A,t,e,n)});else{var s=Vp(A,r);s.styles.isVisible()&&(Gp(r,s,n)?s.flags|=4:qp(s.styles)&&(s.flags|=2),-1!==Dp.indexOf(r.tagName)&&(s.flags|=8),e.elements.push(s),r.slot,r.shadowRoot?kp(A,r.shadowRoot,s,n):sg(r)||$p(r)||og(r)||kp(A,r,s,n))}},Vp=function(A,t){return ng(t)?new Ep(A,t):tg(t)?new Up(A,t):$p(t)?new Qp(A,t):Wp(t)?new Fp(A,t):zp(t)?new Ip(A,t):Zp(t)?new Rp(A,t):og(t)?new Pp(A,t):sg(t)?new Np(A,t):rg(t)?new Lp(A,t):new Kd(A,t)},Kp=function(A,t){var e=Vp(A,t);return e.flags|=4,kp(A,t,e,e),e},Gp=function(A,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Ag(A)&&e.styles.isTransparent()},qp=function(A){return A.isPositioned()||A.isFloating()},Xp=function(A){return A.nodeType===Node.TEXT_NODE},Yp=function(A){return A.nodeType===Node.ELEMENT_NODE},jp=function(A){return Yp(A)&&void 0!==A.style&&!Jp(A)},Jp=function(A){return"object"==typeof A.className},Wp=function(A){return"LI"===A.tagName},zp=function(A){return"OL"===A.tagName},Zp=function(A){return"INPUT"===A.tagName},$p=function(A){return"svg"===A.tagName},Ag=function(A){return"BODY"===A.tagName},tg=function(A){return"CANVAS"===A.tagName},eg=function(A){return"VIDEO"===A.tagName},ng=function(A){return"IMG"===A.tagName},rg=function(A){return"IFRAME"===A.tagName},ig=function(A){return"STYLE"===A.tagName},sg=function(A){return"TEXTAREA"===A.tagName},og=function(A){return"SELECT"===A.tagName},ag=function(A){return"SLOT"===A.tagName},lg=function(A){return A.tagName.indexOf("-")>0},ug=function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},A.prototype.pop=function(A){var t=this;A.forEach(function(A){return t.counters[A].pop()})},A.prototype.parse=function(A){var t=this,e=A.counterIncrement,n=A.counterReset,r=!0;null!==e&&e.forEach(function(A){var e=t.counters[A.counter];e&&0!==A.increment&&(r=!1,e.length||e.push(1),e[Math.max(0,e.length-1)]+=A.increment)});var i=[];return r&&n.forEach(function(A){var e=t.counters[A.counter];i.push(A.counter),e||(e=t.counters[A.counter]=[]),e.push(A.reset)}),i},A}(),cg={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},hg={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pg=function(A,t,e,n,r,i){return A<t||A>e?bg(A,r,i.length>0):n.integers.reduce(function(t,e,r){for(;A>=e;)A-=e,t+=n.values[r];return t},"")+i},gg=function(A,t,e,n){var r="";do{e||A--,r=n(A)+r,A/=t}while(A*t>=t);return r},Bg=function(A,t,e,n,r){var i=e-t+1;return(A<0?"-":"")+(gg(Math.abs(A),i,n,function(A){return pu(Math.floor(A%i)+t)})+r)},mg=function(A,t,e){void 0===e&&(e=". ");var n=t.length;return gg(Math.abs(A),n,!1,function(A){return t[Math.floor(A%n)]})+e},wg=function(A,t,e,n,r,i){if(A<-9999||A>9999)return bg(A,4,r.length>0);var s=Math.abs(A),o=r;if(0===s)return t[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;0===l&&Qd(i,1)&&""!==o?o=t[l]+o:l>1||1===l&&0===a||1===l&&1===a&&Qd(i,2)||1===l&&1===a&&Qd(i,4)&&A>100||1===l&&a>1&&Qd(i,8)?o=t[l]+(a>0?e[a-1]:"")+o:1===l&&a>0&&(o=e[a-1]+o),s=Math.floor(s/10)}return(A<0?n:"")+o},_g="",yg="",vg="",Cg="",bg=function(A,t,e){var n=e?". ":"",r=e?"":"",i=e?", ":"",s=e?" ":"";switch(t){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=Bg(A,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return mg(A,"",r);case 6:return pg(A,1,3999,cg,3,n).toLowerCase();case 7:return pg(A,1,3999,cg,3,n);case 8:return Bg(A,945,969,!1,n);case 9:return Bg(A,97,122,!1,n);case 10:return Bg(A,65,90,!1,n);case 11:return Bg(A,1632,1641,!0,n);case 12:case 49:return pg(A,1,9999,hg,3,n);case 35:return pg(A,1,9999,hg,3,n).toLowerCase();case 13:return Bg(A,2534,2543,!0,n);case 14:case 30:return Bg(A,6112,6121,!0,n);case 15:return mg(A,"",r);case 16:return mg(A,"",r);case 17:case 48:return wg(A,"",_g,"",r,14);case 47:return wg(A,"",yg,"",r,15);case 42:return wg(A,"",_g,"",r,14);case 41:return wg(A,"",yg,"",r,15);case 26:return wg(A,"","",vg,r,0);case 25:return wg(A,"","",vg,r,7);case 31:return wg(A,"","",Cg,i,7);case 33:return wg(A,"","",Cg,i,0);case 32:return wg(A,"","",Cg,i,7);case 18:return Bg(A,2406,2415,!0,n);case 20:return pg(A,1,19999,dg,3,n);case 21:return Bg(A,2790,2799,!0,n);case 22:return Bg(A,2662,2671,!0,n);case 22:return pg(A,1,10999,fg,3,n);case 23:return mg(A,"");case 24:return mg(A,"");case 27:return Bg(A,3302,3311,!0,n);case 28:return mg(A,"",r);case 29:return mg(A,"",r);case 34:return Bg(A,3792,3801,!0,n);case 37:return Bg(A,6160,6169,!0,n);case 38:return Bg(A,4160,4169,!0,n);case 39:return Bg(A,2918,2927,!0,n);case 40:return Bg(A,1776,1785,!0,n);case 43:return Bg(A,3046,3055,!0,n);case 44:return Bg(A,3174,3183,!0,n);case 45:return Bg(A,3664,3673,!0,n);case 46:return Bg(A,3872,3881,!0,n);default:return Bg(A,48,57,!0,n)}},Eg="data-html2canvas-ignore",Ug=function(){function A(A,t,e){if(this.context=A,this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new ug,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(A,t){var e=this,n=Ig(A,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var r=A.defaultView.pageXOffset,i=A.defaultView.pageYOffset,s=n.contentWindow,o=s.document,a=xg(n).then(function(){return uu(e,0,void 0,function(){var A,e;return cu(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(Pg),s&&(s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-t.left,s.scrollY-t.top,0,0))),A=this.options.onclone,void 0===(e=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tg(o)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof A?[2,Promise.resolve().then(function(){return A(o,e)}).then(function(){return n})]:[2,n]}})})});return o.open(),o.write(Mg(document.doctype)+"<html></html>"),Rg(this.referenceElement.ownerDocument,r,i),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),a},A.prototype.createElementClone=function(A){if(Vd(A,2),tg(A))return this.createCanvasClone(A);if(eg(A))return this.createVideoClone(A);if(ig(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return ng(t)&&(ng(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),lg(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return Hg(A.style,t),t},A.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var e=[].slice.call(t.cssRules,0).reduce(function(A,t){return t&&"string"==typeof t.cssText?A+t.cssText:A},""),n=A.cloneNode(!1);return n.textContent=e,n}}catch(GI){if(this.context.logger.error("Unable to access cssRules property",GI),"SecurityError"!==GI.name)throw GI}return A.cloneNode(!1)},A.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var e=A.ownerDocument.createElement("img");try{return e.src=A.toDataURL(),e}catch(GI){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var r=A.getContext("2d"),i=n.getContext("2d");if(i)if(!this.options.allowTaint&&r)i.putImageData(r.getImageData(0,0,A.width,A.height),0,0);else{var s=null!==(t=A.getContext("webgl2"))&&void 0!==t?t:A.getContext("webgl");if(s){var o=s.getContextAttributes();!1===(null==o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}i.drawImage(A,0,0)}return n}catch(GI){this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},A.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var e=t.getContext("2d");try{return e&&(e.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||e.getImageData(0,0,t.width,t.height)),t}catch(GI){this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},A.prototype.appendChildNode=function(A,t,e){Yp(t)&&("SCRIPT"===t.tagName||t.hasAttribute(Eg)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&Yp(t)&&ig(t)||A.appendChild(this.cloneNode(t,e))},A.prototype.cloneChildNodes=function(A,t,e){for(var n=this,r=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;r;r=r.nextSibling)if(Yp(r)&&ag(r)&&"function"==typeof r.assignedNodes){var i=r.assignedNodes();i.length&&i.forEach(function(A){return n.appendChildNode(t,A,e)})}else this.appendChildNode(t,r,e)},A.prototype.cloneNode=function(A,t){if(Xp(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var e=A.ownerDocument.defaultView;if(e&&Yp(A)&&(jp(A)||Jp(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var r=e.getComputedStyle(A),i=e.getComputedStyle(A,":before"),s=e.getComputedStyle(A,":after");this.referenceElement===A&&jp(n)&&(this.clonedReferenceElement=n),Ag(n)&&kg(n);var o=this.counters.parse(new Dd(this.context,r)),a=this.resolvePseudoContent(A,n,i,Zd.BEFORE);lg(A)&&(t=!0),eg(A)||this.cloneChildNodes(A,n,t),a&&n.insertBefore(a,n.firstChild);var l=this.resolvePseudoContent(A,n,s,Zd.AFTER);return l&&n.appendChild(l),this.counters.pop(o),(r&&(this.options.copyStyles||Jp(A))&&!rg(A)||t)&&Hg(r,n),0===A.scrollTop&&0===A.scrollLeft||this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(sg(A)||og(A))&&(sg(n)||og(n))&&(n.value=A.value),n}return A.cloneNode(!1)},A.prototype.resolvePseudoContent=function(A,t,e,n){var r=this;if(e){var i=e.content,s=t.ownerDocument;if(s&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==e.display){this.counters.parse(new Dd(this.context,e));var o=new Ld(this.context,e),a=s.createElement("html2canvaspseudoelement");Hg(e,a),o.content.forEach(function(t){if(0===t.type)a.appendChild(s.createTextNode(t.value));else if(22===t.type){var e=s.createElement("img");e.src=t.value,e.style.opacity="1",a.appendChild(e)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(ih);n.length&&a.appendChild(s.createTextNode(A.getAttribute(n[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(lh),l=i[0],u=i[1];if(l&&ih(l)){var c=r.counters.getCounterValue(l.value),h=u&&ih(u)?Yf.parse(r.context,u.value):3;a.appendChild(s.createTextNode(bg(c,h,!1)))}}else if("counters"===t.name){var f=t.values.filter(lh),d=(l=f[0],f[1]);u=f[2];if(l&&ih(l)){var p=r.counters.getCounterValues(l.value),g=u&&ih(u)?Yf.parse(r.context,u.value):3,B=d&&0===d.type?d.value:"",m=p.map(function(A){return bg(A,g,!1)}).join(B);a.appendChild(s.createTextNode(m))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(s.createTextNode(Od(o.quotes,r.quoteDepth++,!0)));break;case"close-quote":a.appendChild(s.createTextNode(Od(o.quotes,--r.quoteDepth,!1)));break;default:a.appendChild(s.createTextNode(t.value))}}),a.className=Ng+" "+Lg;var l=n===Zd.BEFORE?" "+Ng:" "+Lg;return Jp(t)?t.className.baseValue+=l:t.className+=l,a}}},A.destroy=function(A){return!!A.parentNode&&(A.parentNode.removeChild(A),!0)},A}();($d=Zd||(Zd={}))[$d.BEFORE=0]="BEFORE",$d[$d.AFTER=1]="AFTER";var Qg,Fg,Ig=function(A,t){var e=A.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(Eg,"true"),A.body.appendChild(e),e},Sg=function(A){return new Promise(function(t){A.complete?t():A.src?(A.onload=t,A.onerror=t):t()})},Tg=function(A){return Promise.all([].slice.call(A.images,0).map(Sg))},xg=function(A){return new Promise(function(t,e){var n=A.contentWindow;if(!n)return e("No window assigned for iframe");var r=n.document;n.onload=A.onload=function(){n.onload=A.onload=null;var e=setInterval(function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(e),t(A))},50)}})},Og=["all","d","content"],Hg=function(A,t){for(var e=A.length-1;e>=0;e--){var n=A.item(e);-1===Og.indexOf(n)&&t.style.setProperty(n,A.getPropertyValue(n))}return t},Mg=function(A){var t="";return A&&(t+="<!DOCTYPE ",A.name&&(t+=A.name),A.internalSubset&&(t+=A.internalSubset),A.publicId&&(t+='"'+A.publicId+'"'),A.systemId&&(t+='"'+A.systemId+'"'),t+=">"),t},Rg=function(A,t,e){A&&A.defaultView&&(t!==A.defaultView.pageXOffset||e!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(t,e)},Pg=function(A){var t=A[0],e=A[1],n=A[2];t.scrollLeft=e,t.scrollTop=n},Ng="___html2canvas___pseudoelement_before",Lg="___html2canvas___pseudoelement_after",Dg='{\n    content: "" !important;\n    display: none !important;\n}',kg=function(A){Vg(A,"."+Ng+":before"+Dg+"\n         ."+Lg+":after"+Dg)},Vg=function(A,t){var e=A.ownerDocument;if(e){var n=e.createElement("style");n.textContent=t,A.appendChild(n)}},Kg=function(){function A(){}return A.getOrigin=function(t){var e=A._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},A.isSameOrigin=function(t){return A.getOrigin(t)===A._origin},A.setContext=function(t){A._link=t.document.createElement("a"),A._origin=A.getOrigin(t.location.href)},A._origin="about:blank",A}(),Gg=function(){function A(A,t){this.context=A,this._options=t,this._cache={}}return A.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)?t:zg(A)||jg(A)?((this._cache[A]=this.loadImage(A)).catch(function(){}),t):t},A.prototype.match=function(A){return this._cache[A]},A.prototype.loadImage=function(A){return uu(this,0,void 0,function(){var t,e,n,r,i=this;return cu(this,function(s){switch(s.label){case 0:return t=Kg.isSameOrigin(A),e=!Jg(A)&&!0===this._options.useCORS&&fp.SUPPORT_CORS_IMAGES&&!t,n=!Jg(A)&&!t&&!zg(A)&&"string"==typeof this._options.proxy&&fp.SUPPORT_CORS_XHR&&!e,t||!1!==this._options.allowTaint||Jg(A)||zg(A)||n||e?(r=A,n?[4,this.proxy(r)]:[3,2]):[2];case 1:r=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(A,t){var n=new Image;n.onload=function(){return A(n)},n.onerror=t,(Wg(r)||e)&&(n.crossOrigin="anonymous"),n.src=r,!0===n.complete&&setTimeout(function(){return A(n)},500),i._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},A.prototype.has=function(A){return void 0!==this._cache[A]},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(A){var t=this,e=this._options.proxy;if(!e)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(r,i){var s=fp.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===s)r(o.response);else{var A=new FileReader;A.addEventListener("load",function(){return r(A.result)},!1),A.addEventListener("error",function(A){return i(A)},!1),A.readAsDataURL(o.response)}else i("Failed to proxy resource "+n+" with status code "+o.status)},o.onerror=i;var a=e.indexOf("?")>-1?"&":"?";if(o.open("GET",""+e+a+"url="+encodeURIComponent(A)+"&responseType="+s),"text"!==s&&o instanceof XMLHttpRequest&&(o.responseType=s),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return i("Timed out ("+l+"ms) proxying "+n)}}o.send()})},A}(),qg=/^data:image\/svg\+xml/i,Xg=/^data:image\/.*;base64,/i,Yg=/^data:image\/.*/i,jg=function(A){return fp.SUPPORT_SVG_DRAWING||!Zg(A)},Jg=function(A){return Yg.test(A)},Wg=function(A){return Xg.test(A)},zg=function(A){return"blob"===A.substr(0,4)},Zg=function(A){return"svg"===A.substr(-3).toLowerCase()||qg.test(A)},$g=function(){function A(A,t){this.type=0,this.x=A,this.y=t}return A.prototype.add=function(t,e){return new A(this.x+t,this.y+e)},A}(),AB=function(A,t,e){return new $g(A.x+(t.x-A.x)*e,A.y+(t.y-A.y)*e)},tB=function(){function A(A,t,e,n){this.type=1,this.start=A,this.startControl=t,this.endControl=e,this.end=n}return A.prototype.subdivide=function(t,e){var n=AB(this.start,this.startControl,t),r=AB(this.startControl,this.endControl,t),i=AB(this.endControl,this.end,t),s=AB(n,r,t),o=AB(r,i,t),a=AB(s,o,t);return e?new A(this.start,n,s,a):new A(a,o,i,this.end)},A.prototype.add=function(t,e){return new A(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A}(),eB=function(A){return 1===A.type},nB=function(){return function(A){var t=A.styles,e=A.bounds,n=mh(t.borderTopLeftRadius,e.width,e.height),r=n[0],i=n[1],s=mh(t.borderTopRightRadius,e.width,e.height),o=s[0],a=s[1],l=mh(t.borderBottomRightRadius,e.width,e.height),u=l[0],c=l[1],h=mh(t.borderBottomLeftRadius,e.width,e.height),f=h[0],d=h[1],p=[];p.push((r+o)/e.width),p.push((f+u)/e.width),p.push((i+d)/e.height),p.push((a+c)/e.height);var g=Math.max.apply(Math,p);g>1&&(r/=g,i/=g,o/=g,a/=g,u/=g,c/=g,f/=g,d/=g);var B=e.width-o,m=e.height-c,w=e.width-u,_=e.height-d,y=t.borderTopWidth,v=t.borderRightWidth,C=t.borderBottomWidth,b=t.borderLeftWidth,E=wh(t.paddingTop,A.bounds.width),U=wh(t.paddingRight,A.bounds.width),Q=wh(t.paddingBottom,A.bounds.width),F=wh(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||i>0?rB(e.left+b/3,e.top+y/3,r-b/3,i-y/3,Qg.TOP_LEFT):new $g(e.left+b/3,e.top+y/3),this.topRightBorderDoubleOuterBox=r>0||i>0?rB(e.left+B,e.top+y/3,o-v/3,a-y/3,Qg.TOP_RIGHT):new $g(e.left+e.width-v/3,e.top+y/3),this.bottomRightBorderDoubleOuterBox=u>0||c>0?rB(e.left+w,e.top+m,u-v/3,c-C/3,Qg.BOTTOM_RIGHT):new $g(e.left+e.width-v/3,e.top+e.height-C/3),this.bottomLeftBorderDoubleOuterBox=f>0||d>0?rB(e.left+b/3,e.top+_,f-b/3,d-C/3,Qg.BOTTOM_LEFT):new $g(e.left+b/3,e.top+e.height-C/3),this.topLeftBorderDoubleInnerBox=r>0||i>0?rB(e.left+2*b/3,e.top+2*y/3,r-2*b/3,i-2*y/3,Qg.TOP_LEFT):new $g(e.left+2*b/3,e.top+2*y/3),this.topRightBorderDoubleInnerBox=r>0||i>0?rB(e.left+B,e.top+2*y/3,o-2*v/3,a-2*y/3,Qg.TOP_RIGHT):new $g(e.left+e.width-2*v/3,e.top+2*y/3),this.bottomRightBorderDoubleInnerBox=u>0||c>0?rB(e.left+w,e.top+m,u-2*v/3,c-2*C/3,Qg.BOTTOM_RIGHT):new $g(e.left+e.width-2*v/3,e.top+e.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=f>0||d>0?rB(e.left+2*b/3,e.top+_,f-2*b/3,d-2*C/3,Qg.BOTTOM_LEFT):new $g(e.left+2*b/3,e.top+e.height-2*C/3),this.topLeftBorderStroke=r>0||i>0?rB(e.left+b/2,e.top+y/2,r-b/2,i-y/2,Qg.TOP_LEFT):new $g(e.left+b/2,e.top+y/2),this.topRightBorderStroke=r>0||i>0?rB(e.left+B,e.top+y/2,o-v/2,a-y/2,Qg.TOP_RIGHT):new $g(e.left+e.width-v/2,e.top+y/2),this.bottomRightBorderStroke=u>0||c>0?rB(e.left+w,e.top+m,u-v/2,c-C/2,Qg.BOTTOM_RIGHT):new $g(e.left+e.width-v/2,e.top+e.height-C/2),this.bottomLeftBorderStroke=f>0||d>0?rB(e.left+b/2,e.top+_,f-b/2,d-C/2,Qg.BOTTOM_LEFT):new $g(e.left+b/2,e.top+e.height-C/2),this.topLeftBorderBox=r>0||i>0?rB(e.left,e.top,r,i,Qg.TOP_LEFT):new $g(e.left,e.top),this.topRightBorderBox=o>0||a>0?rB(e.left+B,e.top,o,a,Qg.TOP_RIGHT):new $g(e.left+e.width,e.top),this.bottomRightBorderBox=u>0||c>0?rB(e.left+w,e.top+m,u,c,Qg.BOTTOM_RIGHT):new $g(e.left+e.width,e.top+e.height),this.bottomLeftBorderBox=f>0||d>0?rB(e.left,e.top+_,f,d,Qg.BOTTOM_LEFT):new $g(e.left,e.top+e.height),this.topLeftPaddingBox=r>0||i>0?rB(e.left+b,e.top+y,Math.max(0,r-b),Math.max(0,i-y),Qg.TOP_LEFT):new $g(e.left+b,e.top+y),this.topRightPaddingBox=o>0||a>0?rB(e.left+Math.min(B,e.width-v),e.top+y,B>e.width+v?0:Math.max(0,o-v),Math.max(0,a-y),Qg.TOP_RIGHT):new $g(e.left+e.width-v,e.top+y),this.bottomRightPaddingBox=u>0||c>0?rB(e.left+Math.min(w,e.width-b),e.top+Math.min(m,e.height-C),Math.max(0,u-v),Math.max(0,c-C),Qg.BOTTOM_RIGHT):new $g(e.left+e.width-v,e.top+e.height-C),this.bottomLeftPaddingBox=f>0||d>0?rB(e.left+b,e.top+Math.min(_,e.height-C),Math.max(0,f-b),Math.max(0,d-C),Qg.BOTTOM_LEFT):new $g(e.left+b,e.top+e.height-C),this.topLeftContentBox=r>0||i>0?rB(e.left+b+F,e.top+y+E,Math.max(0,r-(b+F)),Math.max(0,i-(y+E)),Qg.TOP_LEFT):new $g(e.left+b+F,e.top+y+E),this.topRightContentBox=o>0||a>0?rB(e.left+Math.min(B,e.width+b+F),e.top+y+E,B>e.width+b+F?0:o-b+F,a-(y+E),Qg.TOP_RIGHT):new $g(e.left+e.width-(v+U),e.top+y+E),this.bottomRightContentBox=u>0||c>0?rB(e.left+Math.min(w,e.width-(b+F)),e.top+Math.min(m,e.height+y+E),Math.max(0,u-(v+U)),c-(C+Q),Qg.BOTTOM_RIGHT):new $g(e.left+e.width-(v+U),e.top+e.height-(C+Q)),this.bottomLeftContentBox=f>0||d>0?rB(e.left+b+F,e.top+_,Math.max(0,f-(b+F)),d-(C+Q),Qg.BOTTOM_LEFT):new $g(e.left+b+F,e.top+e.height-(C+Q))}}();(Fg=Qg||(Qg={}))[Fg.TOP_LEFT=0]="TOP_LEFT",Fg[Fg.TOP_RIGHT=1]="TOP_RIGHT",Fg[Fg.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Fg[Fg.BOTTOM_LEFT=3]="BOTTOM_LEFT";var rB=function(A,t,e,n,r){var i=(Math.sqrt(2)-1)/3*4,s=e*i,o=n*i,a=A+e,l=t+n;switch(r){case Qg.TOP_LEFT:return new tB(new $g(A,l),new $g(A,l-o),new $g(a-s,t),new $g(a,t));case Qg.TOP_RIGHT:return new tB(new $g(A,t),new $g(A+s,t),new $g(a,l-o),new $g(a,l));case Qg.BOTTOM_RIGHT:return new tB(new $g(a,t),new $g(a,t+o),new $g(A+s,l),new $g(A,l));case Qg.BOTTOM_LEFT:default:return new tB(new $g(a,l),new $g(a-s,l),new $g(A,t+o),new $g(A,t))}},iB=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},sB=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},oB=function(){return function(A,t,e){this.offsetX=A,this.offsetY=t,this.matrix=e,this.type=0,this.target=6}}(),aB=function(){return function(A,t){this.path=A,this.target=t,this.type=1}}(),lB=function(){return function(A){this.opacity=A,this.type=2,this.target=6}}(),uB=function(A){return 1===A.type},cB=function(A,t){return A.length===t.length&&A.some(function(A,e){return A===t[e]})},hB=function(){return function(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),fB=function(){function A(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new nB(this.container),this.container.styles.opacity<1&&this.effects.push(new lB(this.container.styles.opacity)),null!==this.container.styles.transform){var e=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new oB(e,n,r))}if(0!==this.container.styles.overflowX){var i=iB(this.curves),s=sB(this.curves);cB(i,s)?this.effects.push(new aB(i,6)):(this.effects.push(new aB(i,2)),this.effects.push(new aB(s,4)))}}return A.prototype.getEffects=function(A){for(var t=-1===[2,3].indexOf(this.container.styles.position),e=this.parent,n=this.effects.slice(0);e;){var r=e.effects.filter(function(A){return!uB(A)});if(t||0!==e.container.styles.position||!e.parent){if(n.unshift.apply(n,r),t=-1===[2,3].indexOf(e.container.styles.position),0!==e.container.styles.overflowX){var i=iB(e.curves),s=sB(e.curves);cB(i,s)||n.unshift(new aB(s,6))}}else n.unshift.apply(n,r);e=e.parent}return n.filter(function(t){return Qd(t.target,A)})},A}(),dB=function(A,t,e,n){A.container.elements.forEach(function(r){var i=Qd(r.flags,4),s=Qd(r.flags,2),o=new fB(r,A);Qd(r.styles.display,2048)&&n.push(o);var a=Qd(r.flags,8)?[]:n;if(i||s){var l=i||r.styles.isPositioned()?e:t,u=new hB(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var c=r.styles.zIndex.order;if(c<0){var h=0;l.negativeZIndex.some(function(A,t){return c>A.element.container.styles.zIndex.order?(h=t,!1):h>0}),l.negativeZIndex.splice(h,0,u)}else if(c>0){var f=0;l.positiveZIndex.some(function(A,t){return c>=A.element.container.styles.zIndex.order?(f=t+1,!1):f>0}),l.positiveZIndex.splice(f,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else r.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);dB(o,u,i?u:e,a)}else r.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),dB(o,t,e,a);Qd(r.flags,8)&&pB(r,a)})},pB=function(A,t){for(var e=A instanceof Ip?A.start:1,n=A instanceof Ip&&A.reversed,r=0;r<t.length;r++){var i=t[r];i.container instanceof Fp&&"number"==typeof i.container.value&&0!==i.container.value&&(e=i.container.value),i.listValue=bg(e,i.container.styles.listStyleType,!0),e+=n?-1:1}},gB=function(A,t){switch(t){case 0:return mB(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return mB(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return mB(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);default:return mB(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},BB=function(A,t){var e=[];return eB(A)?e.push(A.subdivide(.5,!1)):e.push(A),eB(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},mB=function(A,t,e,n){var r=[];return eB(A)?r.push(A.subdivide(.5,!1)):r.push(A),eB(e)?r.push(e.subdivide(.5,!0)):r.push(e),eB(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),eB(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},wB=function(A){var t=A.bounds,e=A.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},_B=function(A){var t=A.styles,e=A.bounds,n=wh(t.paddingLeft,e.width),r=wh(t.paddingRight,e.width),i=wh(t.paddingTop,e.width),s=wh(t.paddingBottom,e.width);return e.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+r),-(t.borderTopWidth+t.borderBottomWidth+i+s))},yB=function(A,t,e){var n,r,i=(n=EB(A.styles.backgroundOrigin,t),r=A,0===n?r.bounds:2===n?_B(r):wB(r)),s=function(A,t){return 0===A?t.bounds:2===A?_B(t):wB(t)}(EB(A.styles.backgroundClip,t),A),o=bB(EB(A.styles.backgroundSize,t),e,i),a=o[0],l=o[1],u=mh(EB(A.styles.backgroundPosition,t),i.width-a,i.height-l);return[UB(EB(A.styles.backgroundRepeat,t),u,o,i,s),Math.round(i.left+u[0]),Math.round(i.top+u[1]),a,l]},vB=function(A){return ih(A)&&A.value===tf.AUTO},CB=function(A){return"number"==typeof A},bB=function(A,t,e){var n=t[0],r=t[1],i=t[2],s=A[0],o=A[1];if(!s)return[0,0];if(fh(s)&&o&&fh(o))return[wh(s,e.width),wh(o,e.height)];var a=CB(i);if(ih(s)&&(s.value===tf.CONTAIN||s.value===tf.COVER))return CB(i)?e.width/e.height<i!=(s.value===tf.COVER)?[e.width,e.width/i]:[e.height*i,e.height]:[e.width,e.height];var l=CB(n),u=CB(r),c=l||u;if(vB(s)&&(!o||vB(o)))return l&&u?[n,r]:a||c?c&&a?[l?n:r*i,u?r:n/i]:[l?n:e.width,u?r:e.height]:[e.width,e.height];if(a){var h=0,f=0;return fh(s)?h=wh(s,e.width):fh(o)&&(f=wh(o,e.height)),vB(s)?h=f*i:o&&!vB(o)||(f=h/i),[h,f]}var d=null,p=null;if(fh(s)?d=wh(s,e.width):o&&fh(o)&&(p=wh(o,e.height)),null===d||o&&!vB(o)||(p=l&&u?d/n*r:e.height),null!==p&&vB(s)&&(d=l&&u?p/r*n:e.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},EB=function(A,t){var e=A[t];return void 0===e?A[0]:e},UB=function(A,t,e,n,r){var i=t[0],s=t[1],o=e[0],a=e[1];switch(A){case 2:return[new $g(Math.round(n.left),Math.round(n.top+s)),new $g(Math.round(n.left+n.width),Math.round(n.top+s)),new $g(Math.round(n.left+n.width),Math.round(a+n.top+s)),new $g(Math.round(n.left),Math.round(a+n.top+s))];case 3:return[new $g(Math.round(n.left+i),Math.round(n.top)),new $g(Math.round(n.left+i+o),Math.round(n.top)),new $g(Math.round(n.left+i+o),Math.round(n.height+n.top)),new $g(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new $g(Math.round(n.left+i),Math.round(n.top+s)),new $g(Math.round(n.left+i+o),Math.round(n.top+s)),new $g(Math.round(n.left+i+o),Math.round(n.top+s+a)),new $g(Math.round(n.left+i),Math.round(n.top+s+a))];default:return[new $g(Math.round(r.left),Math.round(r.top)),new $g(Math.round(r.left+r.width),Math.round(r.top)),new $g(Math.round(r.left+r.width),Math.round(r.height+r.top)),new $g(Math.round(r.left),Math.round(r.height+r.top))]}},QB="Hidden Text",FB=function(){function A(A){this._data={},this._document=A}return A.prototype.parseMetrics=function(A,t){var e=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;e.style.visibility="hidden",e.style.fontFamily=A,e.style.fontSize=t,e.style.margin="0",e.style.padding="0",e.style.whiteSpace="nowrap",i.appendChild(e),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=A,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(QB)),e.appendChild(r),e.appendChild(n);var s=n.offsetTop-r.offsetTop+2;e.removeChild(r),e.appendChild(this._document.createTextNode(QB)),e.style.lineHeight="normal",n.style.verticalAlign="super";var o=n.offsetTop-e.offsetTop+2;return i.removeChild(e),{baseline:s,middle:o}},A.prototype.getMetrics=function(A,t){var e=A+" "+t;return void 0===this._data[e]&&(this._data[e]=this.parseMetrics(A,t)),this._data[e]},A}(),IB=function(){return function(A,t){this.context=A,this.options=t}}(),SB=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n._activeEffects=[],n.canvas=e.canvas?e.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),e.canvas||(n.canvas.width=Math.floor(e.width*e.scale),n.canvas.height=Math.floor(e.height*e.scale),n.canvas.style.width=e.width+"px",n.canvas.style.height=e.height+"px"),n.fontMetrics=new FB(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-e.x,-e.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+e.width+"x"+e.height+") with scale "+e.scale),n}return au(t,A),t.prototype.applyEffects=function(A){for(var t=this;this._activeEffects.length;)this.popEffect();A.forEach(function(A){return t.applyEffect(A)})},t.prototype.applyEffect=function(A){this.ctx.save(),function(A){return 2===A.type}(A)&&(this.ctx.globalAlpha=A.opacity),function(A){return 0===A.type}(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),uB(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(A){return uu(this,0,void 0,function(){return cu(this,function(t){switch(t.label){case 0:return A.element.container.styles.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(A){return uu(this,0,void 0,function(){return cu(this,function(t){switch(t.label){case 0:return Qd(A.container.flags,16),A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(A)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(A,t,e){var n=this;0===t?this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+e):Bp(A.text).reduce(function(t,r){return n.ctx.fillText(r,t,A.bounds.top+e),t+n.ctx.measureText(r).width},A.bounds.left)},t.prototype.createFontStyle=function(A){var t=A.fontVariant.filter(function(A){return"normal"===A||"small-caps"===A}).join(""),e=MB(A.fontFamily).join(", "),n=nh(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,t,A.fontWeight,n,e].join(" "),e,n]},t.prototype.renderTextNode=function(A,t){return uu(this,0,void 0,function(){var e,n,r,i,s,o,a,l,u=this;return cu(this,function(c){return e=this.createFontStyle(t),n=e[0],r=e[1],i=e[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(r,i),o=s.baseline,a=s.middle,l=t.paintOrder,A.textBounds.forEach(function(A){l.forEach(function(e){switch(e){case 0:u.ctx.fillStyle=Fh(t.color),u.renderTextWithLetterSpacing(A,t.letterSpacing,o);var n=t.textShadow;n.length&&A.text.trim().length&&(n.slice(0).reverse().forEach(function(e){u.ctx.shadowColor=Fh(e.color),u.ctx.shadowOffsetX=e.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=e.offsetY.number*u.options.scale,u.ctx.shadowBlur=e.blur.number,u.renderTextWithLetterSpacing(A,t.letterSpacing,o)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=Fh(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+o),A.bounds.width,1);break;case 2:u.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:u.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+a),A.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&A.text.trim().length&&(u.ctx.strokeStyle=Fh(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+o)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},t.prototype.renderReplacedElement=function(A,t,e){if(e&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var n=_B(A),r=sB(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(e,0,0,A.intrinsicWidth,A.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(A){return uu(this,0,void 0,function(){var e,n,r,i,s,o,a,l,u,c,h,f,d,p,g,B,m,w;return cu(this,function(_){switch(_.label){case 0:this.applyEffects(A.getEffects(4)),e=A.container,n=A.curves,r=e.styles,i=0,s=e.textNodes,_.label=1;case 1:return i<s.length?(o=s[i],[4,this.renderTextNode(o,r)]):[3,4];case 2:_.sent(),_.label=3;case 3:return i++,[3,1];case 4:if(!(e instanceof Ep))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return g=_.sent(),this.renderReplacedElement(e,n,g),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof Up&&this.renderReplacedElement(e,n,e.canvas),!(e instanceof Qp))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return g=_.sent(),this.renderReplacedElement(e,n,g),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof Lp&&e.tree?[4,new t(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:a=_.sent(),e.width&&e.height&&this.ctx.drawImage(a,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),_.label=14;case 14:if(e instanceof Rp&&(l=Math.min(e.bounds.width,e.bounds.height),e.type===xp?e.checked&&(this.ctx.save(),this.path([new $g(e.bounds.left+.39363*l,e.bounds.top+.79*l),new $g(e.bounds.left+.16*l,e.bounds.top+.5549*l),new $g(e.bounds.left+.27347*l,e.bounds.top+.44071*l),new $g(e.bounds.left+.39694*l,e.bounds.top+.5649*l),new $g(e.bounds.left+.72983*l,e.bounds.top+.23*l),new $g(e.bounds.left+.84*l,e.bounds.top+.34085*l),new $g(e.bounds.left+.39363*l,e.bounds.top+.79*l)]),this.ctx.fillStyle=Fh(Mp),this.ctx.fill(),this.ctx.restore()):e.type===Op&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+l/2,e.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=Fh(Mp),this.ctx.fill(),this.ctx.restore())),TB(e)&&e.value.length){switch(u=this.createFontStyle(r),m=u[0],c=u[1],h=this.fontMetrics.getMetrics(m,c).baseline,this.ctx.font=m,this.ctx.fillStyle=Fh(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=OB(e.styles.textAlign),w=_B(e),f=0,e.styles.textAlign){case 1:f+=w.width/2;break;case 2:f+=w.width}d=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new $g(w.left,w.top),new $g(w.left+w.width,w.top),new $g(w.left+w.width,w.top+w.height),new $g(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new dp(e.value,d),r.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qd(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(p=e.styles.listStyleImage).type)return[3,18];g=void 0,B=p.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return g=_.sent(),this.ctx.drawImage(g,e.bounds.left-(g.width+10),e.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:A.listValue&&-1!==e.styles.listStyleType&&(m=this.createFontStyle(r)[0],this.ctx.font=m,this.ctx.fillStyle=Fh(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new hu(e.bounds.left,e.bounds.top+wh(e.styles.paddingTop,e.bounds.width),e.bounds.width,Gf(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new dp(A.listValue,w),r.letterSpacing,Gf(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(A){return uu(this,0,void 0,function(){var t,e,n,r,i,s,o,a,l,u,c,h,f,d,p;return cu(this,function(g){switch(g.label){case 0:return Qd(A.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:g.sent(),t=0,e=A.negativeZIndex,g.label=2;case 2:return t<e.length?(p=e[t],[4,this.renderStack(p)]):[3,5];case 3:g.sent(),g.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:g.sent(),n=0,r=A.nonInlineLevel,g.label=7;case 7:return n<r.length?(p=r[n],[4,this.renderNode(p)]):[3,10];case 8:g.sent(),g.label=9;case 9:return n++,[3,7];case 10:i=0,s=A.nonPositionedFloats,g.label=11;case 11:return i<s.length?(p=s[i],[4,this.renderStack(p)]):[3,14];case 12:g.sent(),g.label=13;case 13:return i++,[3,11];case 14:o=0,a=A.nonPositionedInlineLevel,g.label=15;case 15:return o<a.length?(p=a[o],[4,this.renderStack(p)]):[3,18];case 16:g.sent(),g.label=17;case 17:return o++,[3,15];case 18:l=0,u=A.inlineLevel,g.label=19;case 19:return l<u.length?(p=u[l],[4,this.renderNode(p)]):[3,22];case 20:g.sent(),g.label=21;case 21:return l++,[3,19];case 22:c=0,h=A.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return c<h.length?(p=h[c],[4,this.renderStack(p)]):[3,26];case 24:g.sent(),g.label=25;case 25:return c++,[3,23];case 26:f=0,d=A.positiveZIndex,g.label=27;case 27:return f<d.length?(p=d[f],[4,this.renderStack(p)]):[3,30];case 28:g.sent(),g.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},t.prototype.formatPath=function(A){var t=this;A.forEach(function(A,e){var n=eB(A)?A.start:A;0===e?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),eB(A)&&t.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},t.prototype.renderRepeat=function(A,t,e,n){this.path(A),this.ctx.fillStyle=t,this.ctx.translate(e,n),this.ctx.fill(),this.ctx.translate(-e,-n)},t.prototype.resizeImage=function(A,t,e){var n;if(A.width===t&&A.height===e)return A;var r=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return r.width=Math.max(1,t),r.height=Math.max(1,e),r.getContext("2d").drawImage(A,0,0,A.width,A.height,0,0,t,e),r},t.prototype.renderBackgroundImage=function(A){return uu(this,0,void 0,function(){var t,e,n,r,i,s;return cu(this,function(o){switch(o.label){case 0:t=A.styles.backgroundImage.length-1,e=function(e){var r,i,s,o,a,l,u,c,h,f,d,p,g,B,m,w,_,y,v,C,b,E,U,Q,F,I,S,T,x,O,H;return cu(this,function(M){switch(M.label){case 0:if(0!==e.type)return[3,5];r=void 0,i=e.url,M.label=1;case 1:return M.trys.push([1,3,,4]),[4,n.context.cache.match(i)];case 2:return r=M.sent(),[3,4];case 3:return M.sent(),n.context.logger.error("Error loading background-image "+i),[3,4];case 4:return r&&(s=yB(A,t,[r.width,r.height,r.width/r.height]),w=s[0],E=s[1],U=s[2],v=s[3],C=s[4],B=n.ctx.createPattern(n.resizeImage(r,v,C),"repeat"),n.renderRepeat(w,B,E,U)),[3,6];case 5:1===e.type?(o=yB(A,t,[null,null,null]),w=o[0],E=o[1],U=o[2],v=o[3],C=o[4],a=kh(e.angle,v,C),l=a[0],u=a[1],c=a[2],h=a[3],f=a[4],(d=document.createElement("canvas")).width=v,d.height=C,p=d.getContext("2d"),g=p.createLinearGradient(u,h,c,f),Dh(e.stops,l).forEach(function(A){return g.addColorStop(A.stop,Fh(A.color))}),p.fillStyle=g,p.fillRect(0,0,v,C),v>0&&C>0&&(B=n.ctx.createPattern(d,"repeat"),n.renderRepeat(w,B,E,U))):function(A){return 2===A.type}(e)&&(m=yB(A,t,[null,null,null]),w=m[0],_=m[1],y=m[2],v=m[3],C=m[4],b=0===e.position.length?[gh]:e.position,E=wh(b[0],v),U=wh(b[b.length-1],C),Q=function(A,t,e,n,r){var i=0,s=0;switch(A.size){case 0:0===A.shape?i=s=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-r)):1===A.shape&&(i=Math.min(Math.abs(t),Math.abs(t-n)),s=Math.min(Math.abs(e),Math.abs(e-r)));break;case 2:if(0===A.shape)i=s=Math.min(Vh(t,e),Vh(t,e-r),Vh(t-n,e),Vh(t-n,e-r));else if(1===A.shape){var o=Math.min(Math.abs(e),Math.abs(e-r))/Math.min(Math.abs(t),Math.abs(t-n)),a=Kh(n,r,t,e,!0),l=a[0],u=a[1];s=o*(i=Vh(l-t,(u-e)/o))}break;case 1:0===A.shape?i=s=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-r)):1===A.shape&&(i=Math.max(Math.abs(t),Math.abs(t-n)),s=Math.max(Math.abs(e),Math.abs(e-r)));break;case 3:if(0===A.shape)i=s=Math.max(Vh(t,e),Vh(t,e-r),Vh(t-n,e),Vh(t-n,e-r));else if(1===A.shape){o=Math.max(Math.abs(e),Math.abs(e-r))/Math.max(Math.abs(t),Math.abs(t-n));var c=Kh(n,r,t,e,!1);l=c[0],u=c[1],s=o*(i=Vh(l-t,(u-e)/o))}}return Array.isArray(A.size)&&(i=wh(A.size[0],n),s=2===A.size.length?wh(A.size[1],r):i),[i,s]}(e,E,U,v,C),F=Q[0],I=Q[1],F>0&&I>0&&(S=n.ctx.createRadialGradient(_+E,y+U,0,_+E,y+U,F),Dh(e.stops,2*F).forEach(function(A){return S.addColorStop(A.stop,Fh(A.color))}),n.path(w),n.ctx.fillStyle=S,F!==I?(T=A.bounds.left+.5*A.bounds.width,x=A.bounds.top+.5*A.bounds.height,H=1/(O=I/F),n.ctx.save(),n.ctx.translate(T,x),n.ctx.transform(1,0,0,O,0,0),n.ctx.translate(-T,-x),n.ctx.fillRect(_,H*(y-x)+x,v,C*H),n.ctx.restore()):n.ctx.fill())),M.label=6;case 6:return t--,[2]}})},n=this,r=0,i=A.styles.backgroundImage.slice(0).reverse(),o.label=1;case 1:return r<i.length?(s=i[r],[5,e(s)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(A,t,e){return uu(this,0,void 0,function(){return cu(this,function(n){return this.path(gB(e,t)),this.ctx.fillStyle=Fh(A),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(A,t,e,n){return uu(this,0,void 0,function(){var r,i;return cu(this,function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(A,e,n)]:[3,2];case 1:return s.sent(),[2];case 2:return r=function(A,t){switch(t){case 0:return mB(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return mB(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return mB(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);default:return mB(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}}(n,e),this.path(r),this.ctx.fillStyle=Fh(A),this.ctx.fill(),i=function(A,t){switch(t){case 0:return mB(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return mB(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return mB(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);default:return mB(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}}(n,e),this.path(i),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(A){return uu(this,0,void 0,function(){var t,e,n,r,i,s,o,a,l=this;return cu(this,function(u){switch(u.label){case 0:return this.applyEffects(A.getEffects(2)),t=A.container.styles,e=!Qh(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],r=xB(EB(t.backgroundClip,0),A.curves),e||t.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),Qh(t.backgroundColor)||(this.ctx.fillStyle=Fh(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){l.ctx.save();var e,n,r,i,s,o=iB(A.curves),a=t.inset?0:1e4,u=(e=o,n=-a+(t.inset?1:-1)*t.spread.number,r=(t.inset?1:-1)*t.spread.number,i=t.spread.number*(t.inset?-2:2),s=t.spread.number*(t.inset?-2:2),e.map(function(A,t){switch(t){case 0:return A.add(n,r);case 1:return A.add(n+i,r);case 2:return A.add(n+i,r+s);case 3:return A.add(n,r+s)}return A}));t.inset?(l.path(o),l.ctx.clip(),l.mask(u)):(l.mask(o),l.ctx.clip(),l.path(u)),l.ctx.shadowOffsetX=t.offsetX.number+a,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=Fh(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?Fh(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),u.label=2;case 2:i=0,s=0,o=n,u.label=3;case 3:return s<o.length?0!==(a=o[s]).style&&!Qh(a.color)&&a.width>0?2!==a.style?[3,5]:[4,this.renderDashedDottedBorder(a.color,a.width,i,A.curves,2)]:[3,11]:[3,13];case 4:return u.sent(),[3,11];case 5:return 3!==a.style?[3,7]:[4,this.renderDashedDottedBorder(a.color,a.width,i,A.curves,3)];case 6:return u.sent(),[3,11];case 7:return 4!==a.style?[3,9]:[4,this.renderDoubleBorder(a.color,a.width,i,A.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(a.color,i,A.curves)];case 10:u.sent(),u.label=11;case 11:i++,u.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(A,t,e,n,r){return uu(this,0,void 0,function(){var i,s,o,a,l,u,c,h,f,d,p,g,B,m,w,_;return cu(this,function(y){return this.ctx.save(),i=function(A,t){switch(t){case 0:return BB(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return BB(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return BB(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);default:return BB(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}}(n,e),s=gB(n,e),2===r&&(this.path(s),this.ctx.clip()),eB(s[0])?(o=s[0].start.x,a=s[0].start.y):(o=s[0].x,a=s[0].y),eB(s[1])?(l=s[1].end.x,u=s[1].end.y):(l=s[1].x,u=s[1].y),c=0===e||2===e?Math.abs(o-l):Math.abs(a-u),this.ctx.beginPath(),3===r?this.formatPath(i):this.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===r&&(h=t,f=t),d=!0,c<=2*h?d=!1:c<=2*h+f?(h*=p=c/(2*h+f),f*=p):(g=Math.floor((c+f)/(h+f)),B=(c-g*h)/(g-1),f=(m=(c-(g+1)*h)/g)<=0||Math.abs(f-B)<Math.abs(f-m)?B:m),d&&(3===r?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===r?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=Fh(A),this.ctx.stroke(),this.ctx.setLineDash([]),2===r&&(eB(s[0])&&(w=s[3],_=s[0],this.ctx.beginPath(),this.formatPath([new $g(w.end.x,w.end.y),new $g(_.start.x,_.start.y)]),this.ctx.stroke()),eB(s[1])&&(w=s[1],_=s[2],this.ctx.beginPath(),this.formatPath([new $g(w.end.x,w.end.y),new $g(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(A){return uu(this,0,void 0,function(){var t;return cu(this,function(e){switch(e.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Fh(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=new fB(A,null),r=new hB(n),dB(n,r,r,i=[]),pB(n.container,i),t=r,[4,this.renderStack(t)];case 1:return e.sent(),this.applyEffects([]),[2,this.canvas]}var n,r,i})})},t}(IB),TB=function(A){return A instanceof Np||(A instanceof Pp||A instanceof Rp&&A.type!==Op&&A.type!==xp)},xB=function(A,t){switch(A){case 0:return iB(t);case 2:return function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]}(t);default:return sB(t)}},OB=function(A){switch(A){case 1:return"center";case 2:return"right";default:return"left"}},HB=["-apple-system","system-ui"],MB=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(A){return-1===HB.indexOf(A)}):A},RB=function(A){function t(t,e){var n=A.call(this,t,e)||this;return n.canvas=e.canvas?e.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=e,n.canvas.width=Math.floor(e.width*e.scale),n.canvas.height=Math.floor(e.height*e.scale),n.canvas.style.width=e.width+"px",n.canvas.style.height=e.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-e.x,-e.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale),n}return au(t,A),t.prototype.render=function(A){return uu(this,0,void 0,function(){var t,e;return cu(this,function(n){switch(n.label){case 0:return t=cp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,PB(t)];case 1:return e=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Fh(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(e,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(IB),PB=function(A){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},NB=function(){function A(A){var t=A.id,e=A.enabled;this.id=t,this.enabled=e,this.start=Date.now()}return A.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,A))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&console.info},A.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn||this.info.apply(this,A))},A.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,A))},A.instances={},A}(),LB=function(){function A(t,e){var n;this.windowBounds=e,this.instanceName="#"+A.instanceCount++,this.logger=new NB({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new Gg(this,t)}return A.instanceCount=1,A}();"undefined"!=typeof window&&Kg.setContext(window);var DB=function(A,t){return uu(void 0,0,void 0,function(){var e,n,r,i,s,o,a,l,u,c,h,f,d,p,g,B,m,w,_,y,v,C,b,E,U,Q,F,I,S,T,x,O,H,M,R,P,N,L;return cu(this,function(D){switch(D.label){case 0:if(!A||"object"!=typeof A)return[2,Promise.reject("Invalid element provided as first argument")];if(!(e=A.ownerDocument))throw new Error("Element is not attached to a Document");if(!(n=e.defaultView))throw new Error("Document is not attached to a Window");return r={allowTaint:null!==(C=t.allowTaint)&&void 0!==C&&C,imageTimeout:null!==(b=t.imageTimeout)&&void 0!==b?b:15e3,proxy:t.proxy,useCORS:null!==(E=t.useCORS)&&void 0!==E&&E},i=lu({logging:null===(U=t.logging)||void 0===U||U,cache:t.cache},r),s={windowWidth:null!==(Q=t.windowWidth)&&void 0!==Q?Q:n.innerWidth,windowHeight:null!==(F=t.windowHeight)&&void 0!==F?F:n.innerHeight,scrollX:null!==(I=t.scrollX)&&void 0!==I?I:n.pageXOffset,scrollY:null!==(S=t.scrollY)&&void 0!==S?S:n.pageYOffset},o=new hu(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new LB(i,o),l=null!==(T=t.foreignObjectRendering)&&void 0!==T&&T,u={allowTaint:null!==(x=t.allowTaint)&&void 0!==x&&x,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new Ug(a,A,u),(h=c.clonedReferenceElement)?[4,c.toIFrame(e,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=D.sent(),d=Ag(h)||"HTML"===h.tagName?function(A){var t=A.body,e=A.documentElement;if(!t||!e)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),r=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new hu(0,0,n,r)}(h.ownerDocument):fu(a,h),p=d.width,g=d.height,B=d.left,m=d.top,w=kB(a,h,t.backgroundColor),_={canvas:t.canvas,backgroundColor:w,scale:null!==(H=null!==(O=t.scale)&&void 0!==O?O:n.devicePixelRatio)&&void 0!==H?H:1,x:(null!==(M=t.x)&&void 0!==M?M:0)+B,y:(null!==(R=t.y)&&void 0!==R?R:0)+m,width:null!==(P=t.width)&&void 0!==P?P:Math.ceil(p),height:null!==(N=t.height)&&void 0!==N?N:Math.ceil(g)},l?(a.logger.debug("Document cloned, using foreign object rendering"),[4,new RB(a,_).render(h)]):[3,3];case 2:return y=D.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+B+","+m+" with size "+p+"x"+g+" using computed rendering"),a.logger.debug("Starting DOM parsing"),v=Kp(a,h),w===v.styles.backgroundColor&&(v.styles.backgroundColor=Rh.TRANSPARENT),a.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),[4,new SB(a,_).render(v)];case 4:y=D.sent(),D.label=5;case 5:return(null===(L=t.removeContainer)||void 0===L||L)&&(Ug.destroy(f)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,y]}})})},kB=function(A,t,e){var n=t.ownerDocument,r=n.documentElement?Mh(A,getComputedStyle(n.documentElement).backgroundColor):Rh.TRANSPARENT,i=n.body?Mh(A,getComputedStyle(n.body).backgroundColor):Rh.TRANSPARENT,s="string"==typeof e?Mh(A,e):null===e?Rh.TRANSPARENT:4294967295;return t===n.documentElement?Qh(r)?Qh(i)?s:i:r:s};const VB=Object.freeze(Object.defineProperty({__proto__:null,default:function(A,t){return void 0===t&&(t={}),DB(A,t)}},Symbol.toStringTag,{value:"Module"})),{entries:KB,setPrototypeOf:GB,isFrozen:qB,getPrototypeOf:XB,getOwnPropertyDescriptor:YB}=Object;
/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */let{freeze:jB,seal:JB,create:WB}=Object,{apply:zB,construct:ZB}="undefined"!=typeof Reflect&&Reflect;jB||(jB=function(A){return A}),JB||(JB=function(A){return A}),zB||(zB=function(A,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return A.apply(t,n)}),ZB||(ZB=function(A){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return new A(...e)});const $B=dm(Array.prototype.forEach),Am=dm(Array.prototype.lastIndexOf),tm=dm(Array.prototype.pop),em=dm(Array.prototype.push),nm=dm(Array.prototype.splice),rm=dm(String.prototype.toLowerCase),im=dm(String.prototype.toString),sm=dm(String.prototype.match),om=dm(String.prototype.replace),am=dm(String.prototype.indexOf),lm=dm(String.prototype.trim),um=dm(Object.prototype.hasOwnProperty),cm=dm(RegExp.prototype.test),hm=(fm=TypeError,function(){for(var A=arguments.length,t=new Array(A),e=0;e<A;e++)t[e]=arguments[e];return ZB(fm,t)});var fm;function dm(A){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return zB(A,t,n)}}function pm(A,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rm;GB&&GB(A,null);let n=t.length;for(;n--;){let r=t[n];if("string"==typeof r){const A=e(r);A!==r&&(qB(t)||(t[n]=A),r=A)}A[r]=!0}return A}function gm(A){for(let t=0;t<A.length;t++){um(A,t)||(A[t]=null)}return A}function Bm(A){const t=WB(null);for(const[e,n]of KB(A)){um(A,e)&&(Array.isArray(n)?t[e]=gm(n):n&&"object"==typeof n&&n.constructor===Object?t[e]=Bm(n):t[e]=n)}return t}function mm(A,t){for(;null!==A;){const e=YB(A,t);if(e){if(e.get)return dm(e.get);if("function"==typeof e.value)return dm(e.value)}A=XB(A)}return function(){return null}}const wm=jB(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_m=jB(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ym=jB(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vm=jB(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Cm=jB(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bm=jB(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Em=jB(["#text"]),Um=jB(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qm=jB(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fm=jB(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Im=jB(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sm=JB(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Tm=JB(/<%[\w\W]*|[\w\W]*%>/gm),xm=JB(/\$\{[\w\W]*/gm),Om=JB(/^data-[\-\w.\u00B7-\uFFFF]+$/),Hm=JB(/^aria-[\-\w]+$/),Mm=JB(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rm=JB(/^(?:\w+script|data):/i),Pm=JB(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nm=JB(/^html$/i),Lm=JB(/^[a-z][.\w]*(-[.\w]+)+$/i);var Dm=Object.freeze({__proto__:null,ARIA_ATTR:Hm,ATTR_WHITESPACE:Pm,CUSTOM_ELEMENT:Lm,DATA_ATTR:Om,DOCTYPE_NAME:Nm,ERB_EXPR:Tm,IS_ALLOWED_URI:Mm,IS_SCRIPT_OR_DATA:Rm,MUSTACHE_EXPR:Sm,TMPLIT_EXPR:xm});const km=1,Vm=3,Km=7,Gm=8,qm=9;var Xm=function A(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const e=t=>A(t);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==qm||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=t,p=l.prototype,g=mm(p,"cloneNode"),B=mm(p,"remove"),m=mm(p,"nextSibling"),w=mm(p,"childNodes"),_=mm(p,"parentNode");if("function"==typeof o){const A=n.createElement("template");A.content&&A.content.ownerDocument&&(n=A.content.ownerDocument)}let y,v="";const{implementation:C,createNodeIterator:b,createDocumentFragment:E,getElementsByTagName:U}=n,{importNode:Q}=r;let F={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};e.isSupported="function"==typeof KB&&"function"==typeof _&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:I,ERB_EXPR:S,TMPLIT_EXPR:T,DATA_ATTR:x,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:R}=Dm;let{IS_ALLOWED_URI:P}=Dm,N=null;const L=pm({},[...wm,..._m,...ym,...Cm,...Em]);let D=null;const k=pm({},[...Um,...Qm,...Fm,...Im]);let V=Object.seal(WB(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,G=null;const q=Object.seal(WB(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let X=!0,Y=!0,j=!1,J=!0,W=!1,z=!0,Z=!1,$=!1,AA=!1,tA=!1,eA=!1,nA=!1,rA=!0,iA=!1,sA=!0,oA=!1,aA={},lA=null;const uA=pm({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let cA=null;const hA=pm({},["audio","video","img","source","image","track"]);let fA=null;const dA=pm({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pA="http://www.w3.org/1998/Math/MathML",gA="http://www.w3.org/2000/svg",BA="http://www.w3.org/1999/xhtml";let mA=BA,wA=!1,_A=null;const yA=pm({},[pA,gA,BA],im);let vA=pm({},["mi","mo","mn","ms","mtext"]),CA=pm({},["annotation-xml"]);const bA=pm({},["title","style","font","a","script"]);let EA=null;const UA=["application/xhtml+xml","text/html"];let QA=null,FA=null;const IA=n.createElement("form"),SA=function(A){return A instanceof RegExp||A instanceof Function},TA=function(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!FA||FA!==A){if(A&&"object"==typeof A||(A={}),A=Bm(A),EA=-1===UA.indexOf(A.PARSER_MEDIA_TYPE)?"text/html":A.PARSER_MEDIA_TYPE,QA="application/xhtml+xml"===EA?im:rm,N=um(A,"ALLOWED_TAGS")?pm({},A.ALLOWED_TAGS,QA):L,D=um(A,"ALLOWED_ATTR")?pm({},A.ALLOWED_ATTR,QA):k,_A=um(A,"ALLOWED_NAMESPACES")?pm({},A.ALLOWED_NAMESPACES,im):yA,fA=um(A,"ADD_URI_SAFE_ATTR")?pm(Bm(dA),A.ADD_URI_SAFE_ATTR,QA):dA,cA=um(A,"ADD_DATA_URI_TAGS")?pm(Bm(hA),A.ADD_DATA_URI_TAGS,QA):hA,lA=um(A,"FORBID_CONTENTS")?pm({},A.FORBID_CONTENTS,QA):uA,K=um(A,"FORBID_TAGS")?pm({},A.FORBID_TAGS,QA):Bm({}),G=um(A,"FORBID_ATTR")?pm({},A.FORBID_ATTR,QA):Bm({}),aA=!!um(A,"USE_PROFILES")&&A.USE_PROFILES,X=!1!==A.ALLOW_ARIA_ATTR,Y=!1!==A.ALLOW_DATA_ATTR,j=A.ALLOW_UNKNOWN_PROTOCOLS||!1,J=!1!==A.ALLOW_SELF_CLOSE_IN_ATTR,W=A.SAFE_FOR_TEMPLATES||!1,z=!1!==A.SAFE_FOR_XML,Z=A.WHOLE_DOCUMENT||!1,tA=A.RETURN_DOM||!1,eA=A.RETURN_DOM_FRAGMENT||!1,nA=A.RETURN_TRUSTED_TYPE||!1,AA=A.FORCE_BODY||!1,rA=!1!==A.SANITIZE_DOM,iA=A.SANITIZE_NAMED_PROPS||!1,sA=!1!==A.KEEP_CONTENT,oA=A.IN_PLACE||!1,P=A.ALLOWED_URI_REGEXP||Mm,mA=A.NAMESPACE||BA,vA=A.MATHML_TEXT_INTEGRATION_POINTS||vA,CA=A.HTML_INTEGRATION_POINTS||CA,V=A.CUSTOM_ELEMENT_HANDLING||{},A.CUSTOM_ELEMENT_HANDLING&&SA(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&SA(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(Y=!1),eA&&(tA=!0),aA&&(N=pm({},Em),D=[],!0===aA.html&&(pm(N,wm),pm(D,Um)),!0===aA.svg&&(pm(N,_m),pm(D,Qm),pm(D,Im)),!0===aA.svgFilters&&(pm(N,ym),pm(D,Qm),pm(D,Im)),!0===aA.mathMl&&(pm(N,Cm),pm(D,Fm),pm(D,Im))),A.ADD_TAGS&&("function"==typeof A.ADD_TAGS?q.tagCheck=A.ADD_TAGS:(N===L&&(N=Bm(N)),pm(N,A.ADD_TAGS,QA))),A.ADD_ATTR&&("function"==typeof A.ADD_ATTR?q.attributeCheck=A.ADD_ATTR:(D===k&&(D=Bm(D)),pm(D,A.ADD_ATTR,QA))),A.ADD_URI_SAFE_ATTR&&pm(fA,A.ADD_URI_SAFE_ATTR,QA),A.FORBID_CONTENTS&&(lA===uA&&(lA=Bm(lA)),pm(lA,A.FORBID_CONTENTS,QA)),sA&&(N["#text"]=!0),Z&&pm(N,["html","head","body"]),N.table&&(pm(N,["tbody"]),delete K.tbody),A.TRUSTED_TYPES_POLICY){if("function"!=typeof A.TRUSTED_TYPES_POLICY.createHTML)throw hm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof A.TRUSTED_TYPES_POLICY.createScriptURL)throw hm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=A.TRUSTED_TYPES_POLICY,v=y.createHTML("")}else void 0===y&&(y=function(A,t){if("object"!=typeof A||"function"!=typeof A.createPolicy)return null;let e=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(e=t.getAttribute(n));const r="dompurify"+(e?"#"+e:"");try{return A.createPolicy(r,{createHTML:A=>A,createScriptURL:A=>A})}catch(i){return null}}(d,i)),null!==y&&"string"==typeof v&&(v=y.createHTML(""));jB&&jB(A),FA=A}},xA=pm({},[..._m,...ym,...vm]),OA=pm({},[...Cm,...bm]),HA=function(A){em(e.removed,{element:A});try{_(A).removeChild(A)}catch(t){B(A)}},MA=function(A,t){try{em(e.removed,{attribute:t.getAttributeNode(A),from:t})}catch(n){em(e.removed,{attribute:null,from:t})}if(t.removeAttribute(A),"is"===A)if(tA||eA)try{HA(t)}catch(n){}else try{t.setAttribute(A,"")}catch(n){}},RA=function(A){let t=null,e=null;if(AA)A="<remove></remove>"+A;else{const t=sm(A,/^[\r\n\t ]+/);e=t&&t[0]}"application/xhtml+xml"===EA&&mA===BA&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");const r=y?y.createHTML(A):A;if(mA===BA)try{t=(new f).parseFromString(r,EA)}catch(s){}if(!t||!t.documentElement){t=C.createDocument(mA,"template",null);try{t.documentElement.innerHTML=wA?v:r}catch(s){}}const i=t.body||t.documentElement;return A&&e&&i.insertBefore(n.createTextNode(e),i.childNodes[0]||null),mA===BA?U.call(t,Z?"html":"body")[0]:Z?t.documentElement:i},PA=function(A){return b.call(A.ownerDocument||A,A,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},NA=function(A){return A instanceof h&&("string"!=typeof A.nodeName||"string"!=typeof A.textContent||"function"!=typeof A.removeChild||!(A.attributes instanceof c)||"function"!=typeof A.removeAttribute||"function"!=typeof A.setAttribute||"string"!=typeof A.namespaceURI||"function"!=typeof A.insertBefore||"function"!=typeof A.hasChildNodes)},LA=function(A){return"function"==typeof a&&A instanceof a};function DA(A,t,n){$B(A,A=>{A.call(e,t,n,FA)})}const kA=function(A){let t=null;if(DA(F.beforeSanitizeElements,A,null),NA(A))return HA(A),!0;const n=QA(A.nodeName);if(DA(F.uponSanitizeElement,A,{tagName:n,allowedTags:N}),z&&A.hasChildNodes()&&!LA(A.firstElementChild)&&cm(/<[/\w!]/g,A.innerHTML)&&cm(/<[/\w!]/g,A.textContent))return HA(A),!0;if(A.nodeType===Km)return HA(A),!0;if(z&&A.nodeType===Gm&&cm(/<[/\w]/g,A.data))return HA(A),!0;if(!(q.tagCheck instanceof Function&&q.tagCheck(n))&&(!N[n]||K[n])){if(!K[n]&&KA(n)){if(V.tagNameCheck instanceof RegExp&&cm(V.tagNameCheck,n))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(n))return!1}if(sA&&!lA[n]){const t=_(A)||A.parentNode,e=w(A)||A.childNodes;if(e&&t){for(let n=e.length-1;n>=0;--n){const r=g(e[n],!0);r.__removalCount=(A.__removalCount||0)+1,t.insertBefore(r,m(A))}}}return HA(A),!0}return A instanceof l&&!function(A){let t=_(A);t&&t.tagName||(t={namespaceURI:mA,tagName:"template"});const e=rm(A.tagName),n=rm(t.tagName);return!!_A[A.namespaceURI]&&(A.namespaceURI===gA?t.namespaceURI===BA?"svg"===e:t.namespaceURI===pA?"svg"===e&&("annotation-xml"===n||vA[n]):Boolean(xA[e]):A.namespaceURI===pA?t.namespaceURI===BA?"math"===e:t.namespaceURI===gA?"math"===e&&CA[n]:Boolean(OA[e]):A.namespaceURI===BA?!(t.namespaceURI===gA&&!CA[n])&&!(t.namespaceURI===pA&&!vA[n])&&!OA[e]&&(bA[e]||!xA[e]):!("application/xhtml+xml"!==EA||!_A[A.namespaceURI]))}(A)?(HA(A),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!cm(/<\/no(script|embed|frames)/i,A.innerHTML)?(W&&A.nodeType===Vm&&(t=A.textContent,$B([I,S,T],A=>{t=om(t,A," ")}),A.textContent!==t&&(em(e.removed,{element:A.cloneNode()}),A.textContent=t)),DA(F.afterSanitizeElements,A,null),!1):(HA(A),!0)},VA=function(A,t,e){if(rA&&("id"===t||"name"===t)&&(e in n||e in IA))return!1;if(Y&&!G[t]&&cm(x,t));else if(X&&cm(O,t));else if(q.attributeCheck instanceof Function&&q.attributeCheck(t,A));else if(!D[t]||G[t]){if(!(KA(A)&&(V.tagNameCheck instanceof RegExp&&cm(V.tagNameCheck,A)||V.tagNameCheck instanceof Function&&V.tagNameCheck(A))&&(V.attributeNameCheck instanceof RegExp&&cm(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t,A))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&cm(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))))return!1}else if(fA[t]);else if(cm(P,om(e,M,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===A||0!==am(e,"data:")||!cA[A]){if(j&&!cm(H,om(e,M,"")));else if(e)return!1}else;return!0},KA=function(A){return"annotation-xml"!==A&&sm(A,R)},GA=function(A){DA(F.beforeSanitizeAttributes,A,null);const{attributes:t}=A;if(!t||NA(A))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let r=t.length;for(;r--;){const s=t[r],{name:o,namespaceURI:a,value:l}=s,u=QA(o),c=l;let h="value"===o?c:lm(c);if(n.attrName=u,n.attrValue=h,n.keepAttr=!0,n.forceKeepAttr=void 0,DA(F.uponSanitizeAttribute,A,n),h=n.attrValue,!iA||"id"!==u&&"name"!==u||(MA(o,A),h="user-content-"+h),z&&cm(/((--!?|])>)|<\/(style|title|textarea)/i,h)){MA(o,A);continue}if("attributename"===u&&sm(h,"href")){MA(o,A);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){MA(o,A);continue}if(!J&&cm(/\/>/i,h)){MA(o,A);continue}W&&$B([I,S,T],A=>{h=om(h,A," ")});const f=QA(A.nodeName);if(VA(f,u,h)){if(y&&"object"==typeof d&&"function"==typeof d.getAttributeType)if(a);else switch(d.getAttributeType(f,u)){case"TrustedHTML":h=y.createHTML(h);break;case"TrustedScriptURL":h=y.createScriptURL(h)}if(h!==c)try{a?A.setAttributeNS(a,o,h):A.setAttribute(o,h),NA(A)?HA(A):tm(e.removed)}catch(i){MA(o,A)}}else MA(o,A)}DA(F.afterSanitizeAttributes,A,null)},qA=function A(t){let e=null;const n=PA(t);for(DA(F.beforeSanitizeShadowDOM,t,null);e=n.nextNode();)DA(F.uponSanitizeShadowNode,e,null),kA(e),GA(e),e.content instanceof s&&A(e.content);DA(F.afterSanitizeShadowDOM,t,null)};return e.sanitize=function(A){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,l=null;if(wA=!A,wA&&(A="\x3c!--\x3e"),"string"!=typeof A&&!LA(A)){if("function"!=typeof A.toString)throw hm("toString is not a function");if("string"!=typeof(A=A.toString()))throw hm("dirty is not a string, aborting")}if(!e.isSupported)return A;if($||TA(t),e.removed=[],"string"==typeof A&&(oA=!1),oA){if(A.nodeName){const t=QA(A.nodeName);if(!N[t]||K[t])throw hm("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof a)n=RA("\x3c!----\x3e"),i=n.ownerDocument.importNode(A,!0),i.nodeType===km&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!tA&&!W&&!Z&&-1===A.indexOf("<"))return y&&nA?y.createHTML(A):A;if(n=RA(A),!n)return tA?null:nA?v:""}n&&AA&&HA(n.firstChild);const u=PA(oA?A:n);for(;o=u.nextNode();)kA(o),GA(o),o.content instanceof s&&qA(o.content);if(oA)return A;if(tA){if(eA)for(l=E.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(D.shadowroot||D.shadowrootmode)&&(l=Q.call(r,l,!0)),l}let c=Z?n.outerHTML:n.innerHTML;return Z&&N["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&cm(Nm,n.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+c),W&&$B([I,S,T],A=>{c=om(c,A," ")}),y&&nA?y.createHTML(c):c},e.setConfig=function(){TA(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$=!0},e.clearConfig=function(){FA=null,$=!1},e.isValidAttribute=function(A,t,e){FA||TA({});const n=QA(A),r=QA(t);return VA(n,r,e)},e.addHook=function(A,t){"function"==typeof t&&em(F[A],t)},e.removeHook=function(A,t){if(void 0!==t){const e=Am(F[A],t);return-1===e?void 0:nm(F[A],e,1)[0]}return tm(F[A])},e.removeHooks=function(A){F[A]=[]},e.removeAllHooks=function(){F={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},e}();const Ym=Object.freeze(Object.defineProperty({__proto__:null,default:Xm},Symbol.toStringTag,{value:"Module"}));var jm,Jm,Wm={};function zm(){if(Jm)return jm;Jm=1;var A=function(A){return A&&A.Math===Math&&A};return jm=A("object"==typeof globalThis&&globalThis)||A("object"==typeof window&&window)||A("object"==typeof self&&self)||A("object"==typeof e&&e)||A("object"==typeof jm&&jm)||function(){return this}()||Function("return this")()}var Zm,$m,Aw,tw,ew,nw,rw,iw,sw={};function ow(){return $m?Zm:($m=1,Zm=function(A){try{return!!A()}catch(t){return!0}})}function aw(){if(tw)return Aw;tw=1;var A=ow();return Aw=!A(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function lw(){if(nw)return ew;nw=1;var A=ow();return ew=!A(function(){var A=function(){}.bind();return"function"!=typeof A||A.hasOwnProperty("prototype")})}function uw(){if(iw)return rw;iw=1;var A=lw(),t=Function.prototype.call;return rw=A?t.bind(t):function(){return t.apply(t,arguments)},rw}var cw,hw,fw,dw,pw,gw,Bw,mw,ww,_w,yw,vw,Cw,bw,Ew,Uw,Qw,Fw,Iw,Sw,Tw,xw,Ow,Hw,Mw,Rw,Pw,Nw,Lw,Dw,kw,Vw,Kw,Gw,qw,Xw,Yw,jw,Jw,Ww,zw,Zw={};function $w(){return fw?hw:(fw=1,hw=function(A,t){return{enumerable:!(1&A),configurable:!(2&A),writable:!(4&A),value:t}})}function A_(){if(pw)return dw;pw=1;var A=lw(),t=Function.prototype,e=t.call,n=A&&t.bind.bind(e,e);return dw=A?n:function(A){return function(){return e.apply(A,arguments)}},dw}function t_(){if(Bw)return gw;Bw=1;var A=A_(),t=A({}.toString),e=A("".slice);return gw=function(A){return e(t(A),8,-1)}}function e_(){if(ww)return mw;ww=1;var A=A_(),t=ow(),e=t_(),n=Object,r=A("".split);return mw=t(function(){return!n("z").propertyIsEnumerable(0)})?function(A){return"String"===e(A)?r(A,""):n(A)}:n}function n_(){return yw?_w:(yw=1,_w=function(A){return null==A})}function r_(){if(Cw)return vw;Cw=1;var A=n_(),t=TypeError;return vw=function(e){if(A(e))throw new t("Can't call method on "+e);return e}}function i_(){if(Ew)return bw;Ew=1;var A=e_(),t=r_();return bw=function(e){return A(t(e))}}function s_(){if(Qw)return Uw;Qw=1;var A="object"==typeof document&&document.all;return Uw=void 0===A&&void 0!==A?function(t){return"function"==typeof t||t===A}:function(A){return"function"==typeof A}}function o_(){if(Iw)return Fw;Iw=1;var A=s_();return Fw=function(t){return"object"==typeof t?null!==t:A(t)}}function a_(){if(Tw)return Sw;Tw=1;var A=zm(),t=s_();return Sw=function(e,n){return arguments.length<2?(r=A[e],t(r)?r:void 0):A[e]&&A[e][n];var r},Sw}function l_(){if(Ow)return xw;Ow=1;var A=A_();return xw=A({}.isPrototypeOf)}function u_(){if(Mw)return Hw;Mw=1;var A=zm().navigator,t=A&&A.userAgent;return Hw=t?String(t):""}function c_(){if(Pw)return Rw;Pw=1;var A,t,e=zm(),n=u_(),r=e.process,i=e.Deno,s=r&&r.versions||i&&i.version,o=s&&s.v8;return o&&(t=(A=o.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!t&&n&&(!(A=n.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=n.match(/Chrome\/(\d+)/))&&(t=+A[1]),Rw=t}function h_(){if(Lw)return Nw;Lw=1;var A=c_(),t=ow(),e=zm().String;return Nw=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!e(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&A&&A<41})}function f_(){if(kw)return Dw;kw=1;var A=h_();return Dw=A&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function d_(){if(Kw)return Vw;Kw=1;var A=a_(),t=s_(),e=l_(),n=f_(),r=Object;return Vw=n?function(A){return"symbol"==typeof A}:function(n){var i=A("Symbol");return t(i)&&e(i.prototype,r(n))}}function p_(){if(qw)return Gw;qw=1;var A=String;return Gw=function(t){try{return A(t)}catch(e){return"Object"}}}function g_(){if(Yw)return Xw;Yw=1;var A=s_(),t=p_(),e=TypeError;return Xw=function(n){if(A(n))return n;throw new e(t(n)+" is not a function")}}function B_(){if(Jw)return jw;Jw=1;var A=g_(),t=n_();return jw=function(e,n){var r=e[n];return t(r)?void 0:A(r)}}var m_,w_,__,y_,v_,C_,b_,E_,U_,Q_,F_,I_,S_,T_,x_,O_,H_,M_,R_,P_,N_,L_,D_,k_,V_={exports:{}};function K_(){return w_?m_:(w_=1,m_=!1)}function G_(){if(y_)return __;y_=1;var A=zm(),t=Object.defineProperty;return __=function(e,n){try{t(A,e,{value:n,configurable:!0,writable:!0})}catch(r){A[e]=n}return n}}function q_(){if(v_)return V_.exports;v_=1;var A=K_(),t=zm(),e=G_(),n="__core-js_shared__",r=V_.exports=t[n]||e(n,{});return(r.versions||(r.versions=[])).push({version:"3.47.0",mode:A?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"}),V_.exports}function X_(){if(b_)return C_;b_=1;var A=q_();return C_=function(t,e){return A[t]||(A[t]=e||{})}}function Y_(){if(U_)return E_;U_=1;var A=r_(),t=Object;return E_=function(e){return t(A(e))}}function j_(){if(F_)return Q_;F_=1;var A=A_(),t=Y_(),e=A({}.hasOwnProperty);return Q_=Object.hasOwn||function(A,n){return e(t(A),n)}}function J_(){if(S_)return I_;S_=1;var A=A_(),t=0,e=Math.random(),n=A(1.1.toString);return I_=function(A){return"Symbol("+(void 0===A?"":A)+")_"+n(++t+e,36)}}function W_(){if(x_)return T_;x_=1;var A=zm(),t=X_(),e=j_(),n=J_(),r=h_(),i=f_(),s=A.Symbol,o=t("wks"),a=i?s.for||s:s&&s.withoutSetter||n;return T_=function(A){return e(o,A)||(o[A]=r&&e(s,A)?s[A]:a("Symbol."+A)),o[A]}}function z_(){if(H_)return O_;H_=1;var A=uw(),t=o_(),e=d_(),n=B_(),r=function(){if(zw)return Ww;zw=1;var A=uw(),t=s_(),e=o_(),n=TypeError;return Ww=function(r,i){var s,o;if("string"===i&&t(s=r.toString)&&!e(o=A(s,r)))return o;if(t(s=r.valueOf)&&!e(o=A(s,r)))return o;if("string"!==i&&t(s=r.toString)&&!e(o=A(s,r)))return o;throw new n("Can't convert object to primitive value")}}(),i=W_(),s=TypeError,o=i("toPrimitive");return O_=function(i,a){if(!t(i)||e(i))return i;var l,u=n(i,o);if(u){if(void 0===a&&(a="default"),l=A(u,i,a),!t(l)||e(l))return l;throw new s("Can't convert object to primitive value")}return void 0===a&&(a="number"),r(i,a)}}function Z_(){if(R_)return M_;R_=1;var A=z_(),t=d_();return M_=function(e){var n=A(e,"string");return t(n)?n:n+""}}function $_(){if(N_)return P_;N_=1;var A=zm(),t=o_(),e=A.document,n=t(e)&&t(e.createElement);return P_=function(A){return n?e.createElement(A):{}}}function Ay(){if(D_)return L_;D_=1;var A=aw(),t=ow(),e=$_();return L_=!A&&!t(function(){return 7!==Object.defineProperty(e("div"),"a",{get:function(){return 7}}).a})}function ty(){if(k_)return sw;k_=1;var A=aw(),t=uw(),e=function(){if(cw)return Zw;cw=1;var A={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,e=t&&!A.call({1:2},1);return Zw.f=e?function(A){var e=t(this,A);return!!e&&e.enumerable}:A,Zw}(),n=$w(),r=i_(),i=Z_(),s=j_(),o=Ay(),a=Object.getOwnPropertyDescriptor;return sw.f=A?a:function(A,l){if(A=r(A),l=i(l),o)try{return a(A,l)}catch(u){}if(s(A,l))return n(!t(e.f,A,l),A[l])},sw}var ey,ny,ry,iy,sy,oy,ay,ly={};function uy(){if(ny)return ey;ny=1;var A=aw(),t=ow();return ey=A&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function cy(){if(iy)return ry;iy=1;var A=o_(),t=String,e=TypeError;return ry=function(n){if(A(n))return n;throw new e(t(n)+" is not an object")}}function hy(){if(sy)return ly;sy=1;var A=aw(),t=Ay(),e=uy(),n=cy(),r=Z_(),i=TypeError,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a="enumerable",l="configurable",u="writable";return ly.f=A?e?function(A,t,e){if(n(A),t=r(t),n(e),"function"==typeof A&&"prototype"===t&&"value"in e&&u in e&&!e[u]){var i=o(A,t);i&&i[u]&&(A[t]=e.value,e={configurable:l in e?e[l]:i[l],enumerable:a in e?e[a]:i[a],writable:!1})}return s(A,t,e)}:s:function(A,e,o){if(n(A),e=r(e),n(o),t)try{return s(A,e,o)}catch(a){}if("get"in o||"set"in o)throw new i("Accessors not supported");return"value"in o&&(A[e]=o.value),A},ly}function fy(){if(ay)return oy;ay=1;var A=aw(),t=hy(),e=$w();return oy=A?function(A,n,r){return t.f(A,n,e(1,r))}:function(A,t,e){return A[t]=e,A}}var dy,py,gy,By,my,wy,_y,yy,vy,Cy,by,Ey,Uy,Qy,Fy,Iy={exports:{}};function Sy(){if(py)return dy;py=1;var A=aw(),t=j_(),e=Function.prototype,n=A&&Object.getOwnPropertyDescriptor,r=t(e,"name"),i=r&&"something"===function(){}.name,s=r&&(!A||A&&n(e,"name").configurable);return dy={EXISTS:r,PROPER:i,CONFIGURABLE:s}}function Ty(){if(By)return gy;By=1;var A=A_(),t=s_(),e=q_(),n=A(Function.toString);return t(e.inspectSource)||(e.inspectSource=function(A){return n(A)}),gy=e.inspectSource}function xy(){if(yy)return _y;yy=1;var A=X_(),t=J_(),e=A("keys");return _y=function(A){return e[A]||(e[A]=t(A))}}function Oy(){return Cy?vy:(Cy=1,vy={})}function Hy(){if(Ey)return by;Ey=1;var A,t,e,n=function(){if(wy)return my;wy=1;var A=zm(),t=s_(),e=A.WeakMap;return my=t(e)&&/native code/.test(String(e))}(),r=zm(),i=o_(),s=fy(),o=j_(),a=q_(),l=xy(),u=Oy(),c="Object already initialized",h=r.TypeError,f=r.WeakMap;if(n||a.state){var d=a.state||(a.state=new f);d.get=d.get,d.has=d.has,d.set=d.set,A=function(A,t){if(d.has(A))throw new h(c);return t.facade=A,d.set(A,t),t},t=function(A){return d.get(A)||{}},e=function(A){return d.has(A)}}else{var p=l("state");u[p]=!0,A=function(A,t){if(o(A,p))throw new h(c);return t.facade=A,s(A,p,t),t},t=function(A){return o(A,p)?A[p]:{}},e=function(A){return o(A,p)}}return by={set:A,get:t,has:e,enforce:function(n){return e(n)?t(n):A(n,{})},getterFor:function(A){return function(e){var n;if(!i(e)||(n=t(e)).type!==A)throw new h("Incompatible receiver, "+A+" required");return n}}}}function My(){if(Uy)return Iy.exports;Uy=1;var A=A_(),t=ow(),e=s_(),n=j_(),r=aw(),i=Sy().CONFIGURABLE,s=Ty(),o=Hy(),a=o.enforce,l=o.get,u=String,c=Object.defineProperty,h=A("".slice),f=A("".replace),d=A([].join),p=r&&!t(function(){return 8!==c(function(){},"length",{value:8}).length}),g=String(String).split("String"),B=Iy.exports=function(A,t,e){"Symbol("===h(u(t),0,7)&&(t="["+f(u(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(t="get "+t),e&&e.setter&&(t="set "+t),(!n(A,"name")||i&&A.name!==t)&&(r?c(A,"name",{value:t,configurable:!0}):A.name=t),p&&e&&n(e,"arity")&&A.length!==e.arity&&c(A,"length",{value:e.arity});try{e&&n(e,"constructor")&&e.constructor?r&&c(A,"prototype",{writable:!1}):A.prototype&&(A.prototype=void 0)}catch(o){}var s=a(A);return n(s,"source")||(s.source=d(g,"string"==typeof t?t:"")),A};return Function.prototype.toString=B(function(){return e(this)&&l(this).source||s(this)},"toString"),Iy.exports}function Ry(){if(Fy)return Qy;Fy=1;var A=s_(),t=hy(),e=My(),n=G_();return Qy=function(r,i,s,o){o||(o={});var a=o.enumerable,l=void 0!==o.name?o.name:i;if(A(s)&&e(s,l,o),o.global)a?r[i]=s:n(i,s);else{try{o.unsafe?r[i]&&(a=!0):delete r[i]}catch(u){}a?r[i]=s:t.f(r,i,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return r}}var Py,Ny,Ly,Dy,ky,Vy,Ky,Gy,qy,Xy,Yy,jy,Jy,Wy,zy,Zy,$y,Av={};function tv(){if(Dy)return Ly;Dy=1;var A=function(){if(Ny)return Py;Ny=1;var A=Math.ceil,t=Math.floor;return Py=Math.trunc||function(e){var n=+e;return(n>0?t:A)(n)},Py}();return Ly=function(t){var e=+t;return e!=e||0===e?0:A(e)}}function ev(){if(Gy)return Ky;Gy=1;var A=tv(),t=Math.min;return Ky=function(e){var n=A(e);return n>0?t(n,9007199254740991):0}}function nv(){if(Xy)return qy;Xy=1;var A=ev();return qy=function(t){return A(t.length)}}function rv(){if(jy)return Yy;jy=1;var A=i_(),t=function(){if(Vy)return ky;Vy=1;var A=tv(),t=Math.max,e=Math.min;return ky=function(n,r){var i=A(n);return i<0?t(i+r,0):e(i,r)},ky}(),e=nv(),n=function(n){return function(r,i,s){var o=A(r),a=e(o);if(0===a)return!n&&-1;var l,u=t(s,a);if(n&&i!=i){for(;a>u;)if((l=o[u++])!=l)return!0}else for(;a>u;u++)if((n||u in o)&&o[u]===i)return n||u||0;return!n&&-1}};return Yy={includes:n(!0),indexOf:n(!1)}}function iv(){if(Wy)return Jy;Wy=1;var A=A_(),t=j_(),e=i_(),n=rv().indexOf,r=Oy(),i=A([].push);return Jy=function(A,s){var o,a=e(A),l=0,u=[];for(o in a)!t(r,o)&&t(a,o)&&i(u,o);for(;s.length>l;)t(a,o=s[l++])&&(~n(u,o)||i(u,o));return u}}function sv(){return Zy?zy:(Zy=1,zy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}var ov,av,lv,uv,cv,hv,fv,dv,pv,gv,Bv,mv,wv,_v,yv,vv,Cv,bv,Ev,Uv,Qv,Fv,Iv,Sv,Tv,xv,Ov,Hv,Mv,Rv,Pv,Nv,Lv,Dv,kv,Vv,Kv,Gv,qv,Xv,Yv,jv,Jv,Wv,zv,Zv,$v,AC,tC,eC,nC,rC,iC,sC,oC,aC,lC,uC,cC,hC,fC,dC,pC,gC,BC,mC,wC,_C,yC,vC,CC,bC,EC,UC,QC,FC={};function IC(){if(lv)return av;lv=1;var A=a_(),t=A_(),e=function(){if($y)return Av;$y=1;var A=iv(),t=sv().concat("length","prototype");return Av.f=Object.getOwnPropertyNames||function(e){return A(e,t)},Av}(),n=(ov||(ov=1,FC.f=Object.getOwnPropertySymbols),FC),r=cy(),i=t([].concat);return av=A("Reflect","ownKeys")||function(A){var t=e.f(r(A)),s=n.f;return s?i(t,s(A)):t}}function SC(){if(fv)return hv;fv=1;var A=ow(),t=s_(),e=/#|\.prototype\./,n=function(e,n){var a=i[r(e)];return a===o||a!==s&&(t(n)?A(n):!!n)},r=n.normalize=function(A){return String(A).replace(e,".").toLowerCase()},i=n.data={},s=n.NATIVE="N",o=n.POLYFILL="P";return hv=n}function TC(){if(pv)return dv;pv=1;var A=zm(),t=ty().f,e=fy(),n=Ry(),r=G_(),i=function(){if(cv)return uv;cv=1;var A=j_(),t=IC(),e=ty(),n=hy();return uv=function(r,i,s){for(var o=t(i),a=n.f,l=e.f,u=0;u<o.length;u++){var c=o[u];A(r,c)||s&&A(s,c)||a(r,c,l(i,c))}}}(),s=SC();return dv=function(o,a){var l,u,c,h,f,d=o.target,p=o.global,g=o.stat;if(l=p?A:g?A[d]||r(d,{}):A[d]&&A[d].prototype)for(u in a){if(h=a[u],c=o.dontCallGetSet?(f=t(l,u))&&f.value:l[u],!s(p?u:d+(g?".":"#")+u,o.forced)&&void 0!==c){if(typeof h==typeof c)continue;i(h,c)}(o.sham||c&&c.sham)&&e(h,"sham",!0),n(l,u,h,o)}}}function xC(){if(Bv)return gv;Bv=1;var A=zm(),t=u_(),e=t_(),n=function(A){return t.slice(0,A.length)===A};return gv=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":A.Bun&&"string"==typeof Bun.version?"BUN":A.Deno&&"object"==typeof Deno.version?"DENO":"process"===e(A.process)?"NODE":A.window&&A.document?"BROWSER":"REST"}function OC(){if(wv)return mv;wv=1;var A=xC();return mv="NODE"===A}function HC(){if(Qv)return Uv;Qv=1;var A=function(){if(Ev)return bv;Ev=1;var A=o_();return bv=function(t){return A(t)||null===t}}(),t=String,e=TypeError;return Uv=function(n){if(A(n))return n;throw new e("Can't set "+t(n)+" as a prototype")}}function MC(){if(Iv)return Fv;Iv=1;var A=function(){if(Cv)return vv;Cv=1;var A=A_(),t=g_();return vv=function(e,n,r){try{return A(t(Object.getOwnPropertyDescriptor(e,n)[r]))}catch(i){}}}(),t=o_(),e=r_(),n=HC();return Fv=Object.setPrototypeOf||("__proto__"in{}?function(){var r,i=!1,s={};try{(r=A(Object.prototype,"__proto__","set"))(s,[]),i=s instanceof Array}catch(o){}return function(A,s){return e(A),n(s),t(A)?(i?r(A,s):A.__proto__=s,A):A}}():void 0)}function RC(){if(Tv)return Sv;Tv=1;var A=hy().f,t=j_(),e=W_()("toStringTag");return Sv=function(n,r,i){n&&!i&&(n=n.prototype),n&&!t(n,e)&&A(n,e,{configurable:!0,value:r})}}function PC(){if(Mv)return Hv;Mv=1;var A=a_(),t=function(){if(Ov)return xv;Ov=1;var A=My(),t=hy();return xv=function(e,n,r){return r.get&&A(r.get,n,{getter:!0}),r.set&&A(r.set,n,{setter:!0}),t.f(e,n,r)}}(),e=W_(),n=aw(),r=e("species");return Hv=function(e){var i=A(e);n&&i&&!i[r]&&t(i,r,{configurable:!0,get:function(){return this}})}}function NC(){if(kv)return Dv;kv=1;var A=function(){if(Lv)return Nv;Lv=1;var A={};return A[W_()("toStringTag")]="z",Nv="[object z]"===String(A)}(),t=s_(),e=t_(),n=W_()("toStringTag"),r=Object,i="Arguments"===e(function(){return arguments}());return Dv=A?e:function(A){var s,o,a;return void 0===A?"Undefined":null===A?"Null":"string"==typeof(o=function(A,t){try{return A[t]}catch(e){}}(s=r(A),n))?o:i?e(s):"Object"===(a=e(s))&&t(s.callee)?"Arguments":a}}function LC(){if(qv)return Gv;qv=1;var A=function(){if(Kv)return Vv;Kv=1;var A=A_(),t=ow(),e=s_(),n=NC(),r=a_(),i=Ty(),s=function(){},o=r("Reflect","construct"),a=/^\s*(?:class|function)\b/,l=A(a.exec),u=!a.test(s),c=function(A){if(!e(A))return!1;try{return o(s,[],A),!0}catch(t){return!1}},h=function(A){if(!e(A))return!1;switch(n(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!l(a,i(A))}catch(t){return!0}};return h.sham=!0,Vv=!o||t(function(){var A;return c(c.call)||!c(Object)||!c(function(){A=!0})||A})?h:c}(),t=p_(),e=TypeError;return Gv=function(n){if(A(n))return n;throw new e(t(n)+" is not a constructor")}}function DC(){if(Yv)return Xv;Yv=1;var A=cy(),t=LC(),e=n_(),n=W_()("species");return Xv=function(r,i){var s,o=A(r).constructor;return void 0===o||e(s=A(o)[n])?i:t(s)}}function kC(){if(Jv)return jv;Jv=1;var A=lw(),t=Function.prototype,e=t.apply,n=t.call;return jv="object"==typeof Reflect&&Reflect.apply||(A?n.bind(e):function(){return n.apply(e,arguments)}),jv}function VC(){if(zv)return Wv;zv=1;var A=t_(),t=A_();return Wv=function(e){if("Function"===A(e))return t(e)}}function KC(){if($v)return Zv;$v=1;var A=VC(),t=g_(),e=lw(),n=A(A.bind);return Zv=function(A,r){return t(A),void 0===r?A:e?n(A,r):function(){return A.apply(r,arguments)}},Zv}function GC(){if(tC)return AC;tC=1;var A=a_();return AC=A("document","documentElement")}function qC(){if(oC)return sC;oC=1;var A=u_();return sC=/(?:ipad|iphone|ipod).*applewebkit/i.test(A)}function XC(){if(lC)return aC;lC=1;var A,t,e,n,r=zm(),i=kC(),s=KC(),o=s_(),a=j_(),l=ow(),u=GC(),c=function(){if(nC)return eC;nC=1;var A=A_();return eC=A([].slice)}(),h=$_(),f=function(){if(iC)return rC;iC=1;var A=TypeError;return rC=function(t,e){if(t<e)throw new A("Not enough arguments");return t}}(),d=qC(),p=OC(),g=r.setImmediate,B=r.clearImmediate,m=r.process,w=r.Dispatch,_=r.Function,y=r.MessageChannel,v=r.String,C=0,b={},E="onreadystatechange";l(function(){A=r.location});var U=function(A){if(a(b,A)){var t=b[A];delete b[A],t()}},Q=function(A){return function(){U(A)}},F=function(A){U(A.data)},I=function(t){r.postMessage(v(t),A.protocol+"//"+A.host)};return g&&B||(g=function(A){f(arguments.length,1);var e=o(A)?A:_(A),n=c(arguments,1);return b[++C]=function(){i(e,void 0,n)},t(C),C},B=function(A){delete b[A]},p?t=function(A){m.nextTick(Q(A))}:w&&w.now?t=function(A){w.now(Q(A))}:y&&!d?(n=(e=new y).port2,e.port1.onmessage=F,t=s(n.postMessage,n)):r.addEventListener&&o(r.postMessage)&&!r.importScripts&&A&&"file:"!==A.protocol&&!l(I)?(t=I,r.addEventListener("message",F,!1)):t=E in h("script")?function(A){u.appendChild(h("script"))[E]=function(){u.removeChild(this),U(A)}}:function(A){setTimeout(Q(A),0)}),aC={set:g,clear:B}}function YC(){if(fC)return hC;fC=1;var A=function(){this.head=null,this.tail=null};return A.prototype={add:function(A){var t={item:A,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var A=this.head;if(A)return null===(this.head=A.next)&&(this.tail=null),A.item}},hC=A}function jC(){if(wC)return mC;wC=1;var A,t,e,n,r,i=zm(),s=function(){if(cC)return uC;cC=1;var A=zm(),t=aw(),e=Object.getOwnPropertyDescriptor;return uC=function(n){if(!t)return A[n];var r=e(A,n);return r&&r.value}}(),o=KC(),a=XC().set,l=YC(),u=qC(),c=function(){if(pC)return dC;pC=1;var A=u_();return dC=/ipad|iphone|ipod/i.test(A)&&"undefined"!=typeof Pebble}(),h=function(){if(BC)return gC;BC=1;var A=u_();return gC=/web0s(?!.*chrome)/i.test(A)}(),f=OC(),d=i.MutationObserver||i.WebKitMutationObserver,p=i.document,g=i.process,B=i.Promise,m=s("queueMicrotask");if(!m){var w=new l,_=function(){var t,e;for(f&&(t=g.domain)&&t.exit();e=w.get();)try{e()}catch(n){throw w.head&&A(),n}t&&t.enter()};u||f||h||!d||!p?!c&&B&&B.resolve?((n=B.resolve(void 0)).constructor=B,r=o(n.then,n),A=function(){r(_)}):f?A=function(){g.nextTick(_)}:(a=o(a,i),A=function(){a(_)}):(t=!0,e=p.createTextNode(""),new d(_).observe(e,{characterData:!0}),A=function(){e.data=t=!t}),m=function(t){w.head||A(),w.add(t)}}return mC=m}function JC(){return CC?vC:(CC=1,vC=function(A){try{return{error:!1,value:A()}}catch(t){return{error:!0,value:t}}})}function WC(){if(EC)return bC;EC=1;var A=zm();return bC=A.Promise}function zC(){if(QC)return UC;QC=1;var A=zm(),t=WC(),e=s_(),n=SC(),r=Ty(),i=W_(),s=xC(),o=K_(),a=c_(),l=t&&t.prototype,u=i("species"),c=!1,h=e(A.PromiseRejectionEvent),f=n("Promise",function(){var A=r(t),e=A!==String(t);if(!e&&66===a)return!0;if(o&&(!l.catch||!l.finally))return!0;if(!a||a<51||!/native code/.test(A)){var n=new t(function(A){A(1)}),i=function(A){A(function(){},function(){})};if((n.constructor={})[u]=i,!(c=n.then(function(){})instanceof i))return!0}return!(e||"BROWSER"!==s&&"DENO"!==s||h)});return UC={CONSTRUCTOR:f,REJECTION_EVENT:h,SUBCLASSING:c}}var ZC,$C,Ab={};function tb(){if(ZC)return Ab;ZC=1;var A=g_(),t=TypeError,e=function(e){var n,r;this.promise=new e(function(A,e){if(void 0!==n||void 0!==r)throw new t("Bad Promise constructor");n=A,r=e}),this.resolve=A(n),this.reject=A(r)};return Ab.f=function(A){return new e(A)},Ab}function eb(){if($C)return Wm;$C=1;var A,t,e,n,r=TC(),i=K_(),s=OC(),o=zm(),a=function(){if(yv)return _v;yv=1;var A=zm();return _v=A}(),l=uw(),u=Ry(),c=MC(),h=RC(),f=PC(),d=g_(),p=s_(),g=o_(),B=function(){if(Pv)return Rv;Pv=1;var A=l_(),t=TypeError;return Rv=function(e,n){if(A(n,e))return e;throw new t("Incorrect invocation")}}(),m=DC(),w=XC().set,_=jC(),y=yC?_C:(yC=1,_C=function(A,t){}),v=JC(),C=YC(),b=Hy(),E=WC(),U=zC(),Q=tb(),F="Promise",I=U.CONSTRUCTOR,S=U.REJECTION_EVENT,T=U.SUBCLASSING,x=b.getterFor(F),O=b.set,H=E&&E.prototype,M=E,R=H,P=o.TypeError,N=o.document,L=o.process,D=Q.f,k=D,V=!!(N&&N.createEvent&&o.dispatchEvent),K="unhandledrejection",G=function(A){var t;return!(!g(A)||!p(t=A.then))&&t},q=function(A,t){var e,n,r,i=t.value,s=1===t.state,o=s?A.ok:A.fail,a=A.resolve,u=A.reject,c=A.domain;try{o?(s||(2===t.rejection&&W(t),t.rejection=1),!0===o?e=i:(c&&c.enter(),e=o(i),c&&(c.exit(),r=!0)),e===A.promise?u(new P("Promise-chain cycle")):(n=G(e))?l(n,e,a,u):a(e)):u(i)}catch(h){c&&!r&&c.exit(),u(h)}},X=function(A,t){A.notified||(A.notified=!0,_(function(){for(var e,n=A.reactions;e=n.get();)q(e,A);A.notified=!1,t&&!A.rejection&&j(A)}))},Y=function(A,t,e){var n,r;V?((n=N.createEvent("Event")).promise=t,n.reason=e,n.initEvent(A,!1,!0),o.dispatchEvent(n)):n={promise:t,reason:e},!S&&(r=o["on"+A])?r(n):A===K&&y("Unhandled promise rejection",e)},j=function(A){l(w,o,function(){var t,e=A.facade,n=A.value;if(J(A)&&(t=v(function(){s?L.emit("unhandledRejection",n,e):Y(K,e,n)}),A.rejection=s||J(A)?2:1,t.error))throw t.value})},J=function(A){return 1!==A.rejection&&!A.parent},W=function(A){l(w,o,function(){var t=A.facade;s?L.emit("rejectionHandled",t):Y("rejectionhandled",t,A.value)})},z=function(A,t,e){return function(n){A(t,n,e)}},Z=function(A,t,e){A.done||(A.done=!0,e&&(A=e),A.value=t,A.state=2,X(A,!0))},$=function(A,t,e){if(!A.done){A.done=!0,e&&(A=e);try{if(A.facade===t)throw new P("Promise can't be resolved itself");var n=G(t);n?_(function(){var e={done:!1};try{l(n,t,z($,e,A),z(Z,e,A))}catch(r){Z(e,r,A)}}):(A.value=t,A.state=1,X(A,!1))}catch(r){Z({done:!1},r,A)}}};if(I&&(R=(M=function(t){B(this,R),d(t),l(A,this);var e=x(this);try{t(z($,e),z(Z,e))}catch(n){Z(e,n)}}).prototype,(A=function(A){O(this,{type:F,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:null})}).prototype=u(R,"then",function(A,t){var e=x(this),n=D(m(this,M));return e.parent=!0,n.ok=!p(A)||A,n.fail=p(t)&&t,n.domain=s?L.domain:void 0,0===e.state?e.reactions.add(n):_(function(){q(n,e)}),n.promise}),t=function(){var t=new A,e=x(t);this.promise=t,this.resolve=z($,e),this.reject=z(Z,e)},Q.f=D=function(A){return A===M||A===e?new t(A):k(A)},!i&&p(E)&&H!==Object.prototype)){n=H.then,T||u(H,"then",function(A,t){var e=this;return new M(function(A,t){l(n,e,A,t)}).then(A,t)},{unsafe:!0});try{delete H.constructor}catch(AA){}c&&c(H,R)}return r({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:M}),e=a.Promise,h(M,F,!1,!0),f(F),Wm}var nb,rb,ib,sb,ob,ab,lb,ub,cb,hb,fb,db,pb,gb,Bb,mb,wb,_b={};function yb(){return rb?nb:(rb=1,nb={})}function vb(){if(ab)return ob;ab=1;var A=NC(),t=B_(),e=n_(),n=yb(),r=W_()("iterator");return ob=function(i){if(!e(i))return t(i,r)||t(i,"@@iterator")||n[A(i)]}}function Cb(){if(db)return fb;db=1;var A=KC(),t=uw(),e=cy(),n=p_(),r=function(){if(sb)return ib;sb=1;var A=W_(),t=yb(),e=A("iterator"),n=Array.prototype;return ib=function(A){return void 0!==A&&(t.Array===A||n[e]===A)}}(),i=nv(),s=l_(),o=function(){if(ub)return lb;ub=1;var A=uw(),t=g_(),e=cy(),n=p_(),r=vb(),i=TypeError;return lb=function(s,o){var a=arguments.length<2?r(s):o;if(t(a))return e(A(a,s));throw new i(n(s)+" is not iterable")},lb}(),a=vb(),l=function(){if(hb)return cb;hb=1;var A=uw(),t=cy(),e=B_();return cb=function(n,r,i){var s,o;t(n);try{if(!(s=e(n,"return"))){if("throw"===r)throw i;return i}s=A(s,n)}catch(a){o=!0,s=a}if("throw"===r)throw i;if(o)throw s;return t(s),i}}(),u=TypeError,c=function(A,t){this.stopped=A,this.result=t},h=c.prototype;return fb=function(f,d,p){var g,B,m,w,_,y,v,C=p&&p.that,b=!(!p||!p.AS_ENTRIES),E=!(!p||!p.IS_RECORD),U=!(!p||!p.IS_ITERATOR),Q=!(!p||!p.INTERRUPTED),F=A(d,C),I=function(A){return g&&l(g,"normal"),new c(!0,A)},S=function(A){return b?(e(A),Q?F(A[0],A[1],I):F(A[0],A[1])):Q?F(A,I):F(A)};if(E)g=f.iterator;else if(U)g=f;else{if(!(B=a(f)))throw new u(n(f)+" is not iterable");if(r(B)){for(m=0,w=i(f);w>m;m++)if((_=S(f[m]))&&s(h,_))return _;return new c(!1)}g=o(f,B)}for(y=E?f.next:g.next;!(v=t(y,g)).done;){try{_=S(v.value)}catch(T){l(g,"throw",T)}if("object"==typeof _&&_&&s(h,_))return _}return new c(!1)},fb}function bb(){if(mb)return Bb;mb=1;var A=WC(),t=function(){if(gb)return pb;gb=1;var A=W_()("iterator"),t=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){t=!0}};n[A]=function(){return this},Array.from(n,function(){throw 2})}catch(r){}return pb=function(e,n){try{if(!n&&!t)return!1}catch(r){return!1}var i=!1;try{var s={};s[A]=function(){return{next:function(){return{done:i=!0}}}},e(s)}catch(r){}return i}}(),e=zC().CONSTRUCTOR;return Bb=e||!t(function(t){A.all(t).then(void 0,function(){})})}var Eb,Ub={};var Qb,Fb={};var Ib,Sb={};var Tb,xb,Ob,Hb,Mb={};function Rb(){if(Ob)return Mb;Ob=1;var A=TC(),t=a_(),e=K_(),n=WC(),r=zC().CONSTRUCTOR,i=function(){if(xb)return Tb;xb=1;var A=cy(),t=o_(),e=tb();return Tb=function(n,r){if(A(n),t(r)&&r.constructor===n)return r;var i=e.f(n);return(0,i.resolve)(r),i.promise},Tb}(),s=t("Promise"),o=e&&!r;return A({target:"Promise",stat:!0,forced:e||r},{resolve:function(A){return i(o&&this===s?n:this,A)}}),Mb}function Pb(A,t,e,n,r,i,s){try{var o=A[i](s),a=o.value}catch(l){return void e(l)}o.done?t(a):Promise.resolve(a).then(n,r)}function Nb(A){return function(){var t=this,e=arguments;return new Promise(function(n,r){var i=A.apply(t,e);function s(A){Pb(i,n,r,s,o,"next",A)}function o(A){Pb(i,n,r,s,o,"throw",A)}s(void 0)})}}Hb||(Hb=1,eb(),function(){if(wb)return _b;wb=1;var A=TC(),t=uw(),e=g_(),n=tb(),r=JC(),i=Cb();A({target:"Promise",stat:!0,forced:bb()},{all:function(A){var s=this,o=n.f(s),a=o.resolve,l=o.reject,u=r(function(){var n=e(s.resolve),r=[],o=0,u=1;i(A,function(A){var e=o++,i=!1;u++,t(n,s,A).then(function(A){i||(i=!0,r[e]=A,--u||a(r))},l)}),--u||a(r)});return u.error&&l(u.value),o.promise}})}(),function(){if(Eb)return Ub;Eb=1;var A=TC(),t=K_(),e=zC().CONSTRUCTOR,n=WC(),r=a_(),i=s_(),s=Ry(),o=n&&n.prototype;if(A({target:"Promise",proto:!0,forced:e,real:!0},{catch:function(A){return this.then(void 0,A)}}),!t&&i(n)){var a=r("Promise").prototype.catch;o.catch!==a&&s(o,"catch",a,{unsafe:!0})}}(),function(){if(Qb)return Fb;Qb=1;var A=TC(),t=uw(),e=g_(),n=tb(),r=JC(),i=Cb();A({target:"Promise",stat:!0,forced:bb()},{race:function(A){var s=this,o=n.f(s),a=o.reject,l=r(function(){var n=e(s.resolve);i(A,function(A){t(n,s,A).then(o.resolve,a)})});return l.error&&a(l.value),o.promise}})}(),function(){if(Ib)return Sb;Ib=1;var A=TC(),t=tb();A({target:"Promise",stat:!0,forced:zC().CONSTRUCTOR},{reject:function(A){var e=t.f(this);return(0,e.reject)(A),e.promise}})}(),Rb());var Lb,Db,kb,Vb,Kb,Gb,qb={},Xb={};function Yb(){if(Db)return Lb;Db=1;var A=NC(),t=String;return Lb=function(e){if("Symbol"===A(e))throw new TypeError("Cannot convert a Symbol value to a string");return t(e)}}function jb(){if(Vb)return kb;Vb=1;var A=cy();return kb=function(){var t=A(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}}function Jb(){if(Gb)return Kb;Gb=1;var A=ow(),t=zm().RegExp,e=A(function(){var A=t("a","y");return A.lastIndex=2,null!==A.exec("abcd")}),n=e||A(function(){return!t("a","y").sticky}),r=e||A(function(){var A=t("^r","gy");return A.lastIndex=2,null!==A.exec("str")});return Kb={BROKEN_CARET:r,MISSED_STICKY:n,UNSUPPORTED_Y:e}}var Wb,zb,Zb,$b,AE,tE,eE,nE,rE,iE,sE,oE,aE,lE,uE,cE,hE,fE,dE,pE,gE,BE,mE,wE,_E,yE={};function vE(){if(Zb)return yE;Zb=1;var A=aw(),t=uy(),e=hy(),n=cy(),r=i_(),i=function(){if(zb)return Wb;zb=1;var A=iv(),t=sv();return Wb=Object.keys||function(e){return A(e,t)}}();return yE.f=A&&!t?Object.defineProperties:function(A,t){n(A);for(var s,o=r(t),a=i(t),l=a.length,u=0;l>u;)e.f(A,s=a[u++],o[s]);return A},yE}function CE(){if(AE)return $b;AE=1;var A,t=cy(),e=vE(),n=sv(),r=Oy(),i=GC(),s=$_(),o=xy(),a="prototype",l="script",u=o("IE_PROTO"),c=function(){},h=function(A){return"<"+l+">"+A+"</"+l+">"},f=function(A){A.write(h("")),A.close();var t=A.parentWindow.Object;return A=null,t},d=function(){try{A=new ActiveXObject("htmlfile")}catch(u){}var t,e,r;d="undefined"!=typeof document?document.domain&&A?f(A):(e=s("iframe"),r="java"+l+":",e.style.display="none",i.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):f(A);for(var o=n.length;o--;)delete d[a][n[o]];return d()};return r[u]=!0,$b=Object.create||function(A,n){var r;return null!==A?(c[a]=t(A),r=new c,c[a]=null,r[u]=A):r=d(),void 0===n?r:e.f(r,n)}}function bE(){if(sE)return iE;sE=1;var A,t,e=uw(),n=A_(),r=Yb(),i=jb(),s=Jb(),o=X_(),a=CE(),l=Hy().get,u=function(){if(eE)return tE;eE=1;var A=ow(),t=zm().RegExp;return tE=A(function(){var A=t(".","s");return!(A.dotAll&&A.test("\n")&&"s"===A.flags)})}(),c=function(){if(rE)return nE;rE=1;var A=ow(),t=zm().RegExp;return nE=A(function(){var A=t("(?<a>b)","g");return"b"!==A.exec("b").groups.a||"bc"!=="b".replace(A,"$<a>c")})}(),h=o("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,d=f,p=n("".charAt),g=n("".indexOf),B=n("".replace),m=n("".slice),w=(t=/b*/g,e(f,A=/a/,"a"),e(f,t,"a"),0!==A.lastIndex||0!==t.lastIndex),_=s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];return(w||y||_||u||c)&&(d=function(A){var t,n,s,o,u,c,v,C=this,b=l(C),E=r(A),U=b.raw;if(U)return U.lastIndex=C.lastIndex,t=e(d,U,E),C.lastIndex=U.lastIndex,t;var Q=b.groups,F=_&&C.sticky,I=e(i,C),S=C.source,T=0,x=E;if(F&&(I=B(I,"y",""),-1===g(I,"g")&&(I+="g"),x=m(E,C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&"\n"!==p(E,C.lastIndex-1))&&(S="(?: "+S+")",x=" "+x,T++),n=new RegExp("^(?:"+S+")",I)),y&&(n=new RegExp("^"+S+"$(?!\\s)",I)),w&&(s=C.lastIndex),o=e(f,F?n:C,x),F?o?(o.input=m(o.input,T),o[0]=m(o[0],T),o.index=C.lastIndex,C.lastIndex+=o[0].length):C.lastIndex=0:w&&o&&(C.lastIndex=C.global?o.index+o[0].length:s),y&&o&&o.length>1&&e(h,o[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o&&Q)for(o.groups=c=a(null),u=0;u<Q.length;u++)c[(v=Q[u])[0]]=o[v[1]];return o}),iE=d}function EE(){if(lE)return aE;lE=1,function(){if(oE)return Xb;oE=1;var A=TC(),t=bE();A({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})}();var A=uw(),t=Ry(),e=bE(),n=ow(),r=W_(),i=fy(),s=r("species"),o=RegExp.prototype;return aE=function(a,l,u,c){var h=r(a),f=!n(function(){var A={};return A[h]=function(){return 7},7!==""[a](A)}),d=f&&!n(function(){var A=!1,t=/a/;if("split"===a){var e={};e[s]=function(){return t},(t={constructor:e,flags:""})[h]=/./[h]}return t.exec=function(){return A=!0,null},t[h](""),!A});if(!f||!d||u){var p=/./[h],g=l(h,""[a],function(t,n,r,i,s){var a=n.exec;return a===e||a===o.exec?f&&!s?{done:!0,value:A(p,n,r,i)}:{done:!0,value:A(t,r,n,i)}:{done:!1}});t(String.prototype,a,g[0]),t(o,h,g[1])}c&&i(o[h],"sham",!0)}}function UE(){if(fE)return hE;fE=1;var A=function(){if(cE)return uE;cE=1;var A=A_(),t=tv(),e=Yb(),n=r_(),r=A("".charAt),i=A("".charCodeAt),s=A("".slice),o=function(A){return function(o,a){var l,u,c=e(n(o)),h=t(a),f=c.length;return h<0||h>=f?A?"":void 0:(l=i(c,h))<55296||l>56319||h+1===f||(u=i(c,h+1))<56320||u>57343?A?r(c,h):l:A?s(c,h,h+2):u-56320+(l-55296<<10)+65536}};return uE={codeAt:o(!1),charAt:o(!0)}}().charAt;return hE=function(t,e,n){return e+(n?A(t,e).length:1)},hE}function QE(){if(BE)return gE;BE=1;var A=uw(),t=j_(),e=l_(),n=function(){if(pE)return dE;pE=1;var A=zm(),t=ow(),e=A.RegExp,n=!t(function(){var A=!0;try{e(".","d")}catch(a){A=!1}var t={},n="",r=A?"dgimsy":"gimsy",i=function(A,e){Object.defineProperty(t,A,{get:function(){return n+=e,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in A&&(s.hasIndices="d"),s)i(o,s[o]);return Object.getOwnPropertyDescriptor(e.prototype,"flags").get.call(t)!==r||n!==r});return dE={correct:n}}(),r=jb(),i=RegExp.prototype;return gE=n.correct?function(A){return A.flags}:function(s){return n.correct||!e(i,s)||t(s,"flags")?s.flags:A(r,s)}}function FE(){if(wE)return mE;wE=1;var A=uw(),t=cy(),e=s_(),n=t_(),r=bE(),i=TypeError;return mE=function(s,o){var a=s.exec;if(e(a)){var l=A(a,s,o);return null!==l&&t(l),l}if("RegExp"===n(s))return A(r,s,o);throw new i("RegExp#exec called on incompatible receiver")}}!function(){if(_E)return qb;_E=1;var A=uw(),t=A_(),e=EE(),n=cy(),r=o_(),i=ev(),s=Yb(),o=r_(),a=B_(),l=UE(),u=QE(),c=FE(),h=t("".indexOf);e("match",function(t,e,f){return[function(e){var n=o(this),i=r(e)?a(e,t):void 0;return i?A(i,e,n):new RegExp(e)[t](s(n))},function(A){var t=n(this),r=s(A),o=f(e,t,r);if(o.done)return o.value;var a=s(u(t));if(-1===h(a,"g"))return c(t,r);var d=-1!==h(a,"u");t.lastIndex=0;for(var p,g=[],B=0;null!==(p=c(t,r));){var m=s(p[0]);g[B]=m,""===m&&(t.lastIndex=l(r,i(t.lastIndex),d)),B++}return 0===B?null:g}]})}();var IE,SE,TE,xE={};!function(){if(TE)return xE;TE=1;var A=kC(),t=uw(),e=A_(),n=EE(),r=ow(),i=cy(),s=s_(),o=o_(),a=tv(),l=ev(),u=Yb(),c=r_(),h=UE(),f=B_(),d=function(){if(SE)return IE;SE=1;var A=A_(),t=Y_(),e=Math.floor,n=A("".charAt),r=A("".replace),i=A("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;return IE=function(A,a,l,u,c,h){var f=l+A.length,d=u.length,p=o;return void 0!==c&&(c=t(c),p=s),r(h,p,function(t,r){var s;switch(n(r,0)){case"$":return"$";case"&":return A;case"`":return i(a,0,l);case"'":return i(a,f);case"<":s=c[i(r,1,-1)];break;default:var o=+r;if(0===o)return t;if(o>d){var h=e(o/10);return 0===h?t:h<=d?void 0===u[h-1]?n(r,1):u[h-1]+n(r,1):t}s=u[o-1]}return void 0===s?"":s})}}(),p=QE(),g=FE(),B=W_()("replace"),m=Math.max,w=Math.min,_=e([].concat),y=e([].push),v=e("".indexOf),C=e("".slice),b=function(A){return void 0===A?A:String(A)},E="$0"==="a".replace(/./,"$0"),U=!!/./[B]&&""===/./[B]("a","$0");n("replace",function(e,n,r){var E=U?"$":"$0";return[function(A,e){var r=c(this),i=o(A)?f(A,B):void 0;return i?t(i,A,r,e):t(n,u(r),A,e)},function(t,e){var o=i(this),c=u(t);if("string"==typeof e&&-1===v(e,E)&&-1===v(e,"$<")){var f=r(n,o,c,e);if(f.done)return f.value}var B=s(e);B||(e=u(e));var U,Q=u(p(o)),F=-1!==v(Q,"g");F&&(U=-1!==v(Q,"u"),o.lastIndex=0);for(var I,S=[];null!==(I=g(o,c))&&(y(S,I),F);){""===u(I[0])&&(o.lastIndex=h(c,l(o.lastIndex),U))}for(var T="",x=0,O=0;O<S.length;O++){for(var H,M=u((I=S[O])[0]),R=m(w(a(I.index),c.length),0),P=[],N=1;N<I.length;N++)y(P,b(I[N]));var L=I.groups;if(B){var D=_([M],P,R,c);void 0!==L&&y(D,L),H=u(A(e,void 0,D))}else H=d(M,c,R,P,L,e);R>=x&&(T+=C(c,x,R)+H,x=R+M.length)}return T+C(c,x)}]},!!r(function(){var A=/./;return A.exec=function(){var A=[];return A.groups={a:"7"},A},"7"!=="".replace(A,"$<a>")})||!E||U)}();var OE,HE,ME,RE,PE,NE,LE,DE,kE,VE,KE,GE,qE,XE,YE,jE,JE,WE,zE,ZE,$E,AU,tU,eU={};function nU(){if(RE)return ME;RE=1;var A=function(){if(HE)return OE;HE=1;var A=o_(),t=t_(),e=W_()("match");return OE=function(n){var r;return A(n)&&(void 0!==(r=n[e])?!!r:"RegExp"===t(n))}}(),t=TypeError;return ME=function(e){if(A(e))throw new t("The method doesn't accept regular expressions");return e}}function rU(){if(NE)return PE;NE=1;var A=W_()("match");return PE=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[A]=!1,"/./"[t](e)}catch(r){}}return!1}}function iU(){if(qE)return GE;qE=1;var A=j_(),t=s_(),e=Y_(),n=xy(),r=function(){if(KE)return VE;KE=1;var A=ow();return VE=!A(function(){function A(){}return A.prototype.constructor=null,Object.getPrototypeOf(new A)!==A.prototype})}(),i=n("IE_PROTO"),s=Object,o=s.prototype;return GE=r?s.getPrototypeOf:function(n){var r=e(n);if(A(r,i))return r[i];var a=r.constructor;return t(a)&&r instanceof a?a.prototype:r instanceof s?o:null}}function sU(){if(YE)return XE;YE=1;var A,t,e,n=ow(),r=s_(),i=o_(),s=CE(),o=iU(),a=Ry(),l=W_(),u=K_(),c=l("iterator"),h=!1;return[].keys&&("next"in(e=[].keys())?(t=o(o(e)))!==Object.prototype&&(A=t):h=!0),!i(A)||n(function(){var t={};return A[c].call(t)!==t})?A={}:u&&(A=s(A)),r(A[c])||a(A,c,function(){return this}),XE={IteratorPrototype:A,BUGGY_SAFARI_ITERATORS:h}}function oU(){if(zE)return WE;zE=1;var A=TC(),t=uw(),e=K_(),n=Sy(),r=s_(),i=function(){if(JE)return jE;JE=1;var A=sU().IteratorPrototype,t=CE(),e=$w(),n=RC(),r=yb(),i=function(){return this};return jE=function(s,o,a,l){var u=o+" Iterator";return s.prototype=t(A,{next:e(+!l,a)}),n(s,u,!1,!0),r[u]=i,s}}(),s=iU(),o=MC(),a=RC(),l=fy(),u=Ry(),c=W_(),h=yb(),f=sU(),d=n.PROPER,p=n.CONFIGURABLE,g=f.IteratorPrototype,B=f.BUGGY_SAFARI_ITERATORS,m=c("iterator"),w="keys",_="values",y="entries",v=function(){return this};return WE=function(n,c,f,C,b,E,U){i(f,c,C);var Q,F,I,S=function(A){if(A===b&&M)return M;if(!B&&A&&A in O)return O[A];switch(A){case w:case _:case y:return function(){return new f(this,A)}}return function(){return new f(this)}},T=c+" Iterator",x=!1,O=n.prototype,H=O[m]||O["@@iterator"]||b&&O[b],M=!B&&H||S(b),R="Array"===c&&O.entries||H;if(R&&(Q=s(R.call(new n)))!==Object.prototype&&Q.next&&(e||s(Q)===g||(o?o(Q,g):r(Q[m])||u(Q,m,v)),a(Q,T,!0,!0),e&&(h[T]=v)),d&&b===_&&H&&H.name!==_&&(!e&&p?l(O,"name",_):(x=!0,M=function(){return t(H,this)})),b)if(F={values:S(_),keys:E?M:S(w),entries:S(y)},U)for(I in F)(B||x||!(I in O))&&u(O,I,F[I]);else A({target:c,proto:!0,forced:B||x},F);return e&&!U||O[m]===M||u(O,m,M,{name:b}),h[c]=M,F}}function aU(){if(tU)return AU;tU=1;var A=i_(),t=function(){if(kE)return DE;kE=1;var A=W_(),t=CE(),e=hy().f,n=A("unscopables"),r=Array.prototype;return void 0===r[n]&&e(r,n,{configurable:!0,value:t(null)}),DE=function(A){r[n][A]=!0}}(),e=yb(),n=Hy(),r=hy().f,i=oU(),s=$E?ZE:($E=1,ZE=function(A,t){return{value:A,done:t}}),o=K_(),a=aw(),l="Array Iterator",u=n.set,c=n.getterFor(l);AU=i(Array,"Array",function(t,e){u(this,{type:l,target:A(t),index:0,kind:e})},function(){var A=c(this),t=A.target,e=A.index++;if(!t||e>=t.length)return A.target=null,s(void 0,!0);switch(A.kind){case"keys":return s(e,!1);case"values":return s(t[e],!1)}return s([e,t[e]],!1)},"values");var h=e.Arguments=e.Array;if(t("keys"),t("values"),t("entries"),!o&&a&&"values"!==h.name)try{r(h,"name",{value:"values"})}catch(f){}return AU}!function(){if(LE)return eU;LE=1;var A,t=TC(),e=VC(),n=ty().f,r=ev(),i=Yb(),s=nU(),o=r_(),a=rU(),l=K_(),u=e("".slice),c=Math.min,h=a("startsWith");t({target:"String",proto:!0,forced:!!(l||h||(A=n(String.prototype,"startsWith"),!A||A.writable))&&!h},{startsWith:function(A){var t=i(o(this));s(A);var e=r(c(arguments.length>1?arguments[1]:void 0,t.length)),n=i(A);return u(t,e,e+n.length)===n}})}(),aU();var lU,uU,cU,hU,fU,dU={};function pU(A){var t=function(A,t){if("object"!=Ci(A)||!A)return A;var e=A[Symbol.toPrimitive];if(void 0!==e){var n=e.call(A,t);if("object"!=Ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(A)}(A,"string");return"symbol"==Ci(t)?t:t+""}function gU(A,t,e){return(t=pU(t))in A?Object.defineProperty(A,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):A[t]=e,A}!function(){if(fU)return dU;fU=1;var A=zm(),t=uU?lU:(uU=1,lU={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),e=function(){if(hU)return cU;hU=1;var A=$_()("span").classList,t=A&&A.constructor&&A.constructor.prototype;return cU=t===Object.prototype?void 0:t}(),n=aU(),r=fy(),i=RC(),s=W_()("iterator"),o=n.values,a=function(A,e){if(A){if(A[s]!==o)try{r(A,s,o)}catch(l){A[s]=o}if(i(A,e,!0),t[e])for(var a in n)if(A[a]!==n[a])try{r(A,a,n[a])}catch(l){A[a]=n[a]}}};for(var l in t)a(A[l]&&A[l].prototype,l);a(e,"DOMTokenList")}();var BU,mU,wU,_U,yU,vU={};function CU(){if(_U)return wU;_U=1;var A=ow();return wU=function(t,e){var n=[][t];return!!n&&A(function(){n.call(null,e||function(){return 1},1)})}}!function(){if(yU)return vU;yU=1;var A=TC(),t=function(){if(mU)return BU;mU=1;var A=g_(),t=Y_(),e=e_(),n=nv(),r=TypeError,i="Reduce of empty array with no initial value",s=function(s){return function(o,a,l,u){var c=t(o),h=e(c),f=n(c);if(A(a),0===f&&l<2)throw new r(i);var d=s?f-1:0,p=s?-1:1;if(l<2)for(;;){if(d in h){u=h[d],d+=p;break}if(d+=p,s?d<0:f<=d)throw new r(i)}for(;s?d>=0:f>d;d+=p)d in h&&(u=a(u,h[d],d,c));return u}};return BU={left:s(!1),right:s(!0)}}().left,e=CU(),n=c_();A({target:"Array",proto:!0,forced:!OC()&&n>79&&n<83||!e("reduce")},{reduce:function(A){var e=arguments.length;return t(this,A,e,e>1?arguments[1]:void 0)}})}();var bU,EU={};!function(){if(bU)return EU;bU=1;var A,t=TC(),e=VC(),n=ty().f,r=ev(),i=Yb(),s=nU(),o=r_(),a=rU(),l=K_(),u=e("".slice),c=Math.min,h=a("endsWith");t({target:"String",proto:!0,forced:!!(l||h||(A=n(String.prototype,"endsWith"),!A||A.writable))&&!h},{endsWith:function(A){var t=i(o(this));s(A);var e=arguments.length>1?arguments[1]:void 0,n=t.length,a=void 0===e?n:c(r(e),n),l=i(A);return u(t,a-l.length,a)===l}})}();var UU,QU={};!function(){if(UU)return QU;UU=1;var A=uw(),t=A_(),e=EE(),n=cy(),r=o_(),i=r_(),s=DC(),o=UE(),a=ev(),l=Yb(),u=B_(),c=FE(),h=Jb(),f=ow(),d=h.UNSUPPORTED_Y,p=Math.min,g=t([].push),B=t("".slice),m=!f(function(){var A=/(?:)/,t=A.exec;A.exec=function(){return t.apply(this,arguments)};var e="ab".split(A);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}),w="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;e("split",function(t,e,h){var f="0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:A(e,this,t,n)}:e;return[function(e,n){var s=i(this),o=r(e)?u(e,t):void 0;return o?A(o,e,s,n):A(f,l(s),e,n)},function(A,t){var r=n(this),i=l(A);if(!w){var u=h(f,r,i,t,f!==e);if(u.done)return u.value}var m=s(r,RegExp),_=r.unicode,y=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(d?"g":"y"),v=new m(d?"^(?:"+r.source+")":r,y),C=void 0===t?4294967295:t>>>0;if(0===C)return[];if(0===i.length)return null===c(v,i)?[i]:[];for(var b=0,E=0,U=[];E<i.length;){v.lastIndex=d?0:E;var Q,F=c(v,d?B(i,E):i);if(null===F||(Q=p(a(v.lastIndex+(d?E:0)),i.length))===b)E=o(i,E,_);else{if(g(U,B(i,b,E)),U.length===C)return U;for(var I=1;I<=F.length-1;I++)if(g(U,F[I]),U.length===C)return U;E=b=Q}}return g(U,B(i,b)),U}]},w||!m,d)}();var FU,IU,SU={exports:{}},TU={exports:{}},xU=TU.exports;var OU=function(){if(IU)return SU.exports;IU=1;for(var A=(FU||(FU=1,function(){var A,t,e,n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?TU.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(TU.exports=function(){return(A()-r)/1e6},t=process.hrtime,n=(A=function(){var A;return 1e9*(A=t())[0]+A[1]})(),i=1e9*process.uptime(),r=n-i):Date.now?(TU.exports=function(){return Date.now()-e},e=Date.now()):(TU.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}.call(xU)),TU.exports),t="undefined"==typeof window?e:window,n=["moz","webkit"],r="AnimationFrame",i=t["request"+r],s=t["cancel"+r]||t["cancelRequest"+r],o=0;!i&&o<n.length;o++)i=t[n[o]+"Request"+r],s=t[n[o]+"Cancel"+r]||t[n[o]+"CancelRequest"+r];if(!i||!s){var a=0,l=0,u=[],c=1e3/60;i=function(t){if(0===u.length){var e=A(),n=Math.max(0,c-(e-a));a=n+e,setTimeout(function(){var A=u.slice(0);u.length=0;for(var t=0;t<A.length;t++)if(!A[t].cancelled)try{A[t].callback(a)}catch(GI){setTimeout(function(){throw GI},0)}},Math.round(n))}return u.push({handle:++l,callback:t,cancelled:!1}),l},s=function(A){for(var t=0;t<u.length;t++)u[t].handle===A&&(u[t].cancelled=!0)}}return SU.exports=function(A){return i.call(t,A)},SU.exports.cancel=function(){s.apply(t,arguments)},SU.exports.polyfill=function(A){A||(A=t),A.requestAnimationFrame=i,A.cancelAnimationFrame=s},SU.exports}();const HU=n(OU);var MU,RU,PU,NU,LU,DU,kU,VU,KU,GU={};function qU(){return RU?MU:(RU=1,MU="\t\n\v\f\r \u2028\u2029\ufeff")}!function(){if(kU)return GU;kU=1;var A=TC(),t=function(){if(NU)return PU;NU=1;var A=A_(),t=r_(),e=Yb(),n=qU(),r=A("".replace),i=RegExp("^["+n+"]+"),s=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(A){return function(n){var o=e(t(n));return 1&A&&(o=r(o,i,"")),2&A&&(o=r(o,s,"$1")),o}};return PU={start:o(1),end:o(2),trim:o(3)}}().trim;A({target:"String",proto:!0,forced:function(){if(DU)return LU;DU=1;var A=Sy().PROPER,t=ow(),e=qU();return LU=function(n){return t(function(){return!!e[n]()||""!==""[n]()||A&&e[n].name!==n})}}()("trim")},{trim:function(){return t(this)}})}();const XU=n(KU?VU:(KU=1,VU=function(A){this.ok=!1,this.alpha=1,"#"==A.charAt(0)&&(A=A.substr(1,6)),A=(A=A.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};A=t[A]||A;for(var e=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3]),parseFloat(A[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,i=e[n].process,s=r.exec(A);if(s){var o=i(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var A=this.r.toString(16),t=this.g.toString(16),e=this.b.toString(16);return 1==A.length&&(A="0"+A),1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),"#"+A+t+e},this.getHelpXML=function(){for(var A=new Array,n=0;n<e.length;n++)for(var r=e[n].example,i=0;i<r.length;i++)A[A.length]=r[i];for(var s in t)A[A.length]=s;var o=document.createElement("ul");for(o.setAttribute("id","rgbcolor-examples"),n=0;n<A.length;n++)try{var a=document.createElement("li"),l=new RGBColor(A[n]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),u.appendChild(document.createTextNode("test"));var c=document.createTextNode(" "+A[n]+" -> "+l.toRGB()+" -> "+l.toHex());a.appendChild(u),a.appendChild(c),o.appendChild(a)}catch(GI){}return o}}));var YU,jU={};!function(){if(YU)return jU;YU=1;var A=TC(),t=VC(),e=rv().indexOf,n=CU(),r=t([].indexOf),i=!!r&&1/r([1],1,-0)<0;A({target:"Array",proto:!0,forced:i||!n("indexOf")},{indexOf:function(A){var t=arguments.length>1?arguments[1]:void 0;return i?r(this,A,t)||0:e(this,A,t)}})}();var JU,WU={};!function(){if(JU)return WU;JU=1;var A=TC(),t=A_(),e=nU(),n=r_(),r=Yb(),i=rU(),s=t("".indexOf);A({target:"String",proto:!0,forced:!i("includes")},{includes:function(A){return!!~s(r(n(this)),r(e(A)),arguments.length>1?arguments[1]:void 0)}})}();var zU,ZU,$U,AQ={};!function(){if($U)return AQ;$U=1;var A=TC(),t=A_(),e=function(){if(ZU)return zU;ZU=1;var A=t_();return zU=Array.isArray||function(t){return"Array"===A(t)}}(),n=t([].reverse),r=[1,2];A({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return e(this)&&(this.length=this.length),n(this)}})}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var tQ=function(A,t){return(tQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,t){A.__proto__=t}||function(A,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(A[e]=t[e])})(A,t)};function eQ(A,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=A}tQ(A,t),A.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function nQ(A,t){var e=A[0],n=A[1];return[e*Math.cos(t)-n*Math.sin(t),e*Math.sin(t)+n*Math.cos(t)]}function rQ(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];for(var e=0;e<A.length;e++)if("number"!=typeof A[e])throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof A[e]+" == typeof "+A[e]);return!0}var iQ=Math.PI;function sQ(A,t,e){A.lArcFlag=0===A.lArcFlag?0:1,A.sweepFlag=0===A.sweepFlag?0:1;var n=A.rX,r=A.rY,i=A.x,s=A.y;n=Math.abs(A.rX),r=Math.abs(A.rY);var o=nQ([(t-i)/2,(e-s)/2],-A.xRot/180*iQ),a=o[0],l=o[1],u=Math.pow(a,2)/Math.pow(n,2)+Math.pow(l,2)/Math.pow(r,2);1<u&&(n*=Math.sqrt(u),r*=Math.sqrt(u)),A.rX=n,A.rY=r;var c=Math.pow(n,2)*Math.pow(l,2)+Math.pow(r,2)*Math.pow(a,2),h=(A.lArcFlag!==A.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(r,2)-c)/c)),f=n*l/r*h,d=-r*a/n*h,p=nQ([f,d],A.xRot/180*iQ);A.cX=p[0]+(t+i)/2,A.cY=p[1]+(e+s)/2,A.phi1=Math.atan2((l-d)/r,(a-f)/n),A.phi2=Math.atan2((-l-d)/r,(-a-f)/n),0===A.sweepFlag&&A.phi2>A.phi1&&(A.phi2-=2*iQ),1===A.sweepFlag&&A.phi2<A.phi1&&(A.phi2+=2*iQ),A.phi1*=180/iQ,A.phi2*=180/iQ}function oQ(A,t,e){rQ(A,t,e);var n=A*A+t*t-e*e;if(0>n)return[];if(0===n)return[[A*e/(A*A+t*t),t*e/(A*A+t*t)]];var r=Math.sqrt(n);return[[(A*e+t*r)/(A*A+t*t),(t*e-A*r)/(A*A+t*t)],[(A*e-t*r)/(A*A+t*t),(t*e+A*r)/(A*A+t*t)]]}var aQ,lQ=Math.PI/180;function uQ(A,t,e){return(1-e)*A+e*t}function cQ(A,t,e,n){return A+Math.cos(n/180*iQ)*t+Math.sin(n/180*iQ)*e}function hQ(A,t,e,n){var r=1e-6,i=t-A,s=e-t,o=3*i+3*(n-e)-6*s,a=6*(s-i),l=3*i;return Math.abs(o)<r?[-l/a]:function(A,t,e){var n=A*A/4-t;if(n<-e)return[];if(n<=e)return[-A/2];var r=Math.sqrt(n);return[-A/2-r,-A/2+r]}(a/o,l/o,r)}function fQ(A,t,e,n,r){var i=1-r;return A*(i*i*i)+t*(3*i*i*r)+e*(3*i*r*r)+n*(r*r*r)}!function(A){function t(){return r(function(A,t,e){return A.relative&&(void 0!==A.x1&&(A.x1+=t),void 0!==A.y1&&(A.y1+=e),void 0!==A.x2&&(A.x2+=t),void 0!==A.y2&&(A.y2+=e),void 0!==A.x&&(A.x+=t),void 0!==A.y&&(A.y+=e),A.relative=!1),A})}function e(){var A=NaN,t=NaN,e=NaN,n=NaN;return r(function(r,i,s){return r.type&_Q.SMOOTH_CURVE_TO&&(r.type=_Q.CURVE_TO,A=isNaN(A)?i:A,t=isNaN(t)?s:t,r.x1=r.relative?i-A:2*i-A,r.y1=r.relative?s-t:2*s-t),r.type&_Q.CURVE_TO?(A=r.relative?i+r.x2:r.x2,t=r.relative?s+r.y2:r.y2):(A=NaN,t=NaN),r.type&_Q.SMOOTH_QUAD_TO&&(r.type=_Q.QUAD_TO,e=isNaN(e)?i:e,n=isNaN(n)?s:n,r.x1=r.relative?i-e:2*i-e,r.y1=r.relative?s-n:2*s-n),r.type&_Q.QUAD_TO?(e=r.relative?i+r.x1:r.x1,n=r.relative?s+r.y1:r.y1):(e=NaN,n=NaN),r})}function n(){var A=NaN,t=NaN;return r(function(e,n,r){if(e.type&_Q.SMOOTH_QUAD_TO&&(e.type=_Q.QUAD_TO,A=isNaN(A)?n:A,t=isNaN(t)?r:t,e.x1=e.relative?n-A:2*n-A,e.y1=e.relative?r-t:2*r-t),e.type&_Q.QUAD_TO){A=e.relative?n+e.x1:e.x1,t=e.relative?r+e.y1:e.y1;var i=e.x1,s=e.y1;e.type=_Q.CURVE_TO,e.x1=((e.relative?0:n)+2*i)/3,e.y1=((e.relative?0:r)+2*s)/3,e.x2=(e.x+2*i)/3,e.y2=(e.y+2*s)/3}else A=NaN,t=NaN;return e})}function r(A){var t=0,e=0,n=NaN,r=NaN;return function(i){if(isNaN(n)&&!(i.type&_Q.MOVE_TO))throw new Error("path must start with moveto");var s=A(i,t,e,n,r);return i.type&_Q.CLOSE_PATH&&(t=n,e=r),void 0!==i.x&&(t=i.relative?t+i.x:i.x),void 0!==i.y&&(e=i.relative?e+i.y:i.y),i.type&_Q.MOVE_TO&&(n=t,r=e),s}}function i(A,t,e,n,i,s){return rQ(A,t,e,n,i,s),r(function(r,o,a,l){var u=r.x1,c=r.x2,h=r.relative&&!isNaN(l),f=void 0!==r.x?r.x:h?0:o,d=void 0!==r.y?r.y:h?0:a;function p(A){return A*A}r.type&_Q.HORIZ_LINE_TO&&0!==t&&(r.type=_Q.LINE_TO,r.y=r.relative?0:a),r.type&_Q.VERT_LINE_TO&&0!==e&&(r.type=_Q.LINE_TO,r.x=r.relative?0:o),void 0!==r.x&&(r.x=r.x*A+d*e+(h?0:i)),void 0!==r.y&&(r.y=f*t+r.y*n+(h?0:s)),void 0!==r.x1&&(r.x1=r.x1*A+r.y1*e+(h?0:i)),void 0!==r.y1&&(r.y1=u*t+r.y1*n+(h?0:s)),void 0!==r.x2&&(r.x2=r.x2*A+r.y2*e+(h?0:i)),void 0!==r.y2&&(r.y2=c*t+r.y2*n+(h?0:s));var g=A*n-t*e;if(void 0!==r.xRot&&(1!==A||0!==t||0!==e||1!==n))if(0===g)delete r.rX,delete r.rY,delete r.xRot,delete r.lArcFlag,delete r.sweepFlag,r.type=_Q.LINE_TO;else{var B=r.xRot*Math.PI/180,m=Math.sin(B),w=Math.cos(B),_=1/p(r.rX),y=1/p(r.rY),v=p(w)*_+p(m)*y,C=2*m*w*(_-y),b=p(m)*_+p(w)*y,E=v*n*n-C*t*n+b*t*t,U=C*(A*n+t*e)-2*(v*e*n+b*A*t),Q=v*e*e-C*A*e+b*A*A,F=(Math.atan2(U,E-Q)+Math.PI)%Math.PI/2,I=Math.sin(F),S=Math.cos(F);r.rX=Math.abs(g)/Math.sqrt(E*p(S)+U*I*S+Q*p(I)),r.rY=Math.abs(g)/Math.sqrt(E*p(I)-U*I*S+Q*p(S)),r.xRot=180*F/Math.PI}return void 0!==r.sweepFlag&&0>g&&(r.sweepFlag=+!r.sweepFlag),r})}A.ROUND=function(A){function t(t){return Math.round(t*A)/A}return void 0===A&&(A=1e13),rQ(A),function(A){return void 0!==A.x1&&(A.x1=t(A.x1)),void 0!==A.y1&&(A.y1=t(A.y1)),void 0!==A.x2&&(A.x2=t(A.x2)),void 0!==A.y2&&(A.y2=t(A.y2)),void 0!==A.x&&(A.x=t(A.x)),void 0!==A.y&&(A.y=t(A.y)),void 0!==A.rX&&(A.rX=t(A.rX)),void 0!==A.rY&&(A.rY=t(A.rY)),A}},A.TO_ABS=t,A.TO_REL=function(){return r(function(A,t,e){return A.relative||(void 0!==A.x1&&(A.x1-=t),void 0!==A.y1&&(A.y1-=e),void 0!==A.x2&&(A.x2-=t),void 0!==A.y2&&(A.y2-=e),void 0!==A.x&&(A.x-=t),void 0!==A.y&&(A.y-=e),A.relative=!0),A})},A.NORMALIZE_HVZ=function(A,t,e){return void 0===A&&(A=!0),void 0===t&&(t=!0),void 0===e&&(e=!0),r(function(n,r,i,s,o){if(isNaN(s)&&!(n.type&_Q.MOVE_TO))throw new Error("path must start with moveto");return t&&n.type&_Q.HORIZ_LINE_TO&&(n.type=_Q.LINE_TO,n.y=n.relative?0:i),e&&n.type&_Q.VERT_LINE_TO&&(n.type=_Q.LINE_TO,n.x=n.relative?0:r),A&&n.type&_Q.CLOSE_PATH&&(n.type=_Q.LINE_TO,n.x=n.relative?s-r:s,n.y=n.relative?o-i:o),n.type&_Q.ARC&&(0===n.rX||0===n.rY)&&(n.type=_Q.LINE_TO,delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag),n})},A.NORMALIZE_ST=e,A.QT_TO_C=n,A.INFO=r,A.SANITIZE=function(A){void 0===A&&(A=0),rQ(A);var t=NaN,e=NaN,n=NaN,i=NaN;return r(function(r,s,o,a,l){var u=Math.abs,c=!1,h=0,f=0;if(r.type&_Q.SMOOTH_CURVE_TO&&(h=isNaN(t)?0:s-t,f=isNaN(e)?0:o-e),r.type&(_Q.CURVE_TO|_Q.SMOOTH_CURVE_TO)?(t=r.relative?s+r.x2:r.x2,e=r.relative?o+r.y2:r.y2):(t=NaN,e=NaN),r.type&_Q.SMOOTH_QUAD_TO?(n=isNaN(n)?s:2*s-n,i=isNaN(i)?o:2*o-i):r.type&_Q.QUAD_TO?(n=r.relative?s+r.x1:r.x1,i=r.relative?o+r.y1:r.y2):(n=NaN,i=NaN),r.type&_Q.LINE_COMMANDS||r.type&_Q.ARC&&(0===r.rX||0===r.rY||!r.lArcFlag)||r.type&_Q.CURVE_TO||r.type&_Q.SMOOTH_CURVE_TO||r.type&_Q.QUAD_TO||r.type&_Q.SMOOTH_QUAD_TO){var d=void 0===r.x?0:r.relative?r.x:r.x-s,p=void 0===r.y?0:r.relative?r.y:r.y-o;h=isNaN(n)?void 0===r.x1?h:r.relative?r.x:r.x1-s:n-s,f=isNaN(i)?void 0===r.y1?f:r.relative?r.y:r.y1-o:i-o;var g=void 0===r.x2?0:r.relative?r.x:r.x2-s,B=void 0===r.y2?0:r.relative?r.y:r.y2-o;u(d)<=A&&u(p)<=A&&u(h)<=A&&u(f)<=A&&u(g)<=A&&u(B)<=A&&(c=!0)}return r.type&_Q.CLOSE_PATH&&u(s-a)<=A&&u(o-l)<=A&&(c=!0),c?[]:r})},A.MATRIX=i,A.ROTATE=function(A,t,e){void 0===t&&(t=0),void 0===e&&(e=0),rQ(A,t,e);var n=Math.sin(A),r=Math.cos(A);return i(r,n,-n,r,t-t*r+e*n,e-t*n-e*r)},A.TRANSLATE=function(A,t){return void 0===t&&(t=0),rQ(A,t),i(1,0,0,1,A,t)},A.SCALE=function(A,t){return void 0===t&&(t=A),rQ(A,t),i(A,0,0,t,0,0)},A.SKEW_X=function(A){return rQ(A),i(1,0,Math.atan(A),1,0,0)},A.SKEW_Y=function(A){return rQ(A),i(1,Math.atan(A),0,1,0,0)},A.X_AXIS_SYMMETRY=function(A){return void 0===A&&(A=0),rQ(A),i(-1,0,0,1,A,0)},A.Y_AXIS_SYMMETRY=function(A){return void 0===A&&(A=0),rQ(A),i(1,0,0,-1,0,A)},A.A_TO_C=function(){return r(function(A,t,e){return _Q.ARC===A.type?function(A,t,e){var n,r,i,s;A.cX||sQ(A,t,e);for(var o=Math.min(A.phi1,A.phi2),a=Math.max(A.phi1,A.phi2)-o,l=Math.ceil(a/90),u=new Array(l),c=t,h=e,f=0;f<l;f++){var d=uQ(A.phi1,A.phi2,f/l),p=uQ(A.phi1,A.phi2,(f+1)/l),g=p-d,B=4/3*Math.tan(g*lQ/4),m=[Math.cos(d*lQ)-B*Math.sin(d*lQ),Math.sin(d*lQ)+B*Math.cos(d*lQ)],w=m[0],_=m[1],y=[Math.cos(p*lQ),Math.sin(p*lQ)],v=y[0],C=y[1],b=[v+B*Math.sin(p*lQ),C-B*Math.cos(p*lQ)],E=b[0],U=b[1];u[f]={relative:A.relative,type:_Q.CURVE_TO};var Q=function(t,e){var n=nQ([t*A.rX,e*A.rY],A.xRot),r=n[0],i=n[1];return[A.cX+r,A.cY+i]};n=Q(w,_),u[f].x1=n[0],u[f].y1=n[1],r=Q(E,U),u[f].x2=r[0],u[f].y2=r[1],i=Q(v,C),u[f].x=i[0],u[f].y=i[1],A.relative&&(u[f].x1-=c,u[f].y1-=h,u[f].x2-=c,u[f].y2-=h,u[f].x-=c,u[f].y-=h),c=(s=[u[f].x,u[f].y])[0],h=s[1]}return u}(A,A.relative?0:t,A.relative?0:e):A})},A.ANNOTATE_ARCS=function(){return r(function(A,t,e){return A.relative&&(t=0,e=0),_Q.ARC===A.type&&sQ(A,t,e),A})},A.CLONE=function(){return function(A){var t={};for(var e in A)t[e]=A[e];return t}},A.CALCULATE_BOUNDS=function(){var A=t(),i=n(),s=e(),o=r(function(t,e,n){var r=s(i(A(function(A){var t={};for(var e in A)t[e]=A[e];return t}(t))));function a(A){A>o.maxX&&(o.maxX=A),A<o.minX&&(o.minX=A)}function l(A){A>o.maxY&&(o.maxY=A),A<o.minY&&(o.minY=A)}if(r.type&_Q.DRAWING_COMMANDS&&(a(e),l(n)),r.type&_Q.HORIZ_LINE_TO&&a(r.x),r.type&_Q.VERT_LINE_TO&&l(r.y),r.type&_Q.LINE_TO&&(a(r.x),l(r.y)),r.type&_Q.CURVE_TO){a(r.x),l(r.y);for(var u=0,c=hQ(e,r.x1,r.x2,r.x);u<c.length;u++)0<(Q=c[u])&&1>Q&&a(fQ(e,r.x1,r.x2,r.x,Q));for(var h=0,f=hQ(n,r.y1,r.y2,r.y);h<f.length;h++)0<(Q=f[h])&&1>Q&&l(fQ(n,r.y1,r.y2,r.y,Q))}if(r.type&_Q.ARC){a(r.x),l(r.y),sQ(r,e,n);for(var d=r.xRot/180*Math.PI,p=Math.cos(d)*r.rX,g=Math.sin(d)*r.rX,B=-Math.sin(d)*r.rY,m=Math.cos(d)*r.rY,w=r.phi1<r.phi2?[r.phi1,r.phi2]:-180>r.phi2?[r.phi2+360,r.phi1+360]:[r.phi2,r.phi1],_=w[0],y=w[1],v=function(A){var t=A[0],e=A[1],n=180*Math.atan2(e,t)/Math.PI;return n<_?n+360:n},C=0,b=oQ(B,-p,0).map(v);C<b.length;C++)(Q=b[C])>_&&Q<y&&a(cQ(r.cX,p,B,Q));for(var E=0,U=oQ(m,-g,0).map(v);E<U.length;E++){var Q;(Q=U[E])>_&&Q<y&&l(cQ(r.cY,g,m,Q))}}return t});return o.minX=1/0,o.maxX=-1/0,o.minY=1/0,o.maxY=-1/0,o}}(aQ||(aQ={}));var dQ,pQ,gQ=function(){function A(){}return A.prototype.round=function(A){return this.transform(aQ.ROUND(A))},A.prototype.toAbs=function(){return this.transform(aQ.TO_ABS())},A.prototype.toRel=function(){return this.transform(aQ.TO_REL())},A.prototype.normalizeHVZ=function(A,t,e){return this.transform(aQ.NORMALIZE_HVZ(A,t,e))},A.prototype.normalizeST=function(){return this.transform(aQ.NORMALIZE_ST())},A.prototype.qtToC=function(){return this.transform(aQ.QT_TO_C())},A.prototype.aToC=function(){return this.transform(aQ.A_TO_C())},A.prototype.sanitize=function(A){return this.transform(aQ.SANITIZE(A))},A.prototype.translate=function(A,t){return this.transform(aQ.TRANSLATE(A,t))},A.prototype.scale=function(A,t){return this.transform(aQ.SCALE(A,t))},A.prototype.rotate=function(A,t,e){return this.transform(aQ.ROTATE(A,t,e))},A.prototype.matrix=function(A,t,e,n,r,i){return this.transform(aQ.MATRIX(A,t,e,n,r,i))},A.prototype.skewX=function(A){return this.transform(aQ.SKEW_X(A))},A.prototype.skewY=function(A){return this.transform(aQ.SKEW_Y(A))},A.prototype.xSymmetry=function(A){return this.transform(aQ.X_AXIS_SYMMETRY(A))},A.prototype.ySymmetry=function(A){return this.transform(aQ.Y_AXIS_SYMMETRY(A))},A.prototype.annotateArcs=function(){return this.transform(aQ.ANNOTATE_ARCS())},A}(),BQ=function(A){return" "===A||"\t"===A||"\r"===A||"\n"===A},mQ=function(A){return"0".charCodeAt(0)<=A.charCodeAt(0)&&A.charCodeAt(0)<="9".charCodeAt(0)},wQ=function(A){function t(){var t=A.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return eQ(t,A),t.prototype.finish=function(A){if(void 0===A&&(A=[]),this.parse(" ",A),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return A},t.prototype.parse=function(A,t){var e=this;void 0===t&&(t=[]);for(var n=function(A){t.push(A),e.curArgs.length=0,e.canParseCommandOrComma=!0},r=0;r<A.length;r++){var i=A[r],s=!(this.curCommandType!==_Q.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),o=mQ(i)&&("0"===this.curNumber&&"0"===i||s);if(!mQ(i)||o)if("e"!==i&&"E"!==i)if("-"!==i&&"+"!==i||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==i||this.curNumberHasExp||this.curNumberHasDecimal||s){if(this.curNumber&&-1!==this.curCommandType){var a=Number(this.curNumber);if(isNaN(a))throw new SyntaxError("Invalid number ending at "+r);if(this.curCommandType===_Q.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>a)throw new SyntaxError('Expected positive number, got "'+a+'" at index "'+r+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+r+'"');this.curArgs.push(a),this.curArgs.length===yQ[this.curCommandType]&&(_Q.HORIZ_LINE_TO===this.curCommandType?n({type:_Q.HORIZ_LINE_TO,relative:this.curCommandRelative,x:a}):_Q.VERT_LINE_TO===this.curCommandType?n({type:_Q.VERT_LINE_TO,relative:this.curCommandRelative,y:a}):this.curCommandType===_Q.MOVE_TO||this.curCommandType===_Q.LINE_TO||this.curCommandType===_Q.SMOOTH_QUAD_TO?(n({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),_Q.MOVE_TO===this.curCommandType&&(this.curCommandType=_Q.LINE_TO)):this.curCommandType===_Q.CURVE_TO?n({type:_Q.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===_Q.SMOOTH_CURVE_TO?n({type:_Q.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_Q.QUAD_TO?n({type:_Q.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_Q.ARC&&n({type:_Q.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!BQ(i))if(","===i&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==i&&"-"!==i&&"."!==i)if(o)this.curNumber=i,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+r+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+i+'" at index '+r+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==i&&"Z"!==i)if("h"===i||"H"===i)this.curCommandType=_Q.HORIZ_LINE_TO,this.curCommandRelative="h"===i;else if("v"===i||"V"===i)this.curCommandType=_Q.VERT_LINE_TO,this.curCommandRelative="v"===i;else if("m"===i||"M"===i)this.curCommandType=_Q.MOVE_TO,this.curCommandRelative="m"===i;else if("l"===i||"L"===i)this.curCommandType=_Q.LINE_TO,this.curCommandRelative="l"===i;else if("c"===i||"C"===i)this.curCommandType=_Q.CURVE_TO,this.curCommandRelative="c"===i;else if("s"===i||"S"===i)this.curCommandType=_Q.SMOOTH_CURVE_TO,this.curCommandRelative="s"===i;else if("q"===i||"Q"===i)this.curCommandType=_Q.QUAD_TO,this.curCommandRelative="q"===i;else if("t"===i||"T"===i)this.curCommandType=_Q.SMOOTH_QUAD_TO,this.curCommandRelative="t"===i;else{if("a"!==i&&"A"!==i)throw new SyntaxError('Unexpected character "'+i+'" at index '+r+".");this.curCommandType=_Q.ARC,this.curCommandRelative="a"===i}else t.push({type:_Q.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=i,this.curNumberHasDecimal="."===i}else this.curNumber+=i,this.curNumberHasDecimal=!0;else this.curNumber+=i;else this.curNumber+=i,this.curNumberHasExp=!0;else this.curNumber+=i,this.curNumberHasExpDigits=this.curNumberHasExp}return t},t.prototype.transform=function(A){return Object.create(this,{parse:{value:function(t,e){void 0===e&&(e=[]);for(var n=0,r=Object.getPrototypeOf(this).parse.call(this,t);n<r.length;n++){var i=r[n],s=A(i);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}}})},t}(gQ),_Q=function(A){function t(e){var n=A.call(this)||this;return n.commands="string"==typeof e?t.parse(e):e,n}return eQ(t,A),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var A=aQ.CALCULATE_BOUNDS();return this.transform(A),A},t.prototype.transform=function(A){for(var t=[],e=0,n=this.commands;e<n.length;e++){var r=A(n[e]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return this.commands=t,this},t.encode=function(A){return function(A){var t="";Array.isArray(A)||(A=[A]);for(var e=0;e<A.length;e++){var n=A[e];if(n.type===_Q.CLOSE_PATH)t+="z";else if(n.type===_Q.HORIZ_LINE_TO)t+=(n.relative?"h":"H")+n.x;else if(n.type===_Q.VERT_LINE_TO)t+=(n.relative?"v":"V")+n.y;else if(n.type===_Q.MOVE_TO)t+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===_Q.LINE_TO)t+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===_Q.CURVE_TO)t+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===_Q.SMOOTH_CURVE_TO)t+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===_Q.QUAD_TO)t+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===_Q.SMOOTH_QUAD_TO)t+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==_Q.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+e+".");t+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return t}(A)},t.parse=function(A){var t=new wQ,e=[];return t.parse(A,e),t.finish(e),e},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(gQ),yQ=((dQ={})[_Q.MOVE_TO]=2,dQ[_Q.LINE_TO]=2,dQ[_Q.HORIZ_LINE_TO]=1,dQ[_Q.VERT_LINE_TO]=1,dQ[_Q.CLOSE_PATH]=0,dQ[_Q.QUAD_TO]=4,dQ[_Q.SMOOTH_QUAD_TO]=2,dQ[_Q.CURVE_TO]=6,dQ[_Q.SMOOTH_CURVE_TO]=4,dQ[_Q.ARC]=7,dQ),vQ={};function CQ(A){return(CQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}!function(){if(pQ)return vQ;pQ=1;var A=Sy().PROPER,t=Ry(),e=cy(),n=Yb(),r=ow(),i=QE(),s="toString",o=RegExp.prototype,a=o[s],l=r(function(){return"/a/b"!==a.call({source:"a",flags:"b"})}),u=A&&a.name!==s;(l||u)&&t(o,s,function(){var A=e(this);return"/"+n(A.source)+"/"+n(i(A))},{unsafe:!0})}();var bQ=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],UQ=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function QQ(A,t,e,n,r,i){if(!(isNaN(i)||i<1)){i|=0;var s=function(A,t,e,n,r){if("string"==typeof A&&(A=document.getElementById(A)),!A||"object"!==CQ(A)||!("getContext"in A))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=A.getContext("2d");try{return i.getImageData(t,e,n,r)}catch(GI){throw new Error("unable to access image data: "+GI)}}(A,t,e,n,r);s=function(A,t,e,n,r,i){for(var s,o=A.data,a=2*i+1,l=n-1,u=r-1,c=i+1,h=c*(c+1)/2,f=new FQ,d=f,p=1;p<a;p++)d=d.next=new FQ,p===c&&(s=d);d.next=f;for(var g=null,B=null,m=0,w=0,_=bQ[i],y=UQ[i],v=0;v<r;v++){d=f;for(var C=o[w],b=o[w+1],E=o[w+2],U=o[w+3],Q=0;Q<c;Q++)d.r=C,d.g=b,d.b=E,d.a=U,d=d.next;for(var F=0,I=0,S=0,T=0,x=c*C,O=c*b,H=c*E,M=c*U,R=h*C,P=h*b,N=h*E,L=h*U,D=1;D<c;D++){var k=w+((l<D?l:D)<<2),V=o[k],K=o[k+1],G=o[k+2],q=o[k+3],X=c-D;R+=(d.r=V)*X,P+=(d.g=K)*X,N+=(d.b=G)*X,L+=(d.a=q)*X,F+=V,I+=K,S+=G,T+=q,d=d.next}g=f,B=s;for(var Y=0;Y<n;Y++){var j=L*_>>>y;if(o[w+3]=j,0!==j){var J=255/j;o[w]=(R*_>>>y)*J,o[w+1]=(P*_>>>y)*J,o[w+2]=(N*_>>>y)*J}else o[w]=o[w+1]=o[w+2]=0;R-=x,P-=O,N-=H,L-=M,x-=g.r,O-=g.g,H-=g.b,M-=g.a;var W=Y+i+1;W=m+(W<l?W:l)<<2,R+=F+=g.r=o[W],P+=I+=g.g=o[W+1],N+=S+=g.b=o[W+2],L+=T+=g.a=o[W+3],g=g.next;var z=B,Z=z.r,$=z.g,AA=z.b,tA=z.a;x+=Z,O+=$,H+=AA,M+=tA,F-=Z,I-=$,S-=AA,T-=tA,B=B.next,w+=4}m+=n}for(var eA=0;eA<n;eA++){var nA=o[w=eA<<2],rA=o[w+1],iA=o[w+2],sA=o[w+3],oA=c*nA,aA=c*rA,lA=c*iA,uA=c*sA,cA=h*nA,hA=h*rA,fA=h*iA,dA=h*sA;d=f;for(var pA=0;pA<c;pA++)d.r=nA,d.g=rA,d.b=iA,d.a=sA,d=d.next;for(var gA=n,BA=0,mA=0,wA=0,_A=0,yA=1;yA<=i;yA++){w=gA+eA<<2;var vA=c-yA;cA+=(d.r=nA=o[w])*vA,hA+=(d.g=rA=o[w+1])*vA,fA+=(d.b=iA=o[w+2])*vA,dA+=(d.a=sA=o[w+3])*vA,_A+=nA,BA+=rA,mA+=iA,wA+=sA,d=d.next,yA<u&&(gA+=n)}w=eA,g=f,B=s;for(var CA=0;CA<r;CA++){var bA=w<<2;o[bA+3]=sA=dA*_>>>y,sA>0?(sA=255/sA,o[bA]=(cA*_>>>y)*sA,o[bA+1]=(hA*_>>>y)*sA,o[bA+2]=(fA*_>>>y)*sA):o[bA]=o[bA+1]=o[bA+2]=0,cA-=oA,hA-=aA,fA-=lA,dA-=uA,oA-=g.r,aA-=g.g,lA-=g.b,uA-=g.a,bA=eA+((bA=CA+c)<u?bA:u)*n<<2,cA+=_A+=g.r=o[bA],hA+=BA+=g.g=o[bA+1],fA+=mA+=g.b=o[bA+2],dA+=wA+=g.a=o[bA+3],g=g.next,oA+=nA=B.r,aA+=rA=B.g,lA+=iA=B.b,uA+=sA=B.a,_A-=nA,BA-=rA,mA-=iA,wA-=sA,B=B.next,w+=n}}return A}(s,0,0,n,r,i),A.getContext("2d").putImageData(s,t,e)}}var FQ=function A(){!function(A,t){if(!(A instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var IQ=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:A}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:A,createCanvas:(A,t)=>new OffscreenCanvas(A,t),createImage:A=>Nb(function*(){var t=yield fetch(A),e=yield t.blob();return yield createImageBitmap(e)})()};return"undefined"==typeof DOMParser&&void 0!==A||Reflect.deleteProperty(t,"DOMParser"),t},node:function(A){var{DOMParser:t,canvas:e,fetch:n}=A;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,fetch:n,createCanvas:e.createCanvas,createImage:e.loadImage}}});function SQ(A){return A.replace(/(?!\u3000)\s+/gm," ")}function TQ(A){return A.replace(/^[\n \t]+/,"")}function xQ(A){return A.replace(/[\n \t]+$/,"")}function OQ(A){return((A||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var HQ=/^[A-Z-]+$/;function MQ(A){return HQ.test(A)?A.toLowerCase():A}function RQ(A){var t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(A)||[];return t[2]||t[3]||t[4]}function PQ(A){if(!A.startsWith("rgb"))return A;var t=3;return A.replace(/\d+(\.\d+)?/g,(A,e)=>t--&&e?String(Math.round(parseFloat(A))):A)}var NQ=/(\[[^\]]+\])/g,LQ=/(#[^\s+>~.[:]+)/g,DQ=/(\.[^\s+>~.[:]+)/g,kQ=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,VQ=/(:[\w-]+\([^)]*\))/gi,KQ=/(:[^\s+>~.[:]+)/g,GQ=/([^\s+>~.[:]+)/g;function qQ(A,t){var e=t.exec(A);return e?[A.replace(t," "),e.length]:[A,0]}function XQ(A){var t=[0,0,0],e=A.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[e,n]=qQ(e,NQ),t[1]+=n,[e,n]=qQ(e,LQ),t[0]+=n,[e,n]=qQ(e,DQ),t[1]+=n,[e,n]=qQ(e,kQ),t[2]+=n,[e,n]=qQ(e,VQ),t[1]+=n,[e,n]=qQ(e,KQ),t[1]+=n,e=e.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[e,n]=qQ(e,GQ),t[2]+=n,t.join("")}var YQ=1e-8;function jQ(A){return Math.sqrt(Math.pow(A[0],2)+Math.pow(A[1],2))}function JQ(A,t){return(A[0]*t[0]+A[1]*t[1])/(jQ(A)*jQ(t))}function WQ(A,t){return(A[0]*t[1]<A[1]*t[0]?-1:1)*Math.acos(JQ(A,t))}function zQ(A){return A*A*A}function ZQ(A){return 3*A*A*(1-A)}function $Q(A){return 3*A*(1-A)*(1-A)}function AF(A){return(1-A)*(1-A)*(1-A)}function tF(A){return A*A}function eF(A){return 2*A*(1-A)}function nF(A){return(1-A)*(1-A)}class rF{constructor(A,t,e){this.document=A,this.name=t,this.value=e,this.isNormalizedColor=!1}static empty(A){return new rF(A,"EMPTY","")}split(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:t,name:e}=this;return SQ(this.getString()).trim().split(A).map(A=>new rF(t,e,A))}hasValue(A){var{value:t}=this;return null!==t&&""!==t&&(A||0!==t)&&void 0!==t}isString(A){var{value:t}=this,e="string"==typeof t;return e&&A?A.test(t):e}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var A=this.getString();switch(!0){case A.endsWith("px"):case/^[0-9]+$/.test(A):return!0;default:return!1}}setValue(A){return this.value=A,this}getValue(A){return void 0===A||this.hasValue()?this.value:A}getNumber(A){if(!this.hasValue())return void 0===A?0:parseFloat(A);var{value:t}=this,e=parseFloat(t);return this.isString(/%$/)&&(e/=100),e}getString(A){return void 0===A||this.hasValue()?void 0===this.value?"":String(this.value):String(A)}getColor(A){var t=this.getString(A);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=PQ(t),this.value=t),t}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(A){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[e,n]="boolean"==typeof A?[void 0,A]:[A],{viewPort:r}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(r.computeSize("x"),r.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(r.computeSize("x"),r.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*r.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*r.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&n:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*r.computeSize(e);default:var i=this.getNumber();return t&&i<1?i*r.computeSize(e):i}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var A=this.getString(),t=/#([^)'"]+)/.exec(A);return t&&(t=t[1]),t||(t=A),this.document.definitions[t]}getFillStyleDefinition(A,t){var e=this.getDefinition();if(!e)return null;if("function"==typeof e.createGradient)return e.createGradient(this.document.ctx,A,t);if("function"==typeof e.createPattern){if(e.getHrefAttribute().hasValue()){var n=e.getAttribute("patternTransform");e=e.getHrefAttribute().getDefinition(),n.hasValue()&&e.getAttribute("patternTransform",!0).setValue(n.value)}return e.createPattern(this.document.ctx,A,t)}return null}getTextBaseline(){return this.hasValue()?rF.textBaselineMapping[this.getString()]:null}addOpacity(A){for(var t=this.getColor(),e=t.length,n=0,r=0;r<e&&(","===t[r]&&n++,3!==n);r++);if(A.hasValue()&&this.isString()&&3!==n){var i=new XU(t);i.ok&&(i.alpha=A.getNumber(),t=i.toRGBA())}return new rF(this.document,this.name,t)}}rF.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class iF{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(A,t){this.viewPorts.push({width:A,height:t})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:A}=this;return A[A.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(A){return"number"==typeof A?A:"x"===A?this.width:"y"===A?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class sF{constructor(A,t){this.x=A,this.y=t}static parse(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[e=t,n=t]=OQ(A);return new sF(e,n)}static parseScale(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[e=t,n=e]=OQ(A);return new sF(e,n)}static parsePath(A){for(var t=OQ(A),e=t.length,n=[],r=0;r<e;r+=2)n.push(new sF(t[r],t[r+1]));return n}angleTo(A){return Math.atan2(A.y-this.y,A.x-this.x)}applyTransform(A){var{x:t,y:e}=this,n=t*A[0]+e*A[2]+A[4],r=t*A[1]+e*A[3]+A[5];this.x=n,this.y=r}}class oF{constructor(A){this.screen=A,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:A,onClick:t,onMouseMove:e}=this,n=A.ctx.canvas;n.onclick=t,n.onmousemove=e,this.working=!0}}stop(){if(this.working){var A=this.screen.ctx.canvas;this.working=!1,A.onclick=null,A.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:A,events:t,eventElements:e}=this,{style:n}=A.ctx.canvas;n&&(n.cursor=""),t.forEach((A,t)=>{for(var{run:n}=A,r=e[t];r;)n(r),r=r.parent}),this.events=[],this.eventElements=[]}}checkPath(A,t){if(this.working&&t){var{events:e,eventElements:n}=this;e.forEach((e,r)=>{var{x:i,y:s}=e;!n[r]&&t.isPointInPath&&t.isPointInPath(i,s)&&(n[r]=A)})}}checkBoundingBox(A,t){if(this.working&&t){var{events:e,eventElements:n}=this;e.forEach((e,r)=>{var{x:i,y:s}=e;!n[r]&&t.isPointInBox(i,s)&&(n[r]=A)})}}mapXY(A,t){for(var{window:e,ctx:n}=this.screen,r=new sF(A,t),i=n.canvas;i;)r.x-=i.offsetLeft,r.y-=i.offsetTop,i=i.offsetParent;return e.scrollX&&(r.x+=e.scrollX),e.scrollY&&(r.y+=e.scrollY),r}onClick(A){var{x:t,y:e}=this.mapXY(A.clientX,A.clientY);this.events.push({type:"onclick",x:t,y:e,run(A){A.onClick&&A.onClick()}})}onMouseMove(A){var{x:t,y:e}=this.mapXY(A.clientX,A.clientY);this.events.push({type:"onmousemove",x:t,y:e,run(A){A.onMouseMove&&A.onMouseMove()}})}}var aF="undefined"!=typeof window?window:null,lF="undefined"!=typeof fetch?fetch.bind(void 0):null;class uF{constructor(A){var{fetch:t=lF,window:e=aF}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=A,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new iF,this.mouse=new oF(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=e,this.fetch=t}wait(A){this.waits.push(A)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var A=this.waits.every(A=>A());return A&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=A,A}setDefaults(A){A.strokeStyle="rgba(0,0,0,0)",A.lineCap="butt",A.lineJoin="miter",A.miterLimit=4}setViewBox(A){var{document:t,ctx:e,aspectRatio:n,width:r,desiredWidth:i,height:s,desiredHeight:o,minX:a=0,minY:l=0,refX:u,refY:c,clip:h=!1,clipX:f=0,clipY:d=0}=A,p=SQ(n).replace(/^defer\s/,""),[g,B]=p.split(" "),m=g||"xMidYMid",w=B||"meet",_=r/i,y=s/o,v=Math.min(_,y),C=Math.max(_,y),b=i,E=o;"meet"===w&&(b*=v,E*=v),"slice"===w&&(b*=C,E*=C);var U=new rF(t,"refX",u),Q=new rF(t,"refY",c),F=U.hasValue()&&Q.hasValue();if(F&&e.translate(-v*U.getPixels("x"),-v*Q.getPixels("y")),h){var I=v*f,S=v*d;e.beginPath(),e.moveTo(I,S),e.lineTo(r,S),e.lineTo(r,s),e.lineTo(I,s),e.closePath(),e.clip()}if(!F){var T="meet"===w&&v===y,x="slice"===w&&C===y,O="meet"===w&&v===_,H="slice"===w&&C===_;m.startsWith("xMid")&&(T||x)&&e.translate(r/2-b/2,0),m.endsWith("YMid")&&(O||H)&&e.translate(0,s/2-E/2),m.startsWith("xMax")&&(T||x)&&e.translate(r-b,0),m.endsWith("YMax")&&(O||H)&&e.translate(0,s-E)}switch(!0){case"none"===m:e.scale(_,y);break;case"meet"===w:e.scale(v,v);break;case"slice"===w:e.scale(C,C)}e.translate(-a,-l)}start(A){var{enableRedraw:t=!1,ignoreMouse:e=!1,ignoreAnimation:n=!1,ignoreDimensions:r=!1,ignoreClear:i=!1,forceRedraw:s,scaleWidth:o,scaleHeight:a,offsetX:l,offsetY:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:c,mouse:h}=this,f=1e3/c;if(this.frameDuration=f,this.readyPromise=new Promise(A=>{this.resolveReady=A}),this.isReady()&&this.render(A,r,i,o,a,l,u),t){var d=Date.now(),p=d,g=0,B=()=>{d=Date.now(),(g=d-p)>=f&&(p=d-g%f,this.shouldUpdate(n,s)&&(this.render(A,r,i,o,a,l,u),h.runEvents())),this.intervalId=HU(B)};e||h.start(),this.intervalId=HU(B)}}stop(){this.intervalId&&(HU.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(A,t){if(!A){var{frameDuration:e}=this;if(this.animations.reduce((A,t)=>t.update(e)||A,!1))return!0}return!("function"!=typeof t||!t())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(A,t,e,n,r,i,s){var{CLIENT_WIDTH:o,CLIENT_HEIGHT:a,viewPort:l,ctx:u,isFirstRender:c}=this,h=u.canvas;l.clear(),h.width&&h.height?l.setCurrent(h.width,h.height):l.setCurrent(o,a);var f=A.getStyle("width"),d=A.getStyle("height");!t&&(c||"number"!=typeof n&&"number"!=typeof r)&&(f.hasValue()&&(h.width=f.getPixels("x"),h.style&&(h.style.width="".concat(h.width,"px"))),d.hasValue()&&(h.height=d.getPixels("y"),h.style&&(h.style.height="".concat(h.height,"px"))));var p=h.clientWidth||h.width,g=h.clientHeight||h.height;if(t&&f.hasValue()&&d.hasValue()&&(p=f.getPixels("x"),g=d.getPixels("y")),l.setCurrent(p,g),"number"==typeof i&&A.getAttribute("x",!0).setValue(i),"number"==typeof s&&A.getAttribute("y",!0).setValue(s),"number"==typeof n||"number"==typeof r){var B=OQ(A.getAttribute("viewBox").getString()),m=0,w=0;if("number"==typeof n){var _=A.getStyle("width");_.hasValue()?m=_.getPixels("x")/n:isNaN(B[2])||(m=B[2]/n)}if("number"==typeof r){var y=A.getStyle("height");y.hasValue()?w=y.getPixels("y")/r:isNaN(B[3])||(w=B[3]/r)}m||(m=w),w||(w=m),A.getAttribute("width",!0).setValue(n),A.getAttribute("height",!0).setValue(r);var v=A.getStyle("transform",!0,!0);v.setValue("".concat(v.getString()," scale(").concat(1/m,", ").concat(1/w,")"))}e||u.clearRect(0,0,p,g),A.render(u),c&&(this.isFirstRender=!1)}}uF.defaultWindow=aF,uF.defaultFetch=lF;var{defaultFetch:cF}=uF,hF="undefined"!=typeof DOMParser?DOMParser:null;class fF{constructor(){var{fetch:A=cF,DOMParser:t=hF}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=A,this.DOMParser=t}parse(A){var t=this;return Nb(function*(){return A.startsWith("<")?t.parseFromString(A):t.load(A)})()}parseFromString(A){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(A,"image/svg+xml"))}catch(e){return this.checkDocument(t.parseFromString(A,"text/xml"))}}checkDocument(A){var t=A.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return A}load(A){var t=this;return Nb(function*(){var e=yield t.fetch(A),n=yield e.text();return t.parseFromString(n)})()}}class dF{constructor(A,t){this.type="translate",this.point=null,this.point=sF.parse(t)}apply(A){var{x:t,y:e}=this.point;A.translate(t||0,e||0)}unapply(A){var{x:t,y:e}=this.point;A.translate(-1*t||0,-1*e||0)}applyToPoint(A){var{x:t,y:e}=this.point;A.applyTransform([1,0,0,1,t||0,e||0])}}class pF{constructor(A,t,e){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var n=OQ(t);this.angle=new rF(A,"angle",n[0]),this.originX=e[0],this.originY=e[1],this.cx=n[1]||0,this.cy=n[2]||0}apply(A){var{cx:t,cy:e,originX:n,originY:r,angle:i}=this,s=t+n.getPixels("x"),o=e+r.getPixels("y");A.translate(s,o),A.rotate(i.getRadians()),A.translate(-s,-o)}unapply(A){var{cx:t,cy:e,originX:n,originY:r,angle:i}=this,s=t+n.getPixels("x"),o=e+r.getPixels("y");A.translate(s,o),A.rotate(-1*i.getRadians()),A.translate(-s,-o)}applyToPoint(A){var{cx:t,cy:e,angle:n}=this,r=n.getRadians();A.applyTransform([1,0,0,1,t||0,e||0]),A.applyTransform([Math.cos(r),Math.sin(r),-Math.sin(r),Math.cos(r),0,0]),A.applyTransform([1,0,0,1,-t||0,-e||0])}}class gF{constructor(A,t,e){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var n=sF.parseScale(t);0!==n.x&&0!==n.y||(n.x=YQ,n.y=YQ),this.scale=n,this.originX=e[0],this.originY=e[1]}apply(A){var{scale:{x:t,y:e},originX:n,originY:r}=this,i=n.getPixels("x"),s=r.getPixels("y");A.translate(i,s),A.scale(t,e||t),A.translate(-i,-s)}unapply(A){var{scale:{x:t,y:e},originX:n,originY:r}=this,i=n.getPixels("x"),s=r.getPixels("y");A.translate(i,s),A.scale(1/t,1/e||t),A.translate(-i,-s)}applyToPoint(A){var{x:t,y:e}=this.scale;A.applyTransform([t||0,0,0,e||0,0,0])}}class BF{constructor(A,t,e){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=OQ(t),this.originX=e[0],this.originY=e[1]}apply(A){var{originX:t,originY:e,matrix:n}=this,r=t.getPixels("x"),i=e.getPixels("y");A.translate(r,i),A.transform(n[0],n[1],n[2],n[3],n[4],n[5]),A.translate(-r,-i)}unapply(A){var{originX:t,originY:e,matrix:n}=this,r=n[0],i=n[2],s=n[4],o=n[1],a=n[3],l=n[5],u=1/(r*(1*a-0*l)-i*(1*o-0*l)+s*(0*o-0*a)),c=t.getPixels("x"),h=e.getPixels("y");A.translate(c,h),A.transform(u*(1*a-0*l),u*(0*l-1*o),u*(0*s-1*i),u*(1*r-0*s),u*(i*l-s*a),u*(s*o-r*l)),A.translate(-c,-h)}applyToPoint(A){A.applyTransform(this.matrix)}}class mF extends BF{constructor(A,t,e){super(A,t,e),this.type="skew",this.angle=null,this.angle=new rF(A,"angle",t)}}class wF extends mF{constructor(A,t,e){super(A,t,e),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class _F extends mF{constructor(A,t,e){super(A,t,e),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class yF{constructor(A,t,e){this.document=A,this.transforms=[];var n=function(A){return SQ(A).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(t);n.forEach(A=>{if("none"!==A){var[t,n]=function(A){var[t,e]=A.split("(");return[t.trim(),e.trim().replace(")","")]}(A),r=yF.transformTypes[t];void 0!==r&&this.transforms.push(new r(this.document,n,e))}})}static fromElement(A,t){var e=t.getStyle("transform",!1,!0),[n,r=n]=t.getStyle("transform-origin",!1,!0).split(),i=[n,r];return e.hasValue()?new yF(A,e.getString(),i):null}apply(A){for(var{transforms:t}=this,e=t.length,n=0;n<e;n++)t[n].apply(A)}unapply(A){for(var{transforms:t}=this,e=t.length-1;e>=0;e--)t[e].unapply(A)}applyToPoint(A){for(var{transforms:t}=this,e=t.length,n=0;n<e;n++)t[n].applyToPoint(A)}}yF.transformTypes={translate:dF,rotate:pF,scale:gF,matrix:BF,skewX:wF,skewY:_F};class vF{constructor(A,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=A,this.node=t,this.captureTextNodes=e,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],t&&1===t.nodeType){if(Array.from(t.attributes).forEach(t=>{var e=MQ(t.nodeName);this.attributes[e]=new rF(A,e,t.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue())this.getAttribute("style").getString().split(";").map(A=>A.trim()).forEach(t=>{if(t){var[e,n]=t.split(":").map(A=>A.trim());this.styles[e]=new rF(A,e,n)}});var{definitions:n}=A,r=this.getAttribute("id");r.hasValue()&&(n[r.getString()]||(n[r.getString()]=this)),Array.from(t.childNodes).forEach(t=>{if(1===t.nodeType)this.addChild(t);else if(e&&(3===t.nodeType||4===t.nodeType)){var n=A.createTextNode(t);n.getText().length>0&&this.addChild(n)}})}}getAttribute(A){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.attributes[A];if(!e&&t){var n=new rF(this.document,A,"");return this.attributes[A]=n,n}return e||rF.empty(this.document)}getHrefAttribute(){for(var A in this.attributes)if("href"===A||A.endsWith(":href"))return this.attributes[A];return rF.empty(this.document)}getStyle(A){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.styles[A];if(n)return n;var r=this.getAttribute(A);if(null!=r&&r.hasValue())return this.styles[A]=r,r;if(!e){var{parent:i}=this;if(i){var s=i.getStyle(A);if(null!=s&&s.hasValue())return s}}if(t){var o=new rF(this.document,A,"");return this.styles[A]=o,o}return n||rF.empty(this.document)}render(A){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(A.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(A),t.apply(A,this))}else if("none"!==this.getStyle("filter").getValue("none")){var e=this.getStyle("filter").getDefinition();e&&(this.applyEffects(A),e.apply(A,this))}else this.setContext(A),this.renderChildren(A),this.clearContext(A);A.restore()}}setContext(A){}applyEffects(A){var t=yF.fromElement(this.document,this);t&&t.apply(A);var e=this.getStyle("clip-path",!1,!0);if(e.hasValue()){var n=e.getDefinition();n&&n.apply(A)}}clearContext(A){}renderChildren(A){this.children.forEach(t=>{t.render(A)})}addChild(A){var t=A instanceof vF?A:this.document.createElement(A);t.parent=this,vF.ignoreChildTypes.includes(t.type)||this.children.push(t)}matchesSelector(A){var t,{node:e}=this;if("function"==typeof e.matches)return e.matches(A);var n=null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"class");return!(!n||""===n)&&n.split(" ").some(t=>".".concat(t)===A)}addStylesFromStyleDefinition(){var{styles:A,stylesSpecificity:t}=this.document;for(var e in A)if(!e.startsWith("@")&&this.matchesSelector(e)){var n=A[e],r=t[e];if(n)for(var i in n){var s=this.stylesSpecificity[i];void 0===s&&(s="000"),r>=s&&(this.styles[i]=n[i],this.stylesSpecificity[i]=r)}}}removeStyles(A,t){return t.reduce((t,e)=>{var n=A.getStyle(e);if(!n.hasValue())return t;var r=n.getString();return n.setValue(""),[...t,[e,r]]},[])}restoreStyles(A,t){t.forEach(t=>{var[e,n]=t;A.getStyle(e,!0).setValue(n)})}isFirstChild(){var A;return 0===(null===(A=this.parent)||void 0===A?void 0:A.children.indexOf(this))}}vF.ignoreChildTypes=["title"];class CF extends vF{constructor(A,t,e){super(A,t,e)}}function bF(A){var t=A.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function EF(A){if(!A)return"";var t=A.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function UF(A){if(!A)return"";var t=A.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class QF{constructor(A,t,e,n,r,i){var s=i?"string"==typeof i?QF.parse(i):i:{};this.fontFamily=r||s.fontFamily,this.fontSize=n||s.fontSize,this.fontStyle=A||s.fontStyle,this.fontWeight=e||s.fontWeight,this.fontVariant=t||s.fontVariant}static parse(){var A=arguments.length>1?arguments[1]:void 0,t="",e="",n="",r="",i="",s=SQ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return s.forEach(A=>{switch(!0){case!o.fontStyle&&QF.styles.includes(A):"inherit"!==A&&(t=A),o.fontStyle=!0;break;case!o.fontVariant&&QF.variants.includes(A):"inherit"!==A&&(e=A),o.fontStyle=!0,o.fontVariant=!0;break;case!o.fontWeight&&QF.weights.includes(A):"inherit"!==A&&(n=A),o.fontStyle=!0,o.fontVariant=!0,o.fontWeight=!0;break;case!o.fontSize:"inherit"!==A&&([r]=A.split("/")),o.fontStyle=!0,o.fontVariant=!0,o.fontWeight=!0,o.fontSize=!0;break;default:"inherit"!==A&&(i+=A)}}),new QF(t,e,n,r,i,A)}toString(){return[EF(this.fontStyle),this.fontVariant,UF(this.fontWeight),this.fontSize,(A=this.fontFamily,"undefined"==typeof process?A:A.trim().split(",").map(bF).join(","))].join(" ").trim();var A}}QF.styles="normal|italic|oblique|inherit",QF.variants="normal|small-caps|inherit",QF.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class FF{constructor(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=A,this.y1=t,this.x2=e,this.y2=n,this.addPoint(A,t),this.addPoint(e,n)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(A,t){void 0!==A&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=A,this.x2=A),A<this.x1&&(this.x1=A),A>this.x2&&(this.x2=A)),void 0!==t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}addX(A){this.addPoint(A,null)}addY(A){this.addPoint(null,A)}addBoundingBox(A){if(A){var{x1:t,y1:e,x2:n,y2:r}=A;this.addPoint(t,e),this.addPoint(n,r)}}sumCubic(A,t,e,n,r){return Math.pow(1-A,3)*t+3*Math.pow(1-A,2)*A*e+3*(1-A)*Math.pow(A,2)*n+Math.pow(A,3)*r}bezierCurveAdd(A,t,e,n,r){var i=6*t-12*e+6*n,s=-3*t+9*e-9*n+3*r,o=3*e-3*t;if(0!==s){var a=Math.pow(i,2)-4*o*s;if(!(a<0)){var l=(-i+Math.sqrt(a))/(2*s);0<l&&l<1&&(A?this.addX(this.sumCubic(l,t,e,n,r)):this.addY(this.sumCubic(l,t,e,n,r)));var u=(-i-Math.sqrt(a))/(2*s);0<u&&u<1&&(A?this.addX(this.sumCubic(u,t,e,n,r)):this.addY(this.sumCubic(u,t,e,n,r)))}}else{if(0===i)return;var c=-o/i;0<c&&c<1&&(A?this.addX(this.sumCubic(c,t,e,n,r)):this.addY(this.sumCubic(c,t,e,n,r)))}}addBezierCurve(A,t,e,n,r,i,s,o){this.addPoint(A,t),this.addPoint(s,o),this.bezierCurveAdd(!0,A,e,r,s),this.bezierCurveAdd(!1,t,n,i,o)}addQuadraticCurve(A,t,e,n,r,i){var s=A+2/3*(e-A),o=t+2/3*(n-t),a=s+1/3*(r-A),l=o+1/3*(i-t);this.addBezierCurve(A,t,s,a,o,l,r,i)}isPointInBox(A,t){var{x1:e,y1:n,x2:r,y2:i}=this;return e<=A&&A<=r&&n<=t&&t<=i}}class IF extends _Q{constructor(A){super(A.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new sF(0,0),this.control=new sF(0,0),this.current=new sF(0,0),this.points=[],this.angles=[]}isEnd(){var{i:A,commands:t}=this;return A>=t.length-1}next(){var A=this.commands[++this.i];return this.previousCommand=this.command,this.command=A,A}getPoint(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",e=new sF(this.command[A],this.command[t]);return this.makeAbsolute(e)}getAsControlPoint(A,t){var e=this.getPoint(A,t);return this.control=e,e}getAsCurrentPoint(A,t){var e=this.getPoint(A,t);return this.current=e,e}getReflectedControlPoint(){var A=this.previousCommand.type;if(A!==_Q.CURVE_TO&&A!==_Q.SMOOTH_CURVE_TO&&A!==_Q.QUAD_TO&&A!==_Q.SMOOTH_QUAD_TO)return this.current;var{current:{x:t,y:e},control:{x:n,y:r}}=this;return new sF(2*t-n,2*e-r)}makeAbsolute(A){if(this.command.relative){var{x:t,y:e}=this.current;A.x+=t,A.y+=e}return A}addMarker(A,t,e){var{points:n,angles:r}=this;e&&r.length>0&&!r[r.length-1]&&(r[r.length-1]=n[n.length-1].angleTo(e)),this.addMarkerAngle(A,t?t.angleTo(A):null)}addMarkerAngle(A,t){this.points.push(A),this.angles.push(t)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:A}=this,t=A.length,e=0;e<t;e++)if(!A[e])for(var n=e+1;n<t;n++)if(A[n]){A[e]=A[n];break}return A}}class SF extends vF{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var A=1,t=this;t;){var e=t.getStyle("opacity",!1,!0);e.hasValue(!0)&&(A*=e.getNumber()),t=t.parent}return A}setContext(A){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var e=this.getStyle("fill"),n=this.getStyle("fill-opacity"),r=this.getStyle("stroke"),i=this.getStyle("stroke-opacity");if(e.isUrlDefinition()){var s=e.getFillStyleDefinition(this,n);s&&(A.fillStyle=s)}else if(e.hasValue()){"currentColor"===e.getString()&&e.setValue(this.getStyle("color").getColor());var o=e.getColor();"inherit"!==o&&(A.fillStyle="none"===o?"rgba(0,0,0,0)":o)}if(n.hasValue()){var a=new rF(this.document,"fill",A.fillStyle).addOpacity(n).getColor();A.fillStyle=a}if(r.isUrlDefinition()){var l=r.getFillStyleDefinition(this,i);l&&(A.strokeStyle=l)}else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor());var u=r.getString();"inherit"!==u&&(A.strokeStyle="none"===u?"rgba(0,0,0,0)":u)}if(i.hasValue()){var c=new rF(this.document,"stroke",A.strokeStyle).addOpacity(i).getString();A.strokeStyle=c}var h=this.getStyle("stroke-width");if(h.hasValue()){var f=h.getPixels();A.lineWidth=f||YQ}var d=this.getStyle("stroke-linecap"),p=this.getStyle("stroke-linejoin"),g=this.getStyle("stroke-miterlimit"),B=this.getStyle("stroke-dasharray"),m=this.getStyle("stroke-dashoffset");if(d.hasValue()&&(A.lineCap=d.getString()),p.hasValue()&&(A.lineJoin=p.getString()),g.hasValue()&&(A.miterLimit=g.getNumber()),B.hasValue()&&"none"!==B.getString()){var w=OQ(B.getString());void 0!==A.setLineDash?A.setLineDash(w):void 0!==A.webkitLineDash?A.webkitLineDash=w:void 0===A.mozDash||1===w.length&&0===w[0]||(A.mozDash=w);var _=m.getPixels();void 0!==A.lineDashOffset?A.lineDashOffset=_:void 0!==A.webkitLineDashOffset?A.webkitLineDashOffset=_:void 0!==A.mozDashOffset&&(A.mozDashOffset=_)}}if(this.modifiedEmSizeStack=!1,void 0!==A.font){var y=this.getStyle("font"),v=this.getStyle("font-style"),C=this.getStyle("font-variant"),b=this.getStyle("font-weight"),E=this.getStyle("font-size"),U=this.getStyle("font-family"),Q=new QF(v.getString(),C.getString(),b.getString(),E.hasValue()?"".concat(E.getPixels(!0),"px"):"",U.getString(),QF.parse(y.getString(),A.font));v.setValue(Q.fontStyle),C.setValue(Q.fontVariant),b.setValue(Q.fontWeight),E.setValue(Q.fontSize),U.setValue(Q.fontFamily),A.font=Q.toString(),E.isPixels()&&(this.document.emSize=E.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(A),A.globalAlpha=this.calculateOpacity())}clearContext(A){super.clearContext(A),this.modifiedEmSizeStack&&this.document.popEmSize()}}class TF extends SF{constructor(A,t,e){super(A,t,e),this.type="path",this.pathParser=null,this.pathParser=new IF(this.getAttribute("d").getString())}path(A){var{pathParser:t}=this,e=new FF;for(t.reset(),A&&A.beginPath();!t.isEnd();)switch(t.next().type){case IF.MOVE_TO:this.pathM(A,e);break;case IF.LINE_TO:this.pathL(A,e);break;case IF.HORIZ_LINE_TO:this.pathH(A,e);break;case IF.VERT_LINE_TO:this.pathV(A,e);break;case IF.CURVE_TO:this.pathC(A,e);break;case IF.SMOOTH_CURVE_TO:this.pathS(A,e);break;case IF.QUAD_TO:this.pathQ(A,e);break;case IF.SMOOTH_QUAD_TO:this.pathT(A,e);break;case IF.ARC:this.pathA(A,e);break;case IF.CLOSE_PATH:this.pathZ(A,e)}return e}getBoundingBox(A){return this.path()}getMarkers(){var{pathParser:A}=this,t=A.getMarkerPoints(),e=A.getMarkerAngles();return t.map((A,t)=>[A,e[t]])}renderChildren(A){this.path(A),this.document.screen.mouse.checkPath(this,A);var t=this.getStyle("fill-rule");""!==A.fillStyle&&("inherit"!==t.getString("inherit")?A.fill(t.getString()):A.fill()),""!==A.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(A.save(),A.setTransform(1,0,0,1,0,0),A.stroke(),A.restore()):A.stroke());var e=this.getMarkers();if(e){var n=e.length-1,r=this.getStyle("marker-start"),i=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(r.isUrlDefinition()){var o=r.getDefinition(),[a,l]=e[0];o.render(A,a,l)}if(i.isUrlDefinition())for(var u=i.getDefinition(),c=1;c<n;c++){var[h,f]=e[c];u.render(A,h,f)}if(s.isUrlDefinition()){var d=s.getDefinition(),[p,g]=e[n];d.render(A,p,g)}}}static pathM(A){var t=A.getAsCurrentPoint();return A.start=A.current,{point:t}}pathM(A,t){var{pathParser:e}=this,{point:n}=TF.pathM(e),{x:r,y:i}=n;e.addMarker(n),t.addPoint(r,i),A&&A.moveTo(r,i)}static pathL(A){var{current:t}=A;return{current:t,point:A.getAsCurrentPoint()}}pathL(A,t){var{pathParser:e}=this,{current:n,point:r}=TF.pathL(e),{x:i,y:s}=r;e.addMarker(r,n),t.addPoint(i,s),A&&A.lineTo(i,s)}static pathH(A){var{current:t,command:e}=A,n=new sF((e.relative?t.x:0)+e.x,t.y);return A.current=n,{current:t,point:n}}pathH(A,t){var{pathParser:e}=this,{current:n,point:r}=TF.pathH(e),{x:i,y:s}=r;e.addMarker(r,n),t.addPoint(i,s),A&&A.lineTo(i,s)}static pathV(A){var{current:t,command:e}=A,n=new sF(t.x,(e.relative?t.y:0)+e.y);return A.current=n,{current:t,point:n}}pathV(A,t){var{pathParser:e}=this,{current:n,point:r}=TF.pathV(e),{x:i,y:s}=r;e.addMarker(r,n),t.addPoint(i,s),A&&A.lineTo(i,s)}static pathC(A){var{current:t}=A;return{current:t,point:A.getPoint("x1","y1"),controlPoint:A.getAsControlPoint("x2","y2"),currentPoint:A.getAsCurrentPoint()}}pathC(A,t){var{pathParser:e}=this,{current:n,point:r,controlPoint:i,currentPoint:s}=TF.pathC(e);e.addMarker(s,i,r),t.addBezierCurve(n.x,n.y,r.x,r.y,i.x,i.y,s.x,s.y),A&&A.bezierCurveTo(r.x,r.y,i.x,i.y,s.x,s.y)}static pathS(A){var{current:t}=A;return{current:t,point:A.getReflectedControlPoint(),controlPoint:A.getAsControlPoint("x2","y2"),currentPoint:A.getAsCurrentPoint()}}pathS(A,t){var{pathParser:e}=this,{current:n,point:r,controlPoint:i,currentPoint:s}=TF.pathS(e);e.addMarker(s,i,r),t.addBezierCurve(n.x,n.y,r.x,r.y,i.x,i.y,s.x,s.y),A&&A.bezierCurveTo(r.x,r.y,i.x,i.y,s.x,s.y)}static pathQ(A){var{current:t}=A;return{current:t,controlPoint:A.getAsControlPoint("x1","y1"),currentPoint:A.getAsCurrentPoint()}}pathQ(A,t){var{pathParser:e}=this,{current:n,controlPoint:r,currentPoint:i}=TF.pathQ(e);e.addMarker(i,r,r),t.addQuadraticCurve(n.x,n.y,r.x,r.y,i.x,i.y),A&&A.quadraticCurveTo(r.x,r.y,i.x,i.y)}static pathT(A){var{current:t}=A,e=A.getReflectedControlPoint();return A.control=e,{current:t,controlPoint:e,currentPoint:A.getAsCurrentPoint()}}pathT(A,t){var{pathParser:e}=this,{current:n,controlPoint:r,currentPoint:i}=TF.pathT(e);e.addMarker(i,r,r),t.addQuadraticCurve(n.x,n.y,r.x,r.y,i.x,i.y),A&&A.quadraticCurveTo(r.x,r.y,i.x,i.y)}static pathA(A){var{current:t,command:e}=A,{rX:n,rY:r,xRot:i,lArcFlag:s,sweepFlag:o}=e,a=i*(Math.PI/180),l=A.getAsCurrentPoint(),u=new sF(Math.cos(a)*(t.x-l.x)/2+Math.sin(a)*(t.y-l.y)/2,-Math.sin(a)*(t.x-l.x)/2+Math.cos(a)*(t.y-l.y)/2),c=Math.pow(u.x,2)/Math.pow(n,2)+Math.pow(u.y,2)/Math.pow(r,2);c>1&&(n*=Math.sqrt(c),r*=Math.sqrt(c));var h=(s===o?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(u.y,2)-Math.pow(r,2)*Math.pow(u.x,2))/(Math.pow(n,2)*Math.pow(u.y,2)+Math.pow(r,2)*Math.pow(u.x,2)));isNaN(h)&&(h=0);var f=new sF(h*n*u.y/r,h*-r*u.x/n),d=new sF((t.x+l.x)/2+Math.cos(a)*f.x-Math.sin(a)*f.y,(t.y+l.y)/2+Math.sin(a)*f.x+Math.cos(a)*f.y),p=WQ([1,0],[(u.x-f.x)/n,(u.y-f.y)/r]),g=[(u.x-f.x)/n,(u.y-f.y)/r],B=[(-u.x-f.x)/n,(-u.y-f.y)/r],m=WQ(g,B);return JQ(g,B)<=-1&&(m=Math.PI),JQ(g,B)>=1&&(m=0),{currentPoint:l,rX:n,rY:r,sweepFlag:o,xAxisRotation:a,centp:d,a1:p,ad:m}}pathA(A,t){var{pathParser:e}=this,{currentPoint:n,rX:r,rY:i,sweepFlag:s,xAxisRotation:o,centp:a,a1:l,ad:u}=TF.pathA(e),c=1-s?1:-1,h=l+c*(u/2),f=new sF(a.x+r*Math.cos(h),a.y+i*Math.sin(h));if(e.addMarkerAngle(f,h-c*Math.PI/2),e.addMarkerAngle(n,h-c*Math.PI),t.addPoint(n.x,n.y),A&&!isNaN(l)&&!isNaN(u)){var d=r>i?r:i,p=r>i?1:r/i,g=r>i?i/r:1;A.translate(a.x,a.y),A.rotate(o),A.scale(p,g),A.arc(0,0,d,l,l+u,Boolean(1-s)),A.scale(1/p,1/g),A.rotate(-o),A.translate(-a.x,-a.y)}}static pathZ(A){A.current=A.start}pathZ(A,t){TF.pathZ(this.pathParser),A&&t.x1!==t.x2&&t.y1!==t.y2&&A.closePath()}}class xF extends TF{constructor(A,t,e){super(A,t,e),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class OF extends SF{constructor(A,t,e){super(A,t,new.target===OF||e),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(A){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(A,t);var e=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();e&&(A.textBaseline=e)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(A){if("text"!==this.type)return this.getTElementBoundingBox(A);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(A);var t=null;return this.children.forEach((e,n)=>{var r=this.getChildBoundingBox(A,this,this,n);t?t.addBoundingBox(r):t=r}),t}getFontSize(){var{document:A,parent:t}=this,e=QF.parse(A.ctx.font).fontSize;return t.getStyle("font-size").getNumber(e)}getTElementBoundingBox(A){var t=this.getFontSize();return new FF(this.x,this.y-t,this.x+this.measureText(A),this.y)}getGlyph(A,t,e){var n=t[e],r=null;if(A.isArabic){var i=t.length,s=t[e-1],o=t[e+1],a="isolated";if((0===e||" "===s)&&e<i-1&&" "!==o&&(a="terminal"),e>0&&" "!==s&&e<i-1&&" "!==o&&(a="medial"),e>0&&" "!==s&&(e===i-1||" "===o)&&(a="initial"),void 0!==A.glyphs[n]){var l=A.glyphs[n];r=l instanceof xF?l:l[a]}}else r=A.glyphs[n];return r||(r=A.missingGlyph),r}getText(){return""}getTextFromNode(A){var t=A||this.node,e=Array.from(t.parentNode.childNodes),n=e.indexOf(t),r=e.length-1,i=SQ(t.textContent||"");return 0===n&&(i=TQ(i)),n===r&&(i=xQ(i)),i}renderChildren(A){if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(A),this.children.forEach((t,e)=>{this.renderChild(A,this,this,e)});var{mouse:t}=this.document.screen;t.isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(A))}else this.renderTElementChildren(A)}renderTElementChildren(A){var{document:t,parent:e}=this,n=this.getText(),r=e.getStyle("font-family").getDefinition();if(r)for(var{unitsPerEm:i}=r.fontFace,s=QF.parse(t.ctx.font),o=e.getStyle("font-size").getNumber(s.fontSize),a=e.getStyle("font-style").getString(s.fontStyle),l=o/i,u=r.isRTL?n.split("").reverse().join(""):n,c=OQ(e.getAttribute("dx").getString()),h=u.length,f=0;f<h;f++){var d=this.getGlyph(r,u,f);A.translate(this.x,this.y),A.scale(l,-l);var p=A.lineWidth;A.lineWidth=A.lineWidth*i/o,"italic"===a&&A.transform(1,0,.4,1,0,0),d.render(A),"italic"===a&&A.transform(1,0,-.4,1,0,0),A.lineWidth=p,A.scale(1/l,-1/l),A.translate(-this.x,-this.y),this.x+=o*(d.horizAdvX||r.horizAdvX)/i,void 0===c[f]||isNaN(c[f])||(this.x+=c[f])}else{var{x:g,y:B}=this;A.fillStyle&&A.fillText(n,g,B),A.strokeStyle&&A.strokeText(n,g,B)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var A=this.leafTexts[this.textChunkStart],t=A.getStyle("text-anchor").getString("start"),e=0;e="start"===t?A.x-this.minX:"end"===t?A.x-this.maxX:A.x-(this.minX+this.maxX)/2;for(var n=this.textChunkStart;n<this.leafTexts.length;n++)this.leafTexts[n].x+=e;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(A){this.children.forEach((t,e)=>{this.adjustChildCoordinatesRecursiveCore(A,this,this,e)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(A,t,e,n){var r=e.children[n];r.children.length>0?r.children.forEach((e,n)=>{t.adjustChildCoordinatesRecursiveCore(A,t,r,n)}):this.adjustChildCoordinates(A,t,e,n)}adjustChildCoordinates(A,t,e,n){var r=e.children[n];if("function"!=typeof r.measureText)return r;A.save(),r.setContext(A,!0);var i=r.getAttribute("x"),s=r.getAttribute("y"),o=r.getAttribute("dx"),a=r.getAttribute("dy"),l=r.getStyle("font-family").getDefinition(),u=Boolean(l)&&l.isRTL;0===n&&(i.hasValue()||i.setValue(r.getInheritedAttribute("x")),s.hasValue()||s.setValue(r.getInheritedAttribute("y")),o.hasValue()||o.setValue(r.getInheritedAttribute("dx")),a.hasValue()||a.setValue(r.getInheritedAttribute("dy")));var c=r.measureText(A);return u&&(t.x-=c),i.hasValue()?(t.applyAnchoring(),r.x=i.getPixels("x"),o.hasValue()&&(r.x+=o.getPixels("x"))):(o.hasValue()&&(t.x+=o.getPixels("x")),r.x=t.x),t.x=r.x,u||(t.x+=c),s.hasValue()?(r.y=s.getPixels("y"),a.hasValue()&&(r.y+=a.getPixels("y"))):(a.hasValue()&&(t.y+=a.getPixels("y")),r.y=t.y),t.y=r.y,t.leafTexts.push(r),t.minX=Math.min(t.minX,r.x,r.x+c),t.maxX=Math.max(t.maxX,r.x,r.x+c),r.clearContext(A),A.restore(),r}getChildBoundingBox(A,t,e,n){var r=e.children[n];if("function"!=typeof r.getBoundingBox)return null;var i=r.getBoundingBox(A);return i?(r.children.forEach((e,n)=>{var s=t.getChildBoundingBox(A,t,r,n);i.addBoundingBox(s)}),i):null}renderChild(A,t,e,n){var r=e.children[n];r.render(A),r.children.forEach((e,n)=>{t.renderChild(A,t,r,n)})}measureText(A){var{measureCache:t}=this;if(~t)return t;var e=this.getText(),n=this.measureTargetText(A,e);return this.measureCache=n,n}measureTargetText(A,t){if(!t.length)return 0;var{parent:e}=this,n=e.getStyle("font-family").getDefinition();if(n){for(var r=this.getFontSize(),i=n.isRTL?t.split("").reverse().join(""):t,s=OQ(e.getAttribute("dx").getString()),o=i.length,a=0,l=0;l<o;l++){a+=(this.getGlyph(n,i,l).horizAdvX||n.horizAdvX)*r/n.fontFace.unitsPerEm,void 0===s[l]||isNaN(s[l])||(a+=s[l])}return a}if(!A.measureText)return 10*t.length;A.save(),this.setContext(A,!0);var{width:u}=A.measureText(t);return this.clearContext(A),A.restore(),u}getInheritedAttribute(A){for(var t=this;t instanceof OF&&t.isFirstChild();){var e=t.parent.getAttribute(A);if(e.hasValue(!0))return e.getValue("0");t=t.parent}return null}}class HF extends OF{constructor(A,t,e){super(A,t,new.target===HF||e),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class MF extends HF{constructor(){super(...arguments),this.type="textNode"}}class RF extends SF{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(A){var t,{document:e}=this,{screen:n,window:r}=e,i=A.canvas;if(n.setDefaults(A),i.style&&void 0!==A.font&&r&&void 0!==r.getComputedStyle){A.font=r.getComputedStyle(i).getPropertyValue("font");var s=new rF(e,"fontSize",QF.parse(A.font).fontSize);s.hasValue()&&(e.rootEmSize=s.getPixels("y"),e.emSize=e.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:o,height:a}=n.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var l=this.getAttribute("refX"),u=this.getAttribute("refY"),c=this.getAttribute("viewBox"),h=c.hasValue()?OQ(c.getString()):null,f=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),d=0,p=0,g=0,B=0;h&&(d=h[0],p=h[1]),this.root||(o=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y"),"marker"===this.type&&(g=d,B=p,d=0,p=0)),n.viewPort.setCurrent(o,a),!this.node||this.parent&&"foreignObject"!==(null===(t=this.node.parentNode)||void 0===t?void 0:t.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(A),A.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),h&&(o=h[2],a=h[3]),e.setViewBox({ctx:A,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:o,height:n.viewPort.height,desiredHeight:a,minX:d,minY:p,refX:l.getValue(),refY:u.getValue(),clip:f,clipX:g,clipY:B}),h&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(o,a))}clearContext(A){super.clearContext(A),this.document.screen.viewPort.removeCurrent()}resize(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getAttribute("width",!0),r=this.getAttribute("height",!0),i=this.getAttribute("viewBox"),s=this.getAttribute("style"),o=n.getNumber(0),a=r.getNumber(0);if(e)if("string"==typeof e)this.getAttribute("preserveAspectRatio",!0).setValue(e);else{var l=this.getAttribute("preserveAspectRatio");l.hasValue()&&l.setValue(l.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(A),r.setValue(t),i.hasValue()||i.setValue("0 0 ".concat(o||A," ").concat(a||t)),s.hasValue()){var u=this.getStyle("width"),c=this.getStyle("height");u.hasValue()&&u.setValue("".concat(A,"px")),c.hasValue()&&c.setValue("".concat(t,"px"))}}}class PF extends TF{constructor(){super(...arguments),this.type="rect"}path(A){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),r=this.getStyle("height",!1,!0).getPixels("y"),i=this.getAttribute("rx"),s=this.getAttribute("ry"),o=i.getPixels("x"),a=s.getPixels("y");if(i.hasValue()&&!s.hasValue()&&(a=o),s.hasValue()&&!i.hasValue()&&(o=a),o=Math.min(o,n/2),a=Math.min(a,r/2),A){var l=(Math.sqrt(2)-1)/3*4;A.beginPath(),r>0&&n>0&&(A.moveTo(t+o,e),A.lineTo(t+n-o,e),A.bezierCurveTo(t+n-o+l*o,e,t+n,e+a-l*a,t+n,e+a),A.lineTo(t+n,e+r-a),A.bezierCurveTo(t+n,e+r-a+l*a,t+n-o+l*o,e+r,t+n-o,e+r),A.lineTo(t+o,e+r),A.bezierCurveTo(t+o-l*o,e+r,t,e+r-a+l*a,t,e+r-a),A.lineTo(t,e+a),A.bezierCurveTo(t,e+a-l*a,t+o-l*o,e,t+o,e),A.closePath())}return new FF(t,e,t+n,e+r)}getMarkers(){return null}}class NF extends TF{constructor(){super(...arguments),this.type="circle"}path(A){var t=this.getAttribute("cx").getPixels("x"),e=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return A&&n>0&&(A.beginPath(),A.arc(t,e,n,0,2*Math.PI,!1),A.closePath()),new FF(t-n,e-n,t+n,e+n)}getMarkers(){return null}}class LF extends TF{constructor(){super(...arguments),this.type="ellipse"}path(A){var t=(Math.sqrt(2)-1)/3*4,e=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),r=this.getAttribute("cx").getPixels("x"),i=this.getAttribute("cy").getPixels("y");return A&&e>0&&n>0&&(A.beginPath(),A.moveTo(r+e,i),A.bezierCurveTo(r+e,i+t*n,r+t*e,i+n,r,i+n),A.bezierCurveTo(r-t*e,i+n,r-e,i+t*n,r-e,i),A.bezierCurveTo(r-e,i-t*n,r-t*e,i-n,r,i-n),A.bezierCurveTo(r+t*e,i-n,r+e,i-t*n,r+e,i),A.closePath()),new FF(r-e,i-n,r+e,i+n)}getMarkers(){return null}}class DF extends TF{constructor(){super(...arguments),this.type="line"}getPoints(){return[new sF(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new sF(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(A){var[{x:t,y:e},{x:n,y:r}]=this.getPoints();return A&&(A.beginPath(),A.moveTo(t,e),A.lineTo(n,r)),new FF(t,e,n,r)}getMarkers(){var[A,t]=this.getPoints(),e=A.angleTo(t);return[[A,e],[t,e]]}}class kF extends TF{constructor(A,t,e){super(A,t,e),this.type="polyline",this.points=[],this.points=sF.parsePath(this.getAttribute("points").getString())}path(A){var{points:t}=this,[{x:e,y:n}]=t,r=new FF(e,n);return A&&(A.beginPath(),A.moveTo(e,n)),t.forEach(t=>{var{x:e,y:n}=t;r.addPoint(e,n),A&&A.lineTo(e,n)}),r}getMarkers(){var{points:A}=this,t=A.length-1,e=[];return A.forEach((n,r)=>{r!==t&&e.push([n,n.angleTo(A[r+1])])}),e.length>0&&e.push([A[A.length-1],e[e.length-1][1]]),e}}class VF extends kF{constructor(){super(...arguments),this.type="polygon"}path(A){var t=super.path(A),[{x:e,y:n}]=this.points;return A&&(A.lineTo(e,n),A.closePath()),t}}class KF extends vF{constructor(){super(...arguments),this.type="pattern"}createPattern(A,t,e){var n=this.getStyle("width").getPixels("x",!0),r=this.getStyle("height").getPixels("y",!0),i=new RF(this.document,null);i.attributes.viewBox=new rF(this.document,"viewBox",this.getAttribute("viewBox").getValue()),i.attributes.width=new rF(this.document,"width","".concat(n,"px")),i.attributes.height=new rF(this.document,"height","".concat(r,"px")),i.attributes.transform=new rF(this.document,"transform",this.getAttribute("patternTransform").getValue()),i.children=this.children;var s=this.document.createCanvas(n,r),o=s.getContext("2d"),a=this.getAttribute("x"),l=this.getAttribute("y");a.hasValue()&&l.hasValue()&&o.translate(a.getPixels("x",!0),l.getPixels("y",!0)),e.hasValue()?this.styles["fill-opacity"]=e:Reflect.deleteProperty(this.styles,"fill-opacity");for(var u=-1;u<=1;u++)for(var c=-1;c<=1;c++)o.save(),i.attributes.x=new rF(this.document,"x",u*s.width),i.attributes.y=new rF(this.document,"y",c*s.height),i.render(o),o.restore();return A.createPattern(s,"repeat")}}class GF extends vF{constructor(){super(...arguments),this.type="marker"}render(A,t,e){if(t){var{x:n,y:r}=t,i=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");A.translate(n,r),"auto"===i&&A.rotate(e),"strokeWidth"===s&&A.scale(A.lineWidth,A.lineWidth),A.save();var o=new RF(this.document,null);o.type=this.type,o.attributes.viewBox=new rF(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.refX=new rF(this.document,"refX",this.getAttribute("refX").getValue()),o.attributes.refY=new rF(this.document,"refY",this.getAttribute("refY").getValue()),o.attributes.width=new rF(this.document,"width",this.getAttribute("markerWidth").getValue()),o.attributes.height=new rF(this.document,"height",this.getAttribute("markerHeight").getValue()),o.attributes.overflow=new rF(this.document,"overflow",this.getAttribute("overflow").getValue()),o.attributes.fill=new rF(this.document,"fill",this.getAttribute("fill").getColor("black")),o.attributes.stroke=new rF(this.document,"stroke",this.getAttribute("stroke").getValue("none")),o.children=this.children,o.render(A),A.restore(),"strokeWidth"===s&&A.scale(1/A.lineWidth,1/A.lineWidth),"auto"===i&&A.rotate(-e),A.translate(-n,-r)}}}class qF extends vF{constructor(){super(...arguments),this.type="defs"}render(){}}class XF extends SF{constructor(){super(...arguments),this.type="g"}getBoundingBox(A){var t=new FF;return this.children.forEach(e=>{t.addBoundingBox(e.getBoundingBox(A))}),t}}class YF extends vF{constructor(A,t,e){super(A,t,e),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:n,children:r}=this;r.forEach(A=>{"stop"===A.type&&n.push(A)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(A,t,e){var n=this;this.getHrefAttribute().hasValue()&&(n=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(n));var{stops:r}=n,i=this.getGradient(A,t);if(!i)return this.addParentOpacity(e,r[r.length-1].color);if(r.forEach(A=>{i.addColorStop(A.offset,this.addParentOpacity(e,A.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:s}=this,{MAX_VIRTUAL_PIXELS:o,viewPort:a}=s.screen,[l]=a.viewPorts,u=new PF(s,null);u.attributes.x=new rF(s,"x",-o/3),u.attributes.y=new rF(s,"y",-o/3),u.attributes.width=new rF(s,"width",o),u.attributes.height=new rF(s,"height",o);var c=new XF(s,null);c.attributes.transform=new rF(s,"transform",this.getAttribute("gradientTransform").getValue()),c.children=[u];var h=new RF(s,null);h.attributes.x=new rF(s,"x",0),h.attributes.y=new rF(s,"y",0),h.attributes.width=new rF(s,"width",l.width),h.attributes.height=new rF(s,"height",l.height),h.children=[c];var f=s.createCanvas(l.width,l.height),d=f.getContext("2d");return d.fillStyle=i,h.render(d),d.createPattern(f,"no-repeat")}return i}inheritStopContainer(A){this.attributesToInherit.forEach(t=>{!this.getAttribute(t).hasValue()&&A.getAttribute(t).hasValue()&&this.getAttribute(t,!0).setValue(A.getAttribute(t).getValue())})}addParentOpacity(A,t){return A.hasValue()?new rF(this.document,"color",t).addOpacity(A).getColor():t}}class jF extends YF{constructor(A,t,e){super(A,t,e),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(A,t){var e="objectBoundingBox"===this.getGradientUnits(),n=e?t.getBoundingBox(A):null;if(e&&!n)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var r=e?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),i=e?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=e?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),o=e?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return r===s&&i===o?null:A.createLinearGradient(r,i,s,o)}}class JF extends YF{constructor(A,t,e){super(A,t,e),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(A,t){var e="objectBoundingBox"===this.getGradientUnits(),n=t.getBoundingBox(A);if(e&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var r=e?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),i=e?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=r,o=i;this.getAttribute("fx").hasValue()&&(s=e?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(o=e?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var a=e?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),l=this.getAttribute("fr").getPixels();return A.createRadialGradient(s,o,l,r,i,a)}}class WF extends vF{constructor(A,t,e){super(A,t,e),this.type="stop";var n=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),r=this.getStyle("stop-opacity"),i=this.getStyle("stop-color",!0);""===i.getString()&&i.setValue("#000"),r.hasValue()&&(i=i.addOpacity(r)),this.offset=n,this.color=i.getColor()}}class zF extends vF{constructor(A,t,e){super(A,t,e),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,A.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new rF(A,"values",null);var n=this.getAttribute("values");n.hasValue()&&this.values.setValue(n.getString().split(";"))}getProperty(){var A=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return"CSS"===A?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}calcValue(){var{initialUnits:A}=this,{progress:t,from:e,to:n}=this.getProgress(),r=e.getNumber()+(n.getNumber()-e.getNumber())*t;return"%"===A&&(r*=100),"".concat(r).concat(A)}update(A){var{parent:t}=this,e=this.getProperty();if(this.initialValue||(this.initialValue=e.getString(),this.initialUnits=e.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==n||this.frozen){if("remove"===n&&!this.removed)return this.removed=!0,e.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=e.getString();return!1}this.duration+=A;var r=!1;if(this.begin<this.duration){var i=this.calcValue(),s=this.getAttribute("type");if(s.hasValue()){var o=s.getString();i="".concat(o,"(").concat(i,")")}e.setValue(i),r=!0}return r}getProgress(){var{document:A,values:t}=this,e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var n=e.progress*(t.getValue().length-1),r=Math.floor(n),i=Math.ceil(n);e.from=new rF(A,"from",parseFloat(t.getValue()[r])),e.to=new rF(A,"to",parseFloat(t.getValue()[i])),e.progress=(n-r)/(i-r)}else e.from=this.from,e.to=this.to;return e}}class ZF extends zF{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:A,from:t,to:e}=this.getProgress(),n=new XU(t.getColor()),r=new XU(e.getColor());if(n.ok&&r.ok){var i=n.r+(r.r-n.r)*A,s=n.g+(r.g-n.g)*A,o=n.b+(r.b-n.b)*A;return"rgb(".concat(Math.floor(i),", ").concat(Math.floor(s),", ").concat(Math.floor(o),")")}return this.getAttribute("from").getColor()}}class $F extends zF{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:A,from:t,to:e}=this.getProgress(),n=OQ(t.getString()),r=OQ(e.getString());return n.map((t,e)=>t+(r[e]-t)*A).join(" ")}}class AI extends vF{constructor(A,t,e){super(A,t,e),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:n}=A,{children:r}=this;for(var i of r)switch(i.type){case"font-face":this.fontFace=i;var s=i.getStyle("font-family");s.hasValue()&&(n[s.getString()]=this);break;case"missing-glyph":this.missingGlyph=i;break;case"glyph":var o=i;o.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[o.unicode]&&(this.glyphs[o.unicode]=Object.create(null)),this.glyphs[o.unicode][o.arabicForm]=o):this.glyphs[o.unicode]=o}}render(){}}class tI extends vF{constructor(A,t,e){super(A,t,e),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class eI extends TF{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class nI extends OF{constructor(){super(...arguments),this.type="tref"}getText(){var A=this.getHrefAttribute().getDefinition();if(A){var t=A.children[0];if(t)return t.getText()}return""}}class rI extends OF{constructor(A,t,e){super(A,t,e),this.type="a";var{childNodes:n}=t,r=n[0],i=n.length>0&&Array.from(n).every(A=>3===A.nodeType);this.hasText=i,this.text=i?this.getTextFromNode(r):""}getText(){return this.text}renderChildren(A){if(this.hasText){super.renderChildren(A);var{document:t,x:e,y:n}=this,{mouse:r}=t.screen,i=new rF(t,"fontSize",QF.parse(t.ctx.font).fontSize);r.isWorking()&&r.checkBoundingBox(this,new FF(e,n-i.getPixels("y"),e+this.measureText(A),n))}else if(this.children.length>0){var s=new XF(this.document,null);s.children=this.children,s.parent=this,s.render(A)}}onClick(){var{window:A}=this.document;A&&A.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function iI(A,t){var e=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(A,t).enumerable})),e.push.apply(e,n)}return e}function sI(A){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?iI(Object(e),!0).forEach(function(t){gU(A,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(e)):iI(Object(e)).forEach(function(t){Object.defineProperty(A,t,Object.getOwnPropertyDescriptor(e,t))})}return A}class oI extends OF{constructor(A,t,e){super(A,t,e),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var n=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(n)}getText(){return this.text}path(A){var{dataArray:t}=this;A&&A.beginPath(),t.forEach(t=>{var{type:e,points:n}=t;switch(e){case IF.LINE_TO:A&&A.lineTo(n[0],n[1]);break;case IF.MOVE_TO:A&&A.moveTo(n[0],n[1]);break;case IF.CURVE_TO:A&&A.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case IF.QUAD_TO:A&&A.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case IF.ARC:var[r,i,s,o,a,l,u,c]=n,h=s>o?s:o,f=s>o?1:s/o,d=s>o?o/s:1;A&&(A.translate(r,i),A.rotate(u),A.scale(f,d),A.arc(0,0,h,a,a+l,Boolean(1-c)),A.scale(1/f,1/d),A.rotate(-u),A.translate(-r,-i));break;case IF.CLOSE_PATH:A&&A.closePath()}})}renderChildren(A){this.setTextData(A),A.save();var t=this.parent.getStyle("text-decoration").getString(),e=this.getFontSize(),{glyphInfo:n}=this,r=A.fillStyle;"underline"===t&&A.beginPath(),n.forEach((n,r)=>{var{p0:i,p1:s,rotation:o,text:a}=n;A.save(),A.translate(i.x,i.y),A.rotate(o),A.fillStyle&&A.fillText(a,0,0),A.strokeStyle&&A.strokeText(a,0,0),A.restore(),"underline"===t&&(0===r&&A.moveTo(i.x,i.y+e/8),A.lineTo(s.x,s.y+e/5))}),"underline"===t&&(A.lineWidth=e/20,A.strokeStyle=r,A.stroke(),A.closePath()),A.restore()}getLetterSpacingAt(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[A]||0}findSegmentToFitChar(A,t,e,n,r,i,s,o,a){var l=i,u=this.measureText(A,o);" "===o&&"justify"===t&&e<n&&(u+=(n-e)/r),a>-1&&(l+=this.getLetterSpacingAt(a));var c=this.textHeight/20,h=this.getEquidistantPointOnPath(l,c,0),f=this.getEquidistantPointOnPath(l+u,c,0),d={p0:h,p1:f},p=h&&f?Math.atan2(f.y-h.y,f.x-h.x):0;if(s){var g=Math.cos(Math.PI/2+p)*s,B=Math.cos(-p)*s;d.p0=sI(sI({},h),{},{x:h.x+g,y:h.y+B}),d.p1=sI(sI({},f),{},{x:f.x+g,y:f.y+B})}return{offset:l+=u,segment:d,rotation:p}}measureText(A,t){var{measuresCache:e}=this,n=t||this.getText();if(e.has(n))return e.get(n);var r=this.measureTargetText(A,n);return e.set(n,r),r}setTextData(A){if(!this.glyphInfo){var t=this.getText(),e=t.split(""),n=t.split(" ").length-1,r=this.parent.getAttribute("dx").split().map(A=>A.getPixels("x")),i=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),o=this.getStyle("letter-spacing"),a=this.parent.getStyle("letter-spacing"),l=0;o.hasValue()&&"inherit"!==o.getValue()?o.hasValue()&&"initial"!==o.getValue()&&"unset"!==o.getValue()&&(l=o.getPixels()):l=a.getPixels();var u=[],c=t.length;this.letterSpacingCache=u;for(var h=0;h<c;h++)u.push(void 0!==r[h]?r[h]:l);var f=u.reduce((A,t,e)=>0===e?0:A+t||0,0),d=this.measureText(A),p=Math.max(d+f,0);this.textWidth=d,this.textHeight=this.getFontSize(),this.glyphInfo=[];var g=this.getPathLength(),B=this.getStyle("startOffset").getNumber(0)*g,m=0;"middle"!==s&&"center"!==s||(m=-p/2),"end"!==s&&"right"!==s||(m=-p),m+=B,e.forEach((t,r)=>{var{offset:o,segment:a,rotation:l}=this.findSegmentToFitChar(A,s,p,g,n,m,i,t,r);m=o,a.p0&&a.p1&&this.glyphInfo.push({text:e[r],p0:a.p0,p1:a.p1,rotation:l})})}}parsePathData(A){if(this.pathLength=-1,!A)return[];var t=[],{pathParser:e}=A;for(e.reset();!e.isEnd();){var{current:n}=e,r=n?n.x:0,i=n?n.y:0,s=e.next(),o=s.type,a=[];switch(s.type){case IF.MOVE_TO:this.pathM(e,a);break;case IF.LINE_TO:o=this.pathL(e,a);break;case IF.HORIZ_LINE_TO:o=this.pathH(e,a);break;case IF.VERT_LINE_TO:o=this.pathV(e,a);break;case IF.CURVE_TO:this.pathC(e,a);break;case IF.SMOOTH_CURVE_TO:o=this.pathS(e,a);break;case IF.QUAD_TO:this.pathQ(e,a);break;case IF.SMOOTH_QUAD_TO:o=this.pathT(e,a);break;case IF.ARC:a=this.pathA(e);break;case IF.CLOSE_PATH:TF.pathZ(e)}s.type!==IF.CLOSE_PATH?t.push({type:o,points:a,start:{x:r,y:i},pathLength:this.calcLength(r,i,o,a)}):t.push({type:IF.CLOSE_PATH,points:[],pathLength:0})}return t}pathM(A,t){var{x:e,y:n}=TF.pathM(A).point;t.push(e,n)}pathL(A,t){var{x:e,y:n}=TF.pathL(A).point;return t.push(e,n),IF.LINE_TO}pathH(A,t){var{x:e,y:n}=TF.pathH(A).point;return t.push(e,n),IF.LINE_TO}pathV(A,t){var{x:e,y:n}=TF.pathV(A).point;return t.push(e,n),IF.LINE_TO}pathC(A,t){var{point:e,controlPoint:n,currentPoint:r}=TF.pathC(A);t.push(e.x,e.y,n.x,n.y,r.x,r.y)}pathS(A,t){var{point:e,controlPoint:n,currentPoint:r}=TF.pathS(A);return t.push(e.x,e.y,n.x,n.y,r.x,r.y),IF.CURVE_TO}pathQ(A,t){var{controlPoint:e,currentPoint:n}=TF.pathQ(A);t.push(e.x,e.y,n.x,n.y)}pathT(A,t){var{controlPoint:e,currentPoint:n}=TF.pathT(A);return t.push(e.x,e.y,n.x,n.y),IF.QUAD_TO}pathA(A){var{rX:t,rY:e,sweepFlag:n,xAxisRotation:r,centp:i,a1:s,ad:o}=TF.pathA(A);return 0===n&&o>0&&(o-=2*Math.PI),1===n&&o<0&&(o+=2*Math.PI),[i.x,i.y,t,e,s,o,r,n]}calcLength(A,t,e,n){var r=0,i=null,s=null,o=0;switch(e){case IF.LINE_TO:return this.getLineLength(A,t,n[0],n[1]);case IF.CURVE_TO:for(r=0,i=this.getPointOnCubicBezier(0,A,t,n[0],n[1],n[2],n[3],n[4],n[5]),o=.01;o<=1;o+=.01)s=this.getPointOnCubicBezier(o,A,t,n[0],n[1],n[2],n[3],n[4],n[5]),r+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;return r;case IF.QUAD_TO:for(r=0,i=this.getPointOnQuadraticBezier(0,A,t,n[0],n[1],n[2],n[3]),o=.01;o<=1;o+=.01)s=this.getPointOnQuadraticBezier(o,A,t,n[0],n[1],n[2],n[3]),r+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;return r;case IF.ARC:r=0;var a=n[4],l=n[5],u=n[4]+l,c=Math.PI/180;if(Math.abs(a-u)<c&&(c=Math.abs(a-u)),i=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),l<0)for(o=a-c;o>u;o-=c)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],o,0),r+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;else for(o=a+c;o<u;o+=c)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],o,0),r+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;return s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),r+=this.getLineLength(i.x,i.y,s.x,s.y)}return 0}getPointOnLine(A,t,e,n,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e,o=(r-e)/(n-t+YQ),a=Math.sqrt(A*A/(1+o*o));n<t&&(a*=-1);var l=o*a,u=null;if(n===t)u={x:i,y:s+l};else if((s-e)/(i-t+YQ)===o)u={x:i+a,y:s+l};else{var c,h,f=this.getLineLength(t,e,n,r);if(f<YQ)return null;var d=(i-t)*(n-t)+(s-e)*(r-e);c=t+(d/=f*f)*(n-t),h=e+d*(r-e);var p=this.getLineLength(i,s,c,h),g=Math.sqrt(A*A-p*p);a=Math.sqrt(g*g/(1+o*o)),n<t&&(a*=-1),u={x:c+a,y:h+(l=o*a)}}return u}getPointOnPath(A){var t=this.getPathLength(),e=0,n=null;if(A<-5e-5||A-5e-5>t)return null;var{dataArray:r}=this;for(var i of r){if(!i||!(i.pathLength<5e-5||e+i.pathLength+5e-5<A)){var s=A-e,o=0;switch(i.type){case IF.LINE_TO:n=this.getPointOnLine(s,i.start.x,i.start.y,i.points[0],i.points[1],i.start.x,i.start.y);break;case IF.ARC:var a=i.points[4],l=i.points[5],u=i.points[4]+l;if(o=a+s/i.pathLength*l,l<0&&o<u||l>=0&&o>u)break;n=this.getPointOnEllipticalArc(i.points[0],i.points[1],i.points[2],i.points[3],o,i.points[6]);break;case IF.CURVE_TO:(o=s/i.pathLength)>1&&(o=1),n=this.getPointOnCubicBezier(o,i.start.x,i.start.y,i.points[0],i.points[1],i.points[2],i.points[3],i.points[4],i.points[5]);break;case IF.QUAD_TO:(o=s/i.pathLength)>1&&(o=1),n=this.getPointOnQuadraticBezier(o,i.start.x,i.start.y,i.points[0],i.points[1],i.points[2],i.points[3])}if(n)return n;break}e+=i.pathLength}return null}getLineLength(A,t,e,n){return Math.sqrt((e-A)*(e-A)+(n-t)*(n-t))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((A,t)=>t.pathLength>0?A+t.pathLength:A,0)),this.pathLength}getPointOnCubicBezier(A,t,e,n,r,i,s,o,a){return{x:o*zQ(A)+i*ZQ(A)+n*$Q(A)+t*AF(A),y:a*zQ(A)+s*ZQ(A)+r*$Q(A)+e*AF(A)}}getPointOnQuadraticBezier(A,t,e,n,r,i,s){return{x:i*tF(A)+n*eF(A)+t*nF(A),y:s*tF(A)+r*eF(A)+e*nF(A)}}getPointOnEllipticalArc(A,t,e,n,r,i){var s=Math.cos(i),o=Math.sin(i),a=e*Math.cos(r),l=n*Math.sin(r);return{x:A+(a*s-l*o),y:t+(a*o+l*s)}}buildEquidistantCache(A,t){var e=this.getPathLength(),n=t||.25,r=A||e/100;if(!this.equidistantCache||this.equidistantCache.step!==r||this.equidistantCache.precision!==n){this.equidistantCache={step:r,precision:n,points:[]};for(var i=0,s=0;s<=e;s+=n){var o=this.getPointOnPath(s),a=this.getPointOnPath(s+n);o&&a&&((i+=this.getLineLength(o.x,o.y,a.x,a.y))>=r&&(this.equidistantCache.points.push({x:o.x,y:o.y,distance:s}),i-=r))}}}getEquidistantPointOnPath(A,t,e){if(this.buildEquidistantCache(t,e),A<0||A-this.getPathLength()>5e-5)return null;var n=Math.round(A/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[n]||null}}var aI=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class lI extends SF{constructor(A,t,e){super(A,t,e),this.type="image",this.loaded=!1;var n=this.getHrefAttribute().getString();if(n){var r=n.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(n);A.images.push(this),r?this.loadSvg(n):this.loadImage(n),this.isSvg=r}}loadImage(A){var t=this;return Nb(function*(){try{var e=yield t.document.createImage(A);t.image=e}catch(n){}t.loaded=!0})()}loadSvg(A){var t=this;return Nb(function*(){var e=aI.exec(A);if(e){var n=e[5];"base64"===e[4]?t.image=atob(n):t.image=decodeURIComponent(n)}else try{var r=yield t.document.fetch(A),i=yield r.text();t.image=i}catch(s){}t.loaded=!0})()}renderChildren(A){var{document:t,image:e,loaded:n}=this,r=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(n&&e&&s&&o){if(A.save(),A.translate(r,i),this.isSvg){var a=t.canvg.forkString(A,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:o});a.document.documentElement.parent=this,a.render()}else{var l=this.image;t.setViewBox({ctx:A,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:l.width,height:o,desiredHeight:l.height}),this.loaded&&(void 0===l.complete||l.complete)&&A.drawImage(l,0,0)}A.restore()}}getBoundingBox(){var A=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),e=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new FF(A,t,A+e,t+n)}}class uI extends SF{constructor(){super(...arguments),this.type="symbol"}render(A){}}class cI{constructor(A){this.document=A,this.loaded=!1,A.fonts.push(this)}load(A,t){var e=this;return Nb(function*(){try{var{document:n}=e,r=(yield n.canvg.parser.load(t)).getElementsByTagName("font");Array.from(r).forEach(t=>{var e=n.createElement(t);n.definitions[A]=e})}catch(i){}e.loaded=!0})()}}class hI extends vF{constructor(A,t,e){super(A,t,e),this.type="style",SQ(Array.from(t.childNodes).map(A=>A.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(t=>{var e=t.trim();if(e){var n=e.split("{"),r=n[0].split(","),i=n[1].split(";");r.forEach(t=>{var e=t.trim();if(e){var n=A.styles[e]||{};if(i.forEach(t=>{var e=t.indexOf(":"),r=t.substr(0,e).trim(),i=t.substr(e+1,t.length-e).trim();r&&i&&(n[r]=new rF(A,r,i))}),A.styles[e]=n,A.stylesSpecificity[e]=XQ(e),"@font-face"===e){var r=n["font-family"].getString().replace(/"|'/g,"");n.src.getString().split(",").forEach(t=>{if(t.indexOf('format("svg")')>0){var e=RQ(t);e&&new cI(A).load(r,e)}})}}})}})}}hI.parseExternalUrl=RQ;class fI extends SF{constructor(){super(...arguments),this.type="use"}setContext(A){super.setContext(A);var t=this.getAttribute("x"),e=this.getAttribute("y");t.hasValue()&&A.translate(t.getPixels("x"),0),e.hasValue()&&A.translate(0,e.getPixels("y"))}path(A){var{element:t}=this;t&&t.path(A)}renderChildren(A){var{document:t,element:e}=this;if(e){var n=e;if("symbol"===e.type&&((n=new RF(t,null)).attributes.viewBox=new rF(t,"viewBox",e.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new rF(t,"preserveAspectRatio",e.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new rF(t,"overflow",e.getAttribute("overflow").getString()),n.children=e.children,e.styles.opacity=new rF(t,"opacity",this.calculateOpacity())),"svg"===n.type){var r=this.getStyle("width",!1,!0),i=this.getStyle("height",!1,!0);r.hasValue()&&(n.attributes.width=new rF(t,"width",r.getString())),i.hasValue()&&(n.attributes.height=new rF(t,"height",i.getString()))}var s=n.parent;n.parent=this,n.render(A),n.parent=s}}getBoundingBox(A){var{element:t}=this;return t?t.getBoundingBox(A):null}elementTransform(){var{document:A,element:t}=this;return yF.fromElement(A,t)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function dI(A,t,e,n,r,i){return A[e*n*4+4*t+i]}function pI(A,t,e,n,r,i,s){A[e*n*4+4*t+i]=s}function gI(A,t,e){return A[t]*e}function BI(A,t,e,n){return t+Math.cos(A)*e+Math.sin(A)*n}class mI extends vF{constructor(A,t,e){super(A,t,e),this.type="feColorMatrix";var n=OQ(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var r=n[0];n=[.213+.787*r,.715-.715*r,.072-.072*r,0,0,.213-.213*r,.715+.285*r,.072-.072*r,0,0,.213-.213*r,.715-.715*r,.072+.928*r,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=n[0]*Math.PI/180;n=[BI(i,.213,.787,-.213),BI(i,.715,-.715,-.715),BI(i,.072,-.072,.928),0,0,BI(i,.213,-.213,.143),BI(i,.715,.285,.14),BI(i,.072,-.072,-.283),0,0,BI(i,.213,-.213,-.787),BI(i,.715,-.715,.715),BI(i,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=n,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(A,t,e,n,r){for(var{includeOpacity:i,matrix:s}=this,o=A.getImageData(0,0,n,r),a=0;a<r;a++)for(var l=0;l<n;l++){var u=dI(o.data,l,a,n,0,0),c=dI(o.data,l,a,n,0,1),h=dI(o.data,l,a,n,0,2),f=dI(o.data,l,a,n,0,3),d=gI(s,0,u)+gI(s,1,c)+gI(s,2,h)+gI(s,3,f)+gI(s,4,1),p=gI(s,5,u)+gI(s,6,c)+gI(s,7,h)+gI(s,8,f)+gI(s,9,1),g=gI(s,10,u)+gI(s,11,c)+gI(s,12,h)+gI(s,13,f)+gI(s,14,1),B=gI(s,15,u)+gI(s,16,c)+gI(s,17,h)+gI(s,18,f)+gI(s,19,1);i&&(d=0,p=0,g=0,B*=f/255),pI(o.data,l,a,n,0,0,d),pI(o.data,l,a,n,0,1,p),pI(o.data,l,a,n,0,2,g),pI(o.data,l,a,n,0,3,B)}A.clearRect(0,0,n,r),A.putImageData(o,0,0)}}class wI extends vF{constructor(){super(...arguments),this.type="mask"}apply(A,t){var{document:e}=this,n=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),i=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!i&&!s){var o=new FF;this.children.forEach(t=>{o.addBoundingBox(t.getBoundingBox(A))}),n=Math.floor(o.x1),r=Math.floor(o.y1),i=Math.floor(o.width),s=Math.floor(o.height)}var a=this.removeStyles(t,wI.ignoreStyles),l=e.createCanvas(n+i,r+s),u=l.getContext("2d");e.screen.setDefaults(u),this.renderChildren(u),new mI(e,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(u,0,0,n+i,r+s);var c=e.createCanvas(n+i,r+s),h=c.getContext("2d");e.screen.setDefaults(h),t.render(h),h.globalCompositeOperation="destination-in",h.fillStyle=u.createPattern(l,"no-repeat"),h.fillRect(0,0,n+i,r+s),A.fillStyle=h.createPattern(c,"no-repeat"),A.fillRect(0,0,n+i,r+s),this.restoreStyles(t,a)}render(A){}}wI.ignoreStyles=["mask","transform","clip-path"];var _I=()=>{};class yI extends vF{constructor(){super(...arguments),this.type="clipPath"}apply(A){var{document:t}=this,e=Reflect.getPrototypeOf(A),{beginPath:n,closePath:r}=A;e&&(e.beginPath=_I,e.closePath=_I),Reflect.apply(n,A,[]),this.children.forEach(n=>{if(void 0!==n.path){var i=void 0!==n.elementTransform?n.elementTransform():null;i||(i=yF.fromElement(t,n)),i&&i.apply(A),n.path(A),e&&(e.closePath=r),i&&i.unapply(A)}}),Reflect.apply(r,A,[]),A.clip(),e&&(e.beginPath=n,e.closePath=r)}render(A){}}class vI extends vF{constructor(){super(...arguments),this.type="filter"}apply(A,t){var{document:e,children:n}=this,r=t.getBoundingBox(A);if(r){var i=0,s=0;n.forEach(A=>{var t=A.extraFilterDistance||0;i=Math.max(i,t),s=Math.max(s,t)});var o=Math.floor(r.width),a=Math.floor(r.height),l=o+2*i,u=a+2*s;if(!(l<1||u<1)){var c=Math.floor(r.x),h=Math.floor(r.y),f=this.removeStyles(t,vI.ignoreStyles),d=e.createCanvas(l,u),p=d.getContext("2d");e.screen.setDefaults(p),p.translate(-c+i,-h+s),t.render(p),n.forEach(A=>{"function"==typeof A.apply&&A.apply(p,0,0,l,u)}),A.drawImage(d,0,0,l,u,c-i,h-s,l,u),this.restoreStyles(t,f)}}}render(A){}}vI.ignoreStyles=["filter","transform","clip-path"];class CI extends vF{constructor(A,t,e){super(A,t,e),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(A,t,e,n,r){}}class bI extends vF{constructor(){super(...arguments),this.type="feMorphology"}apply(A,t,e,n,r){}}class EI extends vF{constructor(){super(...arguments),this.type="feComposite"}apply(A,t,e,n,r){}}class UI extends vF{constructor(A,t,e){super(A,t,e),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(A,t,e,n,r){var{document:i,blurRadius:s}=this,o=i.window?i.window.document.body:null,a=A.canvas;a.id=i.getUniqueId(),o&&(a.style.display="none",o.appendChild(a)),QQ(a,t,e,n,r,s),o&&o.removeChild(a)}}class QI extends vF{constructor(){super(...arguments),this.type="title"}}class FI extends vF{constructor(){super(...arguments),this.type="desc"}}var II={svg:RF,rect:PF,circle:NF,ellipse:LF,line:DF,polyline:kF,polygon:VF,path:TF,pattern:KF,marker:GF,defs:qF,linearGradient:jF,radialGradient:JF,stop:WF,animate:zF,animateColor:ZF,animateTransform:$F,font:AI,"font-face":tI,"missing-glyph":eI,glyph:xF,text:OF,tspan:HF,tref:nI,a:rI,textPath:oI,image:lI,g:XF,symbol:uI,style:hI,use:fI,mask:wI,clipPath:yI,filter:vI,feDropShadow:CI,feMorphology:bI,feComposite:EI,feColorMatrix:mI,feGaussianBlur:UI,title:QI,desc:FI};function SI(A,t){var e=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(A,t).enumerable})),e.push.apply(e,n)}return e}function TI(){return TI=Nb(function*(A){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=document.createElement("img");return t&&(e.crossOrigin="Anonymous"),new Promise((t,n)=>{e.onload=()=>{t(e)},e.onerror=(A,t,e,r,i)=>{n(i)},e.src=A})}),TI.apply(this,arguments)}class xI{constructor(A){var{rootEmSize:t=12,emSize:e=12,createCanvas:n=xI.createCanvas,createImage:r=xI.createImage,anonymousCrossOrigin:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=A,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=A.screen,this.rootEmSize=t,this.emSize=e,this.createCanvas=n,this.createImage=this.bindCreateImage(r,i),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(A,t){return"boolean"==typeof t?(e,n)=>A(e,"boolean"==typeof n?n:t):A}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:A}=this;return A[A.length-1]}set emSize(A){var{emSizeStack:t}=this;t.push(A)}popEmSize(){var{emSizeStack:A}=this;A.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(A=>A.loaded)}isFontsLoaded(){return this.fonts.every(A=>A.loaded)}createDocumentElement(A){var t=this.createElement(A.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}createElement(A){var t=A.nodeName.replace(/^[^:]+:/,""),e=xI.elementTypes[t];return void 0!==e?new e(this,A):new CF(this,A)}createTextNode(A){return new MF(this,A)}setViewBox(A){this.screen.setViewBox(function(A){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(e),!0).forEach(function(t){gU(A,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(e)):SI(Object(e)).forEach(function(t){Object.defineProperty(A,t,Object.getOwnPropertyDescriptor(e,t))})}return A}({document:this},A))}}function OI(A,t){var e=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(A,t).enumerable})),e.push.apply(e,n)}return e}function HI(A){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?OI(Object(e),!0).forEach(function(t){gU(A,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(e)):OI(Object(e)).forEach(function(t){Object.defineProperty(A,t,Object.getOwnPropertyDescriptor(e,t))})}return A}xI.createCanvas=function(A,t){var e=document.createElement("canvas");return e.width=A,e.height=t,e},xI.createImage=function(A){return TI.apply(this,arguments)},xI.elementTypes=II;class MI{constructor(A,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new fF(e),this.screen=new uF(A,e),this.options=e;var n=new xI(this,e),r=n.createDocumentElement(t);this.document=n,this.documentElement=r}static from(A,t){var e=arguments;return Nb(function*(){var n=e.length>2&&void 0!==e[2]?e[2]:{},r=new fF(n),i=yield r.parse(t);return new MI(A,i,n)})()}static fromString(A,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new fF(e).parseFromString(t);return new MI(A,n,e)}fork(A,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return MI.from(A,t,HI(HI({},this.options),e))}forkString(A,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return MI.fromString(A,t,HI(HI({},this.options),e))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var A=arguments,t=this;return Nb(function*(){var e=A.length>0&&void 0!==A[0]?A[0]:{};t.start(HI({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},e)),yield t.ready(),t.stop()})()}start(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:t,screen:e,options:n}=this;e.start(t,HI(HI({enableRedraw:!0},n),A))}stop(){this.screen.stop()}resize(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(A,t,e)}}const RI=Object.freeze(Object.defineProperty({__proto__:null,AElement:rI,AnimateColorElement:ZF,AnimateElement:zF,AnimateTransformElement:$F,BoundingBox:FF,CB1:zQ,CB2:ZQ,CB3:$Q,CB4:AF,Canvg:MI,CircleElement:NF,ClipPathElement:yI,DefsElement:qF,DescElement:FI,Document:xI,Element:vF,EllipseElement:LF,FeColorMatrixElement:mI,FeCompositeElement:EI,FeDropShadowElement:CI,FeGaussianBlurElement:UI,FeMorphologyElement:bI,FilterElement:vI,Font:QF,FontElement:AI,FontFaceElement:tI,GElement:XF,GlyphElement:xF,GradientElement:YF,ImageElement:lI,LineElement:DF,LinearGradientElement:jF,MarkerElement:GF,MaskElement:wI,Matrix:BF,MissingGlyphElement:eI,Mouse:oF,PSEUDO_ZERO:YQ,Parser:fF,PathElement:TF,PathParser:IF,PatternElement:KF,Point:sF,PolygonElement:VF,PolylineElement:kF,Property:rF,QB1:tF,QB2:eF,QB3:nF,RadialGradientElement:JF,RectElement:PF,RenderedElement:SF,Rotate:pF,SVGElement:RF,SVGFontLoader:cI,Scale:gF,Screen:uF,Skew:mF,SkewX:wF,SkewY:_F,StopElement:WF,StyleElement:hI,SymbolElement:uI,TRefElement:nI,TSpanElement:HF,TextElement:OF,TextPathElement:oI,TitleElement:QI,Transform:yF,Translate:dF,UnknownElement:CF,UseElement:fI,ViewPort:iF,compressSpaces:SQ,default:MI,getSelectorSpecificity:XQ,normalizeAttributeName:MQ,normalizeColor:PQ,parseExternalUrl:RQ,presets:IQ,toNumbers:OQ,trimLeft:TQ,trimRight:xQ,vectorMagnitude:jQ,vectorsAngle:WQ,vectorsRatio:JQ},Symbol.toStringTag,{value:"Module"}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PI=function(A,t){return(PI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,t){A.__proto__=t}||function(A,t){for(var e in t)t.hasOwnProperty(e)&&(A[e]=t[e])})(A,t)};function NI(A,t){function e(){this.constructor=A}PI(A,t),A.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var LI=function(){return LI=Object.assign||function(A){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(A[r]=t[r]);return A},LI.apply(this,arguments)};function DI(A,t){var e={};for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&t.indexOf(n)<0&&(e[n]=A[n]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(A);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(A,n[r])&&(e[n[r]]=A[n[r]])}return e}function kI(A,t,e,n){return new(e||(e=Promise))(function(t,r){function i(A){try{o(n.next(A))}catch(GI){r(GI)}}function s(A){try{o(n.throw(A))}catch(GI){r(GI)}}function o(A){var n;A.done?t(A.value):(n=A.value,n instanceof e?n:new e(function(A){A(n)})).then(i,s)}o((n=n.apply(A,[])).next())})}function VI(A,t){var e,n,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(A,s)}catch(GI){i=[6,GI],n=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function KI(){for(var A=0,t=0,e=arguments.length;t<e;t++)A+=arguments[t].length;var n=Array(A),r=0;for(t=0;t<e;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,r++)n[r]=i[s];return n}export{vi as G,Ci as _,ss as a,NI as b,KI as c,ba as d,LI as e,kI as f,n as g,VI as h,DI as i,VB as j,RI as k,su as l,y as o,Ym as p,a as r,ns as z};
