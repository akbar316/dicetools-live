const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BNrQ-4hn.js","assets/index-Dgykt2cV.js","assets/categories-_4dQZ5Hg.js","assets/SignInPage-D4eEVFWi.js","assets/usageManager-D0sdWj63.js"])))=>i.map(i=>d[i]);
var QM=Object.defineProperty;var EA=r=>{throw TypeError(r)};var $M=(r,e,t)=>e in r?QM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var xt=(r,e,t)=>$M(r,typeof e!="symbol"?e+"":e,t),P5=(r,e,t)=>e.has(r)||EA("Cannot "+t);var p=(r,e,t)=>(P5(r,e,"read from private field"),t?t.call(r):e.get(r)),de=(r,e,t)=>e.has(r)?EA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Q=(r,e,t,n)=>(P5(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),ve=(r,e,t)=>(P5(r,e,"access private method"),t);var Ri=(r,e,t,n)=>({set _(i){Q(r,e,i,t)},get _(){return p(r,e,n)}});import{c as Yt,j as b,r as Qe,u as v2,L as eP,P as tT,a as CA,F as zd,_ as F5,b as tP,I as L5,g as Rx,d as TA,M as ib,e as T_,f as nP,S as nT,C as N_,h as rP,i as iP,B as aP,k as rT,l as sP,m as oP,H as R_,n as lP,A as cP,Z as NA,o as B4,p as uP,q as RA,s as dP,t as hP}from"./index-Dgykt2cV.js";import{C as fP,a as pP,S as O4,T as iT,A as I_}from"./categories-_4dQZ5Hg.js";import mP from"./SignInPage-D4eEVFWi.js";import{C as Qa,i as Wd,c as Ix,s as Mx,a as Px,S as gP}from"./usageManager-D0sdWj63.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bP=Yt("arrow-left",vP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],xP=Yt("arrow-up-right",yP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],_P=Yt("bold",wP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],AP=Yt("cake",SP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],EP=Yt("chart-column",kP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],TP=Yt("chart-pie",CP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IA=Yt("chevron-right",NP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qs=Yt("circle-alert",RP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jf=Yt("circle-check",IP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PP=Yt("circle-question-mark",MP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],M_=Yt("circle-x",FP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DP=Yt("circle",LP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lb=Yt("clock",BP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],jP=Yt("coffee",OP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],j1=Yt("copy",UP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],HP=Yt("database",qP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ma=Yt("download",zP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],GP=Yt("eraser",VP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],XP=Yt("external-link",WP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],YP=Yt("file-pen-line",KP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],JP=Yt("file-plus",ZP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],MA=Yt("gauge",QP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pm=Yt("globe",$P);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],t9=Yt("grid-3x3",e9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],r9=Yt("grip-vertical",n9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],a9=Yt("heart",i9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],o9=Yt("highlighter",s9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],c9=Yt("house",l9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mg=Yt("info",u9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],h9=Yt("italic",d9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],si=Yt("loader-circle",f9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],m9=Yt("monitor",p9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],v9=Yt("mouse-pointer-2",g9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],aT=Yt("move-down",b9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],sT=Yt("move-up",y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],PA=Yt("music",x9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oT=Yt("palette",w9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],lT=Yt("panels-top-left",_9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],A9=Yt("pipette",S9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cT=Yt("plus",k9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Db=Yt("refresh-ccw",E9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b2=Yt("refresh-cw",C9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],N9=Yt("rocket",T9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],I9=Yt("rotate-cw",R9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],uT=Yt("ruler",M9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],j4=Yt("share-2",P9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],L9=Yt("signal",F9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],B9=Yt("sliders-vertical",D9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],j9=Yt("smartphone",O9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],dT=Yt("sparkles",U9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],H9=Yt("square",q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],V9=Yt("thermometer",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],a0=Yt("trash-2",G9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Iy=Yt("triangle-alert",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],U1=Yt("upload",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Y9=Yt("user-check",K9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],J9=Yt("volume-2",Z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Qf=Yt("wand-sparkles",Q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],hT=Yt("weight",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],tF=Yt("wind",eF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fT=Yt("x",nF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],iF=Yt("zoom-in",rF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sF=Yt("zoom-out",aF),oF=({tool:r,onBack:e,onSelectCategory:t,children:n})=>{const i=fP.find(a=>a.id===r.categoryId);return b.jsxs("div",{className:"min-h-screen bg-slate-50/50 dark:bg-slate-950 animate-fade-in",children:[b.jsx("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-16 z-30",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 overflow-x-auto whitespace-nowrap",children:[b.jsx("button",{onClick:e,className:"hover:text-primary-600 flex items-center",children:b.jsx(c9,{className:"w-4 h-4"})}),b.jsx(IA,{className:"w-4 h-4 text-slate-300"}),b.jsx("button",{onClick:()=>i?t(i.id):e(),className:"hover:text-primary-600 cursor-pointer font-medium text-slate-600 dark:text-slate-400 hover:underline transition-all",children:(i==null?void 0:i.name)||"Tools"}),b.jsx(IA,{className:"w-4 h-4 text-slate-300"}),b.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:r.name})]}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-primary-600 transition-colors",children:[b.jsx(bP,{className:"w-4 h-4"})," Back"]})]})}),b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[b.jsxs("div",{className:"mb-10 text-center max-w-3xl mx-auto",children:[b.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-white to-slate-100 dark:from-slate-800 dark:to-slate-900 shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center mx-auto mb-6",children:b.jsx(r.icon,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),b.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[r.name,r.isNew&&b.jsx("span",{className:"text-xs px-2 py-1 bg-blue-500 text-white rounded-full font-bold uppercase tracking-wider",children:"New"}),r.isPopular&&b.jsx("span",{className:"text-xs px-2 py-1 bg-orange-500 text-white rounded-full font-bold uppercase tracking-wider",children:"Hot"})]}),b.jsx("p",{className:"text-lg text-slate-500 dark:text-slate-400",children:r.description})]}),n]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lF,cF;function uF(){return{geminiUrl:lF,vertexUrl:cF}}function dF(r,e,t,n){var i,a;if(!(r!=null&&r.baseUrl)){const s=uF();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:t:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return r.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wu{}function Ut(r,e){const t=/\{([^}]+)\}/g;return r.replace(t,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(r,e,t){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in r))if(Array.isArray(t))r[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(r[o])){const l=r[o];if(Array.isArray(t))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(a+1),t[c])}else for(const c of l)E(c,e.slice(a+1),t)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in r||(r[o]=[{}]);const l=r[o];E(l[0],e.slice(a+1),t);return}(!r[s]||typeof r[s]!="object")&&(r[s]={}),r=r[s]}const n=e[e.length-1],i=r[n];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(r,t):r[n]=t}function _(r,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return r;for(let n=0;n<e.length;n++){if(typeof r!="object"||r===null)return t;const i=e[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in r){const s=r[a];return Array.isArray(s)?s.map(o=>_(o,e.slice(n+1),t)):t}else return t}else r=r[i]}return r}catch(n){if(n instanceof TypeError)return t;throw n}}function hF(r,e){for(const[t,n]of Object.entries(e)){const i=t.split("."),a=n.split("."),s=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&a.length>o)for(let l=o;l<a.length;l++){const c=a[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}P_(r,i,a,0,s)}}function P_(r,e,t,n,i){if(n>=e.length||typeof r!="object"||r===null)return;const a=e[n];if(a.endsWith("[]")){const s=a.slice(0,-2),o=r;if(s in o&&Array.isArray(o[s]))for(const l of o[s])P_(l,e,t,n+1,i)}else if(a==="*"){if(typeof r=="object"&&r!==null&&!Array.isArray(r)){const s=r,o=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of o)l[c]=s[c];for(const[c,u]of Object.entries(l)){const d=[];for(const h of t.slice(n))h==="*"?d.push(c):d.push(h);E(s,d,u)}for(const c of o)delete s[c]}}else{const s=r;a in s&&P_(s[a],e,t,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U4(r){if(typeof r!="string")throw new Error("fromImageBytes must be a string");return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fF(r){const e={},t=_(r,["operationName"]);t!=null&&E(e,["operationName"],t);const n=_(r,["resourceName"]);return n!=null&&E(e,["_url","resourceName"],n),e}function pF(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response","generateVideoResponse"]);return s!=null&&E(e,["response"],gF(s)),e}function mF(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response"]);return s!=null&&E(e,["response"],vF(s)),e}function gF(r){const e={},t=_(r,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>bF(s))),E(e,["generatedVideos"],a)}const n=_(r,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=_(r,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function vF(r){const e={},t=_(r,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>yF(s))),E(e,["generatedVideos"],a)}const n=_(r,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=_(r,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function bF(r){const e={},t=_(r,["video"]);return t!=null&&E(e,["video"],kF(t)),e}function yF(r){const e={},t=_(r,["_self"]);return t!=null&&E(e,["video"],EF(t)),e}function xF(r){const e={},t=_(r,["operationName"]);return t!=null&&E(e,["_url","operationName"],t),e}function wF(r){const e={},t=_(r,["operationName"]);return t!=null&&E(e,["_url","operationName"],t),e}function _F(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response"]);return s!=null&&E(e,["response"],SF(s)),e}function SF(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["parent"]);n!=null&&E(e,["parent"],n);const i=_(r,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function pT(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response"]);return s!=null&&E(e,["response"],AF(s)),e}function AF(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["parent"]);n!=null&&E(e,["parent"],n);const i=_(r,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function kF(r){const e={},t=_(r,["uri"]);t!=null&&E(e,["uri"],t);const n=_(r,["encodedVideo"]);n!=null&&E(e,["videoBytes"],U4(n));const i=_(r,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function EF(r){const e={},t=_(r,["gcsUri"]);t!=null&&E(e,["uri"],t);const n=_(r,["bytesBase64Encoded"]);n!=null&&E(e,["videoBytes"],U4(n));const i=_(r,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var FA;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(FA||(FA={}));var LA;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(LA||(LA={}));var DA;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(DA||(DA={}));var Ud;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(Ud||(Ud={}));var BA;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(BA||(BA={}));var OA;(function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"})(OA||(OA={}));var jA;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(jA||(jA={}));var UA;(function(r){r.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",r.HTTP_IN_QUERY="HTTP_IN_QUERY",r.HTTP_IN_HEADER="HTTP_IN_HEADER",r.HTTP_IN_PATH="HTTP_IN_PATH",r.HTTP_IN_BODY="HTTP_IN_BODY",r.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(UA||(UA={}));var qA;(function(r){r.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",r.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",r.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",r.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(qA||(qA={}));var HA;(function(r){r.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",r.LOW="LOW",r.HIGH="HIGH"})(HA||(HA={}));var zA;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(zA||(zA={}));var VA;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(VA||(VA={}));var GA;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(GA||(GA={}));var WA;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",r.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",r.NO_IMAGE="NO_IMAGE"})(WA||(WA={}));var XA;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(XA||(XA={}));var KA;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(KA||(KA={}));var YA;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(YA||(YA={}));var ZA;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY",r.MODEL_ARMOR="MODEL_ARMOR",r.JAILBREAK="JAILBREAK"})(ZA||(ZA={}));var JA;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(JA||(JA={}));var My;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(My||(My={}));var QA;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(QA||(QA={}));var $A;(function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($A||($A={}));var e8;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(e8||(e8={}));var F_;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(F_||(F_={}));var t8;(function(r){r.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",r.TUNING_TASK_I2V="TUNING_TASK_I2V",r.TUNING_TASK_T2V="TUNING_TASK_T2V",r.TUNING_TASK_R2V="TUNING_TASK_R2V"})(t8||(t8={}));var n8;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(n8||(n8={}));var r8;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(r8||(r8={}));var i8;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(i8||(i8={}));var a8;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(a8||(a8={}));var s8;(function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(s8||(s8={}));var o8;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"})(o8||(o8={}));var l8;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(l8||(l8={}));var c8;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(c8||(c8={}));var u8;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"})(u8||(u8={}));var d8;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(d8||(d8={}));var h8;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(h8||(h8={}));var f8;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(f8||(f8={}));var p8;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(p8||(p8={}));var m8;(function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"})(m8||(m8={}));var g8;(function(r){r.ASSET="ASSET",r.STYLE="STYLE"})(g8||(g8={}));var v8;(function(r){r.INSERT="INSERT",r.REMOVE="REMOVE",r.REMOVE_STATIC="REMOVE_STATIC",r.OUTPAINT="OUTPAINT"})(v8||(v8={}));var b8;(function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"})(b8||(b8={}));var y8;(function(r){r.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",r.PREFERENCE_TUNING="PREFERENCE_TUNING"})(y8||(y8={}));var x8;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.STATE_PENDING="STATE_PENDING",r.STATE_ACTIVE="STATE_ACTIVE",r.STATE_FAILED="STATE_FAILED"})(x8||(x8={}));var w8;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(w8||(w8={}));var _8;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(_8||(_8={}));var S8;(function(r){r.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.RESPONSE_REJECTED="RESPONSE_REJECTED",r.NEED_MORE_INPUT="NEED_MORE_INPUT"})(S8||(S8={}));var A8;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(A8||(A8={}));var k8;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(k8||(k8={}));var E8;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(E8||(E8={}));var C8;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(C8||(C8={}));var T8;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(T8||(T8={}));var N8;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(N8||(N8={}));var R8;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"})(R8||(R8={}));var X0;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(X0||(X0={}));class L_{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class bm{get text(){var e,t,n,i,a,s,o,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const d=[];for(const h of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[f,g]of Object.entries(h))f!=="text"&&f!=="thought"&&f!=="thoughtSignature"&&(g!==null||g!==void 0)&&d.push(f);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,t,n,i,a,s,o,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const d of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,f]of Object.entries(d))h!=="inlineData"&&(f!==null||f!==void 0)&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(c+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,n,i,a,s,o,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,n,i,a,s,o,l,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,n,i,a,s,o,l,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class I8{}class M8{}class CF{}class TF{}class NF{}class RF{}class P8{}class F8{}class L8{}class IF{}class Py{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new Py;let i;const a=e;return t?i=mF(a):i=pF(a),Object.assign(n,i),n}}class D8{}class B8{}class O8{}class MF{}class PF{}class FF{}class q4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new q4,a=_F(e);return Object.assign(n,a),n}}class LF{}class DF{}class BF{}class j8{}class OF{get text(){var e,t,n;let i="",a=!1;const s=[];for(const o of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&s.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,t,n;let i="";const a=[];for(const s of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[o,l]of Object.entries(s))o!=="inlineData"&&l!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class jF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class H4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new H4,a=pT(e);return Object.assign(n,a),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $n(r,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(r.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mT(r,e){const t=$n(r,e);return t?t.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}`:t.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${t}`:t:""}function gT(r){return Array.isArray(r)?r.map(e=>Fy(e)):[Fy(r)]}function Fy(r){if(typeof r=="object"&&r!==null)return r;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof r}`)}function vT(r){const e=Fy(r);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bT(r){const e=Fy(r);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function U8(r){if(r==null)throw new Error("PartUnion is required");if(typeof r=="object")return r;if(typeof r=="string")return{text:r};throw new Error(`Unsupported part type: ${typeof r}`)}function yT(r){if(r==null||Array.isArray(r)&&r.length===0)throw new Error("PartListUnion is required");return Array.isArray(r)?r.map(e=>U8(e)):[U8(r)]}function D_(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function q8(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function H8(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function Ma(r){if(r==null)throw new Error("ContentUnion is required");return D_(r)?r:{role:"user",parts:yT(r)}}function z4(r,e){if(!e)return[];if(r.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const n=Ma(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(r.isVertexAI()){const t=Ma(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ma(t)):[Ma(e)]}function Io(r){if(r==null||Array.isArray(r)&&r.length===0)throw new Error("contents are required");if(!Array.isArray(r)){if(q8(r)||H8(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ma(r)]}const e=[],t=[],n=D_(r[0]);for(const i of r){const a=D_(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(q8(i)||H8(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return n||e.push({role:"user",parts:yT(t)}),e}function UF(r,e){r.includes("null")&&(e.nullable=!0);const t=r.filter(n=>n!=="null");if(t.length===1)e.type=Object.values(Ud).includes(t[0].toUpperCase())?t[0].toUpperCase():Ud.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of t)e.anyOf.push({type:Object.values(Ud).includes(n.toUpperCase())?n.toUpperCase():Ud.TYPE_UNSPECIFIED})}}function rp(r){const e={},t=["items"],n=["anyOf"],i=["properties"];if(r.type&&r.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=r.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,r=a[1]):a[1].type==="null"&&(e.nullable=!0,r=a[0])),r.type instanceof Array&&UF(r.type,e);for(const[s,o]of Object.entries(r))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Ud).includes(o.toUpperCase())?o.toUpperCase():Ud.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=rp(o);else if(n.includes(s)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(rp(c))}e[s]=l}else if(i.includes(s)){const l={};for(const[c,u]of Object.entries(o))l[c]=rp(u);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=o}return e}function V4(r){return rp(r)}function G4(r){if(typeof r=="object")return r;if(typeof r=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:r}}};throw new Error(`Unsupported speechConfig type: ${typeof r}`)}function W4(r){if("multiSpeakerVoiceConfig"in r)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return r}function q1(r){if(r.functionDeclarations)for(const e of r.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=rp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=rp(e.response));return r}function H1(r){if(r==null)throw new Error("tools is required");if(!Array.isArray(r))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of r)e.push(t);return e}function qF(r,e,t,n=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===n;return r.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${r.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${r.getProject()}/locations/${r.getLocation()}/${e}`:i?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function _u(r,e){if(typeof e!="string")throw new Error("name must be a string");return qF(r,e,"cachedContents")}function xT(r){switch(r){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return r}}function eh(r){return U4(r)}function HF(r){return r!=null&&typeof r=="object"&&"name"in r}function zF(r){return r!=null&&typeof r=="object"&&"video"in r}function VF(r){return r!=null&&typeof r=="object"&&"uri"in r}function wT(r){var e;let t;if(HF(r)&&(t=r.name),!(VF(r)&&(t=r.uri,t===void 0))&&!(zF(r)&&(t=(e=r.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof r=="string"&&(t=r),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function _T(r,e){let t;return r.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function ST(r){for(const e of["models","tunedModels","publisherModels"])if(GF(r,e))return r[e];return[]}function GF(r,e){return r!==null&&typeof r=="object"&&e in r}function WF(r,e={}){const t=r,n={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(n.responseJsonSchema=t.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function XF(r,e={}){const t=[],n=new Set;for(const i of r){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=WF(i,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function AT(r,e){let t;if(typeof e=="string")if(r.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(r.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const n=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(r.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function KF(r){if(typeof r!="string")return r;const e=r;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function kT(r){if(typeof r!="object"||r===null)return{};const e=r,t=e.inlinedResponses;if(typeof t!="object"||t===null)return r;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return r;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),r}function z1(r,e){const t=e;if(!r.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function ET(r){const e=r;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YF(r){const e={},t=_(r,["responsesFile"]);t!=null&&E(e,["fileName"],t);const n=_(r,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>NL(s))),E(e,["inlinedResponses"],a)}const i=_(r,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["inlinedEmbedContentResponses"],a)}return e}function ZF(r){const e={},t=_(r,["predictionsFormat"]);t!=null&&E(e,["format"],t);const n=_(r,["gcsDestination","outputUriPrefix"]);n!=null&&E(e,["gcsUri"],n);const i=_(r,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function JF(r){const e={},t=_(r,["format"]);t!=null&&E(e,["predictionsFormat"],t);const n=_(r,["gcsUri"]);n!=null&&E(e,["gcsDestination","outputUriPrefix"],n);const i=_(r,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),_(r,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(r,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(_(r,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bb(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata","displayName"]);n!=null&&E(e,["displayName"],n);const i=_(r,["metadata","state"]);i!=null&&E(e,["state"],ET(i));const a=_(r,["metadata","createTime"]);a!=null&&E(e,["createTime"],a);const s=_(r,["metadata","endTime"]);s!=null&&E(e,["endTime"],s);const o=_(r,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=_(r,["metadata","model"]);l!=null&&E(e,["model"],l);const c=_(r,["metadata","output"]);return c!=null&&E(e,["dest"],YF(kT(c))),e}function B_(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["displayName"]);n!=null&&E(e,["displayName"],n);const i=_(r,["state"]);i!=null&&E(e,["state"],ET(i));const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["createTime"]);s!=null&&E(e,["createTime"],s);const o=_(r,["startTime"]);o!=null&&E(e,["startTime"],o);const l=_(r,["endTime"]);l!=null&&E(e,["endTime"],l);const c=_(r,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=_(r,["model"]);u!=null&&E(e,["model"],u);const d=_(r,["inputConfig"]);d!=null&&E(e,["src"],QF(d));const h=_(r,["outputConfig"]);h!=null&&E(e,["dest"],ZF(kT(h)));const f=_(r,["completionStats"]);return f!=null&&E(e,["completionStats"],f),e}function QF(r){const e={},t=_(r,["instancesFormat"]);t!=null&&E(e,["format"],t);const n=_(r,["gcsSource","uris"]);n!=null&&E(e,["gcsUri"],n);const i=_(r,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function $F(r,e){const t={};if(_(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=_(e,["fileName"]);n!=null&&E(t,["fileName"],n);const i=_(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>TL(r,s))),E(t,["requests","requests"],a)}return t}function eL(r){const e={},t=_(r,["format"]);t!=null&&E(e,["instancesFormat"],t);const n=_(r,["gcsUri"]);n!=null&&E(e,["gcsSource","uris"],n);const i=_(r,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),_(r,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(r,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function tL(r){const e={},t=_(r,["data"]);if(t!=null&&E(e,["data"],t),_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function nL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],z1(r,n)),t}function rL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],z1(r,n)),t}function iL(r){const e={},t=_(r,["content"]);t!=null&&E(e,["content"],t);const n=_(r,["citationMetadata"]);n!=null&&E(e,["citationMetadata"],aL(n));const i=_(r,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const a=_(r,["finishReason"]);a!=null&&E(e,["finishReason"],a);const s=_(r,["avgLogprobs"]);s!=null&&E(e,["avgLogprobs"],s);const o=_(r,["groundingMetadata"]);o!=null&&E(e,["groundingMetadata"],o);const l=_(r,["index"]);l!=null&&E(e,["index"],l);const c=_(r,["logprobsResult"]);c!=null&&E(e,["logprobsResult"],c);const u=_(r,["safetyRatings"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(f=>f)),E(e,["safetyRatings"],h)}const d=_(r,["urlContextMetadata"]);return d!=null&&E(e,["urlContextMetadata"],d),e}function aL(r){const e={},t=_(r,["citationSources"]);if(t!=null){let n=t;Array.isArray(n)&&(n=n.map(i=>i)),E(e,["citations"],n)}return e}function CT(r){const e={},t=_(r,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>DL(a))),E(e,["parts"],i)}const n=_(r,["role"]);return n!=null&&E(e,["role"],n),e}function sL(r,e){const t={},n=_(r,["displayName"]);if(e!==void 0&&n!=null&&E(e,["batch","displayName"],n),_(r,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function oL(r,e){const t={},n=_(r,["displayName"]);e!==void 0&&n!=null&&E(e,["displayName"],n);const i=_(r,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],JF(KF(i))),t}function z8(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["src"]);i!=null&&E(t,["batch","inputConfig"],$F(r,AT(r,i)));const a=_(e,["config"]);return a!=null&&sL(a,t),t}function lL(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["model"],$n(r,n));const i=_(e,["src"]);i!=null&&E(t,["inputConfig"],eL(AT(r,i)));const a=_(e,["config"]);return a!=null&&oL(a,t),t}function cL(r,e){const t={},n=_(r,["displayName"]);return e!==void 0&&n!=null&&E(e,["batch","displayName"],n),t}function uL(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["src"]);i!=null&&E(t,["batch","inputConfig"],vL(r,i));const a=_(e,["config"]);return a!=null&&cL(a,t),t}function dL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],z1(r,n)),t}function hL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],z1(r,n)),t}function fL(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["name"]);n!=null&&E(e,["name"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);return a!=null&&E(e,["error"],a),e}function pL(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["name"]);n!=null&&E(e,["name"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);return a!=null&&E(e,["error"],a),e}function mL(r,e){const t={},n=_(e,["contents"]);if(n!=null){let a=z4(r,n);Array.isArray(a)&&(a=a.map(s=>s)),E(t,["requests[]","request","content"],a)}const i=_(e,["config"]);return i!=null&&(E(t,["_self"],gL(i,t)),hF(t,{"requests[].*":"requests[].request.*"})),t}function gL(r,e){const t={},n=_(r,["taskType"]);e!==void 0&&n!=null&&E(e,["requests[]","taskType"],n);const i=_(r,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const a=_(r,["outputDimensionality"]);if(e!==void 0&&a!=null&&E(e,["requests[]","outputDimensionality"],a),_(r,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(r,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function vL(r,e){const t={},n=_(e,["fileName"]);n!=null&&E(t,["file_name"],n);const i=_(e,["inlinedRequests"]);return i!=null&&E(t,["requests"],mL(r,i)),t}function bL(r){const e={};if(_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=_(r,["fileUri"]);t!=null&&E(e,["fileUri"],t);const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function yL(r){const e={},t=_(r,["id"]);t!=null&&E(e,["id"],t);const n=_(r,["args"]);n!=null&&E(e,["args"],n);const i=_(r,["name"]);if(i!=null&&E(e,["name"],i),_(r,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(r,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xL(r){const e={},t=_(r,["mode"]);t!=null&&E(e,["mode"],t);const n=_(r,["allowedFunctionNames"]);if(n!=null&&E(e,["allowedFunctionNames"],n),_(r,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wL(r,e,t){const n={},i=_(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],CT(Ma(i)));const a=_(e,["temperature"]);a!=null&&E(n,["temperature"],a);const s=_(e,["topP"]);s!=null&&E(n,["topP"],s);const o=_(e,["topK"]);o!=null&&E(n,["topK"],o);const l=_(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=_(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=_(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const d=_(e,["responseLogprobs"]);d!=null&&E(n,["responseLogprobs"],d);const h=_(e,["logprobs"]);h!=null&&E(n,["logprobs"],h);const f=_(e,["presencePenalty"]);f!=null&&E(n,["presencePenalty"],f);const g=_(e,["frequencyPenalty"]);g!=null&&E(n,["frequencyPenalty"],g);const y=_(e,["seed"]);y!=null&&E(n,["seed"],y);const w=_(e,["responseMimeType"]);w!=null&&E(n,["responseMimeType"],w);const x=_(e,["responseSchema"]);x!=null&&E(n,["responseSchema"],V4(x));const T=_(e,["responseJsonSchema"]);if(T!=null&&E(n,["responseJsonSchema"],T),_(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=_(e,["safetySettings"]);if(t!==void 0&&v!=null){let D=v;Array.isArray(D)&&(D=D.map(ee=>BL(ee))),E(t,["safetySettings"],D)}const R=_(e,["tools"]);if(t!==void 0&&R!=null){let D=H1(R);Array.isArray(D)&&(D=D.map(ee=>jL(q1(ee)))),E(t,["tools"],D)}const M=_(e,["toolConfig"]);if(t!==void 0&&M!=null&&E(t,["toolConfig"],OL(M)),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=_(e,["cachedContent"]);t!==void 0&&B!=null&&E(t,["cachedContent"],_u(r,B));const L=_(e,["responseModalities"]);L!=null&&E(n,["responseModalities"],L);const z=_(e,["mediaResolution"]);z!=null&&E(n,["mediaResolution"],z);const H=_(e,["speechConfig"]);if(H!=null&&E(n,["speechConfig"],G4(H)),_(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=_(e,["thinkingConfig"]);$!=null&&E(n,["thinkingConfig"],$);const U=_(e,["imageConfig"]);return U!=null&&E(n,["imageConfig"],CL(U)),n}function _L(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>iL(c))),E(e,["candidates"],l)}const i=_(r,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const a=_(r,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const s=_(r,["responseId"]);s!=null&&E(e,["responseId"],s);const o=_(r,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function SL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],z1(r,n)),t}function AL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],z1(r,n)),t}function kL(r){const e={};if(_(r,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=_(r,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function EL(r){const e={};if(_(r,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(r,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=_(r,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function CL(r){const e={},t=_(r,["aspectRatio"]);t!=null&&E(e,["aspectRatio"],t);const n=_(r,["imageSize"]);if(n!=null&&E(e,["imageSize"],n),_(r,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(r,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function TL(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["request","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let o=Io(i);Array.isArray(o)&&(o=o.map(l=>CT(l))),E(t,["request","contents"],o)}const a=_(e,["metadata"]);a!=null&&E(t,["metadata"],a);const s=_(e,["config"]);return s!=null&&E(t,["request","generationConfig"],wL(r,s,_(t,["request"],{}))),t}function NL(r){const e={},t=_(r,["response"]);t!=null&&E(e,["response"],_L(t));const n=_(r,["error"]);return n!=null&&E(e,["error"],n),e}function RL(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),_(r,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function IL(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const a=_(r,["filter"]);return e!==void 0&&a!=null&&E(e,["_query","filter"],a),t}function ML(r){const e={},t=_(r,["config"]);return t!=null&&RL(t,e),e}function PL(r){const e={},t=_(r,["config"]);return t!=null&&IL(t,e),e}function FL(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Bb(s))),E(e,["batchJobs"],a)}return e}function LL(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>B_(s))),E(e,["batchJobs"],a)}return e}function DL(r){const e={},t=_(r,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const n=_(r,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=_(r,["executableCode"]);i!=null&&E(e,["executableCode"],i);const a=_(r,["fileData"]);a!=null&&E(e,["fileData"],bL(a));const s=_(r,["functionCall"]);s!=null&&E(e,["functionCall"],yL(s));const o=_(r,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=_(r,["inlineData"]);l!=null&&E(e,["inlineData"],tL(l));const c=_(r,["text"]);c!=null&&E(e,["text"],c);const u=_(r,["thought"]);u!=null&&E(e,["thought"],u);const d=_(r,["thoughtSignature"]);d!=null&&E(e,["thoughtSignature"],d);const h=_(r,["videoMetadata"]);return h!=null&&E(e,["videoMetadata"],h),e}function BL(r){const e={},t=_(r,["category"]);if(t!=null&&E(e,["category"],t),_(r,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=_(r,["threshold"]);return n!=null&&E(e,["threshold"],n),e}function OL(r){const e={},t=_(r,["functionCallingConfig"]);t!=null&&E(e,["functionCallingConfig"],xL(t));const n=_(r,["retrievalConfig"]);return n!=null&&E(e,["retrievalConfig"],n),e}function jL(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(d=>d)),E(e,["functionDeclarations"],u)}if(_(r,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(r,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=_(r,["computerUse"]);i!=null&&E(e,["computerUse"],i);const a=_(r,["fileSearch"]);a!=null&&E(e,["fileSearch"],a);const s=_(r,["codeExecution"]);if(s!=null&&E(e,["codeExecution"],s),_(r,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=_(r,["googleMaps"]);o!=null&&E(e,["googleMaps"],kL(o));const l=_(r,["googleSearch"]);l!=null&&E(e,["googleSearch"],EL(l));const c=_(r,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bu;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",r.PAGED_ITEM_DOCUMENTS="documents"})(bu||(bu={}));class s0{constructor(e,t,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,i)}init(e,t,n){var i,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UL extends wu{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new s0(bu.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=z8(this.apiClient,e),n=t._url,i=Ut("{model}:batchGenerateContent",n),o=t.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const d=Object.assign({},u);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const f=d.request;f.systemInstruction=h,d.request=f}c.push(d)}return o.requests=c,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=lL(this.apiClient,e);return o=Ut("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>B_(u))}else{const c=z8(this.apiClient,e);return o=Ut("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>Bb(u))}}async createEmbeddingsInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uL(this.apiClient,e);return a=Ut("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>Bb(l))}}async get(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=AL(this.apiClient,e);return o=Ut("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>B_(u))}else{const c=SL(this.apiClient,e);return o=Ut("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>Bb(u))}}async cancel(e){var t,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const l=rL(this.apiClient,e);s=Ut("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const l=nL(this.apiClient,e);s=Ut("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=PL(e);return o=Ut("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=LL(u),h=new j8;return Object.assign(h,d),h})}else{const c=ML(e);return o=Ut("batches",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=FL(u),h=new j8;return Object.assign(h,d),h})}}async delete(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=hL(this.apiClient,e);return o=Ut("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>pL(u))}else{const c=dL(this.apiClient,e);return o=Ut("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>fL(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qL(r){const e={},t=_(r,["data"]);if(t!=null&&E(e,["data"],t),_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function V8(r){const e={},t=_(r,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>uD(a))),E(e,["parts"],i)}const n=_(r,["role"]);return n!=null&&E(e,["role"],n),e}function HL(r,e){const t={},n=_(r,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=_(r,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const a=_(r,["displayName"]);e!==void 0&&a!=null&&E(e,["displayName"],a);const s=_(r,["contents"]);if(e!==void 0&&s!=null){let u=Io(s);Array.isArray(u)&&(u=u.map(d=>V8(d))),E(e,["contents"],u)}const o=_(r,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],V8(Ma(o)));const l=_(r,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>hD(d))),E(e,["tools"],u)}const c=_(r,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],dD(c)),_(r,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function zL(r,e){const t={},n=_(r,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=_(r,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const a=_(r,["displayName"]);e!==void 0&&a!=null&&E(e,["displayName"],a);const s=_(r,["contents"]);if(e!==void 0&&s!=null){let d=Io(s);Array.isArray(d)&&(d=d.map(h=>h)),E(e,["contents"],d)}const o=_(r,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],Ma(o));const l=_(r,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>fD(h))),E(e,["tools"],d)}const c=_(r,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],c);const u=_(r,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),t}function VL(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["model"],mT(r,n));const i=_(e,["config"]);return i!=null&&HL(i,t),t}function GL(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["model"],mT(r,n));const i=_(e,["config"]);return i!=null&&zL(i,t),t}function WL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],_u(r,n)),t}function XL(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],_u(r,n)),t}function KL(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function YL(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function ZL(r){const e={};if(_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=_(r,["fileUri"]);t!=null&&E(e,["fileUri"],t);const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function JL(r){const e={},t=_(r,["id"]);t!=null&&E(e,["id"],t);const n=_(r,["args"]);n!=null&&E(e,["args"],n);const i=_(r,["name"]);if(i!=null&&E(e,["name"],i),_(r,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(r,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QL(r){const e={},t=_(r,["mode"]);t!=null&&E(e,["mode"],t);const n=_(r,["allowedFunctionNames"]);if(n!=null&&E(e,["allowedFunctionNames"],n),_(r,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $L(r){const e={};if(_(r,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=_(r,["description"]);t!=null&&E(e,["description"],t);const n=_(r,["name"]);n!=null&&E(e,["name"],n);const i=_(r,["parameters"]);i!=null&&E(e,["parameters"],i);const a=_(r,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const s=_(r,["response"]);s!=null&&E(e,["response"],s);const o=_(r,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function eD(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],_u(r,n)),t}function tD(r,e){const t={},n=_(e,["name"]);return n!=null&&E(t,["_url","name"],_u(r,n)),t}function nD(r){const e={};if(_(r,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=_(r,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function rD(r){const e={};if(_(r,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(r,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=_(r,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function iD(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function aD(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function sD(r){const e={},t=_(r,["config"]);return t!=null&&iD(t,e),e}function oD(r){const e={},t=_(r,["config"]);return t!=null&&aD(t,e),e}function lD(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["cachedContents"],a)}return e}function cD(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["cachedContents"],a)}return e}function uD(r){const e={},t=_(r,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const n=_(r,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=_(r,["executableCode"]);i!=null&&E(e,["executableCode"],i);const a=_(r,["fileData"]);a!=null&&E(e,["fileData"],ZL(a));const s=_(r,["functionCall"]);s!=null&&E(e,["functionCall"],JL(s));const o=_(r,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=_(r,["inlineData"]);l!=null&&E(e,["inlineData"],qL(l));const c=_(r,["text"]);c!=null&&E(e,["text"],c);const u=_(r,["thought"]);u!=null&&E(e,["thought"],u);const d=_(r,["thoughtSignature"]);d!=null&&E(e,["thoughtSignature"],d);const h=_(r,["videoMetadata"]);return h!=null&&E(e,["videoMetadata"],h),e}function dD(r){const e={},t=_(r,["functionCallingConfig"]);t!=null&&E(e,["functionCallingConfig"],QL(t));const n=_(r,["retrievalConfig"]);return n!=null&&E(e,["retrievalConfig"],n),e}function hD(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(d=>d)),E(e,["functionDeclarations"],u)}if(_(r,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(r,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=_(r,["computerUse"]);i!=null&&E(e,["computerUse"],i);const a=_(r,["fileSearch"]);a!=null&&E(e,["fileSearch"],a);const s=_(r,["codeExecution"]);if(s!=null&&E(e,["codeExecution"],s),_(r,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=_(r,["googleMaps"]);o!=null&&E(e,["googleMaps"],nD(o));const l=_(r,["googleSearch"]);l!=null&&E(e,["googleSearch"],rD(l));const c=_(r,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}function fD(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>$L(h))),E(e,["functionDeclarations"],d)}const n=_(r,["retrieval"]);n!=null&&E(e,["retrieval"],n);const i=_(r,["googleSearchRetrieval"]);i!=null&&E(e,["googleSearchRetrieval"],i);const a=_(r,["computerUse"]);if(a!=null&&E(e,["computerUse"],a),_(r,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=_(r,["codeExecution"]);s!=null&&E(e,["codeExecution"],s);const o=_(r,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=_(r,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const c=_(r,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=_(r,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function pD(r,e){const t={},n=_(r,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=_(r,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),t}function mD(r,e){const t={},n=_(r,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=_(r,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),t}function gD(r,e){const t={},n=_(e,["name"]);n!=null&&E(t,["_url","name"],_u(r,n));const i=_(e,["config"]);return i!=null&&pD(i,t),t}function vD(r,e){const t={},n=_(e,["name"]);n!=null&&E(t,["_url","name"],_u(r,n));const i=_(e,["config"]);return i!=null&&mD(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bD extends wu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new s0(bu.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(t),t)}async create(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=GL(this.apiClient,e);return o=Ut("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>u)}else{const c=VL(this.apiClient,e);return o=Ut("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async get(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=tD(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>u)}else{const c=eD(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async delete(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=XL(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=YL(u),h=new B8;return Object.assign(h,d),h})}else{const c=WL(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=KL(u),h=new B8;return Object.assign(h,d),h})}}async update(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=vD(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>u)}else{const c=gD(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async listInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=oD(e);return o=Ut("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=cD(u),h=new O8;return Object.assign(h,d),h})}else{const c=sD(e);return o=Ut("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=lD(u),h=new O8;return Object.assign(h,d),h})}}}function G8(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dr(r){return this instanceof Dr?(this.v=r,this):new Dr(r)}function ip(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function o(f,g){n[f]&&(i[f]=function(y){return new Promise(function(w,x){a.push([f,y,w,x])>1||l(f,y)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(n[f](g))}catch(y){h(a[0][3],y)}}function c(f){f.value instanceof Dr?Promise.resolve(f.value.v).then(u,d):h(a[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,g){f(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function og(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof G8=="function"?G8(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(s){return new Promise(function(o,l){s=r[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yD(r){var e;if(r.candidates==null||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:TT(t)}function TT(r){if(r.parts===void 0||r.parts.length===0)return!1;for(const e of r.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function xD(r){if(r.length!==0){for(const e of r)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function W8(r){if(r===void 0||r.length===0)return[];const e=[],t=r.length;let n=0;for(;n<t;)if(r[n].role==="user")e.push(r[n]),n++;else{const i=[];let a=!0;for(;n<t&&r[n].role==="model";)i.push(r[n]),a&&!TT(r[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class wD{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new _D(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _D{constructor(e,t,n,i={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),xD(a)}async sendMessage(e){var t;await this.sendPromise;const n=Ma(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,s,o;const l=await i,c=(s=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,u=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(d))!==null&&o!==void 0?o:[]);const f=c?[c]:[];this.recordHistory(n,f,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const n=Ma(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const t=e?W8(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,i;return ip(this,arguments,function*(){var s,o,l,c;const u=[];try{for(var d=!0,h=og(e),f;f=yield Dr(h.next()),s=f.done,!s;d=!0){c=f.value,d=!1;const g=c;if(yD(g)){const y=(i=(n=g.candidates)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.content;y!==void 0&&u.push(y)}yield yield Dr(g)}}catch(g){o={error:g}}finally{try{!d&&!s&&(l=h.return)&&(yield Dr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(t,u)})}recordHistory(e,t,n){let i=[];t.length>0&&t.every(a=>a.role!==void 0)?i=t:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...W8(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fx extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Fx.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SD(r){const e={},t=_(r,["file"]);return t!=null&&E(e,["file"],t),e}function AD(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function kD(r){const e={},t=_(r,["name"]);return t!=null&&E(e,["_url","file"],wT(t)),e}function ED(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function CD(r){const e={},t=_(r,["name"]);return t!=null&&E(e,["_url","file"],wT(t)),e}function TD(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function ND(r){const e={},t=_(r,["config"]);return t!=null&&TD(t,e),e}function RD(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ID extends wu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new s0(bu.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ND(e);return a=Ut("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=RD(l),u=new LF;return Object.assign(u,c),u})}}async createInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=SD(e);return a=Ut("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=AD(l),u=new DF;return Object.assign(u,c),u})}}async get(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=CD(e);return a=Ut("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kD(e);return a=Ut("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=ED(l),u=new BF;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ob(r){const e={},t=_(r,["data"]);if(t!=null&&E(e,["data"],t),_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function MD(r){const e={},t=_(r,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>KD(a))),E(e,["parts"],i)}const n=_(r,["role"]);return n!=null&&E(e,["role"],n),e}function PD(r){const e={};if(_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=_(r,["fileUri"]);t!=null&&E(e,["fileUri"],t);const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function FD(r){const e={},t=_(r,["id"]);t!=null&&E(e,["id"],t);const n=_(r,["args"]);n!=null&&E(e,["args"],n);const i=_(r,["name"]);if(i!=null&&E(e,["name"],i),_(r,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(r,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LD(r){const e={};if(_(r,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=_(r,["description"]);t!=null&&E(e,["description"],t);const n=_(r,["name"]);n!=null&&E(e,["name"],n);const i=_(r,["parameters"]);i!=null&&E(e,["parameters"],i);const a=_(r,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const s=_(r,["response"]);s!=null&&E(e,["response"],s);const o=_(r,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function DD(r){const e={},t=_(r,["modelSelectionConfig"]);t!=null&&E(e,["modelConfig"],t);const n=_(r,["responseJsonSchema"]);n!=null&&E(e,["responseJsonSchema"],n);const i=_(r,["audioTimestamp"]);i!=null&&E(e,["audioTimestamp"],i);const a=_(r,["candidateCount"]);a!=null&&E(e,["candidateCount"],a);const s=_(r,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=_(r,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=_(r,["logprobs"]);l!=null&&E(e,["logprobs"],l);const c=_(r,["maxOutputTokens"]);c!=null&&E(e,["maxOutputTokens"],c);const u=_(r,["mediaResolution"]);u!=null&&E(e,["mediaResolution"],u);const d=_(r,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const h=_(r,["responseLogprobs"]);h!=null&&E(e,["responseLogprobs"],h);const f=_(r,["responseMimeType"]);f!=null&&E(e,["responseMimeType"],f);const g=_(r,["responseModalities"]);g!=null&&E(e,["responseModalities"],g);const y=_(r,["responseSchema"]);y!=null&&E(e,["responseSchema"],y);const w=_(r,["routingConfig"]);w!=null&&E(e,["routingConfig"],w);const x=_(r,["seed"]);x!=null&&E(e,["seed"],x);const T=_(r,["speechConfig"]);T!=null&&E(e,["speechConfig"],NT(T));const v=_(r,["stopSequences"]);v!=null&&E(e,["stopSequences"],v);const R=_(r,["temperature"]);R!=null&&E(e,["temperature"],R);const M=_(r,["thinkingConfig"]);M!=null&&E(e,["thinkingConfig"],M);const B=_(r,["topK"]);B!=null&&E(e,["topK"],B);const L=_(r,["topP"]);if(L!=null&&E(e,["topP"],L),_(r,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function BD(r){const e={};if(_(r,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=_(r,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function OD(r){const e={};if(_(r,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(r,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=_(r,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function jD(r,e){const t={},n=_(r,["generationConfig"]);e!==void 0&&n!=null&&E(e,["setup","generationConfig"],n);const i=_(r,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const a=_(r,["temperature"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","temperature"],a);const s=_(r,["topP"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","topP"],s);const o=_(r,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=_(r,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=_(r,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=_(r,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const d=_(r,["speechConfig"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","speechConfig"],W4(d));const h=_(r,["thinkingConfig"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","thinkingConfig"],h);const f=_(r,["enableAffectiveDialog"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],f);const g=_(r,["systemInstruction"]);e!==void 0&&g!=null&&E(e,["setup","systemInstruction"],MD(Ma(g)));const y=_(r,["tools"]);if(e!==void 0&&y!=null){let B=H1(y);Array.isArray(B)&&(B=B.map(L=>ZD(q1(L)))),E(e,["setup","tools"],B)}const w=_(r,["sessionResumption"]);e!==void 0&&w!=null&&E(e,["setup","sessionResumption"],YD(w));const x=_(r,["inputAudioTranscription"]);e!==void 0&&x!=null&&E(e,["setup","inputAudioTranscription"],x);const T=_(r,["outputAudioTranscription"]);e!==void 0&&T!=null&&E(e,["setup","outputAudioTranscription"],T);const v=_(r,["realtimeInputConfig"]);e!==void 0&&v!=null&&E(e,["setup","realtimeInputConfig"],v);const R=_(r,["contextWindowCompression"]);e!==void 0&&R!=null&&E(e,["setup","contextWindowCompression"],R);const M=_(r,["proactivity"]);return e!==void 0&&M!=null&&E(e,["setup","proactivity"],M),t}function UD(r,e){const t={},n=_(r,["generationConfig"]);e!==void 0&&n!=null&&E(e,["setup","generationConfig"],DD(n));const i=_(r,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const a=_(r,["temperature"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","temperature"],a);const s=_(r,["topP"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","topP"],s);const o=_(r,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=_(r,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=_(r,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=_(r,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const d=_(r,["speechConfig"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","speechConfig"],NT(W4(d)));const h=_(r,["thinkingConfig"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","thinkingConfig"],h);const f=_(r,["enableAffectiveDialog"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],f);const g=_(r,["systemInstruction"]);e!==void 0&&g!=null&&E(e,["setup","systemInstruction"],Ma(g));const y=_(r,["tools"]);if(e!==void 0&&y!=null){let B=H1(y);Array.isArray(B)&&(B=B.map(L=>JD(q1(L)))),E(e,["setup","tools"],B)}const w=_(r,["sessionResumption"]);e!==void 0&&w!=null&&E(e,["setup","sessionResumption"],w);const x=_(r,["inputAudioTranscription"]);e!==void 0&&x!=null&&E(e,["setup","inputAudioTranscription"],x);const T=_(r,["outputAudioTranscription"]);e!==void 0&&T!=null&&E(e,["setup","outputAudioTranscription"],T);const v=_(r,["realtimeInputConfig"]);e!==void 0&&v!=null&&E(e,["setup","realtimeInputConfig"],v);const R=_(r,["contextWindowCompression"]);e!==void 0&&R!=null&&E(e,["setup","contextWindowCompression"],R);const M=_(r,["proactivity"]);return e!==void 0&&M!=null&&E(e,["setup","proactivity"],M),t}function qD(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["setup","model"],$n(r,n));const i=_(e,["config"]);return i!=null&&E(t,["config"],jD(i,t)),t}function HD(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["setup","model"],$n(r,n));const i=_(e,["config"]);return i!=null&&E(t,["config"],UD(i,t)),t}function zD(r){const e={},t=_(r,["musicGenerationConfig"]);return t!=null&&E(e,["musicGenerationConfig"],t),e}function VD(r){const e={},t=_(r,["weightedPrompts"]);if(t!=null){let n=t;Array.isArray(n)&&(n=n.map(i=>i)),E(e,["weightedPrompts"],n)}return e}function GD(r){const e={},t=_(r,["media"]);if(t!=null){let c=gT(t);Array.isArray(c)&&(c=c.map(u=>Ob(u))),E(e,["mediaChunks"],c)}const n=_(r,["audio"]);n!=null&&E(e,["audio"],Ob(bT(n)));const i=_(r,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const a=_(r,["video"]);a!=null&&E(e,["video"],Ob(vT(a)));const s=_(r,["text"]);s!=null&&E(e,["text"],s);const o=_(r,["activityStart"]);o!=null&&E(e,["activityStart"],o);const l=_(r,["activityEnd"]);return l!=null&&E(e,["activityEnd"],l),e}function WD(r){const e={},t=_(r,["media"]);if(t!=null){let c=gT(t);Array.isArray(c)&&(c=c.map(u=>u)),E(e,["mediaChunks"],c)}const n=_(r,["audio"]);n!=null&&E(e,["audio"],bT(n));const i=_(r,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const a=_(r,["video"]);a!=null&&E(e,["video"],vT(a));const s=_(r,["text"]);s!=null&&E(e,["text"],s);const o=_(r,["activityStart"]);o!=null&&E(e,["activityStart"],o);const l=_(r,["activityEnd"]);return l!=null&&E(e,["activityEnd"],l),e}function XD(r){const e={},t=_(r,["setupComplete"]);t!=null&&E(e,["setupComplete"],t);const n=_(r,["serverContent"]);n!=null&&E(e,["serverContent"],n);const i=_(r,["toolCall"]);i!=null&&E(e,["toolCall"],i);const a=_(r,["toolCallCancellation"]);a!=null&&E(e,["toolCallCancellation"],a);const s=_(r,["usageMetadata"]);s!=null&&E(e,["usageMetadata"],QD(s));const o=_(r,["goAway"]);o!=null&&E(e,["goAway"],o);const l=_(r,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],l),e}function KD(r){const e={},t=_(r,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const n=_(r,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=_(r,["executableCode"]);i!=null&&E(e,["executableCode"],i);const a=_(r,["fileData"]);a!=null&&E(e,["fileData"],PD(a));const s=_(r,["functionCall"]);s!=null&&E(e,["functionCall"],FD(s));const o=_(r,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=_(r,["inlineData"]);l!=null&&E(e,["inlineData"],Ob(l));const c=_(r,["text"]);c!=null&&E(e,["text"],c);const u=_(r,["thought"]);u!=null&&E(e,["thought"],u);const d=_(r,["thoughtSignature"]);d!=null&&E(e,["thoughtSignature"],d);const h=_(r,["videoMetadata"]);return h!=null&&E(e,["videoMetadata"],h),e}function YD(r){const e={},t=_(r,["handle"]);if(t!=null&&E(e,["handle"],t),_(r,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function NT(r){const e={},t=_(r,["languageCode"]);t!=null&&E(e,["languageCode"],t);const n=_(r,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),_(r,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ZD(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(d=>d)),E(e,["functionDeclarations"],u)}if(_(r,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(r,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=_(r,["computerUse"]);i!=null&&E(e,["computerUse"],i);const a=_(r,["fileSearch"]);a!=null&&E(e,["fileSearch"],a);const s=_(r,["codeExecution"]);if(s!=null&&E(e,["codeExecution"],s),_(r,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=_(r,["googleMaps"]);o!=null&&E(e,["googleMaps"],BD(o));const l=_(r,["googleSearch"]);l!=null&&E(e,["googleSearch"],OD(l));const c=_(r,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}function JD(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>LD(h))),E(e,["functionDeclarations"],d)}const n=_(r,["retrieval"]);n!=null&&E(e,["retrieval"],n);const i=_(r,["googleSearchRetrieval"]);i!=null&&E(e,["googleSearchRetrieval"],i);const a=_(r,["computerUse"]);if(a!=null&&E(e,["computerUse"],a),_(r,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=_(r,["codeExecution"]);s!=null&&E(e,["codeExecution"],s);const o=_(r,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=_(r,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const c=_(r,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=_(r,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function QD(r){const e={},t=_(r,["promptTokenCount"]);t!=null&&E(e,["promptTokenCount"],t);const n=_(r,["cachedContentTokenCount"]);n!=null&&E(e,["cachedContentTokenCount"],n);const i=_(r,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const a=_(r,["toolUsePromptTokenCount"]);a!=null&&E(e,["toolUsePromptTokenCount"],a);const s=_(r,["thoughtsTokenCount"]);s!=null&&E(e,["thoughtsTokenCount"],s);const o=_(r,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=_(r,["promptTokensDetails"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>g)),E(e,["promptTokensDetails"],f)}const c=_(r,["cacheTokensDetails"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>g)),E(e,["cacheTokensDetails"],f)}const u=_(r,["candidatesTokensDetails"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>g)),E(e,["responseTokensDetails"],f)}const d=_(r,["toolUsePromptTokensDetails"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(g=>g)),E(e,["toolUsePromptTokensDetails"],f)}const h=_(r,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $D(r){const e={},t=_(r,["data"]);if(t!=null&&E(e,["data"],t),_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function eB(r){const e={},t=_(r,["content"]);t!=null&&E(e,["content"],t);const n=_(r,["citationMetadata"]);n!=null&&E(e,["citationMetadata"],tB(n));const i=_(r,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const a=_(r,["finishReason"]);a!=null&&E(e,["finishReason"],a);const s=_(r,["avgLogprobs"]);s!=null&&E(e,["avgLogprobs"],s);const o=_(r,["groundingMetadata"]);o!=null&&E(e,["groundingMetadata"],o);const l=_(r,["index"]);l!=null&&E(e,["index"],l);const c=_(r,["logprobsResult"]);c!=null&&E(e,["logprobsResult"],c);const u=_(r,["safetyRatings"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(f=>f)),E(e,["safetyRatings"],h)}const d=_(r,["urlContextMetadata"]);return d!=null&&E(e,["urlContextMetadata"],d),e}function tB(r){const e={},t=_(r,["citationSources"]);if(t!=null){let n=t;Array.isArray(n)&&(n=n.map(i=>i)),E(e,["citations"],n)}return e}function nB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let a=Io(i);Array.isArray(a)&&(a=a.map(s=>s)),E(t,["contents"],a)}return t}function rB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),E(e,["tokensInfo"],i)}return e}function iB(r){const e={},t=_(r,["values"]);t!=null&&E(e,["values"],t);const n=_(r,["statistics"]);return n!=null&&E(e,["statistics"],aB(n)),e}function aB(r){const e={},t=_(r,["truncated"]);t!=null&&E(e,["truncated"],t);const n=_(r,["token_count"]);return n!=null&&E(e,["tokenCount"],n),e}function Lx(r){const e={},t=_(r,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>pO(a))),E(e,["parts"],i)}const n=_(r,["role"]);return n!=null&&E(e,["role"],n),e}function sB(r){const e={},t=_(r,["controlType"]);t!=null&&E(e,["controlType"],t);const n=_(r,["enableControlImageComputation"]);return n!=null&&E(e,["computeControl"],n),e}function oB(r){const e={};if(_(r,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(_(r,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(_(r,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lB(r,e){const t={},n=_(r,["systemInstruction"]);e!==void 0&&n!=null&&E(e,["systemInstruction"],Ma(n));const i=_(r,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>FT(o))),E(e,["tools"],s)}const a=_(r,["generationConfig"]);return e!==void 0&&a!=null&&E(e,["generationConfig"],$B(a)),t}function cB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let s=Io(i);Array.isArray(s)&&(s=s.map(o=>Lx(o))),E(t,["contents"],s)}const a=_(e,["config"]);return a!=null&&oB(a),t}function uB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let s=Io(i);Array.isArray(s)&&(s=s.map(o=>o)),E(t,["contents"],s)}const a=_(e,["config"]);return a!=null&&lB(a,t),t}function dB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["totalTokens"]);n!=null&&E(e,["totalTokens"],n);const i=_(r,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function hB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["totalTokens"]);return n!=null&&E(e,["totalTokens"],n),e}function fB(r,e){const t={},n=_(e,["model"]);return n!=null&&E(t,["_url","name"],$n(r,n)),t}function pB(r,e){const t={},n=_(e,["model"]);return n!=null&&E(t,["_url","name"],$n(r,n)),t}function mB(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function gB(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function vB(r,e){const t={},n=_(r,["outputGcsUri"]);e!==void 0&&n!=null&&E(e,["parameters","storageUri"],n);const i=_(r,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const a=_(r,["numberOfImages"]);e!==void 0&&a!=null&&E(e,["parameters","sampleCount"],a);const s=_(r,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const o=_(r,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=_(r,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=_(r,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=_(r,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const d=_(r,["includeSafetyAttributes"]);e!==void 0&&d!=null&&E(e,["parameters","includeSafetyAttributes"],d);const h=_(r,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const f=_(r,["language"]);e!==void 0&&f!=null&&E(e,["parameters","language"],f);const g=_(r,["outputMimeType"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","mimeType"],g);const y=_(r,["outputCompressionQuality"]);e!==void 0&&y!=null&&E(e,["parameters","outputOptions","compressionQuality"],y);const w=_(r,["addWatermark"]);e!==void 0&&w!=null&&E(e,["parameters","addWatermark"],w);const x=_(r,["labels"]);e!==void 0&&x!=null&&E(e,["labels"],x);const T=_(r,["editMode"]);e!==void 0&&T!=null&&E(e,["parameters","editMode"],T);const v=_(r,["baseSteps"]);return e!==void 0&&v!=null&&E(e,["parameters","editConfig","baseSteps"],v),t}function bB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const a=_(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>xO(l))),E(t,["instances[0]","referenceImages"],o)}const s=_(e,["config"]);return s!=null&&vB(s,t),t}function yB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Dx(a))),E(e,["generatedImages"],i)}return e}function xB(r,e){const t={},n=_(r,["taskType"]);e!==void 0&&n!=null&&E(e,["requests[]","taskType"],n);const i=_(r,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const a=_(r,["outputDimensionality"]);if(e!==void 0&&a!=null&&E(e,["requests[]","outputDimensionality"],a),_(r,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(r,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function wB(r,e){const t={},n=_(r,["taskType"]);e!==void 0&&n!=null&&E(e,["instances[]","task_type"],n);const i=_(r,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const a=_(r,["outputDimensionality"]);e!==void 0&&a!=null&&E(e,["parameters","outputDimensionality"],a);const s=_(r,["mimeType"]);e!==void 0&&s!=null&&E(e,["instances[]","mimeType"],s);const o=_(r,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),t}function _B(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let o=z4(r,i);Array.isArray(o)&&(o=o.map(l=>l)),E(t,["requests[]","content"],o)}const a=_(e,["config"]);a!=null&&xB(a,t);const s=_(e,["model"]);return s!==void 0&&E(t,["requests[]","model"],$n(r,s)),t}function SB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let s=z4(r,i);Array.isArray(s)&&(s=s.map(o=>o)),E(t,["instances[]","content"],s)}const a=_(e,["config"]);return a!=null&&wB(a,t),t}function AB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["embeddings"],a)}const i=_(r,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function kB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>iB(s))),E(e,["embeddings"],a)}const i=_(r,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function EB(r){const e={},t=_(r,["endpoint"]);t!=null&&E(e,["name"],t);const n=_(r,["deployedModelId"]);return n!=null&&E(e,["deployedModelId"],n),e}function CB(r){const e={};if(_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=_(r,["fileUri"]);t!=null&&E(e,["fileUri"],t);const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function TB(r){const e={},t=_(r,["id"]);t!=null&&E(e,["id"],t);const n=_(r,["args"]);n!=null&&E(e,["args"],n);const i=_(r,["name"]);if(i!=null&&E(e,["name"],i),_(r,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(r,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NB(r){const e={},t=_(r,["mode"]);t!=null&&E(e,["mode"],t);const n=_(r,["allowedFunctionNames"]);if(n!=null&&E(e,["allowedFunctionNames"],n),_(r,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RB(r){const e={};if(_(r,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=_(r,["description"]);t!=null&&E(e,["description"],t);const n=_(r,["name"]);n!=null&&E(e,["name"],n);const i=_(r,["parameters"]);i!=null&&E(e,["parameters"],i);const a=_(r,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const s=_(r,["response"]);s!=null&&E(e,["response"],s);const o=_(r,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function IB(r,e,t){const n={},i=_(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],Lx(Ma(i)));const a=_(e,["temperature"]);a!=null&&E(n,["temperature"],a);const s=_(e,["topP"]);s!=null&&E(n,["topP"],s);const o=_(e,["topK"]);o!=null&&E(n,["topK"],o);const l=_(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=_(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=_(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const d=_(e,["responseLogprobs"]);d!=null&&E(n,["responseLogprobs"],d);const h=_(e,["logprobs"]);h!=null&&E(n,["logprobs"],h);const f=_(e,["presencePenalty"]);f!=null&&E(n,["presencePenalty"],f);const g=_(e,["frequencyPenalty"]);g!=null&&E(n,["frequencyPenalty"],g);const y=_(e,["seed"]);y!=null&&E(n,["seed"],y);const w=_(e,["responseMimeType"]);w!=null&&E(n,["responseMimeType"],w);const x=_(e,["responseSchema"]);x!=null&&E(n,["responseSchema"],V4(x));const T=_(e,["responseJsonSchema"]);if(T!=null&&E(n,["responseJsonSchema"],T),_(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=_(e,["safetySettings"]);if(t!==void 0&&v!=null){let D=v;Array.isArray(D)&&(D=D.map(ee=>wO(ee))),E(t,["safetySettings"],D)}const R=_(e,["tools"]);if(t!==void 0&&R!=null){let D=H1(R);Array.isArray(D)&&(D=D.map(ee=>TO(q1(ee)))),E(t,["tools"],D)}const M=_(e,["toolConfig"]);if(t!==void 0&&M!=null&&E(t,["toolConfig"],CO(M)),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=_(e,["cachedContent"]);t!==void 0&&B!=null&&E(t,["cachedContent"],_u(r,B));const L=_(e,["responseModalities"]);L!=null&&E(n,["responseModalities"],L);const z=_(e,["mediaResolution"]);z!=null&&E(n,["mediaResolution"],z);const H=_(e,["speechConfig"]);if(H!=null&&E(n,["speechConfig"],G4(H)),_(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=_(e,["thinkingConfig"]);$!=null&&E(n,["thinkingConfig"],$);const U=_(e,["imageConfig"]);return U!=null&&E(n,["imageConfig"],iO(U)),n}function MB(r,e,t){const n={},i=_(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],Ma(i));const a=_(e,["temperature"]);a!=null&&E(n,["temperature"],a);const s=_(e,["topP"]);s!=null&&E(n,["topP"],s);const o=_(e,["topK"]);o!=null&&E(n,["topK"],o);const l=_(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=_(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=_(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const d=_(e,["responseLogprobs"]);d!=null&&E(n,["responseLogprobs"],d);const h=_(e,["logprobs"]);h!=null&&E(n,["logprobs"],h);const f=_(e,["presencePenalty"]);f!=null&&E(n,["presencePenalty"],f);const g=_(e,["frequencyPenalty"]);g!=null&&E(n,["frequencyPenalty"],g);const y=_(e,["seed"]);y!=null&&E(n,["seed"],y);const w=_(e,["responseMimeType"]);w!=null&&E(n,["responseMimeType"],w);const x=_(e,["responseSchema"]);x!=null&&E(n,["responseSchema"],V4(x));const T=_(e,["responseJsonSchema"]);T!=null&&E(n,["responseJsonSchema"],T);const v=_(e,["routingConfig"]);v!=null&&E(n,["routingConfig"],v);const R=_(e,["modelSelectionConfig"]);R!=null&&E(n,["modelConfig"],R);const M=_(e,["safetySettings"]);if(t!==void 0&&M!=null){let q=M;Array.isArray(q)&&(q=q.map(W=>W)),E(t,["safetySettings"],q)}const B=_(e,["tools"]);if(t!==void 0&&B!=null){let q=H1(B);Array.isArray(q)&&(q=q.map(W=>FT(q1(W)))),E(t,["tools"],q)}const L=_(e,["toolConfig"]);t!==void 0&&L!=null&&E(t,["toolConfig"],L);const z=_(e,["labels"]);t!==void 0&&z!=null&&E(t,["labels"],z);const H=_(e,["cachedContent"]);t!==void 0&&H!=null&&E(t,["cachedContent"],_u(r,H));const $=_(e,["responseModalities"]);$!=null&&E(n,["responseModalities"],$);const U=_(e,["mediaResolution"]);U!=null&&E(n,["mediaResolution"],U);const D=_(e,["speechConfig"]);D!=null&&E(n,["speechConfig"],PT(G4(D)));const ee=_(e,["audioTimestamp"]);ee!=null&&E(n,["audioTimestamp"],ee);const J=_(e,["thinkingConfig"]);J!=null&&E(n,["thinkingConfig"],J);const re=_(e,["imageConfig"]);return re!=null&&E(n,["imageConfig"],aO(re)),n}function X8(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let s=Io(i);Array.isArray(s)&&(s=s.map(o=>Lx(o))),E(t,["contents"],s)}const a=_(e,["config"]);return a!=null&&E(t,["generationConfig"],IB(r,a,t)),t}function K8(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["contents"]);if(i!=null){let s=Io(i);Array.isArray(s)&&(s=s.map(o=>o)),E(t,["contents"],s)}const a=_(e,["config"]);return a!=null&&E(t,["generationConfig"],MB(r,a,t)),t}function Y8(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>eB(c))),E(e,["candidates"],l)}const i=_(r,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const a=_(r,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const s=_(r,["responseId"]);s!=null&&E(e,["responseId"],s);const o=_(r,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function Z8(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>u)),E(e,["candidates"],c)}const i=_(r,["createTime"]);i!=null&&E(e,["createTime"],i);const a=_(r,["modelVersion"]);a!=null&&E(e,["modelVersion"],a);const s=_(r,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=_(r,["responseId"]);o!=null&&E(e,["responseId"],o);const l=_(r,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function PB(r,e){const t={};if(_(r,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(r,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=_(r,["numberOfImages"]);e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n);const i=_(r,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const a=_(r,["guidanceScale"]);if(e!==void 0&&a!=null&&E(e,["parameters","guidanceScale"],a),_(r,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=_(r,["safetyFilterLevel"]);e!==void 0&&s!=null&&E(e,["parameters","safetySetting"],s);const o=_(r,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=_(r,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=_(r,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=_(r,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const d=_(r,["outputMimeType"]);e!==void 0&&d!=null&&E(e,["parameters","outputOptions","mimeType"],d);const h=_(r,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),_(r,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(_(r,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const f=_(r,["imageSize"]);if(e!==void 0&&f!=null&&E(e,["parameters","sampleImageSize"],f),_(r,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function FB(r,e){const t={},n=_(r,["outputGcsUri"]);e!==void 0&&n!=null&&E(e,["parameters","storageUri"],n);const i=_(r,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const a=_(r,["numberOfImages"]);e!==void 0&&a!=null&&E(e,["parameters","sampleCount"],a);const s=_(r,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const o=_(r,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=_(r,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=_(r,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=_(r,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const d=_(r,["includeSafetyAttributes"]);e!==void 0&&d!=null&&E(e,["parameters","includeSafetyAttributes"],d);const h=_(r,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const f=_(r,["language"]);e!==void 0&&f!=null&&E(e,["parameters","language"],f);const g=_(r,["outputMimeType"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","mimeType"],g);const y=_(r,["outputCompressionQuality"]);e!==void 0&&y!=null&&E(e,["parameters","outputOptions","compressionQuality"],y);const w=_(r,["addWatermark"]);e!==void 0&&w!=null&&E(e,["parameters","addWatermark"],w);const x=_(r,["labels"]);e!==void 0&&x!=null&&E(e,["labels"],x);const T=_(r,["imageSize"]);e!==void 0&&T!=null&&E(e,["parameters","sampleImageSize"],T);const v=_(r,["enhancePrompt"]);return e!==void 0&&v!=null&&E(e,["parameters","enhancePrompt"],v),t}function LB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const a=_(e,["config"]);return a!=null&&PB(a,t),t}function DB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const a=_(e,["config"]);return a!=null&&FB(a,t),t}function BB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>YB(s))),E(e,["generatedImages"],a)}const i=_(r,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],IT(i)),e}function OB(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Dx(s))),E(e,["generatedImages"],a)}const i=_(r,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],MT(i)),e}function jB(r,e){const t={},n=_(r,["numberOfVideos"]);if(e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n),_(r,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(r,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=_(r,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),_(r,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=_(r,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const s=_(r,["resolution"]);e!==void 0&&s!=null&&E(e,["parameters","resolution"],s);const o=_(r,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),_(r,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=_(r,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=_(r,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),_(r,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const u=_(r,["lastFrame"]);e!==void 0&&u!=null&&E(e,["instances[0]","lastFrame"],Bx(u));const d=_(r,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(f=>qO(f))),E(e,["instances[0]","referenceImages"],h)}if(_(r,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(_(r,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function UB(r,e){const t={},n=_(r,["numberOfVideos"]);e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n);const i=_(r,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const a=_(r,["fps"]);e!==void 0&&a!=null&&E(e,["parameters","fps"],a);const s=_(r,["durationSeconds"]);e!==void 0&&s!=null&&E(e,["parameters","durationSeconds"],s);const o=_(r,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=_(r,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=_(r,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=_(r,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const d=_(r,["pubsubTopic"]);e!==void 0&&d!=null&&E(e,["parameters","pubsubTopic"],d);const h=_(r,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const f=_(r,["enhancePrompt"]);e!==void 0&&f!=null&&E(e,["parameters","enhancePrompt"],f);const g=_(r,["generateAudio"]);e!==void 0&&g!=null&&E(e,["parameters","generateAudio"],g);const y=_(r,["lastFrame"]);e!==void 0&&y!=null&&E(e,["instances[0]","lastFrame"],pl(y));const w=_(r,["referenceImages"]);if(e!==void 0&&w!=null){let v=w;Array.isArray(v)&&(v=v.map(R=>HO(R))),E(e,["instances[0]","referenceImages"],v)}const x=_(r,["mask"]);e!==void 0&&x!=null&&E(e,["instances[0]","mask"],UO(x));const T=_(r,["compressionQuality"]);return e!==void 0&&T!=null&&E(e,["parameters","compressionQuality"],T),t}function qB(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response","generateVideoResponse"]);return s!=null&&E(e,["response"],GB(s)),e}function HB(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response"]);return s!=null&&E(e,["response"],WB(s)),e}function zB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const a=_(e,["image"]);a!=null&&E(t,["instances[0]","image"],Bx(a));const s=_(e,["video"]);s!=null&&E(t,["instances[0]","video"],LT(s));const o=_(e,["source"]);o!=null&&XB(o,t);const l=_(e,["config"]);return l!=null&&jB(l,t),t}function VB(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const a=_(e,["image"]);a!=null&&E(t,["instances[0]","image"],pl(a));const s=_(e,["video"]);s!=null&&E(t,["instances[0]","video"],DT(s));const o=_(e,["source"]);o!=null&&KB(o,t);const l=_(e,["config"]);return l!=null&&UB(l,t),t}function GB(r){const e={},t=_(r,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>JB(s))),E(e,["generatedVideos"],a)}const n=_(r,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=_(r,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function WB(r){const e={},t=_(r,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>QB(s))),E(e,["generatedVideos"],a)}const n=_(r,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=_(r,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function XB(r,e){const t={},n=_(r,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=_(r,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Bx(i));const a=_(r,["video"]);return e!==void 0&&a!=null&&E(e,["instances[0]","video"],LT(a)),t}function KB(r,e){const t={},n=_(r,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=_(r,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],pl(i));const a=_(r,["video"]);return e!==void 0&&a!=null&&E(e,["instances[0]","video"],DT(a)),t}function YB(r){const e={},t=_(r,["_self"]);t!=null&&E(e,["image"],sO(t));const n=_(r,["raiFilteredReason"]);n!=null&&E(e,["raiFilteredReason"],n);const i=_(r,["_self"]);return i!=null&&E(e,["safetyAttributes"],IT(i)),e}function Dx(r){const e={},t=_(r,["_self"]);t!=null&&E(e,["image"],RT(t));const n=_(r,["raiFilteredReason"]);n!=null&&E(e,["raiFilteredReason"],n);const i=_(r,["_self"]);i!=null&&E(e,["safetyAttributes"],MT(i));const a=_(r,["prompt"]);return a!=null&&E(e,["enhancedPrompt"],a),e}function ZB(r){const e={},t=_(r,["_self"]);t!=null&&E(e,["mask"],RT(t));const n=_(r,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),E(e,["labels"],i)}return e}function JB(r){const e={},t=_(r,["video"]);return t!=null&&E(e,["video"],OO(t)),e}function QB(r){const e={},t=_(r,["_self"]);return t!=null&&E(e,["video"],jO(t)),e}function $B(r){const e={},t=_(r,["modelSelectionConfig"]);t!=null&&E(e,["modelConfig"],t);const n=_(r,["responseJsonSchema"]);n!=null&&E(e,["responseJsonSchema"],n);const i=_(r,["audioTimestamp"]);i!=null&&E(e,["audioTimestamp"],i);const a=_(r,["candidateCount"]);a!=null&&E(e,["candidateCount"],a);const s=_(r,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=_(r,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=_(r,["logprobs"]);l!=null&&E(e,["logprobs"],l);const c=_(r,["maxOutputTokens"]);c!=null&&E(e,["maxOutputTokens"],c);const u=_(r,["mediaResolution"]);u!=null&&E(e,["mediaResolution"],u);const d=_(r,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const h=_(r,["responseLogprobs"]);h!=null&&E(e,["responseLogprobs"],h);const f=_(r,["responseMimeType"]);f!=null&&E(e,["responseMimeType"],f);const g=_(r,["responseModalities"]);g!=null&&E(e,["responseModalities"],g);const y=_(r,["responseSchema"]);y!=null&&E(e,["responseSchema"],y);const w=_(r,["routingConfig"]);w!=null&&E(e,["routingConfig"],w);const x=_(r,["seed"]);x!=null&&E(e,["seed"],x);const T=_(r,["speechConfig"]);T!=null&&E(e,["speechConfig"],PT(T));const v=_(r,["stopSequences"]);v!=null&&E(e,["stopSequences"],v);const R=_(r,["temperature"]);R!=null&&E(e,["temperature"],R);const M=_(r,["thinkingConfig"]);M!=null&&E(e,["thinkingConfig"],M);const B=_(r,["topK"]);B!=null&&E(e,["topK"],B);const L=_(r,["topP"]);if(L!=null&&E(e,["topP"],L),_(r,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function eO(r,e){const t={},n=_(e,["model"]);return n!=null&&E(t,["_url","name"],$n(r,n)),t}function tO(r,e){const t={},n=_(e,["model"]);return n!=null&&E(t,["_url","name"],$n(r,n)),t}function nO(r){const e={};if(_(r,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=_(r,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function rO(r){const e={};if(_(r,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(r,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=_(r,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function iO(r){const e={},t=_(r,["aspectRatio"]);t!=null&&E(e,["aspectRatio"],t);const n=_(r,["imageSize"]);if(n!=null&&E(e,["imageSize"],n),_(r,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(r,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function aO(r){const e={},t=_(r,["aspectRatio"]);t!=null&&E(e,["aspectRatio"],t);const n=_(r,["imageSize"]);n!=null&&E(e,["imageSize"],n);const i=_(r,["outputMimeType"]);i!=null&&E(e,["imageOutputOptions","mimeType"],i);const a=_(r,["outputCompressionQuality"]);return a!=null&&E(e,["imageOutputOptions","compressionQuality"],a),e}function sO(r){const e={},t=_(r,["bytesBase64Encoded"]);t!=null&&E(e,["imageBytes"],eh(t));const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function RT(r){const e={},t=_(r,["gcsUri"]);t!=null&&E(e,["gcsUri"],t);const n=_(r,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],eh(n));const i=_(r,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Bx(r){const e={};if(_(r,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=_(r,["imageBytes"]);t!=null&&E(e,["bytesBase64Encoded"],eh(t));const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function pl(r){const e={},t=_(r,["gcsUri"]);t!=null&&E(e,["gcsUri"],t);const n=_(r,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],eh(n));const i=_(r,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function oO(r,e,t){const n={},i=_(e,["pageSize"]);t!==void 0&&i!=null&&E(t,["_query","pageSize"],i);const a=_(e,["pageToken"]);t!==void 0&&a!=null&&E(t,["_query","pageToken"],a);const s=_(e,["filter"]);t!==void 0&&s!=null&&E(t,["_query","filter"],s);const o=_(e,["queryBase"]);return t!==void 0&&o!=null&&E(t,["_url","models_url"],_T(r,o)),n}function lO(r,e,t){const n={},i=_(e,["pageSize"]);t!==void 0&&i!=null&&E(t,["_query","pageSize"],i);const a=_(e,["pageToken"]);t!==void 0&&a!=null&&E(t,["_query","pageToken"],a);const s=_(e,["filter"]);t!==void 0&&s!=null&&E(t,["_query","filter"],s);const o=_(e,["queryBase"]);return t!==void 0&&o!=null&&E(t,["_url","models_url"],_T(r,o)),n}function cO(r,e){const t={},n=_(e,["config"]);return n!=null&&oO(r,n,t),t}function uO(r,e){const t={},n=_(e,["config"]);return n!=null&&lO(r,n,t),t}function dO(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["_self"]);if(i!=null){let a=ST(i);Array.isArray(a)&&(a=a.map(s=>O_(s))),E(e,["models"],a)}return e}function hO(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["_self"]);if(i!=null){let a=ST(i);Array.isArray(a)&&(a=a.map(s=>j_(s))),E(e,["models"],a)}return e}function fO(r){const e={},t=_(r,["maskMode"]);t!=null&&E(e,["maskMode"],t);const n=_(r,["segmentationClasses"]);n!=null&&E(e,["maskClasses"],n);const i=_(r,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function O_(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["displayName"]);n!=null&&E(e,["displayName"],n);const i=_(r,["description"]);i!=null&&E(e,["description"],i);const a=_(r,["version"]);a!=null&&E(e,["version"],a);const s=_(r,["_self"]);s!=null&&E(e,["tunedModelInfo"],NO(s));const o=_(r,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=_(r,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=_(r,["supportedGenerationMethods"]);c!=null&&E(e,["supportedActions"],c);const u=_(r,["temperature"]);u!=null&&E(e,["temperature"],u);const d=_(r,["maxTemperature"]);d!=null&&E(e,["maxTemperature"],d);const h=_(r,["topP"]);h!=null&&E(e,["topP"],h);const f=_(r,["topK"]);f!=null&&E(e,["topK"],f);const g=_(r,["thinking"]);return g!=null&&E(e,["thinking"],g),e}function j_(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["displayName"]);n!=null&&E(e,["displayName"],n);const i=_(r,["description"]);i!=null&&E(e,["description"],i);const a=_(r,["versionId"]);a!=null&&E(e,["version"],a);const s=_(r,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>EB(h))),E(e,["endpoints"],d)}const o=_(r,["labels"]);o!=null&&E(e,["labels"],o);const l=_(r,["_self"]);l!=null&&E(e,["tunedModelInfo"],RO(l));const c=_(r,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=_(r,["checkpoints"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>h)),E(e,["checkpoints"],d)}return e}function pO(r){const e={},t=_(r,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const n=_(r,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=_(r,["executableCode"]);i!=null&&E(e,["executableCode"],i);const a=_(r,["fileData"]);a!=null&&E(e,["fileData"],CB(a));const s=_(r,["functionCall"]);s!=null&&E(e,["functionCall"],TB(s));const o=_(r,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=_(r,["inlineData"]);l!=null&&E(e,["inlineData"],$D(l));const c=_(r,["text"]);c!=null&&E(e,["text"],c);const u=_(r,["thought"]);u!=null&&E(e,["thought"],u);const d=_(r,["thoughtSignature"]);d!=null&&E(e,["thoughtSignature"],d);const h=_(r,["videoMetadata"]);return h!=null&&E(e,["videoMetadata"],h),e}function mO(r){const e={},t=_(r,["productImage"]);return t!=null&&E(e,["image"],pl(t)),e}function gO(r,e){const t={},n=_(r,["numberOfImages"]);e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n);const i=_(r,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","baseSteps"],i);const a=_(r,["outputGcsUri"]);e!==void 0&&a!=null&&E(e,["parameters","storageUri"],a);const s=_(r,["seed"]);e!==void 0&&s!=null&&E(e,["parameters","seed"],s);const o=_(r,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=_(r,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=_(r,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=_(r,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const d=_(r,["outputCompressionQuality"]);e!==void 0&&d!=null&&E(e,["parameters","outputOptions","compressionQuality"],d);const h=_(r,["enhancePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h);const f=_(r,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),t}function vO(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["source"]);i!=null&&yO(i,t);const a=_(e,["config"]);return a!=null&&gO(a,t),t}function bO(r){const e={},t=_(r,["predictions"]);if(t!=null){let n=t;Array.isArray(n)&&(n=n.map(i=>Dx(i))),E(e,["generatedImages"],n)}return e}function yO(r,e){const t={},n=_(r,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=_(r,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],pl(i));const a=_(r,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>mO(o))),E(e,["instances[0]","productImages"],s)}return t}function xO(r){const e={},t=_(r,["referenceImage"]);t!=null&&E(e,["referenceImage"],pl(t));const n=_(r,["referenceId"]);n!=null&&E(e,["referenceId"],n);const i=_(r,["referenceType"]);i!=null&&E(e,["referenceType"],i);const a=_(r,["maskImageConfig"]);a!=null&&E(e,["maskImageConfig"],fO(a));const s=_(r,["controlImageConfig"]);s!=null&&E(e,["controlImageConfig"],sB(s));const o=_(r,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],o);const l=_(r,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],l),e}function IT(r){const e={},t=_(r,["safetyAttributes","categories"]);t!=null&&E(e,["categories"],t);const n=_(r,["safetyAttributes","scores"]);n!=null&&E(e,["scores"],n);const i=_(r,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function MT(r){const e={},t=_(r,["safetyAttributes","categories"]);t!=null&&E(e,["categories"],t);const n=_(r,["safetyAttributes","scores"]);n!=null&&E(e,["scores"],n);const i=_(r,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function wO(r){const e={},t=_(r,["category"]);if(t!=null&&E(e,["category"],t),_(r,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=_(r,["threshold"]);return n!=null&&E(e,["threshold"],n),e}function _O(r){const e={},t=_(r,["image"]);return t!=null&&E(e,["image"],pl(t)),e}function SO(r,e){const t={},n=_(r,["mode"]);e!==void 0&&n!=null&&E(e,["parameters","mode"],n);const i=_(r,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const a=_(r,["confidenceThreshold"]);e!==void 0&&a!=null&&E(e,["parameters","confidenceThreshold"],a);const s=_(r,["maskDilation"]);e!==void 0&&s!=null&&E(e,["parameters","maskDilation"],s);const o=_(r,["binaryColorThreshold"]);e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o);const l=_(r,["labels"]);return e!==void 0&&l!=null&&E(e,["labels"],l),t}function AO(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["source"]);i!=null&&EO(i,t);const a=_(e,["config"]);return a!=null&&SO(a,t),t}function kO(r){const e={},t=_(r,["predictions"]);if(t!=null){let n=t;Array.isArray(n)&&(n=n.map(i=>ZB(i))),E(e,["generatedMasks"],n)}return e}function EO(r,e){const t={},n=_(r,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=_(r,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],pl(i));const a=_(r,["scribbleImage"]);return e!==void 0&&a!=null&&E(e,["instances[0]","scribble"],_O(a)),t}function PT(r){const e={},t=_(r,["languageCode"]);t!=null&&E(e,["languageCode"],t);const n=_(r,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),_(r,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function CO(r){const e={},t=_(r,["functionCallingConfig"]);t!=null&&E(e,["functionCallingConfig"],NB(t));const n=_(r,["retrievalConfig"]);return n!=null&&E(e,["retrievalConfig"],n),e}function TO(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(d=>d)),E(e,["functionDeclarations"],u)}if(_(r,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(r,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=_(r,["computerUse"]);i!=null&&E(e,["computerUse"],i);const a=_(r,["fileSearch"]);a!=null&&E(e,["fileSearch"],a);const s=_(r,["codeExecution"]);if(s!=null&&E(e,["codeExecution"],s),_(r,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=_(r,["googleMaps"]);o!=null&&E(e,["googleMaps"],nO(o));const l=_(r,["googleSearch"]);l!=null&&E(e,["googleSearch"],rO(l));const c=_(r,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}function FT(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>RB(h))),E(e,["functionDeclarations"],d)}const n=_(r,["retrieval"]);n!=null&&E(e,["retrieval"],n);const i=_(r,["googleSearchRetrieval"]);i!=null&&E(e,["googleSearchRetrieval"],i);const a=_(r,["computerUse"]);if(a!=null&&E(e,["computerUse"],a),_(r,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=_(r,["codeExecution"]);s!=null&&E(e,["codeExecution"],s);const o=_(r,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=_(r,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const c=_(r,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=_(r,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function NO(r){const e={},t=_(r,["baseModel"]);t!=null&&E(e,["baseModel"],t);const n=_(r,["createTime"]);n!=null&&E(e,["createTime"],n);const i=_(r,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function RO(r){const e={},t=_(r,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&E(e,["baseModel"],t);const n=_(r,["createTime"]);n!=null&&E(e,["createTime"],n);const i=_(r,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function IO(r,e){const t={},n=_(r,["displayName"]);e!==void 0&&n!=null&&E(e,["displayName"],n);const i=_(r,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const a=_(r,["defaultCheckpointId"]);return e!==void 0&&a!=null&&E(e,["defaultCheckpointId"],a),t}function MO(r,e){const t={},n=_(r,["displayName"]);e!==void 0&&n!=null&&E(e,["displayName"],n);const i=_(r,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const a=_(r,["defaultCheckpointId"]);return e!==void 0&&a!=null&&E(e,["defaultCheckpointId"],a),t}function PO(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","name"],$n(r,n));const i=_(e,["config"]);return i!=null&&IO(i,t),t}function FO(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["config"]);return i!=null&&MO(i,t),t}function LO(r,e){const t={},n=_(r,["outputGcsUri"]);e!==void 0&&n!=null&&E(e,["parameters","storageUri"],n);const i=_(r,["safetyFilterLevel"]);e!==void 0&&i!=null&&E(e,["parameters","safetySetting"],i);const a=_(r,["personGeneration"]);e!==void 0&&a!=null&&E(e,["parameters","personGeneration"],a);const s=_(r,["includeRaiReason"]);e!==void 0&&s!=null&&E(e,["parameters","includeRaiReason"],s);const o=_(r,["outputMimeType"]);e!==void 0&&o!=null&&E(e,["parameters","outputOptions","mimeType"],o);const l=_(r,["outputCompressionQuality"]);e!==void 0&&l!=null&&E(e,["parameters","outputOptions","compressionQuality"],l);const c=_(r,["enhanceInputImage"]);e!==void 0&&c!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],c);const u=_(r,["imagePreservationFactor"]);e!==void 0&&u!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const d=_(r,["labels"]);e!==void 0&&d!=null&&E(e,["labels"],d);const h=_(r,["numberOfImages"]);e!==void 0&&h!=null&&E(e,["parameters","sampleCount"],h);const f=_(r,["mode"]);return e!==void 0&&f!=null&&E(e,["parameters","mode"],f),t}function DO(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["_url","model"],$n(r,n));const i=_(e,["image"]);i!=null&&E(t,["instances[0]","image"],pl(i));const a=_(e,["upscaleFactor"]);a!=null&&E(t,["parameters","upscaleConfig","upscaleFactor"],a);const s=_(e,["config"]);return s!=null&&LO(s,t),t}function BO(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Dx(a))),E(e,["generatedImages"],i)}return e}function OO(r){const e={},t=_(r,["uri"]);t!=null&&E(e,["uri"],t);const n=_(r,["encodedVideo"]);n!=null&&E(e,["videoBytes"],eh(n));const i=_(r,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function jO(r){const e={},t=_(r,["gcsUri"]);t!=null&&E(e,["uri"],t);const n=_(r,["bytesBase64Encoded"]);n!=null&&E(e,["videoBytes"],eh(n));const i=_(r,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function UO(r){const e={},t=_(r,["image"]);t!=null&&E(e,["_self"],pl(t));const n=_(r,["maskMode"]);return n!=null&&E(e,["maskMode"],n),e}function qO(r){const e={},t=_(r,["image"]);t!=null&&E(e,["image"],Bx(t));const n=_(r,["referenceType"]);return n!=null&&E(e,["referenceType"],n),e}function HO(r){const e={},t=_(r,["image"]);t!=null&&E(e,["image"],pl(t));const n=_(r,["referenceType"]);return n!=null&&E(e,["referenceType"],n),e}function LT(r){const e={},t=_(r,["uri"]);t!=null&&E(e,["uri"],t);const n=_(r,["videoBytes"]);n!=null&&E(e,["encodedVideo"],eh(n));const i=_(r,["mimeType"]);return i!=null&&E(e,["encoding"],i),e}function DT(r){const e={},t=_(r,["uri"]);t!=null&&E(e,["gcsUri"],t);const n=_(r,["videoBytes"]);n!=null&&E(e,["bytesBase64Encoded"],eh(n));const i=_(r,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zO="Content-Type",VO="X-Server-Timeout",GO="User-Agent",U_="x-goog-api-client",WO="1.30.0",XO=`google-genai-sdk/${WO}`,KO="v1beta1",YO="v1beta",J8=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ZO{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:KO,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:YO,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,n){const i=[this.getRequestUrlInternal(t)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(t))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,i){if(t&&t.timeout||i){const a=new AbortController,s=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>a.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return t&&t.extraBody!==null&&JO(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await Q8(i),new L_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await Q8(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return ip(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:l}=yield Dr(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(l,{stream:!0});try{const d=JSON.parse(c);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),f=h.status,g=h.code,y=`got status: ${f}. ${JSON.stringify(d)}`;if(g>=400&&g<600)throw new Fx({message:y,status:g})}}catch(d){if(d.name==="ApiError")throw d}s+=c;let u=s.match(J8);for(;u;){const d=u[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dr(new L_(h)),s=s.slice(u[0].length),u=s.match(J8)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},t=XO+" "+this.clientOptions.userAgentExtra;return e[GO]=t,e[U_]=t,e[zO]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))n.append(i,a);e.timeout&&e.timeout>0&&n.append(VO,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(t=n.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),n}async uploadFile(e,t){var n;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(n=t==null?void 0:t.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},c=this.getFileName(e),u=Ut("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(u,i.sizeBytes,i.mimeType,c,l,t==null?void 0:t.httpOptions);return a.upload(e,d,this)}async uploadFileToFileSearchStore(e,t,n){var i;const a=this.clientOptions.uploader,s=await a.stat(t),o=String(s.size),l=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),d={};n!=null&&n.customMetadata&&(d.customMetadata=n.customMetadata),n!=null&&n.chunkingConfig&&(d.chunkingConfig=n.chunkingConfig);const h=await this.fetchUploadUrl(c,o,l,u,d,n==null?void 0:n.httpOptions);return a.uploadToFileSearchStore(t,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,n,i,a,s){var o;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Q8(r){var e;if(r===void 0)throw new Error("response is undefined");if(!r.ok){const t=r.status;let n;!((e=r.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await r.json():n={error:{message:await r.text(),code:r.status,status:r.statusText}};const i=JSON.stringify(n);throw t>=400&&t<600?new Fx({message:i,status:t}):new Error(i)}}function JO(r,e){if(!e||Object.keys(e).length===0)return;if(r.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof r.body=="string"&&r.body.length>0)try{const a=JSON.parse(r.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const o=Object.assign({},a);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const c=s[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=n(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=n(t,e);r.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QO="mcp_used/unknown";let $O=!1;function BT(r){for(const e of r)if(ej(e)||typeof e=="object"&&"inputSchema"in e)return!0;return $O}function OT(r){var e;const t=(e=r[U_])!==null&&e!==void 0?e:"";r[U_]=(t+` ${QO}`).trimStart()}function ej(r){return r!==null&&typeof r=="object"&&r instanceof X4}function tj(r,e=100){return ip(this,arguments,function*(){let n,i=0;for(;i<e;){const a=yield Dr(r.listTools({cursor:n}));for(const s of a.tools)yield yield Dr(s),i++;if(!a.nextCursor)break;n=a.nextCursor}})}class X4{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new X4(e,t)}async initialize(){var e,t,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const u of this.mcpClients)try{for(var o=!0,l=(t=void 0,og(tj(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const d=i;s.push(d);const h=d.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=u}}catch(d){t={error:d}}finally{try{!o&&!e&&(n=l.return)&&await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),XF(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);t.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nj(r,e,t){const n=new jF;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(n,i),e(n)}class rj{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=sj(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(v=>{c=v}),d=e.callbacks,h=function(){c({})},f=this.apiClient,g={onopen:h,onmessage:v=>{nj(f,d.onmessage,v)},onerror:(t=d==null?void 0:d.onerror)!==null&&t!==void 0?t:function(v){},onclose:(n=d==null?void 0:d.onclose)!==null&&n!==void 0?n:function(v){}},y=this.webSocketFactory.create(l,aj(s),g);y.connect(),await u;const T={setup:{model:$n(this.apiClient,e.model)}};return y.send(JSON.stringify(T)),new ij(y,this.apiClient)}}class ij{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=VD(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=zD(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(X0.PLAY)}pause(){this.sendPlaybackControl(X0.PAUSE)}stop(){this.sendPlaybackControl(X0.STOP)}resetContext(){this.sendPlaybackControl(X0.RESET_CONTEXT)}close(){this.conn.close()}}function aj(r){const e={};return r.forEach((t,n)=>{e[n]=t}),e}function sj(r){const e=new Headers;for(const[t,n]of Object.entries(r))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oj="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lj(r,e,t){const n=new OF;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const a=JSON.parse(i);if(r.isVertexAI()){const s=XD(a);Object.assign(n,s)}else Object.assign(n,a);e(n)}class cj{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new rj(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&BT(e.config.tools)&&OT(d);const h=fj(d);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,u);else{const H=this.apiClient.getApiKey();let $="BidiGenerateContent",U="key";H!=null&&H.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",U="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${$}?${U}=${H}`}let f=()=>{};const g=new Promise(H=>{f=H}),y=e.callbacks,w=function(){var H;(H=y==null?void 0:y.onopen)===null||H===void 0||H.call(y),f({})},x=this.apiClient,T={onopen:w,onmessage:H=>{lj(x,y.onmessage,H)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(H){},onclose:(n=y==null?void 0:y.onclose)!==null&&n!==void 0?n:function(H){}},v=this.webSocketFactory.create(u,hj(h),T);v.connect(),await g;let R=$n(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const H=this.apiClient.getProject(),$=this.apiClient.getLocation();R=`projects/${H}/locations/${$}/`+R}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[My.AUDIO]}:e.config.responseModalities=[My.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],L=[];for(const H of B)if(this.isCallableTool(H)){const $=H;L.push(await $.tool())}else L.push(H);L.length>0&&(e.config.tools=L);const z={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=HD(this.apiClient,z):M=qD(this.apiClient,z),delete M.config,v.send(JSON.stringify(M)),new dj(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const uj={turnComplete:!0};class dj{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=Io(t.turns),e.isVertexAI()||(n=n.map(i=>Lx(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?n=t.functionResponses:n=[t.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(oj)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},uj),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:WD(e)}:t={realtimeInput:GD(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function hj(r){const e={};return r.forEach((t,n)=>{e[n]=t}),e}function fj(r){const e=new Headers;for(const[t,n]of Object.entries(r))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $8=10;function e6(r){var e,t,n;if(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(t=r==null?void 0:r.tools)!==null&&t!==void 0?t:[])if(ap(s)){i=!0;break}if(!i)return!0;const a=(n=r==null?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ap(r){return"callTool"in r&&typeof r.callTool=="function"}function pj(r){var e,t,n;return(n=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>ap(i)))!==null&&n!==void 0?n:!1}function t6(r){var e;const t=[];return!((e=r==null?void 0:r.config)===null||e===void 0)&&e.tools&&r.config.tools.forEach((n,i)=>{if(ap(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(i)}),t}function n6(r){var e;return!(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mj extends wu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var n,i,a,s,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!pj(t)||e6(t.config))return await this.generateContentInternal(l);const c=t6(t);if(c.length>0){const y=c.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let u,d;const h=Io(l.contents),f=(a=(i=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:$8;let g=0;for(;g<f&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const y=u.candidates[0].content,w=[];for(const x of(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(ap(x)){const v=await x.callTool(u.functionCalls);w.push(...v)}g++,d={role:"user",parts:w},l.contents=Io(l.contents),l.contents.push(y),l.contents.push(d),n6(l.config)&&(h.push(y),h.push(d))}return n6(l.config)&&(u.automaticFunctionCallingHistory=h),u},this.generateContentStream=async t=>{var n,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(t),e6(t.config)){const d=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(d)}const l=t6(t);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(i=(n=t==null?void 0:t.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,u=(o=(s=t==null?void 0:t.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(n=>{var i;let a;const s=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:s.push(l);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async t=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new s0(bu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async t=>{const n={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(n.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async t=>{let n={numberOfImages:1,mode:"upscale"};t.config&&(n=Object.assign(Object.assign({},n),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var n,i,a,s,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=t.video)===null||n===void 0)&&n.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((s=(a=t.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,i;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const s=await Promise.all(a.map(async l=>ap(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&BT(e.config.tools)){const l=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),OT(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var t,n,i;const a=new Map;for(const s of(n=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&n!==void 0?n:[])if(ap(s)){const o=s,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var t,n,i;const a=(i=(n=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:$8;let s=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,d){var h,f;return ip(this,arguments,function*(){for(var g,y,w,x;o<a;){s&&(o++,s=!1);const M=yield Dr(c.processParamsMaybeAddMcpUsage(d)),B=yield Dr(c.generateContentStreamInternal(M)),L=[],z=[];try{for(var T=!0,v=(y=void 0,og(B)),R;R=yield Dr(v.next()),g=R.done,!g;T=!0){x=R.value,T=!1;const H=x;if(yield yield Dr(H),H.candidates&&(!((h=H.candidates[0])===null||h===void 0)&&h.content)){z.push(H.candidates[0].content);for(const $ of(f=H.candidates[0].content.parts)!==null&&f!==void 0?f:[])if(o<a&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has($.functionCall.name)){const U=yield Dr(u.get($.functionCall.name).callTool([$.functionCall]));L.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(H){y={error:H}}finally{try{!T&&!g&&(w=v.return)&&(yield Dr(w.call(v)))}finally{if(y)throw y.error}}if(L.length>0){s=!0;const H=new bm;H.candidates=[{content:{role:"user",parts:L}}],yield yield Dr(H);const $=[];$.push(...z),$.push({role:"user",parts:L});const U=Io(d.contents).concat($);d.contents=U}else break}})})(this,l,e)}async generateContentInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=K8(this.apiClient,e);return o=Ut("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=Z8(u),h=new bm;return Object.assign(h,d),h})}else{const c=X8(this.apiClient,e);return o=Ut("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=Y8(u),h=new bm;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=K8(this.apiClient,e);return o=Ut("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(d){return ip(this,arguments,function*(){var h,f,g,y;try{for(var w=!0,x=og(d),T;T=yield Dr(x.next()),h=T.done,!h;w=!0){y=T.value,w=!1;const v=y,R=Z8(yield Dr(v.json()));R.sdkHttpResponse={headers:v.headers};const M=new bm;Object.assign(M,R),yield yield Dr(M)}}catch(v){f={error:v}}finally{try{!w&&!h&&(g=x.return)&&(yield Dr(g.call(x)))}finally{if(f)throw f.error}}})})}else{const c=X8(this.apiClient,e);return o=Ut("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(d){return ip(this,arguments,function*(){var h,f,g,y;try{for(var w=!0,x=og(d),T;T=yield Dr(x.next()),h=T.done,!h;w=!0){y=T.value,w=!1;const v=y,R=Y8(yield Dr(v.json()));R.sdkHttpResponse={headers:v.headers};const M=new bm;Object.assign(M,R),yield yield Dr(M)}}catch(v){f={error:v}}finally{try{!w&&!h&&(g=x.return)&&(yield Dr(g.call(x)))}finally{if(f)throw f.error}}})})}}async embedContent(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=SB(this.apiClient,e);return o=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=kB(u),h=new I8;return Object.assign(h,d),h})}else{const c=_B(this.apiClient,e);return o=Ut("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=AB(u),h=new I8;return Object.assign(h,d),h})}}async generateImagesInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=DB(this.apiClient,e);return o=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=OB(u),h=new M8;return Object.assign(h,d),h})}else{const c=LB(this.apiClient,e);return o=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=BB(u),h=new M8;return Object.assign(h,d),h})}}async editImageInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=bB(this.apiClient,e);return a=Ut("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=yB(l),u=new CF;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=DO(this.apiClient,e);return a=Ut("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=BO(l),u=new TF;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=vO(this.apiClient,e);return a=Ut("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=bO(l),u=new NF;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=AO(this.apiClient,e);return a=Ut("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=kO(l),u=new RF;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=tO(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>j_(u))}else{const c=eO(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>O_(u))}}async listInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=uO(this.apiClient,e);return o=Ut("{models_url}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=hO(u),h=new P8;return Object.assign(h,d),h})}else{const c=cO(this.apiClient,e);return o=Ut("{models_url}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=dO(u),h=new P8;return Object.assign(h,d),h})}}async update(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=FO(this.apiClient,e);return o=Ut("{model}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>j_(u))}else{const c=PO(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>O_(u))}}async delete(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=pB(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=gB(u),h=new F8;return Object.assign(h,d),h})}else{const c=fB(this.apiClient,e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=mB(u),h=new F8;return Object.assign(h,d),h})}}async countTokens(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=uB(this.apiClient,e);return o=Ut("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=hB(u),h=new L8;return Object.assign(h,d),h})}else{const c=cB(this.apiClient,e);return o=Ut("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=dB(u),h=new L8;return Object.assign(h,d),h})}}async computeTokens(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=nB(this.apiClient,e);return a=Ut("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=rB(l),u=new IF;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=VB(this.apiClient,e);return o=Ut("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const d=HB(u),h=new Py;return Object.assign(h,d),h})}else{const c=zB(this.apiClient,e);return o=Ut("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const d=qB(u),h=new Py;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gj extends wu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=wF(e);return o=Ut("{operationName}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s}else{const c=xF(e);return o=Ut("{operationName}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s}}async fetchPredictVideosOperationInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=fF(e);return a=Ut("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vj(r){const e={},t=_(r,["data"]);if(t!=null&&E(e,["data"],t),_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function bj(r){const e={},t=_(r,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>Cj(a))),E(e,["parts"],i)}const n=_(r,["role"]);return n!=null&&E(e,["role"],n),e}function yj(r,e,t){const n={},i=_(e,["expireTime"]);t!==void 0&&i!=null&&E(t,["expireTime"],i);const a=_(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&E(t,["newSessionExpireTime"],a);const s=_(e,["uses"]);t!==void 0&&s!=null&&E(t,["uses"],s);const o=_(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&E(t,["bidiGenerateContentSetup"],Ej(r,o));const l=_(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&E(t,["fieldMask"],l),n}function xj(r,e){const t={},n=_(e,["config"]);return n!=null&&E(t,["config"],yj(r,n,t)),t}function wj(r){const e={};if(_(r,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=_(r,["fileUri"]);t!=null&&E(e,["fileUri"],t);const n=_(r,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function _j(r){const e={},t=_(r,["id"]);t!=null&&E(e,["id"],t);const n=_(r,["args"]);n!=null&&E(e,["args"],n);const i=_(r,["name"]);if(i!=null&&E(e,["name"],i),_(r,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(r,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sj(r){const e={};if(_(r,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=_(r,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function Aj(r){const e={};if(_(r,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(r,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=_(r,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function kj(r,e){const t={},n=_(r,["generationConfig"]);e!==void 0&&n!=null&&E(e,["setup","generationConfig"],n);const i=_(r,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const a=_(r,["temperature"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","temperature"],a);const s=_(r,["topP"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","topP"],s);const o=_(r,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=_(r,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=_(r,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=_(r,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const d=_(r,["speechConfig"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","speechConfig"],W4(d));const h=_(r,["thinkingConfig"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","thinkingConfig"],h);const f=_(r,["enableAffectiveDialog"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],f);const g=_(r,["systemInstruction"]);e!==void 0&&g!=null&&E(e,["setup","systemInstruction"],bj(Ma(g)));const y=_(r,["tools"]);if(e!==void 0&&y!=null){let B=H1(y);Array.isArray(B)&&(B=B.map(L=>Nj(q1(L)))),E(e,["setup","tools"],B)}const w=_(r,["sessionResumption"]);e!==void 0&&w!=null&&E(e,["setup","sessionResumption"],Tj(w));const x=_(r,["inputAudioTranscription"]);e!==void 0&&x!=null&&E(e,["setup","inputAudioTranscription"],x);const T=_(r,["outputAudioTranscription"]);e!==void 0&&T!=null&&E(e,["setup","outputAudioTranscription"],T);const v=_(r,["realtimeInputConfig"]);e!==void 0&&v!=null&&E(e,["setup","realtimeInputConfig"],v);const R=_(r,["contextWindowCompression"]);e!==void 0&&R!=null&&E(e,["setup","contextWindowCompression"],R);const M=_(r,["proactivity"]);return e!==void 0&&M!=null&&E(e,["setup","proactivity"],M),t}function Ej(r,e){const t={},n=_(e,["model"]);n!=null&&E(t,["setup","model"],$n(r,n));const i=_(e,["config"]);return i!=null&&E(t,["config"],kj(i,t)),t}function Cj(r){const e={},t=_(r,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const n=_(r,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=_(r,["executableCode"]);i!=null&&E(e,["executableCode"],i);const a=_(r,["fileData"]);a!=null&&E(e,["fileData"],wj(a));const s=_(r,["functionCall"]);s!=null&&E(e,["functionCall"],_j(s));const o=_(r,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=_(r,["inlineData"]);l!=null&&E(e,["inlineData"],vj(l));const c=_(r,["text"]);c!=null&&E(e,["text"],c);const u=_(r,["thought"]);u!=null&&E(e,["thought"],u);const d=_(r,["thoughtSignature"]);d!=null&&E(e,["thoughtSignature"],d);const h=_(r,["videoMetadata"]);return h!=null&&E(e,["videoMetadata"],h),e}function Tj(r){const e={},t=_(r,["handle"]);if(t!=null&&E(e,["handle"],t),_(r,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Nj(r){const e={},t=_(r,["functionDeclarations"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(d=>d)),E(e,["functionDeclarations"],u)}if(_(r,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(r,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=_(r,["computerUse"]);i!=null&&E(e,["computerUse"],i);const a=_(r,["fileSearch"]);a!=null&&E(e,["fileSearch"],a);const s=_(r,["codeExecution"]);if(s!=null&&E(e,["codeExecution"],s),_(r,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=_(r,["googleMaps"]);o!=null&&E(e,["googleMaps"],Sj(o));const l=_(r,["googleSearch"]);l!=null&&E(e,["googleSearch"],Aj(l));const c=_(r,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rj(r){const e=[];for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const n=r[t];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${t}.${a}`);e.push(...i)}else e.push(t)}return e.join(",")}function Ij(r,e){let t=null;const n=r.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(r.bidiGenerateContentSetup=a,t=a):delete r.bidiGenerateContentSetup}else n!==void 0&&delete r.bidiGenerateContentSetup;const i=r.fieldMask;if(t){const a=Rj(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?r.fieldMask=a:delete r.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?r.fieldMask=l.join(","):delete r.fieldMask}else delete r.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?r.fieldMask=i.join(","):delete r.fieldMask;return r}class Mj extends wu{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=xj(this.apiClient,e);a=Ut("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const l=Ij(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pj(r,e){const t={},n=_(r,["displayName"]);return e!==void 0&&n!=null&&E(e,["displayName"],n),t}function Fj(r){const e={},t=_(r,["config"]);return t!=null&&Pj(t,e),e}function Lj(r,e){const t={},n=_(r,["force"]);return e!==void 0&&n!=null&&E(e,["_query","force"],n),t}function Dj(r){const e={},t=_(r,["name"]);t!=null&&E(e,["_url","name"],t);const n=_(r,["config"]);return n!=null&&Lj(n,e),e}function Bj(r){const e={},t=_(r,["name"]);return t!=null&&E(e,["_url","name"],t),e}function Oj(r,e){const t={},n=_(r,["customMetadata"]);if(e!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["customMetadata"],a)}const i=_(r,["chunkingConfig"]);return e!==void 0&&i!=null&&E(e,["chunkingConfig"],i),t}function jj(r){const e={},t=_(r,["name"]);t!=null&&E(e,["name"],t);const n=_(r,["metadata"]);n!=null&&E(e,["metadata"],n);const i=_(r,["done"]);i!=null&&E(e,["done"],i);const a=_(r,["error"]);a!=null&&E(e,["error"],a);const s=_(r,["response"]);return s!=null&&E(e,["response"],qj(s)),e}function Uj(r){const e={},t=_(r,["fileSearchStoreName"]);t!=null&&E(e,["_url","file_search_store_name"],t);const n=_(r,["fileName"]);n!=null&&E(e,["fileName"],n);const i=_(r,["config"]);return i!=null&&Oj(i,e),e}function qj(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["parent"]);n!=null&&E(e,["parent"],n);const i=_(r,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function Hj(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function zj(r){const e={},t=_(r,["config"]);return t!=null&&Hj(t,e),e}function Vj(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["fileSearchStores"],a)}return e}function Gj(r,e){const t={},n=_(r,["mimeType"]);e!==void 0&&n!=null&&E(e,["mimeType"],n);const i=_(r,["displayName"]);e!==void 0&&i!=null&&E(e,["displayName"],i);const a=_(r,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>l)),E(e,["customMetadata"],o)}const s=_(r,["chunkingConfig"]);return e!==void 0&&s!=null&&E(e,["chunkingConfig"],s),t}function Wj(r){const e={},t=_(r,["fileSearchStoreName"]);t!=null&&E(e,["_url","file_search_store_name"],t);const n=_(r,["config"]);return n!=null&&Gj(n,e),e}function Xj(r){const e={},t=_(r,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kj(r,e){const t={},n=_(r,["force"]);return e!==void 0&&n!=null&&E(e,["_query","force"],n),t}function Yj(r){const e={},t=_(r,["name"]);t!=null&&E(e,["_url","name"],t);const n=_(r,["config"]);return n!=null&&Kj(n,e),e}function Zj(r){const e={},t=_(r,["name"]);return t!=null&&E(e,["_url","name"],t),e}function Jj(r,e){const t={},n=_(r,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=_(r,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function Qj(r){const e={},t=_(r,["parent"]);t!=null&&E(e,["_url","parent"],t);const n=_(r,["config"]);return n!=null&&Jj(n,e),e}function $j(r){const e={},t=_(r,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const n=_(r,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=_(r,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eU extends wu{constructor(e){super(),this.apiClient=e,this.list=async t=>new s0(bu.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:t.parent,config:n.config}),await this.listInternal(t),t)}async get(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Zj(e);return a=Ut("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yj(e);i=Ut("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qj(e);return a=Ut("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=$j(l),u=new MF;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tU extends wu{constructor(e,t=new eU(e)){super(),this.apiClient=e,this.documents=t,this.list=async(n={})=>new s0(bu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Fj(e);return a=Ut("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Bj(e);return a=Ut("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dj(e);i=Ut("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zj(e);return a=Ut("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Vj(l),u=new PF;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wj(e);return a=Ut("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Xj(l),u=new FF;return Object.assign(u,c),u})}}async importFile(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uj(e);return a=Ut("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=jj(l),u=new q4;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nU(r,e){const t={},n=_(r,["name"]);return n!=null&&E(t,["_url","name"],n),t}function rU(r,e){const t={},n=_(r,["name"]);return n!=null&&E(t,["_url","name"],n),t}function iU(r,e,t){const n={};if(_(r,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=_(r,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&E(e,["displayName"],i),_(r,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=_(r,["epochCount"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","epochCount"],a);const s=_(r,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),_(r,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(_(r,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(_(r,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=_(r,["batchSize"]);e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","batchSize"],o);const l=_(r,["learningRate"]);if(e!==void 0&&l!=null&&E(e,["tuningTask","hyperparameters","learningRate"],l),_(r,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(_(r,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function aU(r,e,t){const n={};let i=_(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const f=_(r,["validationDataset"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec"],r6(f))}else if(i==="PREFERENCE_TUNING"){const f=_(r,["validationDataset"]);e!==void 0&&f!=null&&E(e,["preferenceOptimizationSpec"],r6(f))}const a=_(r,["tunedModelDisplayName"]);e!==void 0&&a!=null&&E(e,["tunedModelDisplayName"],a);const s=_(r,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);let o=_(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const f=_(r,["epochCount"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],f)}else if(o==="PREFERENCE_TUNING"){const f=_(r,["epochCount"]);e!==void 0&&f!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],f)}let l=_(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=_(r,["learningRateMultiplier"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f)}else if(l==="PREFERENCE_TUNING"){const f=_(r,["learningRateMultiplier"]);e!==void 0&&f!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],f)}let c=_(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=_(r,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f)}else if(c==="PREFERENCE_TUNING"){const f=_(r,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&E(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],f)}let u=_(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=_(r,["adapterSize"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f)}else if(u==="PREFERENCE_TUNING"){const f=_(r,["adapterSize"]);e!==void 0&&f!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],f)}if(_(r,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(_(r,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=_(r,["labels"]);e!==void 0&&d!=null&&E(e,["labels"],d);const h=_(r,["beta"]);return e!==void 0&&h!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),n}function sU(r,e){const t={},n=_(r,["baseModel"]);n!=null&&E(t,["baseModel"],n);const i=_(r,["preTunedModel"]);i!=null&&E(t,["preTunedModel"],i);const a=_(r,["trainingDataset"]);a!=null&&vU(a);const s=_(r,["config"]);return s!=null&&iU(s,t),t}function oU(r,e){const t={},n=_(r,["baseModel"]);n!=null&&E(t,["baseModel"],n);const i=_(r,["preTunedModel"]);i!=null&&E(t,["preTunedModel"],i);const a=_(r,["trainingDataset"]);a!=null&&bU(a,t,e);const s=_(r,["config"]);return s!=null&&aU(s,t,e),t}function lU(r,e){const t={},n=_(r,["name"]);return n!=null&&E(t,["_url","name"],n),t}function cU(r,e){const t={},n=_(r,["name"]);return n!=null&&E(t,["_url","name"],n),t}function uU(r,e,t){const n={},i=_(r,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const a=_(r,["pageToken"]);e!==void 0&&a!=null&&E(e,["_query","pageToken"],a);const s=_(r,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function dU(r,e,t){const n={},i=_(r,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const a=_(r,["pageToken"]);e!==void 0&&a!=null&&E(e,["_query","pageToken"],a);const s=_(r,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function hU(r,e){const t={},n=_(r,["config"]);return n!=null&&uU(n,t),t}function fU(r,e){const t={},n=_(r,["config"]);return n!=null&&dU(n,t),t}function pU(r,e){const t={},n=_(r,["sdkHttpResponse"]);n!=null&&E(t,["sdkHttpResponse"],n);const i=_(r,["nextPageToken"]);i!=null&&E(t,["nextPageToken"],i);const a=_(r,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>jT(o))),E(t,["tuningJobs"],s)}return t}function mU(r,e){const t={},n=_(r,["sdkHttpResponse"]);n!=null&&E(t,["sdkHttpResponse"],n);const i=_(r,["nextPageToken"]);i!=null&&E(t,["nextPageToken"],i);const a=_(r,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>q_(o))),E(t,["tuningJobs"],s)}return t}function gU(r,e){const t={},n=_(r,["name"]);n!=null&&E(t,["model"],n);const i=_(r,["name"]);return i!=null&&E(t,["endpoint"],i),t}function vU(r,e){const t={};if(_(r,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(r,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=_(r,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),E(t,["examples","examples"],i)}return t}function bU(r,e,t){const n={};let i=_(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=_(r,["gcsUri"]);e!==void 0&&s!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=_(r,["gcsUri"]);e!==void 0&&s!=null&&E(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=_(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=_(r,["vertexDatasetResource"]);e!==void 0&&s!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=_(r,["vertexDatasetResource"]);e!==void 0&&s!=null&&E(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(_(r,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function jT(r,e){const t={},n=_(r,["sdkHttpResponse"]);n!=null&&E(t,["sdkHttpResponse"],n);const i=_(r,["name"]);i!=null&&E(t,["name"],i);const a=_(r,["state"]);a!=null&&E(t,["state"],xT(a));const s=_(r,["createTime"]);s!=null&&E(t,["createTime"],s);const o=_(r,["tuningTask","startTime"]);o!=null&&E(t,["startTime"],o);const l=_(r,["tuningTask","completeTime"]);l!=null&&E(t,["endTime"],l);const c=_(r,["updateTime"]);c!=null&&E(t,["updateTime"],c);const u=_(r,["description"]);u!=null&&E(t,["description"],u);const d=_(r,["baseModel"]);d!=null&&E(t,["baseModel"],d);const h=_(r,["_self"]);return h!=null&&E(t,["tunedModel"],gU(h)),t}function q_(r,e){const t={},n=_(r,["sdkHttpResponse"]);n!=null&&E(t,["sdkHttpResponse"],n);const i=_(r,["name"]);i!=null&&E(t,["name"],i);const a=_(r,["state"]);a!=null&&E(t,["state"],xT(a));const s=_(r,["createTime"]);s!=null&&E(t,["createTime"],s);const o=_(r,["startTime"]);o!=null&&E(t,["startTime"],o);const l=_(r,["endTime"]);l!=null&&E(t,["endTime"],l);const c=_(r,["updateTime"]);c!=null&&E(t,["updateTime"],c);const u=_(r,["error"]);u!=null&&E(t,["error"],u);const d=_(r,["description"]);d!=null&&E(t,["description"],d);const h=_(r,["baseModel"]);h!=null&&E(t,["baseModel"],h);const f=_(r,["tunedModel"]);f!=null&&E(t,["tunedModel"],f);const g=_(r,["preTunedModel"]);g!=null&&E(t,["preTunedModel"],g);const y=_(r,["supervisedTuningSpec"]);y!=null&&E(t,["supervisedTuningSpec"],y);const w=_(r,["preferenceOptimizationSpec"]);w!=null&&E(t,["preferenceOptimizationSpec"],w);const x=_(r,["tuningDataStats"]);x!=null&&E(t,["tuningDataStats"],x);const T=_(r,["encryptionSpec"]);T!=null&&E(t,["encryptionSpec"],T);const v=_(r,["partnerModelTuningSpec"]);v!=null&&E(t,["partnerModelTuningSpec"],v);const R=_(r,["customBaseModel"]);R!=null&&E(t,["customBaseModel"],R);const M=_(r,["experiment"]);M!=null&&E(t,["experiment"],M);const B=_(r,["labels"]);B!=null&&E(t,["labels"],B);const L=_(r,["outputUri"]);L!=null&&E(t,["outputUri"],L);const z=_(r,["pipelineJob"]);z!=null&&E(t,["pipelineJob"],z);const H=_(r,["serviceAccount"]);H!=null&&E(t,["serviceAccount"],H);const $=_(r,["tunedModelDisplayName"]);$!=null&&E(t,["tunedModelDisplayName"],$);const U=_(r,["veoTuningSpec"]);return U!=null&&E(t,["veoTuningSpec"],U),t}function yU(r,e){const t={},n=_(r,["sdkHttpResponse"]);n!=null&&E(t,["sdkHttpResponse"],n);const i=_(r,["name"]);i!=null&&E(t,["name"],i);const a=_(r,["metadata"]);a!=null&&E(t,["metadata"],a);const s=_(r,["done"]);s!=null&&E(t,["done"],s);const o=_(r,["error"]);return o!=null&&E(t,["error"],o),t}function r6(r,e){const t={},n=_(r,["gcsUri"]);n!=null&&E(t,["validationDatasetUri"],n);const i=_(r,["vertexDatasetResource"]);return i!=null&&E(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xU extends wu{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new s0(bu.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(t),t),this.tune=async t=>{var n;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((n=t.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:F_.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=cU(e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>q_(u))}else{const c=lU(e);return o=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>jT(u))}}async listInternal(e){var t,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=fU(e);return o=Ut("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=mU(u),h=new D8;return Object.assign(h,d),h})}else{const c=hU(e);return o=Ut("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=pU(u),h=new D8;return Object.assign(h,d),h})}}async cancel(e){var t,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const l=rU(e);s=Ut("{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const l=nU(e);s=Ut("{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=oU(e,e);return a=Ut("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>q_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sU(e);return a=Ut("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>yU(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wU{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _U=1024*1024*8,SU=3,AU=1e3,kU=2,Ly="x-goog-upload-status";async function EU(r,e,t){var n;const i=await UT(r,e,t),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Ly])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function CU(r,e,t){var n;const i=await UT(r,e,t),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Ly])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=pT(a),o=new H4;return Object.assign(o,s),o}async function UT(r,e,t){var n,i;let a=0,s=0,o=new L_(new Response),l="upload";for(a=r.size;s<a;){const c=Math.min(_U,a-s),u=r.slice(s,s+c);s+c>=a&&(l+=", finalize");let d=0,h=AU;for(;d<SU&&(o=await t.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((n=o==null?void 0:o.headers)===null||n===void 0)&&n[Ly]));)d++,await NU(h),h=h*kU;if(s+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Ly])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function TU(r){return{size:r.size,type:r.type}}function NU(r){return new Promise(e=>setTimeout(e,r))}class RU{async upload(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await EU(e,t,n)}async uploadToFileSearchStore(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CU(e,t,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TU(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IU{create(e,t,n){return new MU(e,t,n)}}class MU{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i6="x-goog-api-key";class PU{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(i6)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(i6,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FU="gl-node/";class LU{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const n=dF(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new PU(this.apiKey);this.apiClient=new ZO({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:FU+"web",uploader:new RU,downloader:new wU}),this.models=new mj(this.apiClient),this.live=new cj(this.apiClient,i,new IU),this.batches=new UL(this.apiClient),this.chats=new wD(this.models,this.apiClient),this.caches=new bD(this.apiClient),this.files=new ID(this.apiClient),this.operations=new gj(this.apiClient),this.authTokens=new Mj(this.apiClient),this.tunings=new xU(this.apiClient),this.fileSearchStores=new tU(this.apiClient)}}var DU={};const K4=()=>{const r=DU.API_KEY;if(!r)throw new Error("API Key is missing. Please set process.env.API_KEY.");return new LU({apiKey:r})};function BU(r,e){return{inlineData:{data:r,mimeType:e}}}const Y4=async(r,e)=>{try{return(await(await K4().getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:e}).generateContent(r)).response).text()}catch(t){throw console.error("Gemini Text Error:",t),new Error("Failed to generate text. Please try again.")}},OU=async(r,e="1:1")=>{var t,n,i;try{const c=(i=(n=(t=(await(await K4().getGenerativeModel({model:"gemini-1.5-flash"}).generateContent(r)).response).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:i.parts;if(c){for(const u of c)if(u.inlineData){const d=u.inlineData.mimeType||"image/png",h=u.inlineData.data;return`data:${d};base64,${h}`}}return null}catch(a){throw console.error("Gemini Image Generation Error:",a),new Error("Failed to generate image.")}},qT=async(r,e,t="1:1")=>{var n,i,a;try{const o=K4().getGenerativeModel({model:"gemini-1.5-flash"}),l=r.match(/^data:(.+);base64,(.+)$/);if(!l)throw new Error("Invalid image data");const c=l[1],u=l[2],d=BU(u,c),g=(a=(i=(n=(await(await o.generateContent([e,d])).response).candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:a.parts;if(g){for(const y of g)if(y.inlineData){const w=y.inlineData.mimeType||"image/png",x=y.inlineData.data;return`data:${w};base64,${x}`}}return null}catch(s){throw console.error("Gemini Image Edit Error:",s),new Error("Failed to edit image.")}},jU=["English (Standard)","English (US)","English (UK)","Spanish","French","German","Italian","Portuguese","Dutch","Russian","Chinese","Japanese","Korean","Arabic","Hindi","Turkish","Indonesian","Urdu","Bengali","Punjabi","Marathi","Telugu","Tamil","Vietnamese","Thai"],UU=({tool:r,onNavigateToPricing:e})=>{const[t,n]=Qe.useState(""),[i,a]=Qe.useState(null),[s,o]=Qe.useState(!1),[l,c]=Qe.useState(null),[u,d]=Qe.useState(!1),[h,f]=Qe.useState("English (Standard)"),{user:g,loading:y}=v2(),w=async()=>{if(!t.trim()||y)return;const T=r.id,v=g?g.uid:null;if(Wd(T)&&await Ix(v)){Mx(e);return}o(!0),c(null),a(null);try{let R=r.systemPrompt;r.id==="ai-grammar"&&(R=`${R} Output the corrected text in ${h}.`);const M=await Y4(t,R);a(M),Wd(T)&&await Px(v)}catch(R){c(R.message||"Failed to generate text.")}finally{o(!1)}},x=()=>{i&&(navigator.clipboard.writeText(i),d(!0),setTimeout(()=>d(!1),2e3))};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-5 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:[r.id==="ai-grammar"&&b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-900 dark:text-white",children:[b.jsx(eP,{className:"w-4 h-4"})," Target Language"]}),b.jsx("select",{value:h,onChange:T=>f(T.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",children:jU.map(T=>b.jsx("option",{value:T,children:T},T))})]}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-900 dark:text-white",children:"Input Content"}),b.jsx("textarea",{className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all resize-none min-h-[200px] dark:text-white leading-relaxed",placeholder:r.placeholder||"Enter text here...",value:t,onChange:T=>n(T.target.value)})]}),b.jsx("button",{onClick:w,disabled:s||!t.trim()||y,className:"w-full py-4 bg-gradient-to-r from-primary-600 to-secondary-600 hover:from-primary-700 hover:to-secondary-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/25 flex items-center justify-center gap-2 transition-all transform active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",children:s?b.jsxs(b.Fragment,{children:[b.jsx(si,{className:"w-6 h-6 animate-spin"}),"Processing..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Qf,{className:"w-6 h-6"}),r.id==="ai-grammar"?"Fix Grammar":"Generate Result"]})}),l&&b.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-3 border border-red-100 dark:border-red-900/50",children:[b.jsx(Qs,{className:"w-5 h-5 flex-shrink-0"}),l]})]})}),b.jsx("div",{className:"lg:col-span-7",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col min-h-[600px] h-full sticky top-36",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/30",children:[b.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:"Result"}),i&&b.jsxs("button",{onClick:x,className:"px-3 py-1.5 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-xs flex items-center gap-1.5 text-slate-600 dark:text-slate-300 hover:text-primary-600 transition-colors",children:[u?b.jsx(Qa,{className:"w-3.5 h-3.5"}):b.jsx(j1,{className:"w-3.5 h-3.5"}),u?"Copied":"Copy Text"]})]}),b.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center bg-slate-50/30 dark:bg-slate-950/30",children:[!i&&!s&&b.jsxs("div",{className:"text-center text-slate-400 dark:text-slate-600 max-w-sm",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-200 dark:border-slate-700",children:b.jsx(Qf,{className:"w-8 h-8 opacity-40"})}),b.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Ready to Create"}),b.jsx("p",{className:"text-sm",children:"Enter your inputs on the left and hit generate."})]}),s&&b.jsxs("div",{className:"flex flex-col items-center gap-6",children:[b.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 dark:border-slate-700 border-t-primary-500 rounded-full animate-spin"}),b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h5",{className:"font-semibold text-slate-900 dark:text-white",children:"Processing..."}),b.jsx("p",{className:"text-sm text-slate-500",children:"Generating your content."})]})]}),i&&!s&&b.jsx("div",{className:"w-full h-full bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm overflow-auto max-h-[700px]",children:b.jsx("pre",{dir:"auto",className:"whitespace-pre-wrap font-sans text-slate-800 dark:text-slate-200 text-base leading-loose",children:i})})]})]})})]})},qU=[{label:"Square (1:1)",value:"1:1"},{label:"Landscape (16:9)",value:"16:9"},{label:"Portrait (9:16)",value:"9:16"},{label:"Standard (4:3)",value:"4:3"}],HU=({tool:r})=>{const[e,t]=Qe.useState(""),[n,i]=Qe.useState("1:1"),[a,s]=Qe.useState(null),[o,l]=Qe.useState(!1),[c,u]=Qe.useState(null),{user:d,loading:h}=v2(),f=()=>{window.history.pushState({},"","/signin"),window.dispatchEvent(new PopStateEvent("popstate"))},g=async()=>{if(!e.trim()||h)return;const y=r.id,w=d?d.uid:null;if(Wd(y)&&await Ix(w)){Mx(f);return}l(!0),u(null),s(null);try{const x=await fetch("/api/ai/image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,aspectRatio:n})});if(!x.ok){const v=await x.text();console.error("Server error response:",v);try{const R=JSON.parse(v);throw new Error(R.message||`Request failed with status ${x.status}`)}catch{throw new Error(`An unexpected server error occurred. (Status: ${x.status})`)}}const T=await x.json();T.image?(s(T.image),Wd(y)&&await Px(w)):u("No image data received from the server.")}catch(x){console.error("Image generation client-side error:",x),x instanceof SyntaxError?u("Failed to parse server response. See console for details."):u(x.message||"An unknown error occurred.")}finally{l(!1)}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-5 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:[b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-900 dark:text-white",children:[b.jsx(B9,{className:"w-4 h-4"})," Dimensions"]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:qU.map(y=>b.jsx("button",{onClick:()=>i(y.value),className:`px-4 py-2 text-xs font-medium rounded-lg border transition-all ${n===y.value?"bg-primary-600 text-white border-primary-600 shadow-md shadow-primary-500/30":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-primary-300"}`,children:y.label},y.value))})]}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-900 dark:text-white",children:"Image Description"}),b.jsx("textarea",{className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all resize-none min-h-[150px] dark:text-white",placeholder:r.placeholder||"Describe the image you want to create...",value:e,onChange:y=>t(y.target.value)})]}),b.jsx("button",{onClick:g,disabled:o||!e.trim()||h,className:"w-full py-4 bg-gradient-to-r from-primary-600 to-secondary-600 hover:from-primary-700 hover:to-secondary-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/25 flex items-center justify-center gap-2 transition-all transform active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",children:o?b.jsxs(b.Fragment,{children:[b.jsx(si,{className:"w-6 h-6 animate-spin"}),"Creating..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Qf,{className:"w-6 h-6"}),"Generate Image"]})}),c&&b.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-3 border border-red-100 dark:border-red-900/50",children:[b.jsx(Qs,{className:"w-5 h-5 flex-shrink-0"}),c]})]})}),b.jsx("div",{className:"lg:col-span-7",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col min-h-[600px] h-full sticky top-36",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/30",children:[b.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Generated Image"}),a&&b.jsxs("button",{className:"px-3 py-1.5 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-xs flex items-center gap-1.5 text-slate-600 dark:text-slate-300 hover:text-primary-600 transition-colors",children:[b.jsx(j4,{className:"w-3.5 h-3.5"})," Share"]})]}),b.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center bg-slate-50/30 dark:bg-slate-950/30",children:[!a&&!o&&b.jsxs("div",{className:"text-center text-slate-400 dark:text-slate-600",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-200 dark:border-slate-700",children:b.jsx(Qf,{className:"w-8 h-8 opacity-40"})}),b.jsx("p",{children:"Generated artwork will appear here."})]}),o&&b.jsxs("div",{className:"flex flex-col items-center gap-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 dark:border-slate-700 border-t-primary-500 rounded-full animate-spin"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(Qf,{className:"w-6 h-6 text-primary-500 animate-pulse"})})]}),b.jsx("p",{className:"text-sm text-slate-500",children:"Dreaming up your image..."})]}),a&&!o&&b.jsxs("div",{className:"flex flex-col items-center gap-6 w-full h-full justify-center py-8",children:[b.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl bg-[url('https://grainy-gradients.vercel.app/noise.svg')]",children:b.jsx("img",{src:a,alt:"Generated",className:"max-h-[600px] w-auto object-contain bg-white dark:bg-slate-800"})}),b.jsxs("a",{href:a,download:`ai-image-${Date.now()}.png`,className:"py-3 px-8 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:shadow-lg hover:-translate-y-1 transition-all flex items-center gap-2",children:[b.jsx(ma,{className:"w-5 h-5"})," Download"]})]})]})]})})]})},zU=[{label:"Enhance",prompt:"Enhance clarity, lighting, and details to high quality."},{label:"Fix Lighting",prompt:"Fix the lighting, improve color balance and exposure."},{label:"B&W",prompt:"Convert to black and white artistic photography."}],VU=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(null),[i,a]=Qe.useState(!1),[s,o]=Qe.useState(null),[l,c]=Qe.useState(null),[u,d]=Qe.useState("1:1"),[h,f]=Qe.useState(""),[g,y]=Qe.useState("freeform"),[w,x]=Qe.useState(""),[T,v]=Qe.useState(""),R=Qe.useRef(null),{user:M,loading:B}=v2(),L=()=>{window.history.pushState({},"","/signin"),window.dispatchEvent(new PopStateEvent("popstate"))},z=$=>{var D;const U=(D=$.target.files)==null?void 0:D[0];if(U){if(!U.type.startsWith("image/")){o("Please upload a valid image file.");return}if(U.size>5*1024*1024){o("Image size too large. Max 5MB.");return}o(null);const ee=new FileReader;ee.onloadend=()=>c(ee.result),ee.readAsDataURL(U)}},H=async()=>{if(!l){o("Please upload an image first.");return}if(B)return;const $="ai-image-editor",U=M?M.uid:null;if(Wd($)&&await Ix(U)){Mx(L);return}a(!0),o(null),n(null);try{let D="";switch(g){case"add":if(!w.trim())throw new Error("Specify what to add.");D=`Add ${w} to the image.`;break;case"remove":if(!w.trim())throw new Error("Specify what to remove.");D=`Remove ${w} from the image.`;break;case"replace":if(!w.trim()||!T.trim())throw new Error("Specify replacement details.");D=`Replace ${w} with ${T} in the image.`;break;case"freeform":default:if(!r.trim()&&!h)throw new Error("Describe your edits.");D=r;break}h&&g!=="remove"&&(D+=` ${h}`);const ee=await qT(l,D,u);ee?(n(ee),Wd($)&&await Px(U)):o("Failed to edit image.")}catch(D){o(D.message||"An error occurred.")}finally{a(!1)}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-5 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:[b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-900 dark:text-white",children:"1. Upload Source Image"}),l?b.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 group bg-slate-50 dark:bg-slate-800 p-4",children:[b.jsx("img",{src:l,alt:"Source",className:"w-full h-auto max-h-[300px] object-contain mx-auto"}),b.jsx("button",{onClick:()=>{c(null),R.current&&(R.current.value="")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(a0,{className:"w-4 h-4"})})]}):b.jsxs("div",{onClick:()=>{var $;return($=R.current)==null?void 0:$.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group min-h-[200px]",children:[b.jsx(U1,{className:"w-10 h-10 text-slate-400 group-hover:text-primary-500 mb-3"}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Click to upload photo"}),b.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"JPG, PNG (Max 5MB)"})]}),b.jsx("input",{type:"file",ref:R,className:"hidden",accept:"image/*",onChange:z})]}),b.jsxs("div",{className:"space-y-6 mb-6",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-900 dark:text-white",children:[b.jsx(tT,{className:"w-4 h-4"})," Editing Mode"]}),b.jsx("div",{className:"grid grid-cols-4 gap-2 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-xl",children:["freeform","add","remove","replace"].map($=>b.jsx("button",{onClick:()=>y($),className:`flex flex-col items-center justify-center py-3 px-1 rounded-lg text-[10px] sm:text-xs font-medium transition-all ${g===$?"bg-white dark:bg-slate-700 shadow-md text-primary-600 dark:text-primary-400":"text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700/50"}`,children:b.jsx("span",{className:"capitalize",children:$})},$))})]}),b.jsxs("div",{className:"p-5 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800",children:[g==="freeform"&&b.jsxs(b.Fragment,{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Instructions"}),b.jsx("textarea",{className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none resize-none min-h-[100px] dark:text-white text-sm",placeholder:"Describe your edits...",value:r,onChange:$=>e($.target.value)}),b.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:zU.map($=>b.jsx("button",{onClick:()=>e($.prompt),className:"px-3 py-1.5 text-xs border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:text-primary-600 transition-colors",children:$.label},$.label))})]}),g==="add"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Object to Add"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",placeholder:"e.g. A red balloon",value:w,onChange:$=>x($.target.value)})]}),g==="remove"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Object to Remove"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",placeholder:"e.g. The tree in the background",value:w,onChange:$=>x($.target.value)})]}),g==="replace"&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Replace This"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",placeholder:"e.g. The dog",value:w,onChange:$=>x($.target.value)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider",children:"With This"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",placeholder:"e.g. A cat",value:T,onChange:$=>v($.target.value)})]})]})]})]}),b.jsxs("button",{onClick:H,disabled:i||B||!l,className:"w-full py-4 bg-gradient-to-r from-primary-600 to-secondary-600 hover:from-primary-700 hover:to-secondary-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/25 flex items-center justify-center gap-2 transition-all transform active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",children:[i?b.jsx(si,{className:"w-6 h-6 animate-spin"}):b.jsx(Qf,{className:"w-6 h-6"}),i?"Processing...":"Apply Edits"]}),s&&b.jsxs("div",{className:"mt-4 text-red-500 text-sm flex items-center gap-2",children:[b.jsx(Qs,{className:"w-4 h-4"})," ",s]})]})}),b.jsx("div",{className:"lg:col-span-7",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col min-h-[600px] h-full sticky top-36",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/30",children:[b.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Result"}),t&&b.jsxs("button",{className:"text-xs flex items-center gap-1",children:[b.jsx(j4,{className:"w-3 h-3"})," Share"]})]}),b.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center bg-slate-50/30 dark:bg-slate-950/30",children:[!t&&!i&&b.jsxs("div",{className:"text-center text-slate-400",children:[b.jsx(Qf,{className:"w-10 h-10 mx-auto mb-2 opacity-30"}),b.jsx("p",{children:"Edited image appears here."})]}),i&&b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(si,{className:"w-10 h-10 text-primary-500 animate-spin"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Applying magic..."})]}),t&&!i&&b.jsxs("div",{className:"flex flex-col items-center gap-6 w-full",children:[b.jsx("img",{src:t,alt:"Edited",className:"max-h-[600px] w-auto object-contain rounded-lg shadow-lg"}),b.jsxs("a",{href:t,download:"edited-image.png",className:"py-3 px-8 bg-slate-900 text-white rounded-xl font-bold flex items-center gap-2",children:[b.jsx(ma,{className:"w-4 h-4"})," Download"]})]})]})]})})]})},GU=[{id:"long-wavy",label:"Long Wavy"},{id:"short-bob",label:"Short Bob"},{id:"pixie-cut",label:"Pixie Cut"},{id:"buzz-cut",label:"Buzz Cut"},{id:"afro",label:"Afro"},{id:"straight-bangs",label:"Straight + Bangs"},{id:"curly-messy",label:"Messy Curls"},{id:"mohawk",label:"Mohawk"},{id:"bald",label:"Bald"},{id:"braids",label:"Braids"},{id:"undercut",label:"Undercut"},{id:"pompadour",label:"Pompadour"}],WU=[{id:"clean-shaven",label:"Clean Shaven"},{id:"stubble",label:"Stubble"},{id:"full-beard",label:"Full Beard"},{id:"goatee",label:"Goatee"},{id:"moustache",label:"Moustache"}],XU=[{id:"blonde",label:"Blonde",hex:"#FDE68A"},{id:"black",label:"Black",hex:"#171717"},{id:"brown",label:"Brown",hex:"#78350F"},{id:"red",label:"Red",hex:"#991B1B"},{id:"silver",label:"Silver",hex:"#D4D4D8"},{id:"pink",label:"Neon Pink",hex:"#EC4899"},{id:"blue",label:"Blue",hex:"#3B82F6"},{id:"green",label:"Green",hex:"#16a34a"}],KU=()=>{const[r,e]=Qe.useState(null),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),[l,c]=Qe.useState(""),[u,d]=Qe.useState(""),[h,f]=Qe.useState([]),[g,y]=Qe.useState(""),[w,x]=Qe.useState(""),T=Qe.useRef(null),{user:v,loading:R}=v2(),M=()=>{window.history.pushState({},"","/signin"),window.dispatchEvent(new PopStateEvent("popstate"))},B=H=>{var U;const $=(U=H.target.files)==null?void 0:U[0];if($){if(!$.type.startsWith("image/")){a("Invalid image");return}const D=new FileReader;D.onloadend=()=>o(D.result),D.readAsDataURL($)}},L=H=>{h.includes(H)?f($=>$.filter(U=>U!==H)):h.length>=2?f($=>[...$.slice(1),H]):f($=>[...$,H])},z=async()=>{if(!s){a("Please upload a photo.");return}if(R)return;const H=u.trim()||l;if(!H&&h.length===0&&!g&&!w){a("Please select at least one option.");return}const $="ai-hairstyle",U=v?v.uid:null;if(Wd($)&&await Ix(U)){Mx(M);return}n(!0),a(null),e(null);try{let D="Edit this image. Focus on the person's hair and facial hair. ";H&&(D+=`Change the hairstyle to ${H}. `),h.length>0&&(D+=`Change hair color to ${h.join(" mixed with ")}. `),g&&(D+=`Change facial hair to ${g}. `),w.trim()&&(D+=`Additional: ${w}. `),D+="Keep facial features and background identical. Make it look realistic.";const ee=await qT(s,D,"1:1");ee?(e(ee),Wd($)&&await Px(U)):a("Failed to generate hairstyle.")}catch(D){a(D.message)}finally{n(!1)}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-5 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-900 dark:text-white",children:"1. Upload Photo"}),s?b.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-800",children:[b.jsx("img",{src:s,alt:"Source",className:"w-full h-48 object-contain"}),b.jsx("button",{onClick:()=>{o(null),T.current&&(T.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full",children:b.jsx(a0,{className:"w-4 h-4"})})]}):b.jsxs("div",{onClick:()=>{var H;return(H=T.current)==null?void 0:H.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 h-48",children:[b.jsx(U1,{className:"w-8 h-8 text-slate-400 mb-2"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Upload JPG/PNG"})]}),b.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:B})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[b.jsx(CA,{className:"w-4 h-4"})," Hairstyle"]}),b.jsx("div",{className:"grid grid-cols-3 gap-2",children:GU.map(H=>b.jsx("button",{onClick:()=>{c(H.id===l?"":H.label),d("")},className:`text-xs p-2 border rounded-lg ${l===H.label?"bg-primary-50 border-primary-500 text-primary-700":"bg-white dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400"}`,children:H.label},H.id))})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[b.jsx(oT,{className:"w-4 h-4"})," Hair Color"]}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:XU.map(H=>b.jsx("button",{onClick:()=>L(H.label),className:`w-8 h-8 rounded-full border-2 ${h.includes(H.label)?"border-primary-500 ring-2 ring-primary-200":"border-slate-200"}`,style:{backgroundColor:H.hex},children:h.includes(H.label)&&b.jsx(Qa,{className:`w-4 h-4 mx-auto ${["blonde","white"].includes(H.id)?"text-black":"text-white"}`})},H.id))})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[b.jsx(Y9,{className:"w-4 h-4"})," Beard"]}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:WU.map(H=>b.jsx("button",{onClick:()=>y(H.label===g?"":H.label),className:`px-3 py-1 text-xs border rounded-full ${g===H.label?"bg-primary-600 text-white":"bg-white dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400"}`,children:H.label},H.id))})]})]}),b.jsxs("button",{onClick:z,disabled:t||R||!s,className:"w-full mt-8 py-4 bg-primary-600 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[t?b.jsx(si,{className:"w-5 h-5 animate-spin"}):b.jsx(CA,{className:"w-5 h-5"})," Generate"]}),i&&b.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:i})]})}),b.jsx("div",{className:"lg:col-span-7",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col min-h-[600px] h-full sticky top-36",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/30",children:[b.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-300",children:"New Look"}),r&&b.jsxs("button",{className:"text-xs flex items-center gap-1",children:[b.jsx(j4,{className:"w-3 h-3"})," Share"]})]}),b.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center bg-slate-50/30 dark:bg-slate-950/30",children:[!r&&!t&&b.jsx("p",{className:"text-slate-400",children:"Generated hairstyle appears here."}),t&&b.jsx(si,{className:"w-10 h-10 text-primary-500 animate-spin"}),r&&!t&&b.jsxs("div",{className:"flex flex-col items-center gap-6",children:[b.jsx("img",{src:r,alt:"Hair",className:"max-h-[500px] w-auto rounded-lg shadow-lg"}),b.jsxs("a",{href:r,download:"hairstyle.png",className:"py-3 px-8 bg-slate-900 text-white rounded-xl font-bold flex items-center gap-2",children:[b.jsx(ma,{className:"w-4 h-4"})," Download"]})]})]})]})})]})},Wa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),H_=[.001,0,0,.001,0,0],D5=1.35,Vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ku={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},gg="pdfjs_internal_editor_",An={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},qn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},YU={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},z_={TRIANGLES:1,LATTICE:2},ia={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},B0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ox={ERRORS:0,WARNINGS:1,INFOS:5},vg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ym={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},ZU={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let jx=Ox.WARNINGS;function JU(r){Number.isInteger(r)&&(jx=r)}function QU(){return jx}function Ux(r){jx>=Ox.INFOS&&console.info(`Info: ${r}`)}function xn(r){jx>=Ox.WARNINGS&&console.warn(`Warning: ${r}`)}function Tr(r){throw new Error(r)}function Hn(r,e){r||Tr(e)}function $U(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function HT(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=iq(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return $U(n)?n:null}function zT(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&HT(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function wn(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const o0=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class a6 extends o0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class B5 extends o0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class V_ extends o0{constructor(e){super(e,"InvalidPDFException")}}class Dy extends o0{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class eq extends o0{constructor(e){super(e,"FormatError")}}class Xd extends o0{constructor(e){super(e,"AbortException")}}function VT(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Tr("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const a=Math.min(i+t,e),s=r.subarray(i,a);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function y2(r){typeof r!="string"&&Tr("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function tq(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function nq(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function rq(){try{return new Function(""),!0}catch{return!1}}class ga{static get isLittleEndian(){return wn(this,"isLittleEndian",nq())}static get isEvalSupported(){return wn(this,"isEvalSupported",rq())}static get isOffscreenCanvasSupported(){return wn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return wn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return wn(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return wn(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return wn(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return wn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const O5=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var mu,Ub,G_;class Vt{static makeHexColor(e,t,n){return`#${O5[e]}${O5[t]}${O5[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],a=e[n+1];e[n]=i*t[0]+a*t[2]+t[4],e[n+1]=i*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],a=t[1],s=t[2],o=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const d=e[n+u],h=e[n+u+1];e[n+u]=d*i+h*s+l,e[n+u+1]=d*a+h*o+c}}static applyInverseTransform(e,t){const n=e[0],i=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,n){const i=t[0],a=t[1],s=t[2],o=t[3],l=t[4],c=t[5],u=e[0],d=e[1],h=e[2],f=e[3];let g=i*u+l,y=g,w=i*h+l,x=w,T=o*d+c,v=T,R=o*f+c,M=R;if(a!==0||s!==0){const B=a*u,L=a*h,z=s*d,H=s*f;g+=z,x+=z,w+=H,y+=H,T+=B,M+=B,R+=L,v+=L}n[0]=Math.min(n[0],g,w,y,x),n[1]=Math.min(n[1],T,R,v,M),n[2]=Math.max(n[2],g,w,y,x),n[3]=Math.max(n[3],T,R,v,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],a=e[2],s=e[3],o=n**2+i**2,l=n*a+i*s,c=a**2+s**2,u=(o+c)/2,d=Math.sqrt(u**2-(o*c-l**2));t[0]=Math.sqrt(u+d||1),t[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>s?null:[n,a,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,a){a[0]=Math.min(a[0],e,n),a[1]=Math.min(a[1],t,i),a[2]=Math.max(a[2],e,n),a[3]=Math.max(a[3],t,i)}static bezierBoundingBox(e,t,n,i,a,s,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l),ve(this,mu,G_).call(this,e,n,a,o,t,i,s,l,3*(-e+3*(n-a)+o),6*(e-2*n+a),3*(n-e),c),ve(this,mu,G_).call(this,e,n,a,o,t,i,s,l,3*(-t+3*(i-s)+l),6*(t-2*i+s),3*(i-t),c)}}mu=new WeakSet,Ub=function(e,t,n,i,a,s,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,g=d*(d*(d*e+3*c*t)+3*h*n)+f*i,y=d*(d*(d*a+3*c*s)+3*h*o)+f*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],y)},G_=function(e,t,n,i,a,s,o,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&ve(this,mu,Ub).call(this,e,t,n,i,a,s,o,l,-d/u,h);return}const f=u**2-4*d*c;if(f<0)return;const g=Math.sqrt(f),y=2*c;ve(this,mu,Ub).call(this,e,t,n,i,a,s,o,l,(-u+g)/y,h),ve(this,mu,Ub).call(this,e,t,n,i,a,s,o,l,(-u-g)/y,h)},de(Vt,mu);function iq(r){return decodeURIComponent(escape(r))}let j5=null,s6=null;function aq(r){return j5||(j5=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,s6=new Map([["","t"]])),r.replaceAll(j5,(e,t,n)=>t?t.normalize("NFKC"):s6.get(n))}function GT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),VT(r)}const K0="pdfjs_internal_id_";function sq(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...a]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const l of a)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Xa(r,e,t){return Math.min(Math.max(r,e),t)}function WT(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(VT(r))}function oq(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):y2(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class bg{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(bg.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&t.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class XT{static setupStorage(e,t,n,i,a){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:a}){const{attributes:s}=t,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,c]of Object.entries(s))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){var d,h;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);s.append(f),o&&bg.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,s]];for(;u.length>0;){const[f,g,y]=u.at(-1);if(g+1===f.children.length){u.pop();continue}const w=f.children[++u.at(-1)[1]];if(w===null)continue;const{name:x}=w;if(x==="#text"){const v=document.createTextNode(w.value);c.push(v),y.append(v);continue}const T=(d=w==null?void 0:w.attributes)!=null&&d.xmlns?document.createElementNS(w.attributes.xmlns,x):document.createElement(x);if(y.append(T),w.attributes&&this.setAttributes({html:T,element:w,storage:t,intent:a,linkService:n}),((h=w.children)==null?void 0:h.length)>0)u.push([w,-1,T]);else if(w.value){const v=document.createTextNode(w.value);o&&bg.shouldBuildText(x)&&c.push(v),T.append(v)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ac="http://www.w3.org/2000/svg",Mh=class Mh{};xt(Mh,"CSS",96),xt(Mh,"PDF",72),xt(Mh,"PDF_TO_CSS_UNITS",Mh.CSS/Mh.PDF);let Kd=Mh;async function x2(r,e="text"){if(Fm(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class w2{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=a,this.offsetY=s,n*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let g,y,w,x;u===0?(g=Math.abs(c-e[1])*n+a,y=Math.abs(l-e[0])*n+s,w=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(g=Math.abs(l-e[0])*n+a,y=Math.abs(c-e[1])*n+s,w=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[u*n,d*n,h*n,f*n,g-u*n*l-h*n*c,y-d*n*l-f*n*c],this.width=w,this.height=x}get rawDims(){const e=this.viewBox;return wn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new w2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){const n=[e,t];return Vt.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Vt.applyTransform(t,this.transform);const n=[e[2],e[3]];return Vt.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Vt.applyInverseTransform(n,this.transform),n}}class Z4 extends o0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function qx(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function J4(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function lq(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function cq(r,e="document.pdf"){if(typeof r!="string")return e;if(qx(r))return xn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},a=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(a.test(s))return i(s);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(a.test(c))return i(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(a.test(c))return i(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class o6{constructor(){xt(this,"started",Object.create(null));xt(this,"times",[])}time(e){e in this.started&&xn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||xn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-i}ms
`);return e.join("")}}function Fm(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Po(r){r.preventDefault()}function ai(r){r.preventDefault(),r.stopPropagation()}function uq(r){console.log("Deprecated API usage: "+r)}var Tg;class By{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;p(this,Tg)||Q(this,Tg,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=p(this,Tg).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(s+=u,o+=d):c==="+"&&(s-=u,o-=d),new Date(Date.UTC(n,i,a,s,o,l))}}Tg=new WeakMap,de(By,Tg);function dq(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new w2({viewBox:a,userUnit:1,scale:e,rotation:t})}function _2(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(xn(`Not a valid color format: "${r}"`),[0,0,0])}function hq(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,_2(n))}e.remove()}function Kr(r){const{a:e,b:t,c:n,d:i,e:a,f:s}=r.getTransform();return[e,t,n,i,a,s]}function Sl(r){const{a:e,b:t,c:n,d:i,e:a,f:s}=r.getTransform().invertSelf();return[e,t,n,i,a,s]}function e0(r,e,t=!1,n=!0){if(e instanceof w2){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=r,o=ga.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${a}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(s.width=u,s.height=d):(s.width=d,s.height=u)}n&&r.setAttribute("data-main-rotation",e.rotation)}class $l{constructor(){const{pixelRatio:e}=$l;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,a=-1){let s=1/0,o=1/0,l=1/0;n=$l.capPixels(n,a),n>0&&(s=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const c=Math.min(s,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const W_=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class fq{static get isDarkMode(){var e;return wn(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class pq{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),wn(this,"commentForegroundColor",_2(n))}}function mq(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return r=Math.round(r*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[r,e,t]}function l6(r,e){const t=r[0]/255,n=r[1]/255,i=r[2]/255,a=Math.max(t,n,i),s=Math.min(t,n,i),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const l=a-s;switch(e[1]=o<.5?l/(a+s):l/(2-a-s),a){case t:e[0]=((n-i)/l+(n<i?6:0))*60;break;case n:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-n)/l+4)*60;break}}e[2]=o}function X_(r,e){const t=r[0],n=r[1],i=r[2],a=(1-Math.abs(2*i-1))*n,s=a*(1-Math.abs(t/60%2-1)),o=i-a/2;switch(Math.floor(t/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o;break}}function c6(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function u6(r,e,t){X_(r,t),t.map(c6);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];X_(e,t),t.map(c6);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const d6=new Map;function gq(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=d6.get(t);if(n)return n;const i=new Float32Array(9),a=i.subarray(0,3),s=i.subarray(3,6);l6(r,s);const o=i.subarray(6,9);l6(e,o);const l=o[2]<.5,c=l?12:4.5;if(s[2]=l?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),u6(s,o,a)<c){let u,d;l?(u=s[2],d=1):(u=0,d=s[2]);const h=.005;for(;d-u>h;){const f=s[2]=(u+d)/2;l===u6(s,o,a)<c?u=f:d=f}s[2]=l?d:u}return X_(s,a),n=Vt.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),d6.set(t,n),n}function KT({html:r,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof r=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=r.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const c=s[o];a.append(document.createTextNode(c)),o<l-1&&a.append(document.createElement("br"))}i.append(a)}else XT.render({xfaHtml:r,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),n.append(i)}function YT(r){const e=new Path2D;if(!r)return e;for(let t=0,n=r.length;t<n;)switch(r[t++]){case ym.moveTo:e.moveTo(r[t++],r[t++]);break;case ym.lineTo:e.lineTo(r[t++],r[t++]);break;case ym.curveTo:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case ym.quadraticCurveTo:e.quadraticCurveTo(r[t++],r[t++],r[t++],r[t++]);break;case ym.closePath:e.closePath();break;default:xn(`Unrecognized drawing path operator: ${r[t-1]}`);break}return e}var Yu,Zu,po,mo,Ng,Ju,hp,fp,Rg,dx,ZT,fa,JT,QT,O0,Lm;const Tc=class Tc{constructor(e){de(this,fa);de(this,Yu,null);de(this,Zu,null);de(this,po);de(this,mo,null);de(this,Ng,null);de(this,Ju,null);de(this,hp,null);de(this,fp,null);Q(this,po,e),p(Tc,Rg)||Q(Tc,Rg,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=Q(this,Yu,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=p(this,po)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Po,{signal:t}),e.addEventListener("pointerdown",ve(Tc,dx,ZT),{signal:t}));const n=Q(this,mo,document.createElement("div"));n.className="buttons",e.append(n);const i=p(this,po).toolbarPosition;if(i){const{style:a}=e,s=p(this,po)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return p(this,Yu)}hide(){var e;p(this,Yu).classList.add("hidden"),(e=p(this,Zu))==null||e.hideDropdown()}show(){var e,t;p(this,Yu).classList.remove("hidden"),(e=p(this,Ng))==null||e.shown(),(t=p(this,Ju))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=p(this,po),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",p(Tc,Rg)[e]),ve(this,fa,O0).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),p(this,mo).append(n)}async addAltText(e){const t=await e.render();ve(this,fa,O0).call(this,t),p(this,mo).append(t,p(this,fa,Lm)),Q(this,Ng,e)}addComment(e,t=null){if(p(this,Ju))return;const n=e.renderForToolbar();if(!n)return;ve(this,fa,O0).call(this,n);const i=Q(this,hp,p(this,fa,Lm));t?(p(this,mo).insertBefore(n,t),p(this,mo).insertBefore(i,t)):p(this,mo).append(n,i),Q(this,Ju,e),e.toolbar=this}addColorPicker(e){if(p(this,Zu))return;Q(this,Zu,e);const t=e.renderButton();ve(this,fa,O0).call(this,t),p(this,mo).append(t,p(this,fa,Lm))}async addEditSignatureButton(e){const t=Q(this,fp,await e.renderEditButton(p(this,po)));ve(this,fa,O0).call(this,t),p(this,mo).append(t,p(this,fa,Lm))}removeButton(e){var t,n;switch(e){case"comment":(t=p(this,Ju))==null||t.removeToolbarCommentButton(),Q(this,Ju,null),(n=p(this,hp))==null||n.remove(),Q(this,hp,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const i=p(this,mo).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){p(this,fp)&&(p(this,fp).title=e)}remove(){var e;p(this,Yu).remove(),(e=p(this,Zu))==null||e.destroy(),Q(this,Zu,null)}};Yu=new WeakMap,Zu=new WeakMap,po=new WeakMap,mo=new WeakMap,Ng=new WeakMap,Ju=new WeakMap,hp=new WeakMap,fp=new WeakMap,Rg=new WeakMap,dx=new WeakSet,ZT=function(e){e.stopPropagation()},fa=new WeakSet,JT=function(e){p(this,po)._focusEventsAllowed=!1,ai(e)},QT=function(e){p(this,po)._focusEventsAllowed=!0,ai(e)},O0=function(e){const t=p(this,po)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",ve(this,fa,JT).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ve(this,fa,QT).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Po,{signal:t}),!0)},Lm=function(){const e=document.createElement("div");return e.className="divider",e},de(Tc,dx),de(Tc,Rg,null);let K_=Tc;var Ig,Lh,Ic,yu,$T,eN,Y_;class vq{constructor(e){de(this,yu);de(this,Ig,null);de(this,Lh,null);de(this,Ic);Q(this,Ic,e)}show(e,t,n){const[i,a]=ve(this,yu,eN).call(this,t,n),{style:s}=p(this,Lh)||Q(this,Lh,ve(this,yu,$T).call(this));e.append(p(this,Lh)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,Lh).remove()}}Ig=new WeakMap,Lh=new WeakMap,Ic=new WeakMap,yu=new WeakSet,$T=function(){const e=Q(this,Lh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=p(this,Ic)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Po,{signal:t});const n=Q(this,Ig,document.createElement("div"));return n.className="buttons",e.append(n),p(this,Ic).hasCommentManager()&&ve(this,yu,Y_).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{p(this,Ic).commentSelection("floating_button")}),ve(this,yu,Y_).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{p(this,Ic).highlightSelection("floating_button")}),e},eN=function(e,t){let n=0,i=0;for(const a of e){const s=a.y+a.height;if(s<n)continue;const o=a.x+(t?a.width:0);if(s>n){i=o,n=s;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},Y_=function(e,t,n,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",t);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);const o=p(this,Ic)._signal;o instanceof AbortSignal&&!o.aborted&&(a.addEventListener("contextmenu",Po,{signal:o}),a.addEventListener("click",i,{signal:o})),p(this,Ig).append(a)};function tN(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var Dh,Bh,pp,Oh;const pr=class pr{static initializeAndAddPointerId(e){(p(pr,Bh)||Q(pr,Bh,new Set)).add(e)}static setPointer(e,t){p(pr,Dh)||Q(pr,Dh,t),p(pr,Oh)??Q(pr,Oh,e)}static setTimeStamp(e){Q(pr,pp,e)}static isSamePointerId(e){return p(pr,Dh)===e}static isSamePointerIdOrRemove(e){var t;return p(pr,Dh)===e?!0:((t=p(pr,Bh))==null||t.delete(e),!1)}static isSamePointerType(e){return p(pr,Oh)===e}static isInitializedAndDifferentPointerType(e){return p(pr,Oh)!==null&&!pr.isSamePointerType(e)}static isSameTimeStamp(e){return p(pr,pp)===e}static isUsingMultiplePointers(){var e;return((e=p(pr,Bh))==null?void 0:e.size)>=1}static clearPointerType(){Q(pr,Oh,null)}static clearPointerIds(){Q(pr,Dh,NaN),Q(pr,Bh,null)}static clearTimeStamp(){Q(pr,pp,NaN)}};Dh=new WeakMap,Bh=new WeakMap,pp=new WeakMap,Oh=new WeakMap,de(pr,Dh,NaN),de(pr,Bh,null),de(pr,pp,NaN),de(pr,Oh,null);let Ea=pr;var hx;class bq{constructor(){de(this,hx,0)}get id(){return`${gg}${Ri(this,hx)._++}`}}hx=new WeakMap;var mp,Mg,Ca,gp,qb;const BS=class BS{constructor(){de(this,gp);de(this,mp,GT());de(this,Mg,0);de(this,Ca,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return wn(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:a}=e;return ve(this,gp,qb).call(this,`${t}_${n}_${i}_${a}`,e)}async getFromUrl(e){return ve(this,gp,qb).call(this,e,e)}async getFromBlob(e,t){const n=await t;return ve(this,gp,qb).call(this,e,n)}async getFromId(e){p(this,Ca)||Q(this,Ca,new Map);const t=p(this,Ca).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){p(this,Ca)||Q(this,Ca,new Map);let n=p(this,Ca).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${p(this,mp)}_${Ri(this,Mg)._++}`,refCounter:1,isSvg:!1},p(this,Ca).set(e,n),p(this,Ca).set(n.id,n),n}getSvgUrl(e){const t=p(this,Ca).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;p(this,Ca)||Q(this,Ca,new Map);const t=p(this,Ca).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${p(this,mp)}_`)}};mp=new WeakMap,Mg=new WeakMap,Ca=new WeakMap,gp=new WeakSet,qb=async function(e,t){p(this,Ca)||Q(this,Ca,new Map);let n=p(this,Ca).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${p(this,mp)}_${Ri(this,Mg)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await x2(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const a=BS._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},s.onload=async()=>{const d=n.svgUrl=s.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=s.onerror=u});s.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){xn(i),n=null}return p(this,Ca).set(e,n),n&&p(this,Ca).set(n.id,n),n};let Z_=BS;var di,Qu,Pg,Xr;class yq{constructor(e=128){de(this,di,[]);de(this,Qu,!1);de(this,Pg);de(this,Xr,-1);Q(this,Pg,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),p(this,Qu))return;const l={cmd:e,undo:t,post:n,type:a};if(p(this,Xr)===-1){p(this,di).length>0&&(p(this,di).length=0),Q(this,Xr,0),p(this,di).push(l);return}if(s&&p(this,di)[p(this,Xr)].type===a){o&&(l.undo=p(this,di)[p(this,Xr)].undo),p(this,di)[p(this,Xr)]=l;return}const c=p(this,Xr)+1;c===p(this,Pg)?p(this,di).splice(0,1):(Q(this,Xr,c),c<p(this,di).length&&p(this,di).splice(c)),p(this,di).push(l)}undo(){if(p(this,Xr)===-1)return;Q(this,Qu,!0);const{undo:e,post:t}=p(this,di)[p(this,Xr)];e(),t==null||t(),Q(this,Qu,!1),Q(this,Xr,p(this,Xr)-1)}redo(){if(p(this,Xr)<p(this,di).length-1){Q(this,Xr,p(this,Xr)+1),Q(this,Qu,!0);const{cmd:e,post:t}=p(this,di)[p(this,Xr)];e(),t==null||t(),Q(this,Qu,!1)}}hasSomethingToUndo(){return p(this,Xr)!==-1}hasSomethingToRedo(){return p(this,Xr)<p(this,di).length-1}cleanType(e){if(p(this,Xr)!==-1){for(let t=p(this,Xr);t>=0;t--)if(p(this,di)[t].type!==e){p(this,di).splice(t+1,p(this,Xr)-t),Q(this,Xr,t);return}p(this,di).length=0,Q(this,Xr,-1)}}destroy(){Q(this,di,null)}}di=new WeakMap,Qu=new WeakMap,Pg=new WeakMap,Xr=new WeakMap;var fx,nN;class S2{constructor(e){de(this,fx);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ga.platform;for(const[n,i,a={}]of e)for(const s of n){const o=s.startsWith("mac+");t&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!t&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(ve(this,fx,nN).call(this,t));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...s,t)(),a||ai(t))}}fx=new WeakSet,nN=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const px=class px{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return hq(e),wn(this,"_colors",e)}convert(e){const t=_2(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((a,s)=>a===t[s]))return px._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Vt.makeHexColor(...t):e}};xt(px,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let J_=px;var vp,Es,bp,$r,Pi,yp,go,xp,vo,Ta,$u,ed,wp,td,Nl,bo,jh,Fg,Lg,_p,Dg,Rl,nd,Sp,rd,Il,mx,id,Ap,Bg,ad,Uh,kp,sd,Og,xi,dr,Mc,od,ld,jg,Ep,Ug,cd,Ml,Pc,qg,Hg,yo,jt,Hb,Q_,rN,iN,Dm,aN,sN,oN,$_,lN,cN,uN,dN,qa,kc,hN,fN,e3,pN,Bm,t3;const $0=class $0{constructor(e,t,n,i,a,s,o,l,c,u,d,h,f,g,y,w){de(this,jt);de(this,vp,new AbortController);de(this,Es,null);de(this,bp,null);de(this,$r,new Map);de(this,Pi,new Map);de(this,yp,null);de(this,go,null);de(this,xp,null);de(this,vo,new yq);de(this,Ta,null);de(this,$u,null);de(this,ed,null);de(this,wp,0);de(this,td,new Set);de(this,Nl,null);de(this,bo,null);de(this,jh,new Set);xt(this,"_editorUndoBar",null);de(this,Fg,!1);de(this,Lg,!1);de(this,_p,!1);de(this,Dg,null);de(this,Rl,null);de(this,nd,null);de(this,Sp,null);de(this,rd,!1);de(this,Il,null);de(this,mx,new bq);de(this,id,!1);de(this,Ap,!1);de(this,Bg,!1);de(this,ad,null);de(this,Uh,null);de(this,kp,null);de(this,sd,null);de(this,Og,null);de(this,xi,An.NONE);de(this,dr,new Set);de(this,Mc,null);de(this,od,null);de(this,ld,null);de(this,jg,null);de(this,Ep,null);de(this,Ug,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});de(this,cd,[0,0]);de(this,Ml,null);de(this,Pc,null);de(this,qg,null);de(this,Hg,null);de(this,yo,null);const x=this._signal=p(this,vp).signal;Q(this,Pc,e),Q(this,qg,t),Q(this,Hg,n),Q(this,yp,i),Q(this,Ta,a),Q(this,od,s),Q(this,Ep,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:x}),window.addEventListener("pointerdown",()=>{Q(this,Ap,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{Q(this,Ap,!1)},{capture:!0,signal:x}),ve(this,jt,aN).call(this),ve(this,jt,dN).call(this),ve(this,jt,$_).call(this),Q(this,go,l.annotationStorage),Q(this,Dg,l.filterFactory),Q(this,ld,c),Q(this,Sp,u||null),Q(this,Fg,d),Q(this,Lg,h),Q(this,_p,f),Q(this,Og,g||null),this.viewParameters={realScale:Kd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=w!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=$0.prototype,t=s=>p(s,Pc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return wn(this,"_keyboardManager",new S2([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&p(s,Pc).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&p(s,Pc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,n,i,a,s,o,l,c;(e=p(this,yo))==null||e.resolve(),Q(this,yo,null),(t=p(this,vp))==null||t.abort(),Q(this,vp,null),this._signal=null;for(const u of p(this,Pi).values())u.destroy();p(this,Pi).clear(),p(this,$r).clear(),p(this,jh).clear(),(n=p(this,sd))==null||n.clear(),Q(this,Es,null),p(this,dr).clear(),p(this,vo).destroy(),(i=p(this,yp))==null||i.destroy(),(a=p(this,Ta))==null||a.destroy(),(s=p(this,od))==null||s.destroy(),(o=p(this,Il))==null||o.hide(),Q(this,Il,null),(l=p(this,kp))==null||l.destroy(),Q(this,kp,null),Q(this,bp,null),p(this,Rl)&&(clearTimeout(p(this,Rl)),Q(this,Rl,null)),p(this,Ml)&&(clearTimeout(p(this,Ml)),Q(this,Ml,null)),(c=this._editorUndoBar)==null||c.destroy(),Q(this,Ep,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return p(this,Og)}get useNewAltTextFlow(){return p(this,Lg)}get useNewAltTextWhenAddingImage(){return p(this,_p)}get hcmFilter(){return wn(this,"hcmFilter",p(this,ld)?p(this,Dg).addHCMFilter(p(this,ld).foreground,p(this,ld).background):"none")}get direction(){return wn(this,"direction",getComputedStyle(p(this,Pc)).direction)}get _highlightColors(){return wn(this,"_highlightColors",p(this,Sp)?new Map(p(this,Sp).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return wn(this,"highlightColors",null);const t=new Map,n=!!p(this,ld);for(const[i,a]of e){const s=i.endsWith("_HCM");if(n&&s){t.set(i.replace("_HCM",""),a);continue}!n&&!s&&t.set(i,a)}return wn(this,"highlightColors",t)}get highlightColorNames(){return wn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Q(this,ed,e)}setMainHighlightColorPicker(e){Q(this,kp,e)}editAltText(e,t=!1){var n;(n=p(this,yp))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!p(this,Ta)}editComment(e,t,n,i){var a;(a=p(this,Ta))==null||a.showDialog(this,e,t,n,i)}selectComment(e,t){const n=p(this,Pi).get(e),i=n==null?void 0:n.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=p(this,Ta))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=p(this,Ta))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=p(this,Ta))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;(i=p(this,Ta))==null||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=p(this,Ta))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=p(this,Ta))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(p(this,Pi).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;(t=p(this,od))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return p(this,od)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":Q(this,_p,t);break}}onPageChanging({pageNumber:e}){Q(this,wp,e-1)}focusMainContainer(){p(this,Pc).focus()}findParent(e,t){for(const n of p(this,Pi).values()){const{x:i,y:a,width:s,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=a&&t<=a+o)return n}return null}disableUserSelect(e=!1){p(this,qg).classList.toggle("noUserSelect",e)}addShouldRescale(e){p(this,jh).add(e)}removeShouldRescale(e){p(this,jh).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Kd.PDF_TO_CSS_UNITS;for(const n of p(this,jh))n.onScaleChanging();(t=p(this,ed))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o}=n,l=n.toString(),u=ve(this,jt,Hb).call(this,n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=ve(this,jt,Q_).call(this,u),f=p(this,xi)===An.NONE,g=()=>{const y=h==null?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o,text:l});f&&this.showAllEditors("highlight",!0,!0),t&&(y==null||y.editComment())};if(f){this.switchToMode(An.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!p(this,go))return null;const t=`${gg}${e}`,n=p(this,go).getRawValue(t);return n&&p(this,go).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&p(this,go)&&!p(this,go).has(e.id)&&p(this,go).setValue(e.id,e)}a11yAlert(e,t=null){const n=p(this,Hg);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,p(this,rd)&&(Q(this,rd,!1),ve(this,jt,Dm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of p(this,dr))if(t.div.contains(e)){Q(this,Uh,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!p(this,Uh))return;const[e,t]=p(this,Uh);Q(this,Uh,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ve(this,jt,$_).call(this),this.setEditingState(!0)}removeEditListeners(){ve(this,jt,lN).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of p(this,bo))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of p(this,bo))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=p(this,Es))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of p(this,dr)){const a=i.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const s of p(this,bo))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){xn(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;a.push(c)}const s=()=>{for(const l of a)ve(this,jt,e3).call(this,l);ve(this,jt,t3).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){xn(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,xi)!==An.NONE&&!this.isEditorHandlingKeyboard&&$0._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,rd)&&(Q(this,rd,!1),ve(this,jt,Dm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(ve(this,jt,sN).call(this),ve(this,jt,cN).call(this),ve(this,jt,qa).call(this,{isEditing:p(this,xi)!==An.NONE,isEmpty:ve(this,jt,Bm).call(this),hasSomethingToUndo:p(this,vo).hasSomethingToUndo(),hasSomethingToRedo:p(this,vo).hasSomethingToRedo(),hasSelectedEditor:!1})):(ve(this,jt,oN).call(this),ve(this,jt,uN).call(this),ve(this,jt,qa).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!p(this,bo)){Q(this,bo,e);for(const t of p(this,bo))ve(this,jt,kc).call(this,t.defaultPropertiesToUpdate)}}getId(){return p(this,mx).id}get currentLayer(){return p(this,Pi).get(p(this,wp))}getLayer(e){return p(this,Pi).get(e)}get currentPageIndex(){return p(this,wp)}addLayer(e){p(this,Pi).set(e.pageIndex,e),p(this,id)?e.enable():e.disable()}removeLayer(e){p(this,Pi).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,a=!1){var s,o,l,c,u,d;if(p(this,xi)!==e&&!(p(this,yo)&&(await p(this,yo).promise,!p(this,yo)))){if(Q(this,yo,Promise.withResolvers()),(s=p(this,ed))==null||s.commitOrRemove(),p(this,xi)===An.POPUP&&((o=p(this,Ta))==null||o.hideSidebar()),(l=p(this,Ta))==null||l.destroyPopup(),Q(this,xi,e),e===An.NONE){this.setEditingState(!1),ve(this,jt,fN).call(this);for(const h of p(this,$r).values())h.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),p(this,yo).resolve();return}for(const h of p(this,$r).values())h.addStandaloneCommentButton();e===An.SIGNATURE&&await((u=p(this,od))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await ve(this,jt,hN).call(this),this.unselectAll();for(const h of p(this,Pi).values())h.updateMode(e);if(e===An.POPUP){p(this,bp)||Q(this,bp,await p(this,Ep).getAnnotationsByType(new Set(p(this,bo).map(g=>g._editorType))));const h=new Set,f=[];for(const g of p(this,$r).values()){const{annotationElementId:y,hasComment:w,deleted:x}=g;y&&h.add(y),w&&!x&&f.push(g.getData())}for(const g of p(this,bp)){const{id:y,popupRef:w,contentsObj:x}=g;w&&(x!=null&&x.str)&&!h.has(y)&&!p(this,td).has(y)&&f.push(g)}(d=p(this,Ta))==null||d.showSidebar(f)}if(!t){n&&this.addNewEditorFromKeyboard(),p(this,yo).resolve();return}for(const h of p(this,$r).values())h.uid===t?(this.setSelected(h),a?h.editComment():i?h.enterInEditMode():h.focus()):h.unselect();p(this,yo).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==p(this,xi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(p(this,bo)){switch(e){case qn.CREATE:this.currentLayer.addNewEditor(t);return;case qn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,jg)||Q(this,jg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of p(this,dr))n.updateParams(e,t);else for(const n of p(this,bo))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var a;for(const s of p(this,$r).values())s.editorType===e&&s.show(t);(((a=p(this,jg))==null?void 0:a.get(qn.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ve(this,jt,kc).call(this,[[qn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(p(this,Bg)!==e){Q(this,Bg,e);for(const t of p(this,Pi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of p(this,$r).values())t.pageIndex===e&&(yield t)}getEditor(e){return p(this,$r).get(e)}addEditor(e){p(this,$r).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(p(this,Rl)&&clearTimeout(p(this,Rl)),Q(this,Rl,setTimeout(()=>{this.focusMainContainer(),Q(this,Rl,null)},0))),p(this,$r).delete(e.id),e.annotationElementId&&((t=p(this,sd))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!p(this,td).has(e.annotationElementId))&&((n=p(this,go))==null||n.remove(e.id))}addDeletedAnnotationElement(e){p(this,td).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return p(this,td).has(e)}removeDeletedAnnotationElement(e){p(this,td).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){p(this,Es)!==e&&(Q(this,Es,e),e&&ve(this,jt,kc).call(this,e.propertiesToUpdate))}updateUI(e){p(this,jt,pN)===e&&ve(this,jt,kc).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ve(this,jt,kc).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(p(this,dr).has(e)){p(this,dr).delete(e),e.unselect(),ve(this,jt,qa).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,dr).add(e),e.select(),ve(this,jt,kc).call(this,e.propertiesToUpdate),ve(this,jt,qa).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=p(this,ed))==null||t.commitOrRemove();for(const n of p(this,dr))n!==e&&n.unselect();p(this,dr).clear(),p(this,dr).add(e),e.select(),ve(this,jt,kc).call(this,e.propertiesToUpdate),ve(this,jt,qa).call(this,{hasSelectedEditor:!0})}isSelected(e){return p(this,dr).has(e)}get firstSelectedEditor(){return p(this,dr).values().next().value}unselect(e){e.unselect(),p(this,dr).delete(e),ve(this,jt,qa).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,dr).size!==0}get isEnterHandled(){return p(this,dr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;p(this,vo).undo(),ve(this,jt,qa).call(this,{hasSomethingToUndo:p(this,vo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ve(this,jt,Bm).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){p(this,vo).redo(),ve(this,jt,qa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,vo).hasSomethingToRedo(),isEmpty:ve(this,jt,Bm).call(this)})}addCommands(e){p(this,vo).add(e),ve(this,jt,qa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ve(this,jt,Bm).call(this)})}cleanUndoStack(e){p(this,vo).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...p(this,dr)],n=()=>{var s;(s=this._editorUndoBar)==null||s.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const s of t)ve(this,jt,e3).call(this,s)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=p(this,Es))==null||e.commitOrRemove()}hasSomethingToControl(){return p(this,Es)||this.hasSelection}selectAll(){for(const e of p(this,dr))e.commit();ve(this,jt,t3).call(this,p(this,$r).values())}unselectAll(){var e;if(!(p(this,Es)&&(p(this,Es).commitOrRemove(),p(this,xi)!==An.NONE))&&!((e=p(this,ed))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of p(this,dr))t.unselect();p(this,dr).clear(),ve(this,jt,qa).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;p(this,cd)[0]+=e,p(this,cd)[1]+=t;const[i,a]=p(this,cd),s=[...p(this,dr)],o=1e3;p(this,Ml)&&clearTimeout(p(this,Ml)),Q(this,Ml,setTimeout(()=>{Q(this,Ml,null),p(this,cd)[0]=p(this,cd)[1]=0,this.addCommands({cmd:()=>{for(const l of s)p(this,$r).has(l.id)&&(l.translateInPage(i,a),l.translationDone())},undo:()=>{for(const l of s)p(this,$r).has(l.id)&&(l.translateInPage(-i,-a),l.translationDone())},mustExec:!1})},o));for(const l of s)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Q(this,Nl,new Map);for(const e of p(this,dr))p(this,Nl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,Nl))return!1;this.disableUserSelect(!1);const e=p(this,Nl);Q(this,Nl,null);let t=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,t||(t=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!t)return!1;const n=(i,a,s,o)=>{if(p(this,$r).has(i.id)){const l=p(this,Pi).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)n(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)n(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(p(this,Nl))for(const n of p(this,Nl).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||p(this,dr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return p(this,Es)===e}getActive(){return p(this,Es)}getMode(){return p(this,xi)}isEditingMode(){return p(this,xi)!==An.NONE}get imageManager(){return wn(this,"imageManager",new Z_)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,h)=>({x:(u-i)/s,y:1-(c+d-n)/a,width:h/s,height:d/a});break;case"180":o=(c,u,d,h)=>({x:1-(c+d-n)/a,y:1-(u+h-i)/s,width:d/a,height:h/s});break;case"270":o=(c,u,d,h)=>({x:1-(u+h-i)/s,y:(c-n)/a,width:h/s,height:d/a});break;default:o=(c,u,d,h)=>({x:(c-n)/a,y:(u-i)/s,width:d/a,height:h/s});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:f,width:g,height:y}of d.getClientRects())g===0||y===0||l.push(o(h,f,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(p(this,xp)||Q(this,xp,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=p(this,xp))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=p(this,xp))==null?void 0:i.get(e.data.id);if(!t)return;const n=p(this,go).getRawValue(t);n&&(p(this,xi)===An.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var a;const i=(a=p(this,sd))==null?void 0:a.get(e);i&&(i.setCanvas(t,n),p(this,sd).delete(e))}addMissingCanvas(e,t){(p(this,sd)||Q(this,sd,new Map)).set(e,t)}};vp=new WeakMap,Es=new WeakMap,bp=new WeakMap,$r=new WeakMap,Pi=new WeakMap,yp=new WeakMap,go=new WeakMap,xp=new WeakMap,vo=new WeakMap,Ta=new WeakMap,$u=new WeakMap,ed=new WeakMap,wp=new WeakMap,td=new WeakMap,Nl=new WeakMap,bo=new WeakMap,jh=new WeakMap,Fg=new WeakMap,Lg=new WeakMap,_p=new WeakMap,Dg=new WeakMap,Rl=new WeakMap,nd=new WeakMap,Sp=new WeakMap,rd=new WeakMap,Il=new WeakMap,mx=new WeakMap,id=new WeakMap,Ap=new WeakMap,Bg=new WeakMap,ad=new WeakMap,Uh=new WeakMap,kp=new WeakMap,sd=new WeakMap,Og=new WeakMap,xi=new WeakMap,dr=new WeakMap,Mc=new WeakMap,od=new WeakMap,ld=new WeakMap,jg=new WeakMap,Ep=new WeakMap,Ug=new WeakMap,cd=new WeakMap,Ml=new WeakMap,Pc=new WeakMap,qg=new WeakMap,Hg=new WeakMap,yo=new WeakMap,jt=new WeakSet,Hb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Q_=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of p(this,Pi).values())if(n.hasTextLayer(e))return n;return null},rN=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=ve(this,jt,Hb).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(p(this,Il)||Q(this,Il,new vq(this)),p(this,Il).show(n,i,this.direction==="ltr"))},iN=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){p(this,Mc)&&((a=p(this,Il))==null||a.hide(),Q(this,Mc,null),ve(this,jt,qa).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===p(this,Mc))return;const i=ve(this,jt,Hb).call(this,e).closest(".textLayer");if(!i){p(this,Mc)&&((s=p(this,Il))==null||s.hide(),Q(this,Mc,null),ve(this,jt,qa).call(this,{hasSelectedText:!1}));return}if((o=p(this,Il))==null||o.hide(),Q(this,Mc,t),ve(this,jt,qa).call(this,{hasSelectedText:!0}),!(p(this,xi)!==An.HIGHLIGHT&&p(this,xi)!==An.NONE)&&(p(this,xi)===An.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Q(this,rd,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=p(this,xi)===An.HIGHLIGHT?ve(this,jt,Q_).call(this,i):null;if(l==null||l.toggleDrawing(),p(this,Ap)){const c=new AbortController,u=this.combinedSignal(c),d=h=>{h.type==="pointerup"&&h.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&ve(this,jt,Dm).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else l==null||l.toggleDrawing(!0),ve(this,jt,Dm).call(this,"main_toolbar")}},Dm=function(e=""){p(this,xi)===An.HIGHLIGHT?this.highlightSelection(e):p(this,Fg)&&ve(this,jt,rN).call(this)},aN=function(){document.addEventListener("selectionchange",ve(this,jt,iN).bind(this),{signal:this._signal})},sN=function(){if(p(this,nd))return;Q(this,nd,new AbortController);const e=this.combinedSignal(p(this,nd));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},oN=function(){var e;(e=p(this,nd))==null||e.abort(),Q(this,nd,null)},$_=function(){if(p(this,ad))return;Q(this,ad,new AbortController);const e=this.combinedSignal(p(this,ad));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},lN=function(){var e;(e=p(this,ad))==null||e.abort(),Q(this,ad,null)},cN=function(){if(p(this,$u))return;Q(this,$u,new AbortController);const e=this.combinedSignal(p(this,$u));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},uN=function(){var e;(e=p(this,$u))==null||e.abort(),Q(this,$u,null)},dN=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},qa=function(e){Object.entries(e).some(([n,i])=>p(this,Ug)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,Ug),e)}),p(this,xi)===An.HIGHLIGHT&&e.hasSelectedEditor===!1&&ve(this,jt,kc).call(this,[[qn.HIGHLIGHT_FREE,!0]]))},kc=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},hN=async function(){if(!p(this,id)){Q(this,id,!0);const e=[];for(const t of p(this,Pi).values())e.push(t.enable());await Promise.all(e);for(const t of p(this,$r).values())t.enable()}},fN=function(){if(this.unselectAll(),p(this,id)){Q(this,id,!1);for(const e of p(this,Pi).values())e.disable();for(const e of p(this,$r).values())e.disable()}},e3=function(e){const t=p(this,Pi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},pN=function(){let e=null;for(e of p(this,dr));return e},Bm=function(){if(p(this,$r).size===0)return!0;if(p(this,$r).size===1)for(const e of p(this,$r).values())return e.isEmpty();return!1},t3=function(e){for(const t of p(this,dr))t.unselect();p(this,dr).clear();for(const t of e)t.isEmpty()||(p(this,dr).add(t),t.select());ve(this,jt,qa).call(this,{hasSelectedEditor:this.hasSelection})},xt($0,"TRANSLATE_SMALL",1),xt($0,"TRANSLATE_BIG",10);let t0=$0;var zi,Pl,Qo,Cp,Fl,Cs,Tp,Ll,rs,Fc,qh,Dl,ud,dl,Om,zb;const Ha=class Ha{constructor(e){de(this,dl);de(this,zi,null);de(this,Pl,!1);de(this,Qo,null);de(this,Cp,null);de(this,Fl,null);de(this,Cs,null);de(this,Tp,!1);de(this,Ll,null);de(this,rs,null);de(this,Fc,null);de(this,qh,null);de(this,Dl,!1);Q(this,rs,e),Q(this,Dl,e._uiManager.useNewAltTextFlow),p(Ha,ud)||Q(Ha,ud,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ha._l10n??(Ha._l10n=e)}async render(){const e=Q(this,Qo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=Q(this,Cp,document.createElement("span"));e.append(t),p(this,Dl)?(e.classList.add("new"),e.setAttribute("data-l10n-id",p(Ha,ud).missing),t.setAttribute("data-l10n-id",p(Ha,ud)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=p(this,rs)._uiManager._signal;e.addEventListener("contextmenu",Po,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),p(this,rs)._uiManager.editAltText(p(this,rs)),p(this,Dl)&&p(this,rs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,dl,Om)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(Q(this,Tp,!0),i(a))},{signal:n}),await ve(this,dl,zb).call(this),e}finish(){p(this,Qo)&&(p(this,Qo).focus({focusVisible:p(this,Tp)}),Q(this,Tp,!1))}isEmpty(){return p(this,Dl)?p(this,zi)===null:!p(this,zi)&&!p(this,Pl)}hasData(){return p(this,Dl)?p(this,zi)!==null||!!p(this,Fc):this.isEmpty()}get guessedText(){return p(this,Fc)}async setGuessedText(e){p(this,zi)===null&&(Q(this,Fc,e),Q(this,qh,await Ha._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ve(this,dl,zb).call(this))}toggleAltTextBadge(e=!1){var t;if(!p(this,Dl)||p(this,zi)){(t=p(this,Ll))==null||t.remove(),Q(this,Ll,null);return}if(!p(this,Ll)){const n=Q(this,Ll,document.createElement("div"));n.className="noAltTextBadge",p(this,rs).div.append(n)}p(this,Ll).classList.toggle("hidden",!e)}serialize(e){let t=p(this,zi);return!e&&p(this,Fc)===t&&(t=p(this,qh)),{altText:t,decorative:p(this,Pl),guessedText:p(this,Fc),textWithDisclaimer:p(this,qh)}}get data(){return{altText:p(this,zi),decorative:p(this,Pl)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(Q(this,Fc,n),Q(this,qh,i)),!(p(this,zi)===e&&p(this,Pl)===t)&&(a||(Q(this,zi,e),Q(this,Pl,t)),ve(this,dl,zb).call(this))}toggle(e=!1){p(this,Qo)&&(!e&&p(this,Cs)&&(clearTimeout(p(this,Cs)),Q(this,Cs,null)),p(this,Qo).disabled=!e)}shown(){p(this,rs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,dl,Om)}})}destroy(){var e,t;(e=p(this,Qo))==null||e.remove(),Q(this,Qo,null),Q(this,Cp,null),Q(this,Fl,null),(t=p(this,Ll))==null||t.remove(),Q(this,Ll,null)}};zi=new WeakMap,Pl=new WeakMap,Qo=new WeakMap,Cp=new WeakMap,Fl=new WeakMap,Cs=new WeakMap,Tp=new WeakMap,Ll=new WeakMap,rs=new WeakMap,Fc=new WeakMap,qh=new WeakMap,Dl=new WeakMap,ud=new WeakMap,dl=new WeakSet,Om=function(){return p(this,zi)&&"added"||p(this,zi)===null&&this.guessedText&&"review"||"missing"},zb=async function(){var i,a,s;const e=p(this,Qo);if(!e)return;if(p(this,Dl)){if(e.classList.toggle("done",!!p(this,zi)),e.setAttribute("data-l10n-id",p(Ha,ud)[p(this,dl,Om)]),(i=p(this,Cp))==null||i.setAttribute("data-l10n-id",p(Ha,ud)[`${p(this,dl,Om)}-label`]),!p(this,zi)){(a=p(this,Fl))==null||a.remove();return}}else{if(!p(this,zi)&&!p(this,Pl)){e.classList.remove("done"),(s=p(this,Fl))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=p(this,Fl);if(!t){Q(this,Fl,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${p(this,rs).id}`;const o=100,l=p(this,rs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(p(this,Cs)),Q(this,Cs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{Q(this,Cs,setTimeout(()=>{Q(this,Cs,null),p(this,Fl).classList.add("show"),p(this,rs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;p(this,Cs)&&(clearTimeout(p(this,Cs)),Q(this,Cs,null)),(c=p(this,Fl))==null||c.classList.remove("show")},{signal:l})}p(this,Pl)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=p(this,zi)),t.parentNode||e.append(t);const n=p(this,rs).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},de(Ha,ud,null),xt(Ha,"_l10n",null);let Oy=Ha;var aa,xo,Hh,Mr,zg,zh,$o,Vh,Gh,Wh,Vg,n3;class ab{constructor(e){de(this,Vg);de(this,aa,null);de(this,xo,null);de(this,Hh,!1);de(this,Mr,null);de(this,zg,null);de(this,zh,null);de(this,$o,null);de(this,Vh,null);de(this,Gh,!1);de(this,Wh,null);Q(this,Mr,e)}renderForToolbar(){const e=Q(this,xo,document.createElement("button"));return e.className="comment",ve(this,Vg,n3).call(this,e,!1)}renderForStandalone(){const e=Q(this,aa,document.createElement("button"));e.className="annotationCommentButton";const t=p(this,Mr).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(p(this,Mr)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=p(this,Mr).commentButtonColor;i&&(n.backgroundColor=i)}return ve(this,Vg,n3).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=p(this,aa)??p(this,xo))==null||e.focus()},0)}onUpdatedColor(){if(!p(this,aa))return;const e=p(this,Mr).commentButtonColor;e&&(p(this,aa).style.backgroundColor=e),p(this,Mr)._uiManager.updatePopupColor(p(this,Mr))}get commentButtonWidth(){var e;return(((e=p(this,aa))==null?void 0:e.getBoundingClientRect().width)??0)/p(this,Mr).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(p(this,Wh))return p(this,Wh);if(!p(this,aa))return null;const{x:e,y:t,height:n}=p(this,aa).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=p(this,Mr).parent.boundingClientRect;return[(e-i)/s,(t+n-a)/o]}set commentPopupPositionInLayer(e){Q(this,Wh,e)}hasDefaultPopupPosition(){return p(this,Wh)===null}removeStandaloneCommentButton(){var e;(e=p(this,aa))==null||e.remove(),Q(this,aa,null)}removeToolbarCommentButton(){var e;(e=p(this,xo))==null||e.remove(),Q(this,xo,null)}setCommentButtonStates({selected:e,hasPopup:t}){p(this,aa)&&(p(this,aa).classList.toggle("selected",e),p(this,aa).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=p(this,Mr).commentButtonPosition;const{width:u,height:d,x:h,y:f}=p(this,Mr);n=h+n*u,i=f+i*d}const a=p(this,Mr).parent.boundingClientRect,{x:s,y:o,width:l,height:c}=a;p(this,Mr)._uiManager.editComment(p(this,Mr),s+n*l,o+i*c,{...e,parentDimensions:a})}finish(){p(this,xo)&&(p(this,xo).focus({focusVisible:p(this,Hh)}),Q(this,Hh,!1))}isDeleted(){return p(this,Gh)||p(this,$o)===""}isEmpty(){return p(this,$o)===null}hasBeenEdited(){return this.isDeleted()||p(this,$o)!==p(this,zg)}serialize(){return this.data}get data(){return{text:p(this,$o),richText:p(this,zh),date:p(this,Vh),deleted:this.isDeleted()}}set data(e){if(e!==p(this,$o)&&Q(this,zh,null),e===null){Q(this,$o,""),Q(this,Gh,!0);return}Q(this,$o,e),Q(this,Vh,new Date),Q(this,Gh,!1)}setInitialText(e,t=null){Q(this,zg,e),this.data=e,Q(this,Vh,null),Q(this,zh,t)}shown(){}destroy(){var e,t;(e=p(this,xo))==null||e.remove(),Q(this,xo,null),(t=p(this,aa))==null||t.remove(),Q(this,aa,null),Q(this,$o,""),Q(this,zh,null),Q(this,Vh,null),Q(this,Mr,null),Q(this,Hh,!1),Q(this,Gh,!1)}}aa=new WeakMap,xo=new WeakMap,Hh=new WeakMap,Mr=new WeakMap,zg=new WeakMap,zh=new WeakMap,$o=new WeakMap,Vh=new WeakMap,Gh=new WeakMap,Wh=new WeakMap,Vg=new WeakSet,n3=function(e,t){if(!p(this,Mr)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[p(this,Mr)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=p(this,Mr)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Po,{signal:n}),t&&(e.addEventListener("focusin",a=>{p(this,Mr)._focusEventsAllowed=!1,ai(a)},{capture:!0,signal:n}),e.addEventListener("focusout",a=>{p(this,Mr)._focusEventsAllowed=!0,ai(a)},{capture:!0,signal:n})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),e===p(this,xo)?this.edit():p(this,Mr).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(Q(this,Hh,!0),i(a))},{signal:n}),e.addEventListener("pointerenter",()=>{p(this,Mr).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{p(this,Mr).toggleComment(!1,!1)},{signal:n}),e};var Np,Xh,Gg,Wg,Xg,Kg,Yg,Lc,Kh,Dc,Yh,Bc,$d,mN,gN,vN;const OS=class OS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){de(this,$d);de(this,Np);de(this,Xh,!1);de(this,Gg,null);de(this,Wg);de(this,Xg);de(this,Kg);de(this,Yg);de(this,Lc,null);de(this,Kh);de(this,Dc,null);de(this,Yh);de(this,Bc,null);Q(this,Np,e),Q(this,Gg,n),Q(this,Wg,t),Q(this,Xg,i),Q(this,Kg,a),Q(this,Yg,s),Q(this,Yh,new AbortController),Q(this,Kh,AbortSignal.any([o,p(this,Yh).signal])),e.addEventListener("touchstart",ve(this,$d,mN).bind(this),{passive:!1,signal:p(this,Kh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/$l.pixelRatio}destroy(){var e,t;(e=p(this,Yh))==null||e.abort(),Q(this,Yh,null),(t=p(this,Lc))==null||t.abort(),Q(this,Lc,null)}};Np=new WeakMap,Xh=new WeakMap,Gg=new WeakMap,Wg=new WeakMap,Xg=new WeakMap,Kg=new WeakMap,Yg=new WeakMap,Lc=new WeakMap,Kh=new WeakMap,Dc=new WeakMap,Yh=new WeakMap,Bc=new WeakMap,$d=new WeakSet,mN=function(e){var i,a,s;if((i=p(this,Wg))!=null&&i.call(this))return;if(e.touches.length===1){if(p(this,Lc))return;const o=Q(this,Lc,new AbortController),l=AbortSignal.any([p(this,Kh),o.signal]),c=p(this,Np),u={capture:!0,signal:l,passive:!1},d=h=>{var f;h.pointerType==="touch"&&((f=p(this,Lc))==null||f.abort(),Q(this,Lc,null))};c.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(ai(h),d(h))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!p(this,Bc)){Q(this,Bc,new AbortController);const o=AbortSignal.any([p(this,Kh),p(this,Bc).signal]),l=p(this,Np),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",ve(this,$d,gN).bind(this),c);const u=ve(this,$d,vN).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",ai,c),l.addEventListener("pointermove",ai,c),l.addEventListener("pointercancel",ai,c),l.addEventListener("pointerup",ai,c),(a=p(this,Xg))==null||a.call(this)}if(ai(e),e.touches.length!==2||(s=p(this,Gg))!=null&&s.call(this)){Q(this,Dc,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),Q(this,Dc,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},gN=function(e){var R;if(!p(this,Dc)||e.touches.length!==2)return;ai(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:a}=t,{screenX:s,screenY:o}=n,l=p(this,Dc),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,g=h-u,y=s-i,w=o-a,x=Math.hypot(y,w)||1,T=Math.hypot(f,g)||1;if(!p(this,Xh)&&Math.abs(T-x)<=OS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,!p(this,Xh)){Q(this,Xh,!0);return}const v=[(i+s)/2,(a+o)/2];(R=p(this,Kg))==null||R.call(this,v,T,x)},vN=function(e){var t;e.touches.length>=2||(p(this,Bc)&&(p(this,Bc).abort(),Q(this,Bc,null),(t=p(this,Yg))==null||t.call(this)),p(this,Dc)&&(ai(e),Q(this,Dc,null),Q(this,Xh,!1)))};let jy=OS;var Zh,el,Hr,Ar,Oc,Rp,dd,Zg,sa,Jh,jc,wo,hd,Jg,Qh,Ts,Qg,$h,Uc,Bl,Ip,Mp,_o,ef,$g,gx,sn,r3,ev,i3,Vb,bN,yN,a3,Gb,s3,xN,wN,_N,o3,SN,l3,AN,kN,EN,c3,jm;const Sn=class Sn{constructor(e){de(this,sn);de(this,Zh,null);de(this,el,null);de(this,Hr,null);de(this,Ar,null);de(this,Oc,null);de(this,Rp,!1);de(this,dd,null);de(this,Zg,"");de(this,sa,null);de(this,Jh,null);de(this,jc,null);de(this,wo,null);de(this,hd,null);de(this,Jg,"");de(this,Qh,!1);de(this,Ts,null);de(this,Qg,!1);de(this,$h,!1);de(this,Uc,!1);de(this,Bl,null);de(this,Ip,0);de(this,Mp,0);de(this,_o,null);de(this,ef,null);xt(this,"isSelected",!1);xt(this,"_isCopy",!1);xt(this,"_editToolbar",null);xt(this,"_initialOptions",Object.create(null));xt(this,"_initialData",null);xt(this,"_isVisible",!0);xt(this,"_uiManager",null);xt(this,"_focusEventsAllowed",!0);de(this,$g,!1);de(this,gx,Sn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Sn.prototype._resizeWithKeyboard,t=t0.TRANSLATE_SMALL,n=t0.TRANSLATE_BIG;return wn(this,"_resizerKeyboardManager",new S2([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Sn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return wn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new xq({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Sn._l10n??(Sn._l10n=e),Sn._l10nResizer||(Sn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Sn._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Sn._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Tr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,$g)}set _isDraggable(e){var t;Q(this,$g,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,gx)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(ve(this,sn,jm).call(this),(t=p(this,wo))==null||t.remove(),Q(this,wo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(p(this,Qh)?Q(this,Qh,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[a,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){ve(this,sn,r3).call(this,this.parentDimensions,e,t)}translateInPage(e,t){p(this,Ts)||Q(this,Ts,[this.x,this.y,this.width,this.height]),ve(this,sn,r3).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){p(this,Ts)||Q(this,Ts,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,c]=this.getBaseTranslation();s+=l,o+=c;const{style:u}=n;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!p(this,Ts)&&(p(this,Ts)[0]!==this.x||p(this,Ts)[1]!==this.y)}get _hasBeenResized(){return!!p(this,Ts)&&(p(this,Ts)[2]!==this.width||p(this,Ts)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Sn,i=n/e,a=n/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:a,y:s,width:o,height:l}=this;if(o*=n,l*=i,a*=n,s*=i,this._mustFixPosition)switch(e){case 0:a=Xa(a,0,n-o),s=Xa(s,0,i-l);break;case 90:a=Xa(a,0,n-l),s=Xa(s,o,i);break;case 180:a=Xa(a,o,n),s=Xa(s,l,i);break;case 270:a=Xa(a,l,n),s=Xa(s,0,i-o);break}this.x=a/=n,this.y=s/=i;const[c,u]=this.getBaseTranslation();a+=c,s+=u,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return ve(n=Sn,ev,i3).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return ve(n=Sn,ev,i3).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=p(this,Hr))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||p(this,$h))return this._editToolbar;this._editToolbar=new K_(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=p(this,Hr))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return p(this,Hr)||(Oy.initialize(Sn._l10n),Q(this,Hr,new Oy(this)),p(this,Zh)&&(p(this,Hr).data=p(this,Zh),Q(this,Zh,null))),p(this,Hr)}get altTextData(){var e;return(e=p(this,Hr))==null?void 0:e.data}set altTextData(e){p(this,Hr)&&(p(this,Hr).data=e)}get guessedAltText(){var e;return(e=p(this,Hr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=p(this,Hr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=p(this,Hr))==null?void 0:t.serialize(e)}hasAltText(){return!!p(this,Hr)&&!p(this,Hr).isEmpty()}hasAltTextData(){var e;return((e=p(this,Hr))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=p(this,Ar))==null||e.focusButton()}addCommentButton(){return this.canAddComment?p(this,Ar)||Q(this,Ar,new ab(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(p(this,Oc)){this._uiManager.isEditingMode()&&p(this,Oc).classList.remove("hidden");return}this.hasComment&&(Q(this,Oc,p(this,Ar).renderForStandalone()),this.div.append(p(this,Oc)))}}removeStandaloneCommentButton(){p(this,Ar).removeStandaloneCommentButton(),Q(this,Oc,null)}hideStandaloneCommentButton(){var e;(e=p(this,Oc))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=p(this,Ar);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){p(this,Ar)||Q(this,Ar,new ab(this)),p(this,Ar).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(p(this,Ar)||Q(this,Ar,new ab(this)),p(this,Ar).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=p(this,Ar))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=p(this,Ar))==null?void 0:e.isDeleted()}get hasComment(){return!!p(this,Ar)&&!p(this,Ar).isEmpty()&&!p(this,Ar).isDeleted()}async editComment(e){p(this,Ar)||Q(this,Ar,new ab(this)),p(this,Ar).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){p(this,Ar).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,o=s+a+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){p(this,Ar).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=p(this,Rp)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),ve(this,sn,l3).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),tN(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,ef)||Q(this,ef,new jy({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ve(this,sn,xN).bind(this),onPinching:ve(this,sn,wN).bind(this),onPinchEnd:ve(this,sn,_N).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:t}=ga.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(Q(this,Qh,!0),this._isDraggable){ve(this,sn,SN).call(this,e);return}ve(this,sn,o3).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,Bl)&&clearTimeout(p(this,Bl)),Q(this,Bl,setTimeout(()=>{var e;Q(this,Bl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=t/i,d=this.x*a,h=this.y*s,f=this.width*a,g=this.height*s;switch(n){case 0:return[d+c+o,s-h-u-g+l,d+c+f+o,s-h-u+l];case 90:return[d+u+o,s-h+c+l,d+u+g+o,s-h+c+f+l];case 180:return[d-c-f+o,s-h+u+l,d-c+o,s-h+u+g+l];case 270:return[d-u-g+o,s-h-c-f+l,d-u+o,s-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,a,s]=e,o=a-n,l=s-i;switch(this.rotation){case 0:return[n,t-s,o,l];case 90:return[n,t-i,l,o];case 180:return[a,t-i,o,l];case 270:return[a,t-s,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Sn._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=p(this,Ar))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:a,richText:s},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:c,modificationDate:n||u,popupRef:!a,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),Q(this,$h,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),Q(this,$h,!1),!0):!1}isInEditMode(){return p(this,$h)}shouldGetKeyboardEvents(){return p(this,Uc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return t<s&&i>0&&e<a&&n>0}rebuild(){ve(this,sn,l3).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,Q(i,Zh,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=c/a,i.height=u/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,n;if((e=p(this,hd))==null||e.abort(),Q(this,hd,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),p(this,Bl)&&(clearTimeout(p(this,Bl)),Q(this,Bl,null)),ve(this,sn,jm).call(this),this.removeEditToolbar(),p(this,_o)){for(const i of p(this,_o).values())clearTimeout(i);Q(this,_o,null)}this.parent=null,(t=p(this,ef))==null||t.destroy(),Q(this,ef,null),(n=p(this,wo))==null||n.remove(),Q(this,wo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ve(this,sn,bN).call(this),p(this,sa).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,a,s]=this.getPDFRect();return[Sn._round(n+(a-n)*e),Sn._round(i+(s-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return p(this,Ar).commentPopupPositionInLayer}set commentPopupPosition(e){p(this,Ar).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return p(this,Ar).hasDefaultPopupPosition()}get commentButtonWidth(){return p(this,Ar).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=p(this,Ar))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),Q(this,jc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=p(this,sa).children;if(!p(this,el)){Q(this,el,Array.from(t));const s=ve(this,sn,AN).bind(this),o=ve(this,sn,kN).bind(this),l=this._uiManager._signal;for(const c of p(this,el)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",ve(this,sn,EN).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Sn._l10nResizer[u])}}const n=p(this,el)[0];let i=0;for(const s of t){if(s===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(p(this,el).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)p(this,sa).append(p(this,sa).firstElementChild);else if(a>i)for(let o=0;o<a-i;o++)p(this,sa).firstElementChild.before(p(this,sa).lastElementChild);let s=0;for(const o of t){const c=p(this,el)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Sn._l10nResizer[c])}}ve(this,sn,c3).call(this,0),Q(this,Uc,!0),p(this,sa).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){p(this,Uc)&&ve(this,sn,s3).call(this,p(this,Jg),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ve(this,sn,jm).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(n=p(this,Hr))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,a;this.isSelected&&(this.isSelected=!1,(e=p(this,sa))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=p(this,Hr))==null||a.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(this,Qg)}set isEditing(e){Q(this,Qg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){p(this,_o)||Q(this,_o,new Map);const{action:n}=e;let i=p(this,_o).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),p(this,_o).delete(n),p(this,_o).size===0&&Q(this,_o,null)},Sn._telemetryTimeout),p(this,_o).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Q(this,Rp,!1)}disable(){this.div&&(this.div.tabIndex=-1),Q(this,Rp,!0)}updateFakeAnnotationElement(e){if(!p(this,wo)&&!this.deleted){Q(this,wo,e.addFakeAnnotation(this));return}if(this.deleted){p(this,wo).remove(),Q(this,wo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&p(this,wo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Zh=new WeakMap,el=new WeakMap,Hr=new WeakMap,Ar=new WeakMap,Oc=new WeakMap,Rp=new WeakMap,dd=new WeakMap,Zg=new WeakMap,sa=new WeakMap,Jh=new WeakMap,jc=new WeakMap,wo=new WeakMap,hd=new WeakMap,Jg=new WeakMap,Qh=new WeakMap,Ts=new WeakMap,Qg=new WeakMap,$h=new WeakMap,Uc=new WeakMap,Bl=new WeakMap,Ip=new WeakMap,Mp=new WeakMap,_o=new WeakMap,ef=new WeakMap,$g=new WeakMap,gx=new WeakMap,sn=new WeakSet,r3=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ev=new WeakSet,i3=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Vb=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},bN=function(){if(p(this,sa))return;Q(this,sa,document.createElement("div")),p(this,sa).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");p(this,sa).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",ve(this,sn,yN).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Po,{signal:t}),i.tabIndex=-1}this.div.prepend(p(this,sa))},yN=function(e,t){var u;t.preventDefault();const{isMac:n}=ga.platform;if(t.button!==0||t.ctrlKey&&n)return;(u=p(this,Hr))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,Q(this,Jh,[t.screenX,t.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ve(this,sn,s3).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",ai,{passive:!1,signal:s}),window.addEventListener("contextmenu",Po,{signal:s}),Q(this,jc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var d;a.abort(),this.parent.togglePointerEvents(!0),(d=p(this,Hr))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,ve(this,sn,Gb).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},a3=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Gb=function(){if(!p(this,jc))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=p(this,jc);Q(this,jc,null);const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===t&&o===n&&l===i||this.addCommands({cmd:ve(this,sn,a3).bind(this,a,s,o,l),undo:ve(this,sn,a3).bind(this,e,t,n,i),mustExec:!0})},s3=function(e,t){const[n,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,c=Sn.MIN_SIZE/n,u=Sn.MIN_SIZE/i,d=ve(this,sn,Vb).call(this,this.rotation),h=(q,W)=>[d[0]*q+d[2]*W,d[1]*q+d[3]*W],f=ve(this,sn,Vb).call(this,360-this.rotation),g=(q,W)=>[f[0]*q+f[2]*W,f[1]*q+f[3]*W];let y,w,x=!1,T=!1;switch(e){case"topLeft":x=!0,y=(q,W)=>[0,0],w=(q,W)=>[q,W];break;case"topMiddle":y=(q,W)=>[q/2,0],w=(q,W)=>[q/2,W];break;case"topRight":x=!0,y=(q,W)=>[q,0],w=(q,W)=>[0,W];break;case"middleRight":T=!0,y=(q,W)=>[q,W/2],w=(q,W)=>[0,W/2];break;case"bottomRight":x=!0,y=(q,W)=>[q,W],w=(q,W)=>[0,0];break;case"bottomMiddle":y=(q,W)=>[q/2,W],w=(q,W)=>[q/2,0];break;case"bottomLeft":x=!0,y=(q,W)=>[0,W],w=(q,W)=>[q,0];break;case"middleLeft":T=!0,y=(q,W)=>[0,W/2],w=(q,W)=>[q,W/2];break}const v=y(o,l),R=w(o,l);let M=h(...R);const B=Sn._round(a+M[0]),L=Sn._round(s+M[1]);let z=1,H=1,$,U;if(t.fromKeyboard)({deltaX:$,deltaY:U}=t);else{const{screenX:q,screenY:W}=t,[le,ue]=p(this,Jh);[$,U]=this.screenToPageTranslation(q-le,W-ue),p(this,Jh)[0]=q,p(this,Jh)[1]=W}if([$,U]=g($/n,U/i),x){const q=Math.hypot(o,l);z=H=Math.max(Math.min(Math.hypot(R[0]-v[0]-$,R[1]-v[1]-U)/q,1/o,1/l),c/o,u/l)}else T?z=Xa(Math.abs(R[0]-v[0]-$),c,1)/o:H=Xa(Math.abs(R[1]-v[1]-U),u,1)/l;const D=Sn._round(o*z),ee=Sn._round(l*H);M=h(...w(D,ee));const J=B-M[0],re=L-M[1];p(this,Ts)||Q(this,Ts,[this.x,this.y,this.width,this.height]),this.width=D,this.height=ee,this.x=J,this.y=re,this.setDims(),this.fixAndSetPosition(),this._onResizing()},xN=function(){var e;Q(this,jc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=p(this,Hr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},wN=function(e,t,n){let a=.7*(n/t)+1-.7;if(a===1)return;const s=ve(this,sn,Vb).call(this,this.rotation),o=(B,L)=>[s[0]*B+s[2]*L,s[1]*B+s[3]*L],[l,c]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,g=Sn.MIN_SIZE/l,y=Sn.MIN_SIZE/c;a=Math.max(Math.min(a,1/h,1/f),g/h,y/f);const w=Sn._round(h*a),x=Sn._round(f*a);if(w===h&&x===f)return;p(this,Ts)||Q(this,Ts,[u,d,h,f]);const T=o(h/2,f/2),v=Sn._round(u+T[0]),R=Sn._round(d+T[1]),M=o(w/2,x/2);this.x=v-M[0],this.y=R-M[1],this.width=w,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},_N=function(){var e;(e=p(this,Hr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ve(this,sn,Gb).call(this)},o3=function(e){const{isMac:t}=ga.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},SN=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=c=>{i.abort(),Q(this,dd,null),Q(this,Qh,!1),this._uiManager.endDragSession()||ve(this,sn,o3).call(this,c),n&&this._onStopDragging()};t&&(Q(this,Ip,e.clientX),Q(this,Mp,e.clientY),Q(this,dd,e.pointerId),Q(this,Zg,e.pointerType),window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=c;if(h!==p(this,dd)){ai(c);return}const[f,g]=this.screenToPageTranslation(u-p(this,Ip),d-p(this,Mp));Q(this,Ip,u),Q(this,Mp,d),this._uiManager.dragSelectedEditors(f,g)},s),window.addEventListener("touchmove",ai,s),window.addEventListener("pointerdown",c=>{c.pointerType===p(this,Zg)&&(p(this,ef)||c.isPrimary)&&o(c),ai(c)},s));const l=c=>{if(!p(this,dd)||p(this,dd)===c.pointerId){o(c);return}ai(c)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},l3=function(){if(p(this,hd)||!this.div)return;Q(this,hd,new AbortController);const e=this._uiManager.combinedSignal(p(this,hd));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},AN=function(e){Sn._resizerKeyboardManager.exec(this,e)},kN=function(e){var t;p(this,Uc)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==p(this,sa)&&ve(this,sn,jm).call(this)},EN=function(e){Q(this,Jg,p(this,Uc)?e:"")},c3=function(e){if(p(this,el))for(const t of p(this,el))t.tabIndex=e},jm=function(){Q(this,Uc,!1),ve(this,sn,c3).call(this,-1),ve(this,sn,Gb).call(this)},de(Sn,ev),xt(Sn,"_l10n",null),xt(Sn,"_l10nResizer",null),xt(Sn,"_borderLineWidth",-1),xt(Sn,"_colorManager",new J_),xt(Sn,"_zIndex",1),xt(Sn,"_telemetryTimeout",1e3);let Pr=Sn;class xq extends Pr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const h6=3285377520,oo=4294901760,Al=65535;class CN{constructor(e){this.h1=e?e&4294967295:h6,this.h2=e?e&4294967295:h6}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,w=e.length;y<w;y++){const x=e.charCodeAt(y);x<=255?t[n++]=x:(t[n++]=x>>>8,t[n++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,s=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&Al,g=h&Al;for(let y=0;y<i;y++)y&1?(o=s[y],o=o*d&oo|o*f&Al,o=o<<15|o>>>17,o=o*h&oo|o*g&Al,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=s[y],l=l*d&oo|l*f&Al,l=l<<15|l>>>17,l=l*h&oo|l*g&Al,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,a){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*d&oo|o*f&Al,o=o<<15|o>>>17,o=o*h&oo|o*g&Al,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&oo|e*36045&Al,t=t*4283543511&oo|((t<<16|e>>>16)*2950163797&oo)>>>16,e^=t>>>1,e=e*444984403&oo|e*60499&Al,t=t*3301882366&oo|((t<<16|e>>>16)*3120437893&oo)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const u3=Object.freeze({map:null,hash:"",transfer:void 0});var tf,nf,qc,oa,vx,TN;class Q4{constructor(){de(this,vx);de(this,tf,!1);de(this,nf,null);de(this,qc,null);de(this,oa,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=p(this,oa).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return p(this,oa).get(e)}remove(e){const t=p(this,oa).get(e);if(t!==void 0&&(t instanceof Pr&&p(this,qc).delete(t.annotationElementId),p(this,oa).delete(e),p(this,oa).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of p(this,oa).values())if(n instanceof Pr)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=p(this,oa).get(e);let i=!1;if(n!==void 0)for(const[a,s]of Object.entries(t))n[a]!==s&&(i=!0,n[a]=s);else i=!0,p(this,oa).set(e,t);i&&ve(this,vx,TN).call(this),t instanceof Pr&&((p(this,qc)||Q(this,qc,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return p(this,oa).has(e)}get size(){return p(this,oa).size}resetModified(){p(this,tf)&&(Q(this,tf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new NN(this)}get serializable(){if(p(this,oa).size===0)return u3;const e=new Map,t=new CN,n=[],i=Object.create(null);let a=!1;for(const[s,o]of p(this,oa)){const l=o instanceof Pr?o.serialize(!1,i):o;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:u3}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const a of p(this,oa).values()){if(!(a instanceof Pr)){a.popup&&(a.popup.deleted?i+=1:n+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(n+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(s)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const h=d.get(u)??0;d.set(u,h+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[a,s]of t)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){Q(this,nf,null)}updateEditor(e,t){var i;const n=(i=p(this,qc))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=p(this,qc))==null?void 0:t.get(e))||null}get modifiedIds(){if(p(this,nf))return p(this,nf);const e=[];if(p(this,qc))for(const t of p(this,qc).values())t.serialize()&&e.push(t.annotationElementId);return Q(this,nf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return p(this,oa).entries()}}tf=new WeakMap,nf=new WeakMap,qc=new WeakMap,oa=new WeakMap,vx=new WeakSet,TN=function(){p(this,tf)||(Q(this,tf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var tv;class NN extends Q4{constructor(t){super();de(this,tv);const{map:n,hash:i,transfer:a}=t.serializable,s=structuredClone(n,a?{transfer:a}:null);Q(this,tv,{map:s,hash:i,transfer:a})}get print(){Tr("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,tv)}get modifiedIds(){return wn(this,"modifiedIds",{ids:new Set,hash:""})}}tv=new WeakMap;var Pp;class wq{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){de(this,Pp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),p(this,Pp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||p(this,Pp).has(e.loadedName))){if(Hn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,o=new FontFace(i,a,s);this.addNativeFontFace(o);try{await o.load(),p(this,Pp).add(i),n==null||n(e)}catch{xn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Tr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw xn(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return wn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return wn(this,"isSyncFontLoadingSupported",Wa||ga.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Hn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return wn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(R,M){return R.charCodeAt(M)<<24|R.charCodeAt(M+1)<<16|R.charCodeAt(M+2)<<8|R.charCodeAt(M+3)&255}function i(R,M,B,L){const z=R.substring(0,M),H=R.substring(M+B);return z+L+H}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(R,M){if(++c>30){xn("Load test font never loaded."),M();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(u.bind(null,R,M))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const g=16,y=1482184792;let w=n(h,g);for(a=0,s=d.length-3;a<s;a+=4)w=w-y+n(d,a)|0;a<d.length&&(w=w-y+n(d+"XXX",a)|0),h=i(h,g,4,tq(w));const x=`url(data:font/opentype;base64,${btoa(h)});`,T=`@font-face {font-family:"${d}";src:${x}}`;this.insertRule(T);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const R of[e.loadedName,d]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=R,v.append(M)}this._document.body.append(v),u(d,()=>{v.remove(),t.complete()})}}Pp=new WeakMap;var mr;class _q{constructor(e,t=null,n,i){de(this,mr);this.compiledGlyphs=Object.create(null),Q(this,mr,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${WT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(s){xn(`getPathGenerator - ignoring character: "${s}".`)}const a=YT(i);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}get black(){return p(this,mr).black}get bold(){return p(this,mr).bold}get disableFontFace(){return p(this,mr).disableFontFace??!1}set disableFontFace(e){wn(this,"disableFontFace",!!e)}get fontExtraProperties(){return p(this,mr).fontExtraProperties??!1}get isInvalidPDFjsFont(){return p(this,mr).isInvalidPDFjsFont}get isType3Font(){return p(this,mr).isType3Font}get italic(){return p(this,mr).italic}get missingFile(){return p(this,mr).missingFile}get remeasure(){return p(this,mr).remeasure}get vertical(){return p(this,mr).vertical}get ascent(){return p(this,mr).ascent}get defaultWidth(){return p(this,mr).defaultWidth}get descent(){return p(this,mr).descent}get bbox(){return p(this,mr).bbox}set bbox(e){wn(this,"bbox",e)}get fontMatrix(){return p(this,mr).fontMatrix}get fallbackName(){return p(this,mr).fallbackName}get loadedName(){return p(this,mr).loadedName}get mimetype(){return p(this,mr).mimetype}get name(){return p(this,mr).name}get data(){return p(this,mr).data}clearData(){p(this,mr).clearData()}get cssFontInfo(){return p(this,mr).cssFontInfo}get systemFontInfo(){return p(this,mr).systemFontInfo}get defaultVMetrics(){return p(this,mr).defaultVMetrics}}mr=new WeakMap;var Fp,Lp,nv,Dp,Wb;const ep=class ep{constructor(e){de(this,Dp);de(this,Fp);de(this,Lp);de(this,nv);Q(this,Fp,e),Q(this,Lp,new DataView(p(this,Fp))),Q(this,nv,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const c of ep.strings){const u=t.encode(e[c]);n[c]=u,i+=4+u.length}const a=new ArrayBuffer(i),s=new Uint8Array(a),o=new DataView(a);let l=0;for(const c of ep.strings){const u=n[c],d=u.length;o.setUint32(l,d),s.set(u,l+4),l+=4+d}return Hn(l===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return ve(this,Dp,Wb).call(this,0)}get fontWeight(){return ve(this,Dp,Wb).call(this,1)}get italicAngle(){return ve(this,Dp,Wb).call(this,2)}};Fp=new WeakMap,Lp=new WeakMap,nv=new WeakMap,Dp=new WeakSet,Wb=function(e){Hn(e<ep.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=p(this,Lp).getUint32(t)+4;const n=p(this,Lp).getUint32(t);return p(this,nv).decode(new Uint8Array(p(this,Fp),t+4,n))},xt(ep,"strings",["fontFamily","fontWeight","italicAngle"]);let Uy=ep;var fd,Ol,rf,af,Um;const tp=class tp{constructor(e){de(this,af);de(this,fd);de(this,Ol);de(this,rf);Q(this,fd,e),Q(this,Ol,new DataView(p(this,fd))),Q(this,rf,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const h of tp.strings){const f=t.encode(e[h]);n[h]=f,i+=4+f.length}i+=4;let a,s,o=1+i;e.style&&(a=t.encode(e.style.style),s=t.encode(e.style.weight),o+=4+a.length+4+s.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const h of tp.strings){const f=n[h],g=f.length;i+=4+g,u.setUint32(d,g),c.set(f,d+4),d+=4+g}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length,u.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length),Hn(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}get guessFallback(){return p(this,Ol).getUint8(0)!==0}get css(){return ve(this,af,Um).call(this,0)}get loadedName(){return ve(this,af,Um).call(this,1)}get baseFontName(){return ve(this,af,Um).call(this,2)}get src(){return ve(this,af,Um).call(this,3)}get style(){let e=1;e+=4+p(this,Ol).getUint32(e);const t=p(this,Ol).getUint32(e),n=p(this,rf).decode(new Uint8Array(p(this,fd),e+4,t));e+=4+t;const i=p(this,Ol).getUint32(e),a=p(this,rf).decode(new Uint8Array(p(this,fd),e+4,i));return{style:n,weight:a}}};fd=new WeakMap,Ol=new WeakMap,rf=new WeakMap,af=new WeakSet,Um=function(e){Hn(e<tp.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=p(this,Ol).getUint32(t)+4;const n=p(this,Ol).getUint32(t);return p(this,rf).decode(new Uint8Array(p(this,fd),t+4,n))},xt(tp,"strings",["css","loadedName","baseFontName","src"]);let qy=tp;var Bp,Op,jp,Up,Ns,jl,rv,gr,ii,Ko,Xb,qm;const Nn=class Nn{constructor({data:e,extra:t}){de(this,ii);de(this,jl);de(this,rv);de(this,gr);Q(this,jl,e),Q(this,rv,new TextDecoder),Q(this,gr,new DataView(p(this,jl))),t&&Object.assign(this,t)}get black(){return ve(this,ii,Ko).call(this,0)}get bold(){return ve(this,ii,Ko).call(this,1)}get disableFontFace(){return ve(this,ii,Ko).call(this,2)}get fontExtraProperties(){return ve(this,ii,Ko).call(this,3)}get isInvalidPDFjsFont(){return ve(this,ii,Ko).call(this,4)}get isType3Font(){return ve(this,ii,Ko).call(this,5)}get italic(){return ve(this,ii,Ko).call(this,6)}get missingFile(){return ve(this,ii,Ko).call(this,7)}get remeasure(){return ve(this,ii,Ko).call(this,8)}get vertical(){return ve(this,ii,Ko).call(this,9)}get ascent(){return ve(this,ii,Xb).call(this,0)}get defaultWidth(){return ve(this,ii,Xb).call(this,1)}get descent(){return ve(this,ii,Xb).call(this,2)}get bbox(){let e=p(Nn,Op);if(p(this,gr).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(p(this,gr).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=p(Nn,jp);if(p(this,gr).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(p(this,gr).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=p(Nn,Up);if(p(this,gr).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(p(this,gr).getInt16(e,!0)),e+=2;return n}get fallbackName(){return ve(this,ii,qm).call(this,0)}get loadedName(){return ve(this,ii,qm).call(this,1)}get mimetype(){return ve(this,ii,qm).call(this,2)}get name(){return ve(this,ii,qm).call(this,3)}get data(){let e=p(Nn,Ns);const t=p(this,gr).getUint32(e);e+=4+t;const n=p(this,gr).getUint32(e);e+=4+n;const i=p(this,gr).getUint32(e);e+=4+i;const a=p(this,gr).getUint32(e);if(a!==0)return new Uint8Array(p(this,jl),e+4,a)}clearData(){let e=p(Nn,Ns);const t=p(this,gr).getUint32(e);e+=4+t;const n=p(this,gr).getUint32(e);e+=4+n;const i=p(this,gr).getUint32(e);e+=4+i;const a=p(this,gr).getUint32(e);new Uint8Array(p(this,jl),e+4,a).fill(0),p(this,gr).setUint32(e,0)}get cssFontInfo(){let e=p(Nn,Ns);const t=p(this,gr).getUint32(e);e+=4+t;const n=p(this,gr).getUint32(e);e+=4+n;const i=p(this,gr).getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(p(this,jl),e+4,i)),new Uy(a.buffer)}get systemFontInfo(){let e=p(Nn,Ns);const t=p(this,gr).getUint32(e);e+=4+t;const n=p(this,gr).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(p(this,jl),e+4,n)),new qy(i.buffer)}static write(e){const t=e.systemFontInfo?qy.write(e.systemFontInfo):null,n=e.cssFontInfo?Uy.write(e.cssFontInfo):null,i=new TextEncoder,a={};let s=0;for(const y of Nn.strings)a[y]=i.encode(e[y]),s+=4+a[y].length;const o=p(Nn,Ns)+4+s+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;const h=Nn.bools.length;let f=0,g=0;for(let y=0;y<h;y++){const w=e[Nn.bools[y]];f|=(w===void 0?0:w?2:1)<<g,g+=2,(g===8||y===h-1)&&(u.setUint8(d++,f),f=0,g=0)}Hn(d===p(Nn,Bp),"FontInfo.write: Boolean properties offset mismatch");for(const y of Nn.numbers)u.setFloat64(d,e[y]),d+=8;if(Hn(d===p(Nn,Op),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const y of e.bbox)u.setInt16(d,y,!0),d+=2}else u.setUint8(d++,0),d+=8;if(Hn(d===p(Nn,jp),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const y of e.fontMatrix)u.setFloat64(d,y,!0),d+=8}else u.setUint8(d++,0),d+=48;if(Hn(d===p(Nn,Up),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const y of e.defaultVMetrics)u.setInt16(d,y,!0),d+=2}else u.setUint8(d++,0),d+=6;Hn(d===p(Nn,Ns),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(p(Nn,Ns),0),d+=4;for(const y of Nn.strings){const w=a[y],x=w.length;u.setUint32(d,x),c.set(w,d+4),d+=4+x}if(u.setUint32(p(Nn,Ns),d-p(Nn,Ns)-4),!t)u.setUint32(d,0),d+=4;else{const y=t.byteLength;u.setUint32(d,y),Hn(d+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),d+4),d+=4+y}if(!n)u.setUint32(d,0),d+=4;else{const y=n.byteLength;u.setUint32(d,y),Hn(d+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+y}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),Hn(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}};Bp=new WeakMap,Op=new WeakMap,jp=new WeakMap,Up=new WeakMap,Ns=new WeakMap,jl=new WeakMap,rv=new WeakMap,gr=new WeakMap,ii=new WeakSet,Ko=function(e){Hn(e<Nn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=p(this,gr).getUint8(t)>>n&3;return i===0?void 0:i===2},Xb=function(e){return Hn(e<Nn.numbers.length,"Invalid number index"),p(this,gr).getFloat64(p(Nn,Bp)+e*8)},qm=function(e){Hn(e<Nn.strings.length,"Invalid string index");let t=p(Nn,Ns)+4;for(let a=0;a<e;a++)t+=p(this,gr).getUint32(t)+4;const n=p(this,gr).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(p(this,jl),t+4,n)),p(this,rv).decode(i)},xt(Nn,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),xt(Nn,"numbers",["ascent","defaultWidth","descent"]),xt(Nn,"strings",["fallbackName","loadedName","mimetype","name"]),de(Nn,Bp,Math.ceil(Nn.bools.length*2/8)),de(Nn,Op,p(Nn,Bp)+Nn.numbers.length*8),de(Nn,jp,p(Nn,Op)+1+8),de(Nn,Up,p(Nn,jp)+1+48),de(Nn,Ns,p(Nn,Up)+1+6);let d3=Nn;var iv,av,sv,ov,lv,cv,uv,dv;const Ir=class Ir{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,i=[],a=[],s=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],s=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],a=e[3],o=e[4]||[],n=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(a.length/3),h=s.length,f=o.length;let g=0;for(const M of o)g+=1,g=Math.ceil(g/4)*4,g+=4+M.coords.length*4,g+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(g+=4);const y=20+u*8+d*3+h*8+(n?16:0)+(c?3:0)+g,w=new ArrayBuffer(y),x=new DataView(w),T=new Uint8Array(w);x.setUint8(p(Ir,iv),t),x.setUint8(p(Ir,av),n?1:0),x.setUint8(p(Ir,sv),c?1:0),x.setUint8(p(Ir,ov),l),x.setUint32(p(Ir,lv),u,!0),x.setUint32(p(Ir,cv),d,!0),x.setUint32(p(Ir,uv),h,!0),x.setUint32(p(Ir,dv),f,!0);let v=20;new Float32Array(w,v,u*2).set(i),v+=u*8,T.set(a,v),v+=d*3;for(const[M,B]of s)x.setFloat32(v,M,!0),v+=4,x.setUint32(v,parseInt(B.slice(1),16),!0),v+=4;if(n)for(const M of n)x.setFloat32(v,M,!0),v+=4;c&&(T.set(c,v),v+=3);for(let M=0;M<o.length;M++){const B=o[M];x.setUint8(v,B.type),v+=1,v=Math.ceil(v/4)*4,x.setUint32(v,B.coords.length,!0),v+=4,new Int32Array(w,v,B.coords.length).set(B.coords),v+=B.coords.length*4,x.setUint32(v,B.colors.length,!0),v+=4,new Int32Array(w,v,B.colors.length).set(B.colors),v+=B.colors.length*4,B.verticesPerRow!==void 0&&(x.setUint32(v,B.verticesPerRow,!0),v+=4)}return w}getIR(){const e=this.view,t=this.data[p(Ir,iv)],n=!!this.data[p(Ir,av)],i=!!this.data[p(Ir,sv)],a=e.getUint32(p(Ir,lv),!0),s=e.getUint32(p(Ir,cv),!0),o=e.getUint32(p(Ir,uv),!0),l=e.getUint32(p(Ir,dv),!0);let c=20;const u=new Float32Array(this.buffer,c,a*2);c+=a*8;const d=new Uint8Array(this.buffer,c,s*3);c+=s*3;const h=[];for(let w=0;w<o;++w){const x=e.getFloat32(c,!0);c+=4;const T=e.getUint32(c,!0);c+=4,h.push([x,`#${T.toString(16).padStart(6,"0")}`])}let f=null;if(n){f=[];for(let w=0;w<4;++w)f.push(e.getFloat32(c,!0)),c+=4}let g=null;i&&(g=new Uint8Array(this.buffer,c,3),c+=3);const y=[];for(let w=0;w<l;++w){const x=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const T=e.getUint32(c,!0);c+=4;const v=new Int32Array(this.buffer,c,T);c+=T*4;const R=e.getUint32(c,!0);c+=4;const M=new Int32Array(this.buffer,c,R);c+=R*4;const B={type:x,coords:v,colors:M};x===z_.LATTICE&&(B.verticesPerRow=e.getUint32(c,!0),c+=4),y.push(B)}if(t===1)return["RadialAxial","axial",f,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",f,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(t===3){const w=this.data[p(Ir,ov)];let x=null;if(u.length>0){let T=u[0],v=u[0],R=u[1],M=u[1];for(let B=0;B<u.length;B+=2){const L=u[B],z=u[B+1];T=T>L?L:T,R=R>z?z:R,v=v<L?L:v,M=M<z?z:M}x=[T,R,v,M]}return["Mesh",w,u,d,y,x,f,g]}throw new Error(`Unsupported pattern kind: ${t}`)}};iv=new WeakMap,av=new WeakMap,sv=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,dv=new WeakMap,de(Ir,iv,0),de(Ir,av,1),de(Ir,sv,2),de(Ir,ov,3),de(Ir,lv,4),de(Ir,cv,8),de(Ir,uv,12),de(Ir,dv,16);let h3=Ir;function Sq(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Wa)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Aq(r){if(Wa&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return y2(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function sb(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const f3=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,kq=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",Eq=sq.bind(null,f3,kq);var Hc,bx;class Cq{constructor(){de(this,Hc,new Map);de(this,bx,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};p(this,bx).then(()=>{for(const[i]of p(this,Hc))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){xn("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}p(this,Hc).set(t,i)}removeEventListener(e,t){const n=p(this,Hc).get(t);n==null||n(),p(this,Hc).delete(t)}terminate(){for(const[,e]of p(this,Hc))e==null||e();p(this,Hc).clear()}}Hc=new WeakMap,bx=new WeakMap;const ob={DATA:1,ERROR:2},bi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f6(){}function ts(r){if(r instanceof Xd||r instanceof V_||r instanceof a6||r instanceof Dy||r instanceof B5)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Tr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Xd(r.message);case"InvalidPDFException":return new V_(r.message);case"PasswordException":return new a6(r.message,r.code);case"ResponseException":return new Dy(r.message,r.status,r.missing);case"UnknownErrorException":return new B5(r.message,r.details)}return new B5(r.message,r.toString())}var qp,Mo,RN,IN,MN,Kb;class Hm{constructor(e,t,n){de(this,Mo);de(this,qp,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ve(this,Mo,RN).bind(this),{signal:p(this,qp).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[a].pullCall=u,l.postMessage({sourceName:s,targetName:o,stream:bi.PULL,streamId:a,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Hn(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[a].cancelCall=u,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:bi.CANCEL,streamId:a,reason:ts(c)}),u.promise}},n)}destroy(){var e;(e=p(this,qp))==null||e.abort(),Q(this,qp,null)}}qp=new WeakMap,Mo=new WeakSet,RN=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ve(this,Mo,MN).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===ob.DATA)i.resolve(e.data);else if(e.callback===ob.ERROR)i.reject(ts(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(s){a.postMessage({sourceName:n,targetName:i,callback:ob.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:n,targetName:i,callback:ob.ERROR,callbackId:e.callbackId,reason:ts(s)})});return}if(e.streamId){ve(this,Mo,IN).call(this,e);return}t(e.data)},IN=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:bi.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:bi.CLOSE,streamId:t}),delete s.streamSinks[t])},error(c){Hn(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:bi.ERROR,streamId:t,reason:ts(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bi.START_COMPLETE,streamId:t,success:!0})},function(c){a.postMessage({sourceName:n,targetName:i,stream:bi.START_COMPLETE,streamId:t,reason:ts(c)})})},MN=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case bi.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ts(e.reason));break;case bi.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ts(e.reason));break;case bi.PULL:if(!o){a.postMessage({sourceName:n,targetName:i,stream:bi.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||f6).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bi.PULL_COMPLETE,streamId:t,success:!0})},function(c){a.postMessage({sourceName:n,targetName:i,stream:bi.PULL_COMPLETE,streamId:t,reason:ts(c)})});break;case bi.ENQUEUE:if(Hn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case bi.CLOSE:if(Hn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),ve(this,Mo,Kb).call(this,s,t);break;case bi.ERROR:Hn(s,"error should have stream controller"),s.controller.error(ts(e.reason)),ve(this,Mo,Kb).call(this,s,t);break;case bi.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ts(e.reason)),ve(this,Mo,Kb).call(this,s,t);break;case bi.CANCEL:if(!o)break;const l=ts(e.reason);Promise.try(o.onCancel||f6,l).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bi.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){a.postMessage({sourceName:n,targetName:i,stream:bi.CANCEL_COMPLETE,streamId:t,reason:ts(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Kb=async function(e,t){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var hv;class PN{constructor({enableHWA:e=!1}){de(this,hv,!1);Q(this,hv,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!p(this,hv)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Tr("Abstract method `_createCanvas` called.")}}hv=new WeakMap;class Tq extends PN{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class FN{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Tr("Abstract method `_fetch` called.")}}class p6 extends FN{async _fetch(e){const t=await x2(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):y2(t)}}class LN{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,a){return"none"}destroy(e=!1){}}var sf,Hp,zc,Vc,Na,of,lf,qt,ka,zm,j0,Yb,U0,DN,p3,q0,Vm,Gm,m3,Wm;class Nq extends LN{constructor({docId:t,ownerDocument:n=globalThis.document}){super();de(this,qt);de(this,sf);de(this,Hp);de(this,zc);de(this,Vc);de(this,Na);de(this,of);de(this,lf,0);Q(this,Vc,t),Q(this,Na,n)}addFilter(t){if(!t)return"none";let n=p(this,qt,ka).get(t);if(n)return n;const[i,a,s]=ve(this,qt,Yb).call(this,t),o=t.length===1?i:`${i}${a}${s}`;if(n=p(this,qt,ka).get(o),n)return p(this,qt,ka).set(t,n),n;const l=`g_${p(this,Vc)}_transfer_map_${Ri(this,lf)._++}`,c=ve(this,qt,U0).call(this,l);p(this,qt,ka).set(t,c),p(this,qt,ka).set(o,c);const u=ve(this,qt,q0).call(this,l);return ve(this,qt,Gm).call(this,i,a,s,u),c}addHCMFilter(t,n){var g;const i=`${t}-${n}`,a="base";let s=p(this,qt,zm).get(a);if((s==null?void 0:s.key)===i||(s?((g=s.filter)==null||g.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},p(this,qt,zm).set(a,s)),!t||!n))return s.url;const o=ve(this,qt,Wm).call(this,t);t=Vt.makeHexColor(...o);const l=ve(this,qt,Wm).call(this,n);if(n=Vt.makeHexColor(...l),p(this,qt,j0).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return s.url;const c=new Array(256);for(let y=0;y<=255;y++){const w=y/255;c[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const u=c.join(","),d=`g_${p(this,Vc)}_hcm_filter`,h=s.filter=ve(this,qt,q0).call(this,d);ve(this,qt,Gm).call(this,u,u,u,h),ve(this,qt,p3).call(this,h);const f=(y,w)=>{const x=o[y]/255,T=l[y]/255,v=new Array(w+1);for(let R=0;R<=w;R++)v[R]=x+R/w*(T-x);return v.join(",")};return ve(this,qt,Gm).call(this,f(0,5),f(1,5),f(2,5),h),s.url=ve(this,qt,U0).call(this,d),s.url}addAlphaFilter(t){let n=p(this,qt,ka).get(t);if(n)return n;const[i]=ve(this,qt,Yb).call(this,[t]),a=`alpha_${i}`;if(n=p(this,qt,ka).get(a),n)return p(this,qt,ka).set(t,n),n;const s=`g_${p(this,Vc)}_alpha_map_${Ri(this,lf)._++}`,o=ve(this,qt,U0).call(this,s);p(this,qt,ka).set(t,o),p(this,qt,ka).set(a,o);const l=ve(this,qt,q0).call(this,s);return ve(this,qt,m3).call(this,i,l),o}addLuminosityFilter(t){let n=p(this,qt,ka).get(t||"luminosity");if(n)return n;let i,a;if(t?([i]=ve(this,qt,Yb).call(this,[t]),a=`luminosity_${i}`):a="luminosity",n=p(this,qt,ka).get(a),n)return p(this,qt,ka).set(t,n),n;const s=`g_${p(this,Vc)}_luminosity_map_${Ri(this,lf)._++}`,o=ve(this,qt,U0).call(this,s);p(this,qt,ka).set(t,o),p(this,qt,ka).set(a,o);const l=ve(this,qt,q0).call(this,s);return ve(this,qt,DN).call(this,l),t&&ve(this,qt,m3).call(this,i,l),o}addHighlightHCMFilter(t,n,i,a,s){var T;const o=`${n}-${i}-${a}-${s}`;let l=p(this,qt,zm).get(t);if((l==null?void 0:l.key)===o||(l?((T=l.filter)==null||T.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},p(this,qt,zm).set(t,l)),!n||!i))return l.url;const[c,u]=[n,i].map(ve(this,qt,Wm).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,g]=[a,s].map(ve(this,qt,Wm).bind(this));h<d&&([d,h,f,g]=[h,d,g,f]),p(this,qt,j0).style.color="";const y=(v,R,M)=>{const B=new Array(256),L=(h-d)/M,z=v/255,H=(R-v)/(255*M);let $=0;for(let U=0;U<=M;U++){const D=Math.round(d+U*L),ee=z+U*H;for(let J=$;J<=D;J++)B[J]=ee;$=D+1}for(let U=$;U<256;U++)B[U]=B[$-1];return B.join(",")},w=`g_${p(this,Vc)}_hcm_${t}_filter`,x=l.filter=ve(this,qt,q0).call(this,w);return ve(this,qt,p3).call(this,x),ve(this,qt,Gm).call(this,y(f[0],g[0],5),y(f[1],g[1],5),y(f[2],g[2],5),x),l.url=ve(this,qt,U0).call(this,w),l.url}destroy(t=!1){var n,i,a,s;t&&((n=p(this,of))!=null&&n.size)||((i=p(this,zc))==null||i.parentNode.parentNode.remove(),Q(this,zc,null),(a=p(this,Hp))==null||a.clear(),Q(this,Hp,null),(s=p(this,of))==null||s.clear(),Q(this,of,null),Q(this,lf,0))}}sf=new WeakMap,Hp=new WeakMap,zc=new WeakMap,Vc=new WeakMap,Na=new WeakMap,of=new WeakMap,lf=new WeakMap,qt=new WeakSet,ka=function(){return p(this,Hp)||Q(this,Hp,new Map)},zm=function(){return p(this,of)||Q(this,of,new Map)},j0=function(){if(!p(this,zc)){const t=p(this,Na).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=p(this,Na).createElementNS(Ac,"svg");i.setAttribute("width",0),i.setAttribute("height",0),Q(this,zc,p(this,Na).createElementNS(Ac,"defs")),t.append(i),i.append(p(this,zc)),p(this,Na).body.append(t)}return p(this,zc)},Yb=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const d=u.join(",");return[d,d,d]}const[n,i,a]=t,s=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=n[c]/255,o[c]=i[c]/255,l[c]=a[c]/255;return[s.join(","),o.join(","),l.join(",")]},U0=function(t){if(p(this,sf)===void 0){Q(this,sf,"");const n=p(this,Na).URL;n!==p(this,Na).baseURI&&(qx(n)?xn('#createUrl: ignore "data:"-URL for performance reasons.'):Q(this,sf,zT(n,"")))}return`url(${p(this,sf)}#${t})`},DN=function(t){const n=p(this,Na).createElementNS(Ac,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},p3=function(t){const n=p(this,Na).createElementNS(Ac,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},q0=function(t){const n=p(this,Na).createElementNS(Ac,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),p(this,qt,j0).append(n),n},Vm=function(t,n,i){const a=p(this,Na).createElementNS(Ac,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)},Gm=function(t,n,i,a){const s=p(this,Na).createElementNS(Ac,"feComponentTransfer");a.append(s),ve(this,qt,Vm).call(this,s,"feFuncR",t),ve(this,qt,Vm).call(this,s,"feFuncG",n),ve(this,qt,Vm).call(this,s,"feFuncB",i)},m3=function(t,n){const i=p(this,Na).createElementNS(Ac,"feComponentTransfer");n.append(i),ve(this,qt,Vm).call(this,i,"feFuncA",t)},Wm=function(t){return p(this,qt,j0).style.color=t,_2(getComputedStyle(p(this,qt,j0)).getPropertyValue("color"))};class BN{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Tr("Abstract method `_fetch` called.")}}class m6 extends BN{async _fetch(e){const t=await x2(e,"arraybuffer");return new Uint8Array(t)}}class ON{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Tr("Abstract method `_fetch` called.")}}class g6 extends ON{async _fetch(e){const t=await x2(e,"arraybuffer");return new Uint8Array(t)}}Wa&&xn("Please use the `legacy` build in Node.js environments.");async function $4(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class Rq extends LN{}class Iq extends PN{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Mq extends FN{async _fetch(e){return $4(e)}}class Pq extends BN{async _fetch(e){return $4(e)}}class Fq extends ON{async _fetch(e){return $4(e)}}const S0="__forcedDependency",{floor:v6,ceil:b6}=Math;function lb(r,e,t,n,i,a){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],i),r[e*4+3]=Math.max(r[e*4+3],a)}const g3=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var zp,pd;class Lq{constructor(e,t){de(this,zp);de(this,pd);Q(this,zp,e),Q(this,pd,t)}get length(){return p(this,zp).length}isEmpty(e){return p(this,zp)[e]===g3}minX(e){return p(this,pd)[e*4+0]/256}minY(e){return p(this,pd)[e*4+1]/256}maxX(e){return(p(this,pd)[e*4+2]+1)/256}maxY(e){return(p(this,pd)[e*4+3]+1)/256}}zp=new WeakMap,pd=new WeakMap;const cb=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};var is,as,cf,tl,uf,Gc,hr,vr,Wc,ss,fv,Vp,df,hf,Xc,Ra,Ul,pv,v3;class Dq{constructor(e,t,n=!1){de(this,pv);de(this,is,{__proto__:null});de(this,as,{__proto__:null,transform:[],moveText:[],sameLineText:[],[S0]:[]});de(this,cf,new Map);de(this,tl,[]);de(this,uf,[]);de(this,Gc,[[1,0,0,1,0,0]]);de(this,hr,[-1/0,-1/0,1/0,1/0]);de(this,vr,new Float64Array([1/0,1/0,-1/0,-1/0]));de(this,Wc,-1);de(this,ss,new Set);de(this,fv,new Map);de(this,Vp,new Map);de(this,df);de(this,hf);de(this,Xc);de(this,Ra);de(this,Ul);Q(this,df,e.width),Q(this,hf,e.height),ve(this,pv,v3).call(this,t),n&&Q(this,Ul,new Map)}growOperationsCount(e){e>=p(this,Ra).length&&ve(this,pv,v3).call(this,e,p(this,Ra))}save(e){return Q(this,is,{__proto__:p(this,is)}),Q(this,as,{__proto__:p(this,as),transform:{__proto__:p(this,as).transform},moveText:{__proto__:p(this,as).moveText},sameLineText:{__proto__:p(this,as).sameLineText},[S0]:{__proto__:p(this,as)[S0]}}),Q(this,hr,{__proto__:p(this,hr)}),p(this,tl).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(p(this,is));if(t===null)return this;Q(this,is,t),Q(this,as,Object.getPrototypeOf(p(this,as))),Q(this,hr,Object.getPrototypeOf(p(this,hr)));const n=p(this,tl).pop();return n!==void 0&&((i=cb(p(this,Ul),e))==null||i.dependencies.add(n),p(this,Ra)[e]=p(this,Ra)[n]),this}recordOpenMarker(e){return p(this,tl).push(e),this}getOpenMarker(){return p(this,tl).length===0?null:p(this,tl).at(-1)}recordCloseMarker(e){var n;const t=p(this,tl).pop();return t!==void 0&&((n=cb(p(this,Ul),e))==null||n.dependencies.add(t),p(this,Ra)[e]=p(this,Ra)[t]),this}beginMarkedContent(e){return p(this,uf).push(e),this}endMarkedContent(e){var n;const t=p(this,uf).pop();return t!==void 0&&((n=cb(p(this,Ul),e))==null||n.dependencies.add(t),p(this,Ra)[e]=p(this,Ra)[t]),this}pushBaseTransform(e){return p(this,Gc).push(Vt.multiplyByDOMMatrix(p(this,Gc).at(-1),e.getTransform())),this}popBaseTransform(){return p(this,Gc).length>1&&p(this,Gc).pop(),this}recordSimpleData(e,t){return p(this,is)[e]=t,this}recordIncrementalData(e,t){return p(this,as)[e].push(t),this}resetIncrementalData(e,t){return p(this,as)[e].length=0,this}recordNamedData(e,t){return p(this,cf).set(e,t),this}recordSimpleDataFromNamed(e,t,n){p(this,is)[e]=p(this,cf).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(S0,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in p(this,is)&&this.recordFutureForcedDependency(t,p(this,is)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of p(this,ss))this.recordFutureForcedDependency(S0,e);return this}resetBBox(e){return p(this,Wc)!==e&&(Q(this,Wc,e),p(this,vr)[0]=1/0,p(this,vr)[1]=1/0,p(this,vr)[2]=-1/0,p(this,vr)[3]=-1/0),this}recordClipBox(e,t,n,i,a,s){const o=Vt.multiplyByDOMMatrix(p(this,Gc).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Vt.axialAlignedBoundingBox([n,a,i,s],o,l);const c=Vt.intersect(p(this,hr),l);return c?(p(this,hr)[0]=c[0],p(this,hr)[1]=c[1],p(this,hr)[2]=c[2],p(this,hr)[3]=c[3]):(p(this,hr)[0]=p(this,hr)[1]=1/0,p(this,hr)[2]=p(this,hr)[3]=-1/0),this}recordBBox(e,t,n,i,a,s){const o=p(this,hr);if(o[0]===1/0)return this;const l=Vt.multiplyByDOMMatrix(p(this,Gc).at(-1),t.getTransform());if(o[0]===-1/0)return Vt.axialAlignedBoundingBox([n,a,i,s],l,p(this,vr)),this;const c=[1/0,1/0,-1/0,-1/0];return Vt.axialAlignedBoundingBox([n,a,i,s],l,c),p(this,vr)[0]=Math.min(p(this,vr)[0],Math.max(c[0],o[0])),p(this,vr)[1]=Math.min(p(this,vr)[1],Math.max(c[1],o[1])),p(this,vr)[2]=Math.max(p(this,vr)[2],Math.min(c[2],o[2])),p(this,vr)[3]=Math.max(p(this,vr)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,a=0,s=0,o){const l=n.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&p(this,Vp).get(n),c!==!1&&(u=[0,0,0,0],Vt.axialAlignedBoundingBox(l,n.fontMatrix,u),(i!==1||a!==0||s!==0)&&Vt.scaleMinMax([i,0,0,-i,a,s],u),c)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&u&&c===void 0&&(c=u[0]<=a-d.actualBoundingBoxLeft&&u[2]>=a+d.actualBoundingBoxRight&&u[1]<=s-d.actualBoundingBoxAscent&&u[3]>=s+d.actualBoundingBoxDescent,p(this,Vp).set(n,c),c)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,a-d.actualBoundingBoxLeft,a+d.actualBoundingBoxRight,s-d.actualBoundingBoxAscent,s+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return p(this,vr)[0]=Math.max(0,p(this,hr)[0]),p(this,vr)[1]=Math.max(0,p(this,hr)[1]),p(this,vr)[2]=Math.min(p(this,df),p(this,hr)[2]),p(this,vr)[3]=Math.min(p(this,hf),p(this,hr)[3]),this}getSimpleIndex(e){return p(this,is)[e]}recordDependencies(e,t){const n=p(this,ss),i=p(this,is),a=p(this,as);for(const s of t)s in p(this,is)?n.add(i[s]):s in a&&a[s].forEach(n.add,n);return this}recordNamedDependency(e,t){return p(this,cf).has(t)&&p(this,ss).add(p(this,cf).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[S0]),p(this,Ul)){const n=cb(p(this,Ul),e),{dependencies:i}=n;p(this,ss).forEach(i.add,i),p(this,tl).forEach(i.add,i),p(this,uf).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(p(this,Wc)===e){const n=v6(p(this,vr)[0]*256/p(this,df)),i=v6(p(this,vr)[1]*256/p(this,hf)),a=b6(p(this,vr)[2]*256/p(this,df)),s=b6(p(this,vr)[3]*256/p(this,hf));lb(p(this,Xc),e,n,i,a,s);for(const o of p(this,ss))o!==e&&lb(p(this,Xc),o,n,i,a,s);for(const o of p(this,tl))o!==e&&lb(p(this,Xc),o,n,i,a,s);for(const o of p(this,uf))o!==e&&lb(p(this,Xc),o,n,i,a,s);t||(p(this,ss).clear(),Q(this,Wc,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(p(this,ss));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return p(this,Wc)===e&&(Q(this,Wc,-1),p(this,hr)[0]=Math.max(p(this,hr)[0],p(this,vr)[0]),p(this,hr)[1]=Math.max(p(this,hr)[1],p(this,vr)[1]),p(this,hr)[2]=Math.min(p(this,hr)[2],p(this,vr)[2]),p(this,hr)[3]=Math.min(p(this,hr)[3],p(this,vr)[3]),t||p(this,ss).clear()),this}_takePendingDependencies(){const e=p(this,ss);return Q(this,ss,new Set),e}_extractOperation(e){const t=p(this,fv).get(e);return p(this,fv).delete(e),t}_pushPendingDependencies(e){for(const t of e)p(this,ss).add(t)}take(){return p(this,Vp).clear(),new Lq(p(this,Ra),p(this,Xc))}takeDebugMetadata(){return p(this,Ul)}}is=new WeakMap,as=new WeakMap,cf=new WeakMap,tl=new WeakMap,uf=new WeakMap,Gc=new WeakMap,hr=new WeakMap,vr=new WeakMap,Wc=new WeakMap,ss=new WeakMap,fv=new WeakMap,Vp=new WeakMap,df=new WeakMap,hf=new WeakMap,Xc=new WeakMap,Ra=new WeakMap,Ul=new WeakMap,pv=new WeakSet,v3=function(e,t){const n=new ArrayBuffer(e*4);Q(this,Xc,new Uint8ClampedArray(n)),Q(this,Ra,new Uint32Array(n)),t&&t.length>0?(p(this,Ra).set(t),p(this,Ra).fill(g3,t.length)):p(this,Ra).fill(g3)};var kr,ei,nl,Gp,Wp;const jS=class jS{constructor(e,t,n){de(this,kr);de(this,ei);de(this,nl);de(this,Gp,0);de(this,Wp,0);if(e instanceof jS&&p(e,nl)===!!n)return e;Q(this,kr,e),Q(this,ei,t),Q(this,nl,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Ri(this,Wp)._++,p(this,kr).save(p(this,ei)),this}restore(e){return p(this,Wp)>0&&(p(this,kr).restore(p(this,ei)),Ri(this,Wp)._--),this}recordOpenMarker(e){return Ri(this,Gp)._++,this}getOpenMarker(){return p(this,Gp)>0?p(this,ei):p(this,kr).getOpenMarker()}recordCloseMarker(e){return Ri(this,Gp)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return p(this,kr).pushBaseTransform(e),this}popBaseTransform(){return p(this,kr).popBaseTransform(),this}recordSimpleData(e,t){return p(this,kr).recordSimpleData(e,p(this,ei)),this}recordIncrementalData(e,t){return p(this,kr).recordIncrementalData(e,p(this,ei)),this}resetIncrementalData(e,t){return p(this,kr).resetIncrementalData(e,p(this,ei)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return p(this,kr).recordSimpleDataFromNamed(e,t,p(this,ei)),this}recordFutureForcedDependency(e,t){return p(this,kr).recordFutureForcedDependency(e,p(this,ei)),this}inheritSimpleDataAsFutureForcedDependencies(e){return p(this,kr).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return p(this,kr).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return p(this,nl)||p(this,kr).resetBBox(p(this,ei)),this}recordClipBox(e,t,n,i,a,s){return p(this,nl)||p(this,kr).recordClipBox(p(this,ei),t,n,i,a,s),this}recordBBox(e,t,n,i,a,s){return p(this,nl)||p(this,kr).recordBBox(p(this,ei),t,n,i,a,s),this}recordCharacterBBox(e,t,n,i,a,s,o){return p(this,nl)||p(this,kr).recordCharacterBBox(p(this,ei),t,n,i,a,s,o),this}recordFullPageBBox(e){return p(this,nl)||p(this,kr).recordFullPageBBox(p(this,ei)),this}getSimpleIndex(e){return p(this,kr).getSimpleIndex(e)}recordDependencies(e,t){return p(this,kr).recordDependencies(p(this,ei),t),this}recordNamedDependency(e,t){return p(this,kr).recordNamedDependency(p(this,ei),t),this}recordOperation(e){return p(this,kr).recordOperation(p(this,ei),!0),this}recordShowTextOperation(e){return p(this,kr).recordShowTextOperation(p(this,ei),!0),this}bboxToClipBoxDropOperation(e){return p(this,nl)||p(this,kr).bboxToClipBoxDropOperation(p(this,ei),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};kr=new WeakMap,ei=new WeakMap,nl=new WeakMap,Gp=new WeakMap,Wp=new WeakMap;let Hy=jS;const lo={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},da={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function b3(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class eS{isModifyingCurrentTransform(){return!1}getPattern(){Tr("Abstract method `getPattern` called.")}}class Bq extends eS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let a;if(i===da.STROKE||i===da.FILL){const s=t.current.getClippedPathBoundingBox(i,Kr(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),n=Vt.transform(n,[1,0,0,1,s[0],s[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),b3(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),a=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);a.setTransform(d)}else b3(e,this._bbox),a=this._createGradient(e);return a}}function U5(r,e,t,n,i,a,s,o){const l=e.coords,c=e.colors,u=r.data,d=r.width*4;let h;l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=a,a=s,s=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=s,s=o,o=h),l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=a,a=s,s=h);const f=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,w=(l[n+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,T=(l[i+1]+e.offsetY)*e.scaleY;if(g>=T)return;const v=c[a],R=c[a+1],M=c[a+2],B=c[s],L=c[s+1],z=c[s+2],H=c[o],$=c[o+1],U=c[o+2],D=Math.round(g),ee=Math.round(T);let J,re,q,W,le,ue,oe,F;for(let C=D;C<=ee;C++){if(C<w){const ie=C<g?0:(g-C)/(g-w);J=f-(f-y)*ie,re=v-(v-B)*ie,q=R-(R-L)*ie,W=M-(M-z)*ie}else{let ie;C>T?ie=1:w===T?ie=0:ie=(w-C)/(w-T),J=y-(y-x)*ie,re=B-(B-H)*ie,q=L-(L-$)*ie,W=z-(z-U)*ie}let I;C<g?I=0:C>T?I=1:I=(g-C)/(g-T),le=f-(f-x)*I,ue=v-(v-H)*I,oe=R-(R-$)*I,F=M-(M-U)*I;const O=Math.round(Math.min(J,le)),X=Math.round(Math.max(J,le));let te=d*C+O*4;for(let ie=O;ie<=X;ie++)I=(J-ie)/(J-le),I<0?I=0:I>1&&(I=1),u[te++]=re-(re-ue)*I|0,u[te++]=q-(q-oe)*I|0,u[te++]=W-(W-F)*I|0,u[te++]=255}}function Oq(r,e,t){const n=e.coords,i=e.colors;let a,s;switch(e.type){case z_.LATTICE:const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(a=0;a<l;a++){let u=a*o;for(let d=0;d<c;d++,u++)U5(r,t,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),U5(r,t,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case z_.TRIANGLES:for(a=0,s=n.length;a<s;a+=3)U5(r,t,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class jq extends eS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,g=u/h,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/g},w=d+4,x=h+4,T=n.getCanvas("mesh",w,x),v=T.context,R=v.createImageData(d,h);if(t){const B=R.data;for(let L=0,z=B.length;L<z;L+=4)B[L]=t[0],B[L+1]=t[1],B[L+2]=t[2],B[L+3]=255}for(const B of this._figures)Oq(R,B,y);return v.putImageData(R,2,2),{canvas:T.canvas,offsetX:o-2*f,offsetY:l-2*g,scaleX:f,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){b3(e,this._bbox);const a=new Float32Array(2);if(i===da.SHADING)Vt.singularValueDecompose2dScale(Kr(e),a);else if(this.matrix){Vt.singularValueDecompose2dScale(this.matrix,a);const[o,l]=a;Vt.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=o,a[1]*=l}else Vt.singularValueDecompose2dScale(t.baseTransform,a);const s=this._createMeshCanvas(a,i===da.SHADING?null:this._background,t.cachedCanvases);return i!==da.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Uq extends eS{getPattern(){return"hotpink"}}function qq(r){switch(r[0]){case"RadialAxial":return new Bq(r);case"Mesh":return new jq(r);case"Dummy":return new Uq}throw new Error(`Unknown IR type: ${r[0]}`)}const y6={COLORED:1,UNCOLORED:2},yx=class yx{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var ue,oe;const{bbox:n,operatorList:i,paintType:a,tilingType:s,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),Ux("TilingType: "+s);const d=n[0],h=n[1],f=n[2],g=n[3],y=f-d,w=g-h,x=new Float32Array(2);Vt.singularValueDecompose2dScale(this.matrix,x);const[T,v]=x;Vt.singularValueDecompose2dScale(this.baseTransform,x);const R=T*x[0],M=v*x[1];let B=y,L=w,z=!1,H=!1;const $=Math.ceil(c*R),U=Math.ceil(u*M),D=Math.ceil(y*R),ee=Math.ceil(w*M);$>=D?B=c:z=!0,U>=ee?L=u:H=!0;const J=this.getSizeAndScale(B,this.ctx.canvas.width,R),re=this.getSizeAndScale(L,this.ctx.canvas.height,M),q=e.cachedCanvases.getCanvas("pattern",J.size,re.size),W=q.context,le=l.createCanvasGraphics(W,t);if(le.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(le,a,o),W.translate(-J.scale*d,-re.scale*h),le.transform(0,J.scale,0,0,re.scale,0,0),W.save(),(ue=le.dependencyTracker)==null||ue.save(),this.clipBbox(le,d,h,f,g),le.baseTransform=Kr(le.ctx),le.executeOperatorList(i),le.endDrawing(),(oe=le.dependencyTracker)==null||oe.restore(),W.restore(),z||H){const F=q.canvas;z&&(B=c),H&&(L=u);const C=this.getSizeAndScale(B,this.ctx.canvas.width,R),I=this.getSizeAndScale(L,this.ctx.canvas.height,M),O=C.size,X=I.size,te=e.cachedCanvases.getCanvas("pattern-workaround",O,X),ie=te.context,ne=z?Math.floor(y/c):0,we=H?Math.floor(w/u):0;for(let Ee=0;Ee<=ne;Ee++)for(let He=0;He<=we;He++)ie.drawImage(F,O*Ee,X*He,O,X,0,0,O,X);return{canvas:te.canvas,scaleX:C.scale,scaleY:I.scale,offsetX:d,offsetY:h}}return{canvas:q.canvas,scaleX:J.scale,scaleY:re.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,n){const i=Math.max(yx.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,i,a){const s=i-t,o=a-n;e.ctx.rect(t,n,s,o),Vt.axialAlignedBoundingBox([t,n,i,a],Kr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case y6.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=o;break;case y6.UNCOLORED:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new eq(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,a){let s=n;i!==da.SHADING&&(s=Vt.transform(s,t.baseTransform),this.matrix&&(s=Vt.transform(s,this.matrix)));const o=this.createPatternCanvas(t,a);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};xt(yx,"MAX_PATTERN_SIZE",3e3);let y3=yx;function Hq({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=ga.isLittleEndian?4278190080:255,[l,c]=s?[a,o]:[o,a],u=n>>3,d=n&7,h=r.length;t=new Uint32Array(t.buffer);let f=0;for(let g=0;g<i;g++){for(const w=e+u;e<w;e++){const x=e<h?r[e]:255;t[f++]=x&128?c:l,t[f++]=x&64?c:l,t[f++]=x&32?c:l,t[f++]=x&16?c:l,t[f++]=x&8?c:l,t[f++]=x&4?c:l,t[f++]=x&2?c:l,t[f++]=x&1?c:l}if(d===0)continue;const y=e<h?r[e++]:255;for(let w=0;w<d;w++)t[f++]=y&1<<7-w?c:l}return{srcPos:e,destPos:f}}const x6=16,w6=100,zq=15,_6=10,us=16,q5=new DOMMatrix,Gs=new Float32Array(2),Y0=new Float32Array([1/0,1/0,-1/0,-1/0]);function Vq(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,a,s,o){e.transform(t,n,i,a,s,o),this.__originalTransform(t,n,i,a,s,o)},r.setTransform=function(t,n,i,a,s,o){e.setTransform(t,n,i,a,s,o),this.__originalSetTransform(t,n,i,a,s,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,a,s,o){e.bezierCurveTo(t,n,i,a,s,o),this.__originalBezierCurveTo(t,n,i,a,s,o)},r.rect=function(t,n,i,a){e.rect(t,n,i,a),this.__originalRect(t,n,i,a)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Gq{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ub(r,e,t,n,i,a,s,o,l,c){const[u,d,h,f,g,y]=Kr(r);if(d===0&&h===0){const T=s*u+g,v=Math.round(T),R=o*f+y,M=Math.round(R),B=(s+l)*u+g,L=Math.abs(Math.round(B)-v)||1,z=(o+c)*f+y,H=Math.abs(Math.round(z)-M)||1;return r.setTransform(Math.sign(u),0,0,Math.sign(f),v,M),r.drawImage(e,t,n,i,a,0,0,L,H),r.setTransform(u,d,h,f,g,y),[L,H]}if(u===0&&f===0){const T=o*h+g,v=Math.round(T),R=s*d+y,M=Math.round(R),B=(o+c)*h+g,L=Math.abs(Math.round(B)-v)||1,z=(s+l)*d+y,H=Math.abs(Math.round(z)-M)||1;return r.setTransform(0,Math.sign(d),Math.sign(h),0,v,M),r.drawImage(e,t,n,i,a,0,0,H,L),r.setTransform(u,d,h,f,g,y),[H,L]}r.drawImage(e,t,n,i,a,s,o,l,c);const w=Math.hypot(u,d),x=Math.hypot(h,f);return[w*l,x*c]}class S6{constructor(e,t,n){xt(this,"alphaIsShape",!1);xt(this,"fontSize",0);xt(this,"fontSizeScale",1);xt(this,"textMatrix",null);xt(this,"textMatrixScale",1);xt(this,"fontMatrix",H_);xt(this,"leading",0);xt(this,"x",0);xt(this,"y",0);xt(this,"lineX",0);xt(this,"lineY",0);xt(this,"charSpacing",0);xt(this,"wordSpacing",0);xt(this,"textHScale",1);xt(this,"textRenderingMode",ia.FILL);xt(this,"textRise",0);xt(this,"fillColor","#000000");xt(this,"strokeColor","#000000");xt(this,"patternFill",!1);xt(this,"patternStroke",!1);xt(this,"fillAlpha",1);xt(this,"strokeAlpha",1);xt(this,"lineWidth",1);xt(this,"activeSMask",null);xt(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Y0.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=da.FILL,t=null){const n=this.minMax.slice();if(e===da.STROKE){t||Tr("Stroke bounding box must include transform."),Vt.singularValueDecompose2dScale(t,Gs);const i=Gs[0]*this.lineWidth/2,a=Gs[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}updateClipFromPath(){const e=Vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Y0,0)}getClippedPathBoundingBox(e=da.FILL,t=null){return Vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function A6(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%us,a=(t-i)/us,s=i===0?a:a+1,o=r.createImageData(n,us);let l=0,c;const u=e.data,d=o.data;let h,f,g,y;if(e.kind===jb.GRAYSCALE_1BPP){const w=u.byteLength,x=new Uint32Array(d.buffer,0,d.byteLength>>2),T=x.length,v=n+7>>3,R=4294967295,M=ga.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(g=h<a?us:i,c=0,f=0;f<g;f++){const B=w-l;let L=0;const z=B>v?n:B*8-7,H=z&-8;let $=0,U=0;for(;L<H;L+=8)U=u[l++],x[c++]=U&128?R:M,x[c++]=U&64?R:M,x[c++]=U&32?R:M,x[c++]=U&16?R:M,x[c++]=U&8?R:M,x[c++]=U&4?R:M,x[c++]=U&2?R:M,x[c++]=U&1?R:M;for(;L<z;L++)$===0&&(U=u[l++],$=128),x[c++]=U&$?R:M,$>>=1}for(;c<T;)x[c++]=0;r.putImageData(o,0,h*us)}}else if(e.kind===jb.RGBA_32BPP){for(f=0,y=n*us*4,h=0;h<a;h++)d.set(u.subarray(l,l+y)),l+=y,r.putImageData(o,0,f),f+=us;h<s&&(y=n*i*4,d.set(u.subarray(l,l+y)),r.putImageData(o,0,f))}else if(e.kind===jb.RGB_24BPP)for(g=us,y=n*g,h=0;h<s;h++){for(h>=a&&(g=i,y=n*g),c=0,f=y;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;r.putImageData(o,0,h*us)}else throw new Error(`bad image kind: ${e.kind}`)}function k6(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%us,a=(t-i)/us,s=i===0?a:a+1,o=r.createImageData(n,us);let l=0;const c=e.data,u=o.data;for(let d=0;d<s;d++){const h=d<a?us:i;({srcPos:l}=Hq({src:c,srcPos:l,dest:u,width:n,height:h,nonBlackColor:0})),r.putImageData(o,0,d*us)}}function xm(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function db(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function E6(r,e){if(e)return!0;Vt.singularValueDecompose2dScale(r,Gs);const t=Math.fround($l.pixelRatio*Kd.PDF_TO_CSS_UNITS);return Gs[0]<=t&&Gs[1]<=t}const Wq=["butt","round","square"],Xq=["miter","round","bevel"],Kq={},C6={};var fl,x3,w3,_3;const US=class US{constructor(e,t,n,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,c,u){de(this,fl);this.ctx=e,this.current=new S6(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new Gq(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,n=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Kr(this.compositeCtx))}this.ctx.save(),db(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Kr(this.ctx)}executeOperatorList(e,t,n,i,a){var x;const s=e.argsArray,o=e.fnArray;let l=t||0;const c=s.length;if(c===l)return l;const u=c-l>_6&&typeof n=="function",d=u?Date.now()+zq:0;let h=0;const f=this.commonObjs,g=this.objs;let y,w;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!a||a(l))if(y=o[l],w=s[l]??null,y!==vg.dependency)w===null?this[y](l):this[y](l,...w);else for(const T of w){(x=this.dependencyTracker)==null||x.recordNamedData(T,l);const v=T.startsWith("g_")?f:g;if(!v.has(T))return v.get(T,n),l}if(l++,l===c)return l;if(u&&++h>_6){if(Date.now()>d)return n(),l;h=0}}}endDrawing(){ve(this,fl,x3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ve(this,fl,w3).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,c="prescale1",u,d;for(;a>2&&o>1||s>2&&l>1;){let h=o,f=l;a>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/h),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,o,l,0,0,h,f),e=u.canvas,o=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var $,U;const n=this.ctx,{width:i,height:a}=t,s=this.current.fillColor,o=this.current.patternFill,l=Kr(n);let c,u,d,h;if((t.bitmap||t.data)&&t.count>1){const D=t.bitmap||t.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(D),c||(c=new Map,this._cachedBitmapsMap.set(D,c));const ee=c.get(u);if(ee&&!o){const J=Math.round(Math.min(l[0],l[2])+l[4]),re=Math.round(Math.min(l[1],l[3])+l[5]);return($=this.dependencyTracker)==null||$.recordDependencies(e,lo.transformAndFill),{canvas:ee,offsetX:J,offsetY:re}}d=ee}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,a),k6(h.context,t));let f=Vt.transform(l,[1/i,0,0,-1/a,0,0]);f=Vt.transform(f,[1,0,0,1,0,-a]);const g=Y0.slice();Vt.axialAlignedBoundingBox([0,0,i,a],f,g);const[y,w,x,T]=g,v=Math.round(x-y)||1,R=Math.round(T-w)||1,M=this.cachedCanvases.getCanvas("fillCanvas",v,R),B=M.context,L=y,z=w;B.translate(-L,-z),B.transform(...f),d||(d=this._scaleImage(h.canvas,Sl(B)),d=d.img,c&&o&&c.set(u,d)),B.imageSmoothingEnabled=E6(Kr(B),t.interpolate),ub(B,d,0,0,d.width,d.height,0,0,i,a),B.globalCompositeOperation="source-in";const H=Vt.transform(Sl(B),[1,0,0,1,-L,-z]);return B.fillStyle=o?s.getPattern(n,this,H,da.FILL,e):s,B.fillRect(0,0,i,a),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,M.canvas)),(U=this.dependencyTracker)==null||U.recordDependencies(e,lo.transformAndFill),{canvas:M.canvas,offsetX:Math.round(L),offsetY:Math.round(z)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=Wq[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Xq[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,a,s,o;for(const[l,c]of t)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(s=this.dependencyTracker)==null||s.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),xm(this.suspendedCtx,s),Vq(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,a,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,a,s,o,l,c,u,d){let h=e.canvas,f=l-u,g=c-d;if(s)if(f<0||g<0||f+n>h.width||g+i>h.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,i),x=w.context;x.drawImage(h,-f,-g),x.globalCompositeOperation="destination-atop",x.fillStyle=s,x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over",h=w.canvas,f=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(f,g,n,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(f,g,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,n,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(h,f,g,n,i,l,c,n,i),t.restore()}save(e){var n;this.inSMaskMode&&xm(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&xm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,a,s,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,a,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[a]=n;if(!i){a||(a=n[0]=new Path2D),this[t](e,a);return}if(this.dependencyTracker!==null){const s=t===vg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}a instanceof Path2D||(a=n[0]=YT(a)),Vt.axialAlignedBoundingBox(i,Kr(this.ctx),this.current.minMax),this[t](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var s;const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,Sl(i),da.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(s=this.dependencyTracker)==null||s.recordDependencies(e,lo.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(da.STROKE,Kr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var c,u,d;const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const h=a.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=a.getPattern(i,this,Sl(i),da.FILL,e),h){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=f}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(u=this.dependencyTracker)==null||u.recordDependencies(e,lo.fill),o&&(i.restore(),(d=this.dependencyTracker)==null||d.restore(e)),n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,lo.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Kq}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=C6}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,a=n.getTransform().invertSelf();for(const{transform:s,x:o,y:l,fontSize:c,path:u}of t)u&&i.addPath(u,new DOMMatrix(s).preMultiplySelf(a).translate(o,l).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var d,h;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||H_,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&xn("Invalid font matrix for font "+t),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=n;n<x6?u=x6:n>w6&&(u=w6),this.current.fontSizeScale=n/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,a,s){var x,T,v,R;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&ia.FILL_STROKE_MASK,f=!!(u&ia.ADD_TO_PATH_FLAG),g=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let w;if((c.disableFontFace||f||g||y)&&!c.missingFile&&(w=c.getPathGenerator(this.commonObjs,t)),w&&(c.disableFontFace||g||y)){o.save(),o.translate(n,i),o.scale(d,-d),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,c);let M;if(h===ia.FILL||h===ia.FILL_STROKE)if(a){M=o.getTransform(),o.setTransform(...a);const B=ve(this,fl,_3).call(this,w,M,a);o.fill(B)}else o.fill(w);if(h===ia.STROKE||h===ia.FILL_STROKE)if(s){M||(M=o.getTransform()),o.setTransform(...s);const{a:B,b:L,c:z,d:H}=M,$=Vt.inverseTransform(s),U=Vt.transform([B,L,z,H,0,0],$);Vt.singularValueDecompose2dScale(U,Gs),o.lineWidth*=Math.max(Gs[0],Gs[1])/d,o.stroke(ve(this,fl,_3).call(this,w,M,s))}else o.lineWidth/=d,o.stroke(w);o.restore()}else(h===ia.FILL||h===ia.FILL_STROKE)&&(o.fillText(t,n,i),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(t))),(h===ia.STROKE||h===ia.FILL_STROKE)&&(this.dependencyTracker&&((v=this.dependencyTracker)==null||v.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(t)).recordDependencies(e,lo.stroke)),o.strokeText(t,n,i));f&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Kr(o),x:n,y:i,fontSize:d,path:w}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,c,d,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return wn(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var z,H,$,U;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,lo.showText).resetBBox(e),this.current.textRenderingMode&ia.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),(z=this.dependencyTracker)==null||z.recordShowTextOperation(e);return}const a=n.fontSize;if(a===0){(H=this.dependencyTracker)==null||H.recordOperation(e);return}const s=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=t.length,f=i.vertical,g=f?1:-1,y=i.defaultVMetrics,w=a*n.fontMatrix[0],x=n.textRenderingMode===ia.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),u>0?s.scale(d,-1):s.scale(d,1);let T,v;if(n.patternFill){s.save();const D=n.fillColor.getPattern(s,this,Sl(s),da.FILL,e);T=Kr(s),s.restore(),s.fillStyle=D}if(n.patternStroke){s.save();const D=n.strokeColor.getPattern(s,this,Sl(s),da.STROKE,e);v=Kr(s),s.restore(),s.strokeStyle=D}let R=n.lineWidth;const M=n.textMatrixScale;if(M===0||R===0){const D=n.textRenderingMode&ia.FILL_STROKE_MASK;(D===ia.STROKE||D===ia.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(o!==1&&(s.scale(o,o),R/=o),s.lineWidth=R,i.isInvalidPDFjsFont){const D=[];let ee=0;for(const re of t)D.push(re.unicode),ee+=re.width;const J=D.join("");if(s.fillText(J,0,0),this.dependencyTracker!==null){const re=s.measureText(J);this.dependencyTracker.recordBBox(e,this.ctx,-re.actualBoundingBoxLeft,re.actualBoundingBoxRight,-re.actualBoundingBoxAscent,re.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=ee*w*d,s.restore(),this.compose();return}let B=0,L;for(L=0;L<h;++L){const D=t[L];if(typeof D=="number"){B+=g*D*a/1e3;continue}let ee=!1;const J=(D.isSpace?c:0)+l,re=D.fontChar,q=D.accent;let W,le,ue=D.width;if(f){const C=D.vmetric||y,I=-(D.vmetric?C[1]:ue*.5)*w,O=C[2]*w;ue=C?-C[0]:ue,W=I/o,le=(B+O)/o}else W=B/o,le=0;let oe;if(i.remeasure&&ue>0){oe=s.measureText(re);const C=oe.width*1e3/a*o;if(ue<C&&this.isFontSubpixelAAEnabled){const I=ue/C;ee=!0,s.save(),s.scale(I,1),W/=I}else ue!==C&&(W+=(ue-C)/2e3*a/o)}if(this.contentVisible&&(D.isInFont||i.missingFile)){if(x&&!q)s.fillText(re,W,le),($=this.dependencyTracker)==null||$.recordCharacterBBox(e,s,oe?{bbox:null}:i,a/o,W,le,()=>oe??s.measureText(re));else if(this.paintChar(e,re,W,le,T,v),q){const C=W+a*q.offset.x/o,I=le-a*q.offset.y/o;this.paintChar(e,q.fontChar,C,I,T,v)}}const F=f?ue*w-J*u:ue*w+J*u;B+=F,ee&&s.restore()}f?n.y-=B:n.x+=B*d,s.restore(),this.compose(),(U=this.dependencyTracker)==null||U.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,a=i.font,s=i.fontSize,o=i.fontDirection,l=a.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||H_,f=t.length,g=i.textRenderingMode===ia.INVISIBLE;let y,w,x,T;if(g||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,o);const v=this.dependencyTracker;for(this.dependencyTracker=v?new Hy(v,e):null,y=0;y<f;++y){if(w=t[y],typeof w=="number"){T=l*w*s/1e3,this.ctx.translate(T,0),i.x+=T*d;continue}const R=(w.isSpace?u:0)+c,M=a.charProcOperatorList[w.operatorListId];M?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...h),this.executeOperatorList(M),this.restore()):xn(`Type3 character "${w.operatorListId}" is not available.`);const B=[w.width,0];Vt.applyTransform(B,h),x=B[0]*s+R,n.translate(x,0),i.x+=x*d}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,a,s,o){var c;const l=new Path2D;l.rect(i,a,s-i,o-a),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,s,a,o).recordClipBox(e,this.ctx,i,s,a,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||Kr(this.ctx),a={createCanvasGraphics:(s,o)=>new US(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Hy(this.dependencyTracker,o,!0):null)};n=new y3(t,this.ctx,a,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=qq(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var s;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,Sl(n),da.SHADING,e);const a=Sl(n);if(a){const{width:o,height:l}=n.canvas,c=Y0.slice();Vt.axialAlignedBoundingBox([0,0,o,l],a,c);const[u,d,h,f]=c;this.ctx.fillRect(u,d,h-u,f-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(s=this.dependencyTracker)==null||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,lo.transform).recordDependencies(e,lo.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Tr("Should not call beginInlineImage")}beginImageData(){Tr("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Kr(this.ctx),n)){Vt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,s,o,l]=n,c=new Path2D;c.rect(a,s,o-a,l-s),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,a,o,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var v;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Ux("TODO: Support non-isolated groups."),t.knockout&&xn("Knockout groups not supported.");const i=Kr(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Y0.slice();Vt.axialAlignedBoundingBox(t.bbox,Kr(n),a);const s=[0,0,n.canvas.width,n.canvas.height];a=Vt.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),l=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-o,1),u=Math.max(Math.ceil(a[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-l),f.transform(...i);let g=new Path2D;const[y,w,x,T]=t.bbox;if(g.rect(y,w,x-y,T-w),t.matrix){const R=new Path2D;R.addPath(g,new DOMMatrix(t.matrix)),g=R}f.clip(g),t.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),xm(n,f),this.ctx=f,(v=this.dependencyTracker)==null||v.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var a;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Kr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=Y0.slice();Vt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,i,a,s){if(ve(this,fl,x3).call(this),db(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,Vt.singularValueDecompose2dScale(Kr(this.ctx),Gs);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Gs[0],0,0,-Gs[1],0,l*Gs[1]),db(this.ctx)}else{db(this.ctx),this.endPath(e);const c=new Path2D;c.rect(n[0],n[1],o,l),this.ctx.clip(c)}}this.current=new S6(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),ve(this,fl,w3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,a=this._createMaskCanvas(e,t),s=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,a.offsetX,a.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,a=0,s,o){var d,h,f;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const c=Kr(l);l.transform(n,i,a,s,0,0);const u=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let g=0,y=o.length;g<y;g+=2){const w=Vt.transform(c,[n,i,a,s,o[g],o[g+1]]);l.drawImage(u.canvas,w[4],w[5]),(h=this.dependencyTracker)==null||h.recordBBox(e,this.ctx,w[4],w[4]+u.canvas.width,w[5],w[5]+u.canvas.height)}l.restore(),this.compose(),(f=this.dependencyTracker)==null||f.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var s,o,l;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,a=this.current.patternFill;(s=this.dependencyTracker)==null||s.resetBBox(e).recordDependencies(e,lo.transformAndFill);for(const c of t){const{data:u,width:d,height:h,transform:f}=c,g=this.cachedCanvases.getCanvas("maskCanvas",d,h),y=g.context;y.save();const w=this.getObject(e,u,c);k6(y,w),y.globalCompositeOperation="source-in",y.fillStyle=a?i.getPattern(y,this,Sl(n),da.FILL,e):i,y.fillRect(0,0,d,h),y.restore(),n.save(),n.transform(...f),n.scale(1,-1),ub(n,g.canvas,0,0,d,h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,d,0,h),n.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){xn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,a){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){xn("Dependent image isn't ready yet");return}const o=s.width,l=s.height,c=[];for(let u=0,d=a.length;u<d;u+=2)c.push({transform:[n,0,0,i,a[u],a[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const n=t.width,i=t.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/n,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,i).context;A6(d,t),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,Sl(a));a.imageSmoothingEnabled=E6(Kr(a),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,a,0,n,-i,0).recordDependencies(e,lo.imageXObject).recordOperation(e),ub(a,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var s,o,l;if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const c=t.width,u=t.height,h=this.cachedCanvases.getCanvas("inlineImage",c,u).context;A6(h,t),a=this.applyTransferMapsToCanvas(h)}(s=this.dependencyTracker)==null||s.resetBBox(e);for(const c of n)i.save(),i.transform(...c.transform),i.scale(1,-1),ub(i,a,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,lo.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var s,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===C6?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null,(s=this.dependencyTracker)==null||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Kr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:a}=this.ctx.getTransform();let s,o;if(n===0&&i===0){const l=Math.abs(t),c=Math.abs(a);if(l===c)if(e===0)s=o=1/l;else{const u=l*e;s=o=u<1?1/u:1}else if(e===0)s=1/l,o=1/c;else{const u=l*e,d=c*e;s=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(t*a-n*i),c=Math.hypot(t,n),u=Math.hypot(i,a);if(e===0)s=u/l,o=c/l;else{const d=e*l;s=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){n.lineWidth=(i||1)*a,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(a,s),q5.a=1/a,q5.d=1/s;const l=new Path2D;if(l.addPath(e,q5),o.length>0){const c=Math.max(a,s);n.setLineDash(o.map(u=>u/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};fl=new WeakSet,x3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},w3=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},_3=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let sp=US;for(const r in vg)sp.prototype[r]!==void 0&&(sp.prototype[vg[r]]=sp.prototype[r]);var mv,gv;class Jl{static get workerPort(){return p(this,mv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");Q(this,mv,e)}static get workerSrc(){return p(this,gv)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");Q(this,gv,e)}}mv=new WeakMap,gv=new WeakMap,de(Jl,mv,null),de(Jl,gv,"");var Xp,vv;class Yq{constructor({parsedData:e,rawData:t}){de(this,Xp);de(this,vv);Q(this,Xp,e),Q(this,vv,t)}getRaw(){return p(this,vv)}get(e){return p(this,Xp).get(e)??null}[Symbol.iterator](){return p(this,Xp).entries()}}Xp=new WeakMap,vv=new WeakMap;const H0=Symbol("INTERNAL");var bv,yv,xv,Kp;class Zq{constructor(e,{name:t,intent:n,usage:i,rbGroups:a}){de(this,bv,!1);de(this,yv,!1);de(this,xv,!1);de(this,Kp,!0);Q(this,bv,!!(e&Vs.DISPLAY)),Q(this,yv,!!(e&Vs.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(p(this,xv))return p(this,Kp);if(!p(this,Kp))return!1;const{print:e,view:t}=this.usage;return p(this,bv)?(t==null?void 0:t.viewState)!=="OFF":p(this,yv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==H0&&Tr("Internal method `_setVisible` called."),Q(this,xv,n),Q(this,Kp,t)}}bv=new WeakMap,yv=new WeakMap,xv=new WeakMap,Kp=new WeakMap;var md,br,Yp,Zp,wv,S3;class Jq{constructor(e,t=Vs.DISPLAY){de(this,wv);de(this,md,null);de(this,br,new Map);de(this,Yp,null);de(this,Zp,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,Q(this,Zp,e.order);for(const n of e.groups)p(this,br).set(n.id,new Zq(t,n));if(e.baseState==="OFF")for(const n of p(this,br).values())n._setVisible(H0,!1);for(const n of e.on)p(this,br).get(n)._setVisible(H0,!0);for(const n of e.off)p(this,br).get(n)._setVisible(H0,!1);Q(this,Yp,this.getHash())}}isVisible(e){if(p(this,br).size===0)return!0;if(!e)return Ux("Optional content group not defined."),!0;if(e.type==="OCG")return p(this,br).has(e.id)?p(this,br).get(e.id).visible:(xn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ve(this,wv,S3).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!p(this,br).has(t))return xn(`Optional content group not found: ${t}`),!0;if(p(this,br).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!p(this,br).has(t))return xn(`Optional content group not found: ${t}`),!0;if(!p(this,br).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!p(this,br).has(t))return xn(`Optional content group not found: ${t}`),!0;if(!p(this,br).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!p(this,br).has(t))return xn(`Optional content group not found: ${t}`),!0;if(p(this,br).get(t).visible)return!1}return!0}return xn(`Unknown optional content policy ${e.policy}.`),!0}return xn(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var a;const i=p(this,br).get(e);if(!i){xn(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=p(this,br).get(o))==null||a._setVisible(H0,!1,!0));i._setVisible(H0,!!t,!0),Q(this,md,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=p(this,br).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!a.visible,t);break}}Q(this,md,null)}get hasInitialVisibility(){return p(this,Yp)===null||this.getHash()===p(this,Yp)}getOrder(){return p(this,br).size?p(this,Zp)?p(this,Zp).slice():[...p(this,br).keys()]:null}getGroup(e){return p(this,br).get(e)||null}getHash(){if(p(this,md)!==null)return p(this,md);const e=new CN;for(const[t,n]of p(this,br))e.update(`${t}:${n.visible}`);return Q(this,md,e.hexdigest())}[Symbol.iterator](){return p(this,br).entries()}}md=new WeakMap,br=new WeakMap,Yp=new WeakMap,Zp=new WeakMap,wv=new WeakSet,S3=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const a=e[i];let s;if(Array.isArray(a))s=ve(this,wv,S3).call(this,a);else if(p(this,br).has(a))s=p(this,br).get(a).visible;else return xn(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class Qq{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});Hn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,a;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new $q(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new eH(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class $q{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=J4(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class eH{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function tH(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let u=o(t);return u=unescape(u),u=l(u),u=c(u),a(u)}if(t=s(r),t){const u=c(t);return a(u)}if(t=n("filename","i").exec(r),t){t=t[1];let u=o(t);return u=c(u),a(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=y2(d);d=h.decode(f),e=!1}catch{}}return d}function a(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function s(u){const d=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,y,w,x]=h;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[w,x]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[w,x]=d[y];x=o(x),w&&(x=unescape(x),y===0&&(x=l(x))),g.push(x)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(h,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,g){if(f==="q"||f==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,w){return String.fromCharCode(parseInt(w,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function jN(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function Hx(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function UN({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(r.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function qN(r){const e=r.get("Content-Disposition");if(e){let t=tH(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(J4(t))return t}return null}function A2(r,e){return new Dy(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function HN(r){return r===200||r===206}function zN(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function VN(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(xn(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class nH{constructor(e){xt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=jN(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new iH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class rH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,zN(n,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Hx(a.url),!HN(a.status))throw A2(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=UN({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=qN(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Xd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:VN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class iH{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,zN(a,this._withCredentials,this._abortController)).then(o=>{const l=Hx(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!HN(o.status))throw A2(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:VN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const H5=200,z5=206;function aH(r){const e=r.response;return typeof e!="string"?e:y2(e).buffer}class sH{constructor({url:e,httpHeaders:t,withCredentials:n}){xt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=jN(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,s]of this.headers)t.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=z5):i.expectedStatus=H5,t.responseType="arraybuffer",Hn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const a=i.status||H5;if(!(a===H5&&n.expectedStatus===z5)&&a!==n.expectedStatus){n.onError(i.status);return}const o=aH(i);if(a===z5){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:o}):(xn('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class oH{constructor(e){this._source=e,this._manager=new sH(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new cH(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class lH{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Hx(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=UN({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=qN(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=A2(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class cH{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Hx((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=A2(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const uH=/^[a-z][a-z0-9\-+.]+:/i;function dH(r){if(uH.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class hH{constructor(e){this.source=e,this.url=dH(e.url),Hn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new fH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new pH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class fH{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=A2(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Xd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pH{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const wm=Symbol("INITIAL_DATA");var Rs,_v,A3;class GN{constructor(){de(this,_v);de(this,Rs,Object.create(null))}get(e,t=null){if(t){const i=ve(this,_v,A3).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=p(this,Rs)[e];if(!n||n.data===wm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=p(this,Rs)[e];return!!t&&t.data!==wm}delete(e){const t=p(this,Rs)[e];return!t||t.data===wm?!1:(delete p(this,Rs)[e],!0)}resolve(e,t=null){const n=ve(this,_v,A3).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in p(this,Rs)){const{data:n}=p(this,Rs)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}Q(this,Rs,Object.create(null))}*[Symbol.iterator](){for(const e in p(this,Rs)){const{data:t}=p(this,Rs)[e];t!==wm&&(yield[e,t])}}}Rs=new WeakMap,_v=new WeakSet,A3=function(e){var t;return(t=p(this,Rs))[e]||(t[e]={...Promise.withResolvers(),data:wm})};const mH=1e5,T6=30;var eT,gd,os,Sv,Av,ff,Kc,kv,Ev,pf,Jp,Qp,vd,$p,Cv,e1,mf,Tv,Nv,t1,gf,Rv,bd,n1,xu,WN,XN,k3,Js,Zb,E3,KN,YN;const Ii=class Ii{constructor({textContentSource:e,container:t,viewport:n}){de(this,xu);de(this,gd,Promise.withResolvers());de(this,os,null);de(this,Sv,!1);de(this,Av,!!((eT=globalThis.FontInspector)!=null&&eT.enabled));de(this,ff,null);de(this,Kc,null);de(this,kv,0);de(this,Ev,0);de(this,pf,null);de(this,Jp,null);de(this,Qp,0);de(this,vd,0);de(this,$p,Object.create(null));de(this,Cv,[]);de(this,e1,null);de(this,mf,[]);de(this,Tv,new WeakMap);de(this,Nv,null);var l;if(e instanceof ReadableStream)Q(this,e1,e);else if(typeof e=="object")Q(this,e1,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');Q(this,os,Q(this,Jp,t)),Q(this,vd,n.scale*$l.pixelRatio),Q(this,Qp,n.rotation),Q(this,Kc,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=n.rawDims;Q(this,Nv,[1,0,0,-1,-s,o+a]),Q(this,Ev,i),Q(this,kv,a),ve(l=Ii,Js,KN).call(l),e0(t,n),p(this,gd).promise.finally(()=>{p(Ii,n1).delete(this),Q(this,Kc,null),Q(this,$p,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ga.platform;return wn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{p(this,pf).read().then(({value:t,done:n})=>{if(n){p(this,gd).resolve();return}p(this,ff)??Q(this,ff,t.lang),Object.assign(p(this,$p),t.styles),ve(this,xu,WN).call(this,t.items),e()},p(this,gd).reject)};return Q(this,pf,p(this,e1).getReader()),p(Ii,n1).add(this),e(),p(this,gd).promise}update({viewport:e,onBefore:t=null}){var a;const n=e.scale*$l.pixelRatio,i=e.rotation;if(i!==p(this,Qp)&&(t==null||t(),Q(this,Qp,i),e0(p(this,Jp),{rotation:i})),n!==p(this,vd)){t==null||t(),Q(this,vd,n);const s={div:null,properties:null,ctx:ve(a=Ii,Js,Zb).call(a,p(this,ff))};for(const o of p(this,mf))s.properties=p(this,Tv).get(o),s.div=o,ve(this,xu,k3).call(this,s)}}cancel(){var t;const e=new Xd("TextLayer task cancelled.");(t=p(this,pf))==null||t.cancel(e).catch(()=>{}),Q(this,pf,null),p(this,gd).reject(e)}get textDivs(){return p(this,mf)}get textContentItemsStr(){return p(this,Cv)}static cleanup(){if(!(p(this,n1).size>0)){p(this,t1).clear();for(const{canvas:e}of p(this,gf).values())e.remove();p(this,gf).clear()}}};gd=new WeakMap,os=new WeakMap,Sv=new WeakMap,Av=new WeakMap,ff=new WeakMap,Kc=new WeakMap,kv=new WeakMap,Ev=new WeakMap,pf=new WeakMap,Jp=new WeakMap,Qp=new WeakMap,vd=new WeakMap,$p=new WeakMap,Cv=new WeakMap,e1=new WeakMap,mf=new WeakMap,Tv=new WeakMap,Nv=new WeakMap,t1=new WeakMap,gf=new WeakMap,Rv=new WeakMap,bd=new WeakMap,n1=new WeakMap,xu=new WeakSet,WN=function(e){var i,a;if(p(this,Sv))return;(a=p(this,Kc)).ctx??(a.ctx=ve(i=Ii,Js,Zb).call(i,p(this,ff)));const t=p(this,mf),n=p(this,Cv);for(const s of e){if(t.length>mH){xn("Ignoring additional textDivs for performance reasons."),Q(this,Sv,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=p(this,os);Q(this,os,document.createElement("span")),p(this,os).classList.add("markedContent"),s.id&&p(this,os).setAttribute("id",`${s.id}`),o.append(p(this,os))}else s.type==="endMarkedContent"&&Q(this,os,p(this,os).parentNode);continue}n.push(s.str),ve(this,xu,XN).call(this,s)}},XN=function(e){var y;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};p(this,mf).push(t);const i=Vt.transform(p(this,Nv),e.transform);let a=Math.atan2(i[1],i[0]);const s=p(this,$p)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=p(this,Av)&&s.fontSubstitution||s.fontFamily;o=Ii.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*ve(y=Ii,Js,YN).call(y,o,s,p(this,ff));let u,d;a===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(a),d=i[5]-c*Math.cos(a));const h="calc(var(--total-scale-factor) *",f=t.style;p(this,os)===p(this,Jp)?(f.left=`${(100*u/p(this,Ev)).toFixed(2)}%`,f.top=`${(100*d/p(this,kv)).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(p(Ii,bd)*l).toFixed(2)}px)`,f.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,p(this,Av)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);w!==x&&Math.max(w,x)/Math.min(w,x)>1.5&&(g=!0)}if(g&&(n.canvasWidth=s.vertical?e.height:e.width),p(this,Tv).set(t,n),p(this,Kc).div=t,p(this,Kc).properties=n,ve(this,xu,k3).call(this,p(this,Kc)),n.hasText&&p(this,os).append(t),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),p(this,os).append(w)}},k3=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:a}=t;let s="";if(p(Ii,bd)>1&&(s=`scale(${1/p(Ii,bd)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=n;ve(o=Ii,Js,E3).call(o,i,u*p(this,vd),l);const{width:d}=i.measureText(t.textContent);d>0&&(s=`scaleX(${c*p(this,vd)/d}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(a.transform=s)},Js=new WeakSet,Zb=function(e=null){let t=p(this,gf).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,gf).set(e,t),p(this,Rv).set(t,{size:0,family:""})}return t},E3=function(e,t,n){const i=p(this,Rv).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},KN=function(){if(p(this,bd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Q(this,bd,e.getBoundingClientRect().height),e.remove()},YN=function(e,t,n){const i=p(this,t1).get(e);if(i)return i;const a=ve(this,Js,Zb).call(this,n);a.canvas.width=a.canvas.height=T6,ve(this,Js,E3).call(this,a,T6,e);const s=a.measureText(""),o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let c=.8;return o?c=o/(o+l):(ga.platform.isFirefox&&xn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),p(this,t1).set(e,c),c},de(Ii,Js),de(Ii,t1,new Map),de(Ii,gf,new Map),de(Ii,Rv,new WeakMap),de(Ii,bd,null),de(Ii,n1,new Set);let yg=Ii;const gH=100;function ZN(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new C3,{docId:t}=e,n=r.url?Sq(r.url):null,i=r.data?Aq(r.data):null,a=r.httpHeaders||null,s=r.withCredentials===!0,o=r.password??null,l=r.range instanceof JN?r.range:null,c=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let u=r.worker instanceof xg?r.worker:null;const d=r.verbosity,h=typeof r.docBaseUrl=="string"&&!qx(r.docBaseUrl)?r.docBaseUrl:null,f=sb(r.cMapUrl),g=r.cMapPacked!==!1,y=r.CMapReaderFactory||(Wa?Mq:p6),w=sb(r.iccUrl),x=sb(r.standardFontDataUrl),T=r.StandardFontDataFactory||(Wa?Pq:m6),v=sb(r.wasmUrl),R=r.WasmFactory||(Wa?Fq:g6),M=r.stopAtErrors!==!0,B=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,L=r.isEvalSupported!==!1,z=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Wa,H=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Wa&&(ga.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,U=typeof r.disableFontFace=="boolean"?r.disableFontFace:Wa,D=r.fontExtraProperties===!0,ee=r.enableXfa===!0,J=r.ownerDocument||globalThis.document,re=r.disableRange===!0,q=r.disableStream===!0,W=r.disableAutoFetch===!0,le=r.pdfBug===!0,ue=r.CanvasFactory||(Wa?Iq:Tq),oe=r.FilterFactory||(Wa?Rq:Nq),F=r.enableHWA===!0,C=r.useWasm!==!1,I=l?l.length:r.length??NaN,O=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Wa&&!U,X=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(y===p6&&T===m6&&R===g6&&f&&x&&v&&Fm(f,document.baseURI)&&Fm(x,document.baseURI)&&Fm(v,document.baseURI)),te=null;JU(d);const ie={canvasFactory:new ue({ownerDocument:J,enableHWA:F}),filterFactory:new oe({docId:t,ownerDocument:J}),cMapReaderFactory:X?null:new y({baseUrl:f,isCompressed:g}),standardFontDataFactory:X?null:new T({baseUrl:x}),wasmFactory:X?null:new R({baseUrl:v})};u||(u=xg.create({verbosity:d,port:Jl.workerPort}),e._worker=u);const ne={docId:t,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:W,rangeChunkSize:c,length:I,docBaseUrl:h,enableXfa:ee,evaluatorOptions:{maxImageSize:B,disableFontFace:U,ignoreErrors:M,isEvalSupported:L,isOffscreenCanvasSupported:z,isImageDecoderSupported:H,canvasMaxAreaInBytes:$,fontExtraProperties:D,useSystemFonts:O,useWasm:C,useWorkerFetch:X,cMapUrl:f,iccUrl:w,standardFontDataUrl:x,wasmUrl:v}},we={ownerDocument:J,pdfBug:le,styleElement:te,loadingParams:{disableAutoFetch:W,enableXfa:ee}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ee=u.messageHandler.sendWithPromise("GetDocRequest",ne,i?[i.buffer]:null);let He;if(l)He=new Qq(l,{disableRange:re,disableStream:q});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ue=Fm(n)?nH:Wa?hH:oH;He=new Ue({url:n,length:I,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:re,disableStream:q})}return Ee.then(Ue=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const We=new Hm(t,Ue,u.port),it=new yH(We,e,He,we,ie,F);e._transport=it,We.send("Ready",null)})}).catch(e._capability.reject),e}var xx;const wx=class wx{constructor(){xt(this,"_capability",Promise.withResolvers());xt(this,"_transport",null);xt(this,"_worker",null);xt(this,"docId",`d${Ri(wx,xx)._++}`);xt(this,"destroyed",!1);xt(this,"onPassword",null);xt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};xx=new WeakMap,de(wx,xx,0);let C3=wx;var vf,Iv,Mv,Pv,Fv;class JN{constructor(e,t,n=!1,i=null){de(this,vf,Promise.withResolvers());de(this,Iv,[]);de(this,Mv,[]);de(this,Pv,[]);de(this,Fv,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){p(this,Fv).push(e)}addProgressListener(e){p(this,Pv).push(e)}addProgressiveReadListener(e){p(this,Mv).push(e)}addProgressiveDoneListener(e){p(this,Iv).push(e)}onDataRange(e,t){for(const n of p(this,Fv))n(e,t)}onDataProgress(e,t){p(this,vf).promise.then(()=>{for(const n of p(this,Pv))n(e,t)})}onDataProgressiveRead(e){p(this,vf).promise.then(()=>{for(const t of p(this,Mv))t(e)})}onDataProgressiveDone(){p(this,vf).promise.then(()=>{for(const e of p(this,Iv))e()})}transportReady(){p(this,vf).resolve()}requestDataRange(e,t){Tr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}vf=new WeakMap,Iv=new WeakMap,Mv=new WeakMap,Pv=new WeakMap,Fv=new WeakMap;class vH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return wn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Yc,bf,Xm;class bH{constructor(e,t,n,i=!1){de(this,bf);de(this,Yc,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new o6:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new GN,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new w2({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return wn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:a=Ku.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:g=null}){var H,$,U;(H=this._stats)==null||H.time("Overall");const y=this._transport.getRenderingIntent(i,a,d,h),{renderingIntent:w,cacheKey:x}=y;Q(this,Yc,!1),l||(l=this._transport.getOptionalContentConfig(w));let T=this._intentStates.get(x);T||(T=Object.create(null),this._intentStates.set(x,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const v=!!(w&Vs.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($=this._stats)==null||$.time("Page Request"),this._pumpOperatorList(y));const R=!!(this._pdfBug&&((U=globalThis.StepperManager)!=null&&U.enabled)),M=!this.recordedBBoxes&&(f||R),B=D=>{var ee,J;if(T.renderTasks.delete(L),M){const re=(ee=L.gfx)==null?void 0:ee.dependencyTracker.take();re&&(L.stepper&&L.stepper.setOperatorBBoxes(re,L.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=re))}v&&Q(this,Yc,!0),ve(this,bf,Xm).call(this),D?(L.capability.reject(D),this._abortOperatorList({intentState:T,reason:D instanceof Error?D:new Error(D)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(J=globalThis.Stats)!=null&&J.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new T3({callback:B,params:{canvas:t,canvasContext:e,dependencyTracker:M?new Dq(t,T.operatorList.length,R):null,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:g});(T.renderTasks||(T.renderTasks=new Set)).add(L);const z=L.task;return Promise.all([T.displayReadyCapability.promise,l]).then(([D,ee])=>{var J;if(this.destroyed){B();return}if((J=this._stats)==null||J.time("Rendering"),!(ee.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:D,optionalContentConfig:ee}),L.operatorListChanged()}).catch(B),z}getOperatorList({intent:e="display",annotationMode:t=Ku.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>bg.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function a(){s.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=t.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),Q(this,Yc,!1),Promise.all(e)}cleanup(e=!1){Q(this,Yc,!0);const t=ve(this,bf,Xm).call(this);return e&&t&&this._stats&&(this._stats=new o6),t}_startRenderPage(e,t){var i,a;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&ve(this,bf,Xm).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:i},s).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();ve(this,bf,Xm).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Z4){let i=gH;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Xd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Yc=new WeakMap,bf=new WeakSet,Xm=function(){if(!p(this,Yc)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Q(this,Yc,!1),!0};var yd,rl,Zc,yf,_x,xf,wf,Ka,Jb,QN,$N,Km,r1,Qb;const qr=class qr{constructor({name:e=null,port:t=null,verbosity:n=QU()}={}){de(this,Ka);de(this,yd,Promise.withResolvers());de(this,rl,null);de(this,Zc,null);de(this,yf,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(p(qr,wf).has(t))throw new Error("Cannot use more than one PDFWorker per port.");p(qr,wf).set(t,this),ve(this,Ka,QN).call(this,t)}else ve(this,Ka,$N).call(this)}get promise(){return p(this,yd).promise}get port(){return p(this,Zc)}get messageHandler(){return p(this,rl)}destroy(){var e,t;this.destroyed=!0,(e=p(this,yf))==null||e.terminate(),Q(this,yf,null),p(qr,wf).delete(p(this,Zc)),Q(this,Zc,null),(t=p(this,rl))==null||t.destroy(),Q(this,rl,null)}static create(e){const t=p(this,wf).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new qr(e)}static get workerSrc(){if(Jl.workerSrc)return Jl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return wn(this,"_setupFakeWorkerGlobal",(async()=>p(this,r1,Qb)?p(this,r1,Qb):(await import(this.workerSrc)).WorkerMessageHandler)())}};yd=new WeakMap,rl=new WeakMap,Zc=new WeakMap,yf=new WeakMap,_x=new WeakMap,xf=new WeakMap,wf=new WeakMap,Ka=new WeakSet,Jb=function(){p(this,yd).resolve(),p(this,rl).send("configure",{verbosity:this.verbosity})},QN=function(e){Q(this,Zc,e),Q(this,rl,new Hm("main","worker",e)),p(this,rl).on("ready",()=>{}),ve(this,Ka,Jb).call(this)},$N=function(){if(p(qr,xf)||p(qr,r1,Qb)){ve(this,Ka,Km).call(this);return}let{workerSrc:e}=qr;try{qr._isSameOrigin(window.location,e)||(e=qr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Hm("main","worker",t),i=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?p(this,yd).reject(new Error("Worker was destroyed")):ve(this,Ka,Km).call(this)},a=new AbortController;t.addEventListener("error",()=>{p(this,yf)||i()},{signal:a.signal}),n.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}Q(this,rl,n),Q(this,Zc,t),Q(this,yf,t),ve(this,Ka,Jb).call(this)}),n.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{ve(this,Ka,Km).call(this)}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{Ux("The worker has been disabled.")}ve(this,Ka,Km).call(this)},Km=function(){p(qr,xf)||(xn("Setting up fake worker."),Q(qr,xf,!0)),qr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){p(this,yd).reject(new Error("Worker was destroyed"));return}const t=new Cq;Q(this,Zc,t);const n=`fake${Ri(qr,_x)._++}`,i=new Hm(n+"_worker",n,t);e.setup(i,t),Q(this,rl,new Hm(n,n+"_worker",t)),ve(this,Ka,Jb).call(this)}).catch(e=>{p(this,yd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},r1=new WeakSet,Qb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},de(qr,r1),de(qr,_x,0),de(qr,xf,!1),de(qr,wf,new WeakMap),Wa&&(Q(qr,xf,!0),Jl.workerSrc||(Jl.workerSrc="./pdf.worker.mjs")),qr._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},qr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},qr.fromPort=e=>{if(uq("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return qr.create(e)};let xg=qr;var Jc,ql,i1,a1,Qc,_f,Ym;class yH{constructor(e,t,n,i,a,s){de(this,_f);de(this,Jc,new Map);de(this,ql,new Map);de(this,i1,new Map);de(this,a1,new Map);de(this,Qc,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new GN,this.fontLoader=new wq({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return wn(this,"annotationStorage",new Q4)}getRenderingIntent(e,t=Ku.ENABLE,n=null,i=!1,a=!1){let s=Vs.DISPLAY,o=u3;switch(e){case"any":s=Vs.ANY;break;case"display":break;case"print":s=Vs.PRINT;break;default:xn(`getRenderingIntent - invalid intent: ${e}`)}const l=s&Vs.PRINT&&n instanceof NN?n:this.annotationStorage;switch(t){case Ku.DISABLE:s+=Vs.ANNOTATIONS_DISABLE;break;case Ku.ENABLE:break;case Ku.ENABLE_FORMS:s+=Vs.ANNOTATIONS_FORMS;break;case Ku.ENABLE_STORAGE:s+=Vs.ANNOTATIONS_STORAGE,o=l.serializable;break;default:xn(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=Vs.IS_EDITING),a&&(s+=Vs.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[s,o.hash,u];return{renderingIntent:s,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=p(this,Qc))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of p(this,ql).values())e.push(i._destroy());p(this,ql).clear(),p(this,i1).clear(),p(this,a1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),p(this,Jc).clear(),this.filterFactory.destroy(),yg.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Xd("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}Hn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{Hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}Hn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new vH(n,this))}),e.on("DocException",n=>{t._capability.reject(ts(n))}),e.on("PasswordRequest",n=>{Q(this,Qc,Promise.withResolvers());try{if(!t.onPassword)throw ts(n);const i=a=>{a instanceof Error?p(this,Qc).reject(a):p(this,Qc).resolve({password:a})};t.onPassword(i,n.code)}catch(i){p(this,Qc).reject(i)}return p(this,Qc).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;p(this,ql).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in a){const h=a.error;xn(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const o=new d3(a),l=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new _q(o,l,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=a;Hn(u,"The imageRef must be defined.");for(const h of p(this,ql).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,a);break;case"Pattern":const d=new h3(a);this.commonObjs.resolve(n,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,s])=>{var l;if(this.destroyed)return;const o=p(this,ql).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&xn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=p(this,i1).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&p(this,a1).set(a.refStr,e);const s=new bH(t,a,this,this._params.pdfBug);return p(this,ql).set(t,s),s});return p(this,i1).set(t,i),i}getPageIndex(e){return f3(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ve(this,_f,Ym).call(this,"GetFieldObjects")}hasJSActions(){return ve(this,_f,Ym).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return ve(this,_f,Ym).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ve(this,_f,Ym).call(this,"GetOptionalContentConfig").then(t=>new Jq(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=p(this,Jc).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new Yq(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null,hasStructTree:i[2]}});return p(this,Jc).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of p(this,ql).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),p(this,Jc).clear(),this.filterFactory.destroy(!0),yg.cleanup()}}cachedPageNumber(e){if(!f3(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return p(this,a1).get(t)??null}}Jc=new WeakMap,ql=new WeakMap,i1=new WeakMap,a1=new WeakMap,Qc=new WeakMap,_f=new WeakSet,Ym=function(e,t=null){const n=p(this,Jc).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return p(this,Jc).set(e,i),i};var xd;class xH{constructor(e){de(this,xd,null);xt(this,"onContinue",null);xt(this,"onError",null);Q(this,xd,e)}get promise(){return p(this,xd).capability.promise}cancel(e=0){p(this,xd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=p(this,xd).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=p(this,xd);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}xd=new WeakMap;var wd,Sf;const Ph=class Ph{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:g=null}){de(this,wd,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=f,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(p(Ph,Sf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Ph,Sf).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:a,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new sp(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n,i,a;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),p(this,wd)&&(window.cancelAnimationFrame(p(this,wd)),Q(this,wd,null)),p(Ph,Sf).delete(this._canvas),e||(e=new Z4(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Q(this,wd,window.requestAnimationFrame(()=>{Q(this,wd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Ph,Sf).delete(this._canvas),this.callback())))}};wd=new WeakMap,Sf=new WeakMap,de(Ph,Sf,new WeakSet);let T3=Ph;const wH="5.4.449",_H="f44e5f0e6";var Is,Af,s1,Fi,Lv,o1,$c,Dv,_d,il,Bv,xr,N3,R3,I3,Eh,eR,Wu;const ns=class ns{constructor({editor:e=null,uiManager:t=null}){de(this,xr);de(this,Is,null);de(this,Af,null);de(this,s1);de(this,Fi,null);de(this,Lv,!1);de(this,o1,!1);de(this,$c,null);de(this,Dv);de(this,_d,null);de(this,il,null);var n,i;e?(Q(this,o1,!1),Q(this,$c,e)):Q(this,o1,!0),Q(this,il,(e==null?void 0:e._uiManager)||t),Q(this,Dv,p(this,il)._eventBus),Q(this,s1,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=p(this,il))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),p(ns,Bv)||Q(ns,Bv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return wn(this,"_keyboardManager",new S2([[["Escape","mac+Escape"],ns.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ns.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ns.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ns.prototype._moveToPrevious],[["Home","mac+Home"],ns.prototype._moveToBeginning],[["End","mac+End"],ns.prototype._moveToEnd]]))}renderButton(){const e=Q(this,Is,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",p(this,$c)&&(e.ariaControls=`${p(this,$c).id}_colorpicker_dropdown`);const t=p(this,il)._signal;e.addEventListener("click",ve(this,xr,Eh).bind(this),{signal:t}),e.addEventListener("keydown",ve(this,xr,I3).bind(this),{signal:t});const n=Q(this,Af,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=p(this,s1),e.append(n),e}renderMainDropdown(){const e=Q(this,Fi,ve(this,xr,N3).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===p(this,Is)){ve(this,xr,Eh).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ve(this,xr,R3).call(this,t,e)}_moveToNext(e){var t,n;if(!p(this,xr,Wu)){ve(this,xr,Eh).call(this,e);return}if(e.target===p(this,Is)){(t=p(this,Fi).firstElementChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=p(this,Fi))==null?void 0:t.firstElementChild)||e.target===p(this,Is)){p(this,xr,Wu)&&this._hideDropdownFromKeyboard();return}p(this,xr,Wu)||ve(this,xr,Eh).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!p(this,xr,Wu)){ve(this,xr,Eh).call(this,e);return}(t=p(this,Fi).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!p(this,xr,Wu)){ve(this,xr,Eh).call(this,e);return}(t=p(this,Fi).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=p(this,Fi))==null||e.classList.add("hidden"),p(this,Is).ariaExpanded="false",(t=p(this,_d))==null||t.abort(),Q(this,_d,null)}_hideDropdownFromKeyboard(){var e;if(!p(this,o1)){if(!p(this,xr,Wu)){(e=p(this,$c))==null||e.unselect();return}this.hideDropdown(),p(this,Is).focus({preventScroll:!0,focusVisible:p(this,Lv)})}}updateColor(e){if(p(this,Af)&&(p(this,Af).style.backgroundColor=e),!p(this,Fi))return;const t=p(this,il).highlightColors.values();for(const n of p(this,Fi).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=p(this,Is))==null||e.remove(),Q(this,Is,null),Q(this,Af,null),(t=p(this,Fi))==null||t.remove(),Q(this,Fi,null)}};Is=new WeakMap,Af=new WeakMap,s1=new WeakMap,Fi=new WeakMap,Lv=new WeakMap,o1=new WeakMap,$c=new WeakMap,Dv=new WeakMap,_d=new WeakMap,il=new WeakMap,Bv=new WeakMap,xr=new WeakSet,N3=function(){const e=document.createElement("div"),t=p(this,il)._signal;e.addEventListener("contextmenu",Po,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),p(this,$c)&&(e.id=`${p(this,$c).id}_colorpicker_dropdown`);for(const[n,i]of p(this,il).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",p(ns,Bv)[n]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===p(this,s1),a.addEventListener("click",ve(this,xr,R3).bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",ve(this,xr,I3).bind(this),{signal:t}),e},R3=function(e,t){t.stopPropagation(),p(this,Dv).dispatch("switchannotationeditorparams",{source:this,type:qn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},I3=function(e){ns._keyboardManager.exec(this,e)},Eh=function(e){if(p(this,xr,Wu)){this.hideDropdown();return}if(Q(this,Lv,e.detail===0),p(this,_d)||(Q(this,_d,new AbortController),window.addEventListener("pointerdown",ve(this,xr,eR).bind(this),{signal:p(this,il).combinedSignal(p(this,_d))})),p(this,Is).ariaExpanded="true",p(this,Fi)){p(this,Fi).classList.remove("hidden");return}const t=Q(this,Fi,ve(this,xr,N3).call(this));p(this,Is).append(t)},eR=function(e){var t;(t=p(this,Fi))!=null&&t.contains(e.target)||this.hideDropdown()},Wu=function(){return p(this,Fi)&&!p(this,Fi).classList.contains("hidden")},de(ns,Bv,null);let zy=ns;var Hl,Ov,l1,jv;const Fh=class Fh{constructor(e){de(this,Hl,null);de(this,Ov,null);de(this,l1,null);Q(this,Ov,e),Q(this,l1,e._uiManager),p(Fh,jv)||Q(Fh,jv,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(p(this,Hl))return p(this,Hl);const{editorType:e,colorType:t,color:n}=p(this,Ov),i=Q(this,Hl,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",p(Fh,jv)[e]),i.addEventListener("input",()=>{p(this,l1).updateParams(t,i.value)},{signal:p(this,l1)._signal}),i}update(e){p(this,Hl)&&(p(this,Hl).value=e)}destroy(){var e;(e=p(this,Hl))==null||e.remove(),Q(this,Hl,null)}hideDropdown(){}};Hl=new WeakMap,Ov=new WeakMap,l1=new WeakMap,jv=new WeakMap,de(Fh,jv,null);let Vy=Fh;function N6(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function _m(r){return Math.max(0,Math.min(255,255*r))}class R6{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_m(e),[e,e,e]}static G_HTML([e]){const t=N6(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(_m)}static RGB_HTML(e){return`#${e.map(N6).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[_m(1-Math.min(1,e+i)),_m(1-Math.min(1,n+i)),_m(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,a=1-t,s=1-n,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class SH{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Tr("Abstract method `_createSVG` called.")}}class Gy extends SH{_createSVG(e){return document.createElementNS(Ac,e)}}const AH=9,n0=new WeakSet,kH=new Date().getTimezoneOffset()*60*1e3;class V5{static create(e){switch(e.data.annotationType){case yi.LINK:return new tS(e);case yi.TEXT:return new CH(e);case yi.WIDGET:switch(e.data.fieldType){case"Tx":return new TH(e);case"Btn":return e.data.radioButton?new rR(e):e.data.checkBox?new RH(e):new IH(e);case"Ch":return new MH(e);case"Sig":return new NH(e)}return new l0(e);case yi.POPUP:return new P3(e);case yi.FREETEXT:return new lR(e);case yi.LINE:return new FH(e);case yi.SQUARE:return new LH(e);case yi.CIRCLE:return new DH(e);case yi.POLYLINE:return new cR(e);case yi.CARET:return new OH(e);case yi.INK:return new nS(e);case yi.POLYGON:return new BH(e);case yi.HIGHLIGHT:return new uR(e);case yi.UNDERLINE:return new jH(e);case yi.SQUIGGLY:return new UH(e);case yi.STRIKEOUT:return new qH(e);case yi.STAMP:return new dR(e);case yi.FILEATTACHMENT:return new HH(e);default:return new Yr(e)}}}var kf,c1,So,Uv,M3;const qS=class qS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){de(this,Uv);de(this,kf,null);de(this,c1,!1);de(this,So,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return qS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let a=-1/0,s=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>s?(s=t[l+1],a=t[l+2]):t[l+1]===s&&(a=Math.max(a,t[l+2]));return[a,s]}if((n==null?void 0:n.length)>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>s?(s=l[c+1],a=l[c]):l[c+1]===s&&(a=Math.max(a,l[c]));if(a!==1/0)return[a,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-a)/n,e[1]=100*(e[1]-s)/i,e}get commentText(){var t,n,i;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${gg}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${gg}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=p(this,So))==null?void 0:e.popup)||this.popup)==null||t.remove(),Q(this,So,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(p(this,kf)||Q(this,kf,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&ve(this,Uv,M3).call(this,t);let i=((a=p(this,So))==null?void 0:a.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=p(this,So).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),Q(this,So,null),this.popup=null))}resetEdited(){var e;p(this,kf)&&(ve(this,Uv,M3).call(this,p(this,kf).rect),(e=p(this,So))==null||e.popup.resetEdited(),Q(this,kf,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),!(this instanceof l0)&&!(this instanceof tS)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof P3){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,a),a}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(y>0||w>0){const T=`calc(${y}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;s.borderRadius=T}else if(this instanceof rR){const T=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;s.borderRadius=T}switch(t.borderStyle.style){case B0.SOLID:s.borderStyle="solid";break;case B0.DASHED:s.borderStyle="dashed";break;case B0.BEVELED:xn("Unimplemented border style: beveled");break;case B0.INSET:xn("Unimplemented border style: inset");break;case B0.UNDERLINE:s.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(Q(this,c1,!0),s.borderColor=Vt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):s.borderWidth=0}const c=Vt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=i.rawDims;s.left=`${100*(c[0]-h)/u}%`,s.top=`${100*(c[1]-f)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(s.width=`${100*o/u}%`,s.height=`${100*l/d}%`):this.setRotation(g,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),t.style.width=`${100*a/n}%`,t.style.height=`${100*s/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const a=i.detail[t],s=a[0],o=a.slice(1);i.target.style[n]=R6[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:R6[`${s}_rgb`](o)})};return wn(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const a=e[i]||n[i];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,a]of Object.entries(t)){const s=n[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,a]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,w,x,T]=e.subarray(2,6);if(i===y&&a===w&&t===x&&n===T)return}const{style:s}=this.container;let o;if(p(this,c1)){const{borderColor:y,borderWidth:w}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-t,c=a-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),g=`clippath_${this.data.id}`;f.setAttribute("id",g),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let y=2,w=e.length;y<w;y+=8){const x=e[y],T=e[y+1],v=e[y+2],R=e[y+3],M=u.createElement("rect"),B=(v-t)/l,L=(a-T)/c,z=(x-v)/l,H=(T-R)/c;M.setAttribute("x",B),M.setAttribute("y",L),M.setAttribute("width",z),M.setAttribute("height",H),f.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${L}" width="${z}" height="${H}"/>`)}p(this,c1)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate),Q(this,So,new P3({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(p(this,So)||this.popup||this.data.popupRef)}get extraPopupElement(){return p(this,So)}render(){Tr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!n0.has(c)){xn(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==t&&n0.has(i)&&n.push({id:s,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};kf=new WeakMap,c1=new WeakMap,So=new WeakMap,Uv=new WeakSet,M3=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/a}%`,t.top=`${100*(s-e[3]+l)/s}%`,i===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)};let Yr=qS;class EH extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Ws,Ch,tR,nR;class tS extends Yr{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});de(this,Ws);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(ve(this,Ws,tR).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(ve(this,Ws,nR).call(this,i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&ve(this,Ws,Ch).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),ve(this,Ws,Ch).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const s=i.get(a);s&&(t[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),ve(this,Ws,Ch).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ve(this,Ws,Ch).call(this),!this._fieldObjects){xn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:a,refs:s,include:o}=n,l=[];if(a.length!==0||s.length!==0){const h=new Set(s);for(const f of a){const g=this._fieldObjects[f]||[];for(const{id:y}of g)h.add(y)}for(const f of Object.values(this._fieldObjects))for(const g of f)h.has(g.id)===o&&l.push(g)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,u=[];for(const h of l){const{id:f}=h;switch(u.push(f),h.type){case"text":{const y=h.defaultValue||"";c.setValue(f,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;c.setValue(f,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";c.setValue(f,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!n0.has(g)){xn(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Ws=new WeakSet,Ch=function(){this.container.setAttribute("data-internal-link","")},tR=function(t,n,i="",a=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,a),!1},ve(this,Ws,Ch).call(this)},nR=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),ve(this,Ws,Ch).call(this)};class CH extends Yr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class l0 extends Yr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ga.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,a){n.includes("mouse")?e.addEventListener(n,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{var o;if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,t,n,i){var a,s,o;for(const[l,c]of n)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||AH,a=e.style;let s;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(D5*i))||1,d=c/u;s=Math.min(i,l(d/D5))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(c/D5))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=Vt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class TH extends l0{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),a.setValue(s.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),n0.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:f}=this.data,g=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",w=>{const x=this.data.defaultFieldValue??"";n.value=u.userValue=x,u.formattedValue=null});let y=w=>{const{formattedValue:x}=u;x!=null&&(w.target.value=x),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",x=>{var v;if(u.focused)return;const{target:T}=x;if(g&&(T.type=h,f&&(T.step=f)),u.userValue){const R=u.userValue;if(g)if(h==="time"){const M=new Date(R),B=[M.getHours(),M.getMinutes(),M.getSeconds()];T.value=B.map(L=>L.toString().padStart(2,"0")).join(":")}else T.value=new Date(R-kH).toISOString().split(h==="date"?"T":".",1)[0];else T.value=R}u.lastCommittedValue=T.value,u.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const T={value(v){u.userValue=v.detail.value??"",g||e.setValue(t,{value:u.userValue.toString()}),v.target.value=u.userValue},formattedValue(v){const{formattedValue:R}=v.detail;u.formattedValue=R,R!=null&&v.target!==document.activeElement&&(v.target.value=R);const M={formattedValue:R};g&&(M.value=R),e.setValue(t,M)},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var L;const{charLimit:R}=v.detail,{target:M}=v;if(R===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",R);let B=u.userValue;!B||B.length<=R||(B=B.slice(0,R),M.value=u.userValue=B,e.setValue(t,{value:B}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:B,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(T,x)}),n.addEventListener("keydown",x=>{var R;u.commitKey=1;let T=-1;if(x.key==="Escape"?T=0:x.key==="Enter"&&!this.data.multiLine?T=2:x.key==="Tab"&&(u.commitKey=3),T===-1)return;const{value:v}=x.target;u.lastCommittedValue!==v&&(u.lastCommittedValue=v,u.userValue=v,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:T,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const w=y;y=null,n.addEventListener("blur",x=>{var R,M;if(!u.focused||!x.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(u.focused=!1);const{target:T}=x;let{value:v}=T;if(g){if(v&&h==="time"){const B=v.split(":").map(L=>parseInt(L,10));v=new Date(2e3,0,1,B[0],B[1],B[2]||0).valueOf(),T.step=""}else v.includes("T")||(v=`${v}T00:00`),v=new Date(v).valueOf();T.type="text"}u.userValue=v,u.lastCommittedValue!==v&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:u.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),w(x)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",x=>{var H;u.lastCommittedValue=null;const{data:T,target:v}=x,{value:R,selectionStart:M,selectionEnd:B}=v;let L=M,z=B;switch(x.inputType){case"deleteWordBackward":{const $=R.substring(0,M).match(/\w*[^\w]*$/);$&&(L-=$[0].length);break}case"deleteWordForward":{const $=R.substring(M).match(/^[^\w]*\w*/);$&&(z+=$[0].length);break}case"deleteContentBackward":M===B&&(L-=1);break;case"deleteContentForward":M===B&&(z+=1);break}x.preventDefault(),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:T||"",willCommit:!1,selStart:L,selEnd:z}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class NH extends l0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class RH extends l0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return n0.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=t.defaultFieldValue||"Off";s.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class rR extends l0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(n0.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=t.defaultFieldValue;s.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=s===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class IH extends tS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class MH extends l0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");n0.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),a=!1),i.append(d)}let s=null;if(a){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),s=()=>{u.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){s==null||s();const f=h.detail.value,g=new Set(Array.isArray(f)?f:[f]);for(const y of i.options)y.selected=g.has(y.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,g=h.detail.remove;f[g].selected=!1,i.remove(g),f.length>0&&Array.prototype.findIndex.call(f,w=>w.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:g,exportValue:y}=h.detail.insert,w=i.children[f],x=document.createElement("option");x.textContent=g,x.value=y,w?w.before(x):i.append(x),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of f){const{displayValue:y,exportValue:w}=g,x=document.createElement("option");x.textContent=y,x.value=w,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const g of h.target.options)g.selected=f.has(g.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var f;const d=o(!0),h=o(!1);e.setValue(t,{value:d}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var qv,F3;class P3 extends Yr{constructor(t){const{data:n,elements:i,parent:a}=t,s=!!a._commentManager;super(t,{isRenderable:!s&&Yr._hasPopupData(n)});de(this,qv);if(this.elements=i,s&&Yr._hasPopupData(n)){const o=this.popup=ve(this,qv,F3).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=ve(this,qv,F3).call(this),i=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${K0}${a}`).join(",")),this.container}}qv=new WeakSet,F3=function(){return new PH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ms,Sd,Sx,Ax,u1,d1,ti,zl,Ad,Ef,h1,f1,Vl,Ps,eu,tu,ni,nu,kd,Hv,ru,p1,Cf,Ed,Vi,Cd,Pn,$b,L3,D3,B3,ey,O3,iR,aR,sR,oR,ty,ny,j3;class PH{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:d,commentManager:h=null}){de(this,Pn);de(this,Ms,null);de(this,Sd,ve(this,Pn,sR).bind(this));de(this,Sx,ve(this,Pn,j3).bind(this));de(this,Ax,ve(this,Pn,ny).bind(this));de(this,u1,ve(this,Pn,ty).bind(this));de(this,d1,null);de(this,ti,null);de(this,zl,null);de(this,Ad,null);de(this,Ef,null);de(this,h1,null);de(this,f1,null);de(this,Vl,!1);de(this,Ps,null);de(this,eu,null);de(this,tu,null);de(this,ni,null);de(this,nu,null);de(this,kd,null);de(this,Hv,null);de(this,ru,null);de(this,p1,null);de(this,Cf,null);de(this,Ed,!1);de(this,Vi,null);de(this,Cd,null);Q(this,ti,e),Q(this,p1,i),Q(this,zl,s),Q(this,ru,o),Q(this,h1,l),Q(this,d1,t),Q(this,Hv,c),Q(this,f1,u),Q(this,Ef,n),Q(this,Ms,h),Q(this,Vi,n[0]),Q(this,Ad,By.toDateObject(a)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),h||(ve(this,Pn,$b).call(this),p(this,ti).hidden=!0,d&&ve(this,Pn,ty).call(this))}renderCommentButton(){if(p(this,ni)){p(this,ni).parentNode||p(this,Vi).container.after(p(this,ni));return}if(p(this,nu)||ve(this,Pn,L3).call(this),!p(this,nu))return;const{signal:e}=Q(this,eu,new AbortController),t=p(this,Vi).hasOwnCommentButton,n=()=>{p(this,Ms).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{p(this,Ms).toggleCommentPopup(this,!1,!0,!t)},a=()=>{p(this,Ms).toggleCommentPopup(this,!1,!1)};if(t){Q(this,ni,p(this,Vi).container);for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",p(this,Sd),{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=Q(this,ni,document.createElement("button"));s.className="annotationCommentButton";const o=p(this,Vi).container;s.style.zIndex=o.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),ve(this,Pn,B3).call(this),ve(this,Pn,D3).call(this),s.addEventListener("keydown",p(this,Sd),{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),o.after(s)}}get commentButtonColor(){const{color:e,opacity:t}=p(this,Vi).commentData;return e?p(this,h1)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=p(this,ni))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:a}=p(this,Vi).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:a}}get elementBeforePopup(){return p(this,ni)}get comment(){return p(this,Cd)||Q(this,Cd,p(this,Vi).commentText),p(this,Cd)}set comment(e){e!==this.comment&&(p(this,Vi).commentText=Q(this,Cd,e))}focus(){var e;(e=p(this,Vi).container)==null||e.focus()}get parentBoundingClientRect(){return p(this,Vi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){p(this,ni)&&(p(this,ni).classList.toggle("selected",e),p(this,ni).ariaExpanded=t)}setSelectedCommentButton(e){p(this,ni).classList.toggle("selected",e)}get commentPopupPosition(){if(p(this,kd))return p(this,kd);const{x:e,y:t,height:n}=p(this,ni).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=p(this,Vi).layer.getBoundingClientRect();return[(e-i)/s,(t+n-a)/o]}set commentPopupPosition(e){Q(this,kd,e)}hasDefaultPopupPosition(){return p(this,kd)===null}get commentButtonPosition(){return p(this,nu)}get commentButtonWidth(){return p(this,ni).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=p(this,kd)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:a,y:s,width:o,height:l}=i;p(this,Ms).showDialog(null,this,a+t*o,s+n*l,{...e,parentDimensions:i})}render(){var n,i;if(p(this,Ps))return;const e=Q(this,Ps,document.createElement("div"));if(e.className="popup",p(this,d1)){const a=e.style.outlineColor=Vt.makeHexColor(...p(this,d1));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=p(this,p1))!=null&&n.str){const a=document.createElement("span");a.className="title",t.append(a),{dir:a.dir,str:a.textContent}=p(this,p1)}if(e.append(t),p(this,Ad)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,Ad).valueOf()})),a.dateTime=p(this,Ad).toISOString(),t.append(a)}KT({html:p(this,Pn,ey)||p(this,zl).str,dir:(i=p(this,zl))==null?void 0:i.dir,className:"popupContent"},e),p(this,ti).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(p(this,Ms)){n?(this.remove(),Q(this,Cd,null)):t&&(t.deleted?this.remove():(ve(this,Pn,B3).call(this),Q(this,Cd,t.text))),e&&(Q(this,nu,null),ve(this,Pn,L3).call(this),ve(this,Pn,D3).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}ve(this,Pn,$b).call(this),p(this,Cf)||Q(this,Cf,{contentsObj:p(this,zl),richText:p(this,ru)}),e&&Q(this,tu,null),t&&t.text&&(Q(this,ru,ve(this,Pn,aR).call(this,t.text)),Q(this,Ad,By.toDateObject(t.date)),Q(this,zl,null)),(i=p(this,Ps))==null||i.remove(),Q(this,Ps,null)}resetEdited(){var e;p(this,Cf)&&({contentsObj:Ri(this,zl)._,richText:Ri(this,ru)._}=p(this,Cf),Q(this,Cf,null),(e=p(this,Ps))==null||e.remove(),Q(this,Ps,null),Q(this,tu,null))}remove(){var e,t,n;if((e=p(this,eu))==null||e.abort(),Q(this,eu,null),(t=p(this,Ps))==null||t.remove(),Q(this,Ps,null),Q(this,Ed,!1),Q(this,Vl,!1),(n=p(this,ni))==null||n.remove(),Q(this,ni,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){Q(this,Ed,this.isVisible),p(this,Ed)&&(p(this,ti).hidden=!0)}maybeShow(){p(this,Ms)||(ve(this,Pn,$b).call(this),p(this,Ed)&&(p(this,Ps)||ve(this,Pn,ny).call(this),Q(this,Ed,!1),p(this,ti).hidden=!1))}get isVisible(){return p(this,Ms)?!1:p(this,ti).hidden===!1}}Ms=new WeakMap,Sd=new WeakMap,Sx=new WeakMap,Ax=new WeakMap,u1=new WeakMap,d1=new WeakMap,ti=new WeakMap,zl=new WeakMap,Ad=new WeakMap,Ef=new WeakMap,h1=new WeakMap,f1=new WeakMap,Vl=new WeakMap,Ps=new WeakMap,eu=new WeakMap,tu=new WeakMap,ni=new WeakMap,nu=new WeakMap,kd=new WeakMap,Hv=new WeakMap,ru=new WeakMap,p1=new WeakMap,Cf=new WeakMap,Ed=new WeakMap,Vi=new WeakMap,Cd=new WeakMap,Pn=new WeakSet,$b=function(){var t;if(p(this,eu))return;Q(this,eu,new AbortController);const{signal:e}=p(this,eu);for(const n of this.trigger)n.addEventListener("click",p(this,u1),{signal:e}),n.addEventListener("pointerenter",p(this,Ax),{signal:e}),n.addEventListener("pointerleave",p(this,Sx),{signal:e}),n.classList.add("popupTriggerArea");for(const n of p(this,Ef))(t=n.container)==null||t.addEventListener("keydown",p(this,Sd),{signal:e})},L3=function(){const e=p(this,Ef).find(t=>t.hasCommentButton);e&&Q(this,nu,e._normalizePoint(e.commentButtonPosition))},D3=function(){if(p(this,Vi).extraPopupElement&&!p(this,Vi).editor)return;p(this,ni)||this.renderCommentButton();const[e,t]=p(this,nu),{style:n}=p(this,ni);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},B3=function(){p(this,Vi).extraPopupElement||(p(this,ni)||this.renderCommentButton(),p(this,ni).style.backgroundColor=this.commentButtonColor||"")},ey=function(){const e=p(this,ru),t=p(this,zl);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&p(this,ru).html||null},O3=function(){var e,t,n;return((n=(t=(e=p(this,Pn,ey))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},iR=function(){var e,t,n;return((n=(t=(e=p(this,Pn,ey))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},aR=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:p(this,Pn,iR),fontSize:p(this,Pn,O3)?`calc(${p(this,Pn,O3)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:i});return n},sR=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&p(this,Vl))&&ve(this,Pn,ty).call(this)},oR=function(){if(p(this,tu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:a}}}=p(this,h1);let s=!!p(this,f1),o=s?p(this,f1):p(this,Hv);for(const g of p(this,Ef))if(!o||Vt.intersect(g.data.rect,o)!==null){o=g.data.rect,s=!0;break}const l=Vt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=s?o[2]-o[0]+5:0,d=l[0]+u,h=l[1];Q(this,tu,[100*(d-i)/t,100*(h-a)/n]);const{style:f}=p(this,ti);f.left=`${p(this,tu)[0]}%`,f.top=`${p(this,tu)[1]}%`},ty=function(){if(p(this,Ms)){p(this,Ms).toggleCommentPopup(this,!1);return}Q(this,Vl,!p(this,Vl)),p(this,Vl)?(ve(this,Pn,ny).call(this),p(this,ti).addEventListener("click",p(this,u1)),p(this,ti).addEventListener("keydown",p(this,Sd))):(ve(this,Pn,j3).call(this),p(this,ti).removeEventListener("click",p(this,u1)),p(this,ti).removeEventListener("keydown",p(this,Sd)))},ny=function(){p(this,Ps)||this.render(),this.isVisible?p(this,Vl)&&p(this,ti).classList.add("focused"):(ve(this,Pn,oR).call(this),p(this,ti).hidden=!1,p(this,ti).style.zIndex=parseInt(p(this,ti).style.zIndex)+1e3)},j3=function(){p(this,ti).classList.remove("focused"),!(p(this,Vl)||!this.isVisible)&&(p(this,ti).hidden=!0,p(this,ti).style.zIndex=parseInt(p(this,ti).style.zIndex)-1e3)};class lR extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=An.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var zv;class FH extends Yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});de(this,zv,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=Q(this,zv,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,zv)}addHighlightArea(){this.container.classList.add("highlightArea")}}zv=new WeakMap;var Vv;class LH extends Yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});de(this,Vv,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=t.borderStyle.width,o=Q(this,Vv,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Vv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vv=new WeakMap;var Gv;class DH extends Yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});de(this,Gv,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=t.borderStyle.width,o=Q(this,Gv,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Gv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gv=new WeakMap;var Wv;class cR extends Yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});de(this,Wv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:a},width:s,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(s,o,!0);let c=[];for(let d=0,h=n.length;d<h;d+=2){const f=n[d]-t[0],g=t[3]-n[d+1];c.push(`${f},${g}`)}c=c.join(" ");const u=Q(this,Wv,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wv=new WeakMap;class BH extends cR{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class OH extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Xv,Tf,Kv,U3;class nS extends Yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});de(this,Kv);de(this,Xv,null);de(this,Tf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?An.HIGHLIGHT:An.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:l,height:c}=ve(this,Kv,U3).call(this,n,t),u=this.svgFactory.create(l,c,!0),d=Q(this,Xv,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",a.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let h=0,f=i.length;h<f;h++){const g=this.svgFactory.createElement(this.svgElementName);p(this,Tf).push(g),g.setAttribute("points",i[h].join(",")),d.append(g)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:a}=t,s=p(this,Xv);if(n>=0&&s.setAttribute("stroke-width",n||1),i)for(let o=0,l=p(this,Tf).length;o<l;o++)p(this,Tf)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:l,height:c}=ve(this,Kv,U3).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return p(this,Tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xv=new WeakMap,Tf=new WeakMap,Kv=new WeakSet,U3=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class uR extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=An.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class jH extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class UH extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class qH extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class dR extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=An.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Yv,Zv,q3;class HH extends Yr{constructor(t){var i;super(t,{isRenderable:!0});de(this,Zv);de(this,Yv,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ve(this,Zv,q3).bind(this)),Q(this,Yv,i);const{isMac:a}=ga.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&ve(this,Zv,q3).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return p(this,Yv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yv=new WeakMap,Zv=new WeakSet,q3=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Nf,Rf,m1,Td,Jv,If,Fs,Qv,gu,ry,z3;const HS=class HS{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){de(this,gu);de(this,Nf,null);de(this,Rf,null);de(this,m1,null);de(this,Td,new Map);de(this,Jv,null);de(this,If,null);de(this,Fs,[]);de(this,Qv,!1);this.div=e,Q(this,Nf,t),Q(this,Rf,n),Q(this,Jv,o||null),Q(this,If,c||null),Q(this,m1,u||new Q4),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return p(this,Td).size>0}async render(e){var o;const{annotations:t}=e,n=this.div;e0(n,this.viewport);const i=new Map,a=[],s={data:null,layer:n,linkService:p(this,If),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Gy,annotationStorage:p(this,m1),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===yi.POPUP;if(c){const h=i.get(l.id);if(!h)continue;if(!this._commentManager){a.push(l);continue}s.elements=h}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;s.data=l;const u=V5.create(s);if(!u.isRenderable)continue;if(!c&&(p(this,Fs).push(u),l.popupRef)){const h=i.get(l.popupRef);h?h.push(u):i.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),u._isEditable&&(p(this,Td).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await ve(this,gu,ry).call(this);for(const l of a){const c=s.elements=i.get(l.id);s.data=l;const u=V5.create(s);if(!u.isRenderable)continue;const d=u.render();u.contentElement.id=`${K0}${l.id}`,l.hidden&&(d.style.visibility="hidden"),c.at(-1).container.after(d)}ve(this,gu,z3).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:p(this,If),svgFactory:new Gy,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=HS._defaultBorderStyle),t.data=n;const i=V5.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${K0}${n.id}`,p(this,Fs).push(i))}await ve(this,gu,ry).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,e0(t,{rotation:e.rotation}),ve(this,gu,z3).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(p(this,Td).values())}getEditableAnnotation(e){return p(this,Td).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:i}=e,a=new EH({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:p(this,If),annotationStorage:p(this,m1)});return a.render(),a.contentElement.id=`${K0}${n}`,a.createOrUpdatePopup(),p(this,Fs).push(a),a}removeAnnotation(e){var i;const t=p(this,Fs).findIndex(a=>a.data.id===e);if(t<0)return;const[n]=p(this,Fs).splice(t,1);(i=p(this,Nf))==null||i.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);ve(this,gu,ry).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return wn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:B0.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Nf=new WeakMap,Rf=new WeakMap,m1=new WeakMap,Td=new WeakMap,Jv=new WeakMap,If=new WeakMap,Fs=new WeakMap,Qv=new WeakMap,gu=new WeakSet,ry=async function(){var n,i,a;if(p(this,Fs).length===0)return;this.div.replaceChildren();const e=[];if(!p(this,Qv)){Q(this,Qv,!0);for(const{contentElement:s,data:{id:o}}of p(this,Fs)){const l=s.id=`${K0}${o}`;e.push((n=p(this,Jv))==null?void 0:n.getAriaAttributes(l).then(c=>{if(c)for(const[u,d]of c)s.setAttribute(u,d)}))}}p(this,Fs).sort(({data:{rect:[s,o,l,c]}},{data:{rect:[u,d,h,f]}})=>{if(s===l&&o===c)return 1;if(u===h&&d===f)return-1;const g=c,y=o,w=(o+c)/2,x=f,T=d,v=(d+f)/2;if(w>=x&&v<=y)return-1;if(v>=g&&w<=T)return 1;const R=(s+l)/2,M=(u+h)/2;return R-M});const t=document.createDocumentFragment();for(const s of p(this,Fs))t.append(s.container),this._commentManager?(a=((i=s.extraPopupElement)==null?void 0:i.popup)||s.popup)==null||a.renderCommentButton():s.extraPopupElement&&t.append(s.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),p(this,Nf))for(const s of p(this,Fs))p(this,Nf).addPointerInTextLayer(s.contentElement,!1)},z3=function(){var t;if(!p(this,Rf))return;const e=this.div;for(const[n,i]of p(this,Rf)){const a=e.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const o=p(this,Td).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}p(this,Rf).clear()};let H3=HS;const hb=/\r\n?|\n/g;var Ls,$v,Mf,Ds,_i,hR,fR,pR,iy,vu,ay,sy,mR,G3,gR;const Lr=class Lr extends Pr{constructor(t){super({...t,name:"freeTextEditor"});de(this,_i);de(this,Ls,"");de(this,$v,`${this.id}-editor`);de(this,Mf,null);de(this,Ds);xt(this,"_colorPicker",null);this.color=t.color||Lr._defaultColor||Pr._defaultLineColor,Q(this,Ds,t.fontSize||Lr._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Lr.prototype,n=s=>s.isEmpty(),i=t0.TRANSLATE_SMALL,a=t0.TRANSLATE_BIG;return wn(this,"_keyboardManager",new S2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(t,n){Pr.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case qn.FREETEXT_SIZE:Lr._defaultFontSize=n;break;case qn.FREETEXT_COLOR:Lr._defaultColor=n;break}}updateParams(t,n){switch(t){case qn.FREETEXT_SIZE:ve(this,_i,hR).call(this,n);break;case qn.FREETEXT_COLOR:ve(this,_i,fR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[qn.FREETEXT_SIZE,Lr._defaultFontSize],[qn.FREETEXT_COLOR,Lr._defaultColor||Pr._defaultLineColor]]}get propertiesToUpdate(){return[[qn.FREETEXT_SIZE,p(this,Ds)],[qn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Vy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return qn.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Lr._internalPadding*t,-(Lr._internalPadding+p(this,Ds))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Q(this,Mf,new AbortController);const t=this._uiManager.combinedSignal(p(this,Mf));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,$v)),this._isDraggable=!0,(t=p(this,Mf))==null||t.abort(),Q(this,Mf,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=p(this,Ls),n=Q(this,Ls,ve(this,_i,pR).call(this).trimEnd());if(t===n)return;const i=a=>{if(Q(this,Ls,a),!a){this.remove();return}ve(this,_i,sy).call(this),this._uiManager.rebuild(this),ve(this,_i,iy).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),ve(this,_i,iy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Lr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,$v)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${p(this,Ds)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[h,f]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(o[0]-h)/u,y=n+this.height-(o[1]-f)/d;break;case 90:g=t+(o[0]-h)/u,y=n-(o[1]-f)/d,[l,c]=[c,-l];break;case 180:g=t-this.width+(o[0]-h)/u,y=n-(o[1]-f)/d,[l,c]=[-l,-c];break;case 270:g=t+(o[0]-h-this.height*d)/u,y=n+(o[1]-f-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*a,y*s,l,c)}else this._moveAfterPaste(t,n);ve(this,_i,sy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,w;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=ve(g=Lr,vu,G3).call(g,n.getData("text")||"").replaceAll(hb,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(hb,"")),x!==this.editorDiv){let T=u;for(const v of this.editorDiv.childNodes){if(v===x){T=d;continue}T.push(ve(y=Lr,vu,ay).call(y,v))}}u.push(l.nodeValue.slice(0,c).replaceAll(hb,""))}else if(l===this.editorDiv){let x=u,T=0;for(const v of this.editorDiv.childNodes)T++===c&&(x=d),x.push(ve(w=Lr,vu,ay).call(w,v))}Q(this,Ls,`${u.join(`
`)}${a}${d.join(`
`)}`),ve(this,_i,sy).call(this);const h=new Range;let f=Math.sumPrecise(u.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const T=x.nodeValue.length;if(f<=T){h.setStart(x,f),h.setEnd(x,f);break}f-=T}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Lr._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var o;let a=null;if(t instanceof lR){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:h,popupRef:f,richText:g,contentsObj:y,creationDate:w,modificationDate:x},textContent:T,textPosition:v,parent:{page:{pageNumber:R}}}=t;if(!T||T.length===0)return null;a=t={annotationType:An.FREETEXT,color:Array.from(c),fontSize:l,value:T.join(`
`),position:v,pageIndex:R-1,rect:u.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:f,comment:(y==null?void 0:y.str)||null,richText:g,creationDate:w,modificationDate:x}}const s=await super.deserialize(t,n,i);return Q(s,Ds,t.fontSize),s.color=Vt.makeHexColor(...t.color),Q(s,Ls,ve(o=Lr,vu,G3).call(o,t.value)),s._initialData=a,t.comment&&s.setCommentData(t),s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Pr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:p(this,Ds),value:ve(this,_i,mR).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!ve(this,_i,gR).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${p(this,Ds)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const a of p(this,Ls).split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),n.append(s)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:p(this,Ls)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ls=new WeakMap,$v=new WeakMap,Mf=new WeakMap,Ds=new WeakMap,_i=new WeakSet,hR=function(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-p(this,Ds))*this.parentScale),Q(this,Ds,a),ve(this,_i,iy).call(this)},i=p(this,Ds);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},fR=function(t){const n=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pR=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(ve(i=Lr,vu,ay).call(i,a)),n=a);return t.join(`
`)},iy=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},vu=new WeakSet,ay=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(hb,"")},sy=function(){if(this.editorDiv.replaceChildren(),!!p(this,Ls))for(const t of p(this,Ls).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},mR=function(){return p(this,Ls).replaceAll(""," ")},G3=function(t){return t.replaceAll(" ","")},gR=function(t){const{value:n,fontSize:i,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==a[l])||t.pageIndex!==s},de(Lr,vu),xt(Lr,"_freeTextDefaultContent",""),xt(Lr,"_internalPadding",0),xt(Lr,"_defaultColor",null),xt(Lr,"_defaultFontSize",10),xt(Lr,"_type","freetext"),xt(Lr,"_editorType",An.FREETEXT);let V3=Lr;class Ht{toSVGPath(){Tr("Abstract method `toSVGPath` must be implemented.")}get box(){Tr("Abstract getter `box` must be implemented.")}serialize(e,t){Tr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o]*i,s[o+1]=n+e[o+1]*a;return s}static _rescaleAndSwap(e,t,n,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o+1]*i,s[o+1]=n+e[o]*a;return s}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=t+e[a],i[a+1]=n+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,a){switch(a){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,a,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+a)/6,(5*i+s)/6,(n+a)/2,(i+s)/2]}}xt(Ht,"PRECISION",1e-4);var Bs,al,g1,v1,Gl,Fn,Pf,Ff,e2,t2,b1,y1,Nd,n2,kx,Ex,Bi,Zm,vR,bR,yR,xR,wR,_R;const Nc=class Nc{constructor({x:e,y:t},n,i,a,s,o=0){de(this,Bi);de(this,Bs);de(this,al,[]);de(this,g1);de(this,v1);de(this,Gl,[]);de(this,Fn,new Float32Array(18));de(this,Pf);de(this,Ff);de(this,e2);de(this,t2);de(this,b1);de(this,y1);de(this,Nd,[]);Q(this,Bs,n),Q(this,y1,a*i),Q(this,v1,s),p(this,Fn).set([NaN,NaN,NaN,NaN,e,t],6),Q(this,g1,o),Q(this,t2,p(Nc,n2)*i),Q(this,e2,p(Nc,Ex)*i),Q(this,b1,i),p(this,Nd).push(e,t)}isEmpty(){return isNaN(p(this,Fn)[8])}add({x:e,y:t}){var H;Q(this,Pf,e),Q(this,Ff,t);const[n,i,a,s]=p(this,Bs);let[o,l,c,u]=p(this,Fn).subarray(8,12);const d=e-c,h=t-u,f=Math.hypot(d,h);if(f<p(this,e2))return!1;const g=f-p(this,t2),y=g/f,w=y*d,x=y*h;let T=o,v=l;o=c,l=u,c+=w,u+=x,(H=p(this,Nd))==null||H.push(e,t);const R=-x/g,M=w/g,B=R*p(this,y1),L=M*p(this,y1);return p(this,Fn).set(p(this,Fn).subarray(2,8),0),p(this,Fn).set([c+B,u+L],4),p(this,Fn).set(p(this,Fn).subarray(14,18),12),p(this,Fn).set([c-B,u-L],16),isNaN(p(this,Fn)[6])?(p(this,Gl).length===0&&(p(this,Fn).set([o+B,l+L],2),p(this,Gl).push(NaN,NaN,NaN,NaN,(o+B-n)/a,(l+L-i)/s),p(this,Fn).set([o-B,l-L],14),p(this,al).push(NaN,NaN,NaN,NaN,(o-B-n)/a,(l-L-i)/s)),p(this,Fn).set([T,v,o,l,c,u],6),!this.isEmpty()):(p(this,Fn).set([T,v,o,l,c,u],6),Math.abs(Math.atan2(v-l,T-o)-Math.atan2(x,w))<Math.PI/2?([o,l,c,u]=p(this,Fn).subarray(2,6),p(this,Gl).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/a,((l+u)/2-i)/s),[o,l,T,v]=p(this,Fn).subarray(14,18),p(this,al).push(NaN,NaN,NaN,NaN,((T+o)/2-n)/a,((v+l)/2-i)/s),!0):([T,v,o,l,c,u]=p(this,Fn).subarray(0,6),p(this,Gl).push(((T+5*o)/6-n)/a,((v+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+u)/6-i)/s,((o+c)/2-n)/a,((l+u)/2-i)/s),[c,u,o,l,T,v]=p(this,Fn).subarray(12,18),p(this,al).push(((T+5*o)/6-n)/a,((v+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+u)/6-i)/s,((o+c)/2-n)/a,((l+u)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=p(this,Gl),t=p(this,al);if(isNaN(p(this,Fn)[6])&&!this.isEmpty())return ve(this,Bi,vR).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ve(this,Bi,yR).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ve(this,Bi,bR).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,a,s){return new SR(e,t,n,i,a,s)}getOutlines(){var d;const e=p(this,Gl),t=p(this,al),n=p(this,Fn),[i,a,s,o]=p(this,Bs),l=new Float32Array((((d=p(this,Nd))==null?void 0:d.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(p(this,Nd)[h]-i)/s,l[h+1]=(p(this,Nd)[h+1]-a)/o;if(l[l.length-2]=(p(this,Pf)-i)/s,l[l.length-1]=(p(this,Ff)-a)/o,isNaN(n[6])&&!this.isEmpty())return ve(this,Bi,xR).call(this,l);const c=new Float32Array(p(this,Gl).length+24+p(this,al).length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}u=ve(this,Bi,_R).call(this,c,u);for(let h=t.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(t[h+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[h+f],c[u+1]=t[h+f+1],u+=2}return ve(this,Bi,wR).call(this,c,u),this.newFreeDrawOutline(c,l,p(this,Bs),p(this,b1),p(this,g1),p(this,v1))}};Bs=new WeakMap,al=new WeakMap,g1=new WeakMap,v1=new WeakMap,Gl=new WeakMap,Fn=new WeakMap,Pf=new WeakMap,Ff=new WeakMap,e2=new WeakMap,t2=new WeakMap,b1=new WeakMap,y1=new WeakMap,Nd=new WeakMap,n2=new WeakMap,kx=new WeakMap,Ex=new WeakMap,Bi=new WeakSet,Zm=function(){const e=p(this,Fn).subarray(4,6),t=p(this,Fn).subarray(16,18),[n,i,a,s]=p(this,Bs);return[(p(this,Pf)+(e[0]-t[0])/2-n)/a,(p(this,Ff)+(e[1]-t[1])/2-i)/s,(p(this,Pf)+(t[0]-e[0])/2-n)/a,(p(this,Ff)+(t[1]-e[1])/2-i)/s]},vR=function(){const[e,t,n,i]=p(this,Bs),[a,s,o,l]=ve(this,Bi,Zm).call(this);return`M${(p(this,Fn)[2]-e)/n} ${(p(this,Fn)[3]-t)/i} L${(p(this,Fn)[4]-e)/n} ${(p(this,Fn)[5]-t)/i} L${a} ${s} L${o} ${l} L${(p(this,Fn)[16]-e)/n} ${(p(this,Fn)[17]-t)/i} L${(p(this,Fn)[14]-e)/n} ${(p(this,Fn)[15]-t)/i} Z`},bR=function(e){const t=p(this,al);e.push(`L${t[4]} ${t[5]} Z`)},yR=function(e){const[t,n,i,a]=p(this,Bs),s=p(this,Fn).subarray(4,6),o=p(this,Fn).subarray(16,18),[l,c,u,d]=ve(this,Bi,Zm).call(this);e.push(`L${(s[0]-t)/i} ${(s[1]-n)/a} L${l} ${c} L${u} ${d} L${(o[0]-t)/i} ${(o[1]-n)/a}`)},xR=function(e){const t=p(this,Fn),[n,i,a,s]=p(this,Bs),[o,l,c,u]=ve(this,Bi,Zm).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-i)/s],0),this.newFreeDrawOutline(d,e,p(this,Bs),p(this,b1),p(this,g1),p(this,v1))},wR=function(e,t){const n=p(this,al);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},_R=function(e,t){const n=p(this,Fn).subarray(4,6),i=p(this,Fn).subarray(16,18),[a,s,o,l]=p(this,Bs),[c,u,d,h]=ve(this,Bi,Zm).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],t),t+=24},de(Nc,n2,8),de(Nc,kx,2),de(Nc,Ex,p(Nc,n2)+p(Nc,kx));let Wy=Nc;var x1,Lf,iu,r2,Os,i2,hi,Cx,AR;class SR extends Ht{constructor(t,n,i,a,s,o){super();de(this,Cx);de(this,x1);de(this,Lf,new Float32Array(4));de(this,iu);de(this,r2);de(this,Os);de(this,i2);de(this,hi);Q(this,hi,t),Q(this,Os,n),Q(this,x1,i),Q(this,i2,a),Q(this,iu,s),Q(this,r2,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],ve(this,Cx,AR).call(this,o);const[l,c,u,d]=p(this,Lf);for(let h=0,f=t.length;h<f;h+=2)t[h]=(t[h]-l)/u,t[h+1]=(t[h+1]-c)/d;for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-l)/u,n[h+1]=(n[h+1]-c)/d}toSVGPath(){const t=[`M${p(this,hi)[4]} ${p(this,hi)[5]}`];for(let n=6,i=p(this,hi).length;n<i;n+=6){if(isNaN(p(this,hi)[n])){t.push(`L${p(this,hi)[n+4]} ${p(this,hi)[n+5]}`);continue}t.push(`C${p(this,hi)[n]} ${p(this,hi)[n+1]} ${p(this,hi)[n+2]} ${p(this,hi)[n+3]} ${p(this,hi)[n+4]} ${p(this,hi)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,a],s){const o=i-t,l=a-n;let c,u;switch(s){case 0:c=Ht._rescale(p(this,hi),t,a,o,-l),u=Ht._rescale(p(this,Os),t,a,o,-l);break;case 90:c=Ht._rescaleAndSwap(p(this,hi),t,n,o,l),u=Ht._rescaleAndSwap(p(this,Os),t,n,o,l);break;case 180:c=Ht._rescale(p(this,hi),i,n,-o,l),u=Ht._rescale(p(this,Os),i,n,-o,l);break;case 270:c=Ht._rescaleAndSwap(p(this,hi),i,a,-o,-l),u=Ht._rescaleAndSwap(p(this,Os),i,a,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return p(this,Lf)}newOutliner(t,n,i,a,s,o=0){return new Wy(t,n,i,a,s,o)}getNewOutline(t,n){const[i,a,s,o]=p(this,Lf),[l,c,u,d]=p(this,x1),h=s*u,f=o*d,g=i*u+l,y=a*d+c,w=this.newOutliner({x:p(this,Os)[0]*h+g,y:p(this,Os)[1]*f+y},p(this,x1),p(this,i2),t,p(this,r2),n??p(this,iu));for(let x=2;x<p(this,Os).length;x+=2)w.add({x:p(this,Os)[x]*h+g,y:p(this,Os)[x+1]*f+y});return w.getOutlines()}}x1=new WeakMap,Lf=new WeakMap,iu=new WeakMap,r2=new WeakMap,Os=new WeakMap,i2=new WeakMap,hi=new WeakMap,Cx=new WeakSet,AR=function(t){const n=p(this,hi);let i=n[4],a=n[5];const s=[i,a,i,a];let o=i,l=a,c=i,u=a;const d=t?Math.max:Math.min,h=new Float32Array(4);for(let g=6,y=n.length;g<y;g+=6){const w=n[g+4],x=n[g+5];isNaN(n[g])?(Vt.pointBoundingBox(w,x,s),l>x?(o=w,l=x):l===x&&(o=d(o,w)),u<x?(c=w,u=x):u===x&&(c=d(c,w))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,Vt.bezierBoundingBox(i,a,...n.slice(g,g+6),h),Vt.rectBoundingBox(h[0],h[1],h[2],h[3],s),l>h[1]?(o=h[0],l=h[1]):l===h[1]&&(o=d(o,h[0])),u<h[3]?(c=h[2],u=h[3]):u===h[3]&&(c=d(c,h[2]))),i=w,a=x}const f=p(this,Lf);f[0]=s[0]-p(this,iu),f[1]=s[1]-p(this,iu),f[2]=s[2]-s[0]+2*p(this,iu),f[3]=s[3]-s[1]+2*p(this,iu),this.firstPoint=[o,l],this.lastPoint=[c,u]};var a2,s2,o2,Rd,sl,Ja,kR,oy,ER,CR,X3;class W3{constructor(e,t=0,n=0,i=!0){de(this,Ja);de(this,a2);de(this,s2);de(this,o2);de(this,Rd,[]);de(this,sl,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:y,y:w,width:x,height:T}of e){const v=Math.floor((y-t)/s)*s,R=Math.ceil((y+x+t)/s)*s,M=Math.floor((w-t)/s)*s,B=Math.ceil((w+T+t)/s)*s,L=[v,M,B,!0],z=[R,M,B,!1];p(this,Rd).push(L,z),Vt.rectBoundingBox(v,M,R,B,a)}const o=a[2]-a[0]+2*n,l=a[3]-a[1]+2*n,c=a[0]-n,u=a[1]-n;let d=i?-1/0:1/0,h=1/0;const f=p(this,Rd).at(i?-1:-2),g=[f[0],f[2]];for(const y of p(this,Rd)){const[w,x,T,v]=y;!v&&i?x<h?(h=x,d=w):x===h&&(d=Math.max(d,w)):v&&!i&&(x<h?(h=x,d=w):x===h&&(d=Math.min(d,w))),y[0]=(w-c)/o,y[1]=(x-u)/l,y[2]=(T-u)/l}Q(this,a2,new Float32Array([c,u,o,l])),Q(this,s2,[d,h]),Q(this,o2,g)}getOutlines(){p(this,Rd).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of p(this,Rd))t[3]?(e.push(...ve(this,Ja,X3).call(this,t)),ve(this,Ja,ER).call(this,t)):(ve(this,Ja,CR).call(this,t),e.push(...ve(this,Ja,X3).call(this,t)));return ve(this,Ja,kR).call(this,e)}}a2=new WeakMap,s2=new WeakMap,o2=new WeakMap,Rd=new WeakMap,sl=new WeakMap,Ja=new WeakSet,kR=function(e){const t=[],n=new Set;for(const s of e){const[o,l,c]=s;t.push([o,l,s],[o,c,s])}t.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=t.length;s<o;s+=2){const l=t[s][2],c=t[s+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let a;for(;n.size>0;){const s=n.values().next().value;let[o,l,c,u,d]=s;n.delete(s);let h=o,f=l;for(a=[o,c],i.push(a);;){let g;if(n.has(u))g=u;else if(n.has(d))g=d;else break;n.delete(g),[o,l,c,u,d]=g,h!==o&&(a.push(h,f,o,f===l?l:c),h=o),f=f===l?c:l}a.push(h,f)}return new zH(i,p(this,a2),p(this,s2),p(this,o2))},oy=function(e){const t=p(this,sl);let n=0,i=t.length-1;for(;n<=i;){const a=n+i>>1,s=t[a][0];if(s===e)return a;s<e?n=a+1:i=a-1}return i+1},ER=function([,e,t]){const n=ve(this,Ja,oy).call(this,e);p(this,sl).splice(n,0,[e,t])},CR=function([,e,t]){const n=ve(this,Ja,oy).call(this,e);for(let i=n;i<p(this,sl).length;i++){const[a,s]=p(this,sl)[i];if(a!==e)break;if(a===e&&s===t){p(this,sl).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,s]=p(this,sl)[i];if(a!==e)break;if(a===e&&s===t){p(this,sl).splice(i,1);return}}},X3=function(e){const[t,n,i]=e,a=[[t,n,i]],s=ve(this,Ja,oy).call(this,i);for(let o=0;o<s;o++){const[l,c]=p(this,sl)[o];for(let u=0,d=a.length;u<d;u++){const[,h,f]=a[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)a[u][1]=c;else{if(d===1)return[];a.splice(u,1),u--,d--}continue}a[u][2]=l,f>c&&a.push([t,c,f])}}}return a};var l2,w1;class zH extends Ht{constructor(t,n,i,a){super();de(this,l2);de(this,w1);Q(this,w1,t),Q(this,l2,n),this.firstPoint=i,this.lastPoint=a}toSVGPath(){const t=[];for(const n of p(this,w1)){let[i,a]=n;t.push(`M${i} ${a}`);for(let s=2;s<n.length;s+=2){const o=n[s],l=n[s+1];o===i?(t.push(`V${l}`),a=l):l===a&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,a],s){const o=[],l=i-t,c=a-n;for(const u of p(this,w1)){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=t+u[h]*l,d[h+1]=a-u[h+1]*c;o.push(d)}return o}get box(){return p(this,l2)}get classNamesForOutlining(){return["highlightOutline"]}}l2=new WeakMap,w1=new WeakMap;class K3 extends Wy{newFreeDrawOutline(e,t,n,i,a,s){return new VH(e,t,n,i,a,s)}}class VH extends SR{newOutliner(e,t,n,i,a,s=0){return new K3(e,t,n,i,a,s)}}var _1,c2,au,Df,u2,ls,d2,h2,Bf,js,Us,la,S1,A1,Ia,k1,Ao,f2,Mn,Y3,ly,TR,NR,RR,Z3,Th,To,z0,IR,cy,uy,MR,PR,FR,LR,DR;const tr=class tr extends Pr{constructor(t){super({...t,name:"highlightEditor"});de(this,Mn);de(this,_1,null);de(this,c2,0);de(this,au);de(this,Df,null);de(this,u2,null);de(this,ls,null);de(this,d2,null);de(this,h2,0);de(this,Bf,null);de(this,js,null);de(this,Us,null);de(this,la,!1);de(this,S1,null);de(this,A1,null);de(this,Ia,null);de(this,k1,"");de(this,Ao);de(this,f2,"");this.color=t.color||tr._defaultColor,Q(this,Ao,t.thickness||tr._defaultThickness),this.opacity=t.opacity||tr._defaultOpacity,Q(this,au,t.boxes||null),Q(this,f2,t.methodOfCreation||""),Q(this,k1,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(Q(this,la,!0),ve(this,Mn,ly).call(this,t),ve(this,Mn,Th).call(this)):p(this,au)&&(Q(this,_1,t.anchorNode),Q(this,c2,t.anchorOffset),Q(this,d2,t.focusNode),Q(this,h2,t.focusOffset),ve(this,Mn,Y3).call(this),ve(this,Mn,Th).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=tr.prototype;return wn(this,"_keyboardManager",new S2([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,la)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:p(this,Ao),methodOfCreation:p(this,f2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Pr.initialize(t,n),tr._defaultColor||(tr._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case qn.HIGHLIGHT_COLOR:tr._defaultColor=n;break;case qn.HIGHLIGHT_THICKNESS:tr._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return p(this,A1)}get commentButtonPosition(){return p(this,S1)}updateParams(t,n){switch(t){case qn.HIGHLIGHT_COLOR:ve(this,Mn,TR).call(this,n);break;case qn.HIGHLIGHT_THICKNESS:ve(this,Mn,NR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[qn.HIGHLIGHT_COLOR,tr._defaultColor],[qn.HIGHLIGHT_THICKNESS,tr._defaultThickness]]}get propertiesToUpdate(){return[[qn.HIGHLIGHT_COLOR,this.color||tr._defaultColor],[qn.HIGHLIGHT_THICKNESS,p(this,Ao)||tr._defaultThickness],[qn.HIGHLIGHT_FREE,p(this,la)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Us),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=p(this,u2))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",Q(this,u2,new zy({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ve(this,Mn,uy).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,ve(this,Mn,uy).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ve(this,Mn,Z3).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ve(this,Mn,Th).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?ve(this,Mn,Z3).call(this):t&&(ve(this,Mn,Th).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var a,s,o;const{drawLayer:n}=this.parent;let i;p(this,la)?(t=(t-this.rotation+360)%360,i=ve(a=tr,To,z0).call(a,p(this,js).box,t)):i=ve(s=tr,To,z0).call(s,[this.x,this.y,this.width,this.height],t),n.updateProperties(p(this,Us),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(p(this,Ia),{bbox:ve(o=tr,To,z0).call(o,p(this,ls).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();p(this,k1)&&(t.setAttribute("aria-label",p(this,k1)),t.setAttribute("role","mark")),p(this,la)?t.classList.add("free"):this.div.addEventListener("keydown",ve(this,Mn,IR).bind(this),{signal:this._uiManager._signal});const n=Q(this,Bf,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=p(this,Df),this.setDims(),tN(this,p(this,Bf),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Ia),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Ia),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ve(this,Mn,cy).call(this,!0);break;case 1:case 3:ve(this,Mn,cy).call(this,!1);break}}select(){var t;super.select(),p(this,Ia)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,Ia),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),p(this,Ia)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,Ia),{rootClass:{selected:!1}}),p(this,la)||ve(this,Mn,cy).call(this,!1))}get _mustFixPosition(){return!p(this,la)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(p(this,Us),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(p(this,Ia),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:a,y:s}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,h=t.combinedSignal(d),f=g=>{d.abort(),ve(this,To,LR).call(this,t,g)};window.addEventListener("blur",f,{signal:h}),window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("pointerdown",ai,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Po,{signal:h}),i.addEventListener("pointermove",ve(this,To,FR).bind(this,t),{signal:h}),this._freeHighlight=new K3({x:a,y:s},[o,l,c,u],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var y,w,x,T;let a=null;if(t instanceof uR){const{data:{quadPoints:v,rect:R,rotation:M,id:B,color:L,opacity:z,popupRef:H,richText:$,contentsObj:U,creationDate:D,modificationDate:ee},parent:{page:{pageNumber:J}}}=t;a=t={annotationType:An.HIGHLIGHT,color:Array.from(L),opacity:z,quadPoints:v,boxes:null,pageIndex:J-1,rect:R.slice(0),rotation:M,annotationElementId:B,id:B,deleted:!1,popupRef:H,richText:$,comment:(U==null?void 0:U.str)||null,creationDate:D,modificationDate:ee}}else if(t instanceof nS){const{data:{inkLists:v,rect:R,rotation:M,id:B,color:L,borderStyle:{rawWidth:z},popupRef:H,richText:$,contentsObj:U,creationDate:D,modificationDate:ee},parent:{page:{pageNumber:J}}}=t;a=t={annotationType:An.HIGHLIGHT,color:Array.from(L),thickness:z,inkLists:v,boxes:null,pageIndex:J-1,rect:R.slice(0),rotation:M,annotationElementId:B,id:B,deleted:!1,popupRef:H,richText:$,comment:(U==null?void 0:U.str)||null,creationDate:D,modificationDate:ee}}const{color:s,quadPoints:o,inkLists:l,opacity:c}=t,u=await super.deserialize(t,n,i);u.color=Vt.makeHexColor(...s),u.opacity=c||1,l&&Q(u,Ao,t.thickness),u._initialData=a,t.comment&&u.setCommentData(t);const[d,h]=u.pageDimensions,[f,g]=u.pageTranslation;if(o){const v=Q(u,au,[]);for(let R=0;R<o.length;R+=8)v.push({x:(o[R]-f)/d,y:1-(o[R+1]-g)/h,width:(o[R+2]-o[R])/d,height:(o[R+1]-o[R+5])/h});ve(y=u,Mn,Y3).call(y),ve(w=u,Mn,Th).call(w),u.rotate(u.rotation)}else if(l){Q(u,la,!0);const v=l[0],R={x:v[0]-f,y:h-(v[1]-g)},M=new K3(R,[0,0,d,h],1,p(u,Ao)/2,!0,.001);for(let z=0,H=v.length;z<H;z+=2)R.x=v[z]-f,R.y=h-(v[z+1]-g),M.add(R);const{id:B,clipPathId:L}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);ve(x=u,Mn,ly).call(x,{highlightOutlines:M.getOutlines(),highlightId:B,clipPathId:L}),ve(T=u,Mn,Th).call(T),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=Pr._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:p(this,Ao),quadPoints:ve(this,Mn,MR).call(this),outlines:ve(this,Mn,PR).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!ve(this,Mn,DR).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};_1=new WeakMap,c2=new WeakMap,au=new WeakMap,Df=new WeakMap,u2=new WeakMap,ls=new WeakMap,d2=new WeakMap,h2=new WeakMap,Bf=new WeakMap,js=new WeakMap,Us=new WeakMap,la=new WeakMap,S1=new WeakMap,A1=new WeakMap,Ia=new WeakMap,k1=new WeakMap,Ao=new WeakMap,f2=new WeakMap,Mn=new WeakSet,Y3=function(){const t=new W3(p(this,au),.001);Q(this,js,t.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,js).box;const n=new W3(p(this,au),.0025,.001,this._uiManager.direction==="ltr");Q(this,ls,n.getOutlines());const{firstPoint:i}=p(this,js);Q(this,S1,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:a}=p(this,ls);Q(this,A1,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},ly=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var h,f;if(Q(this,js,t),Q(this,ls,t.getNewOutline(p(this,Ao)/2+1.5,.0025)),n>=0)Q(this,Us,n),Q(this,Df,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),Q(this,Ia,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,ls).box,path:{d:p(this,ls).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,Us),{bbox:ve(h=tr,To,z0).call(h,p(this,js).box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,Ia),{bbox:ve(f=tr,To,z0).call(f,p(this,ls).box,g),path:{d:p(this,ls).toSVGPath()}})}const[s,o,l,c]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,y]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*y/g,this.height=c*g/y;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*y/g,this.height=c*g/y;break}}const{firstPoint:u}=t;Q(this,S1,[(u[0]-s)/l,(u[1]-o)/c]);const{lastPoint:d}=p(this,ls);Q(this,A1,[(d[0]-s)/l,(d[1]-o)/c])},TR=function(t){const n=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:n.bind(this,t,tr._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},NR=function(t){const n=p(this,Ao),i=a=>{Q(this,Ao,a),ve(this,Mn,RR).call(this,a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},RR=function(t){p(this,la)&&(ve(this,Mn,ly).call(this,{highlightOutlines:p(this,js).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},Z3=function(){p(this,Us)===null||!this.parent||(this.parent.drawLayer.remove(p(this,Us)),Q(this,Us,null),this.parent.drawLayer.remove(p(this,Ia)),Q(this,Ia,null))},Th=function(t=this.parent){p(this,Us)===null&&({id:Ri(this,Us)._,clipPathId:Ri(this,Df)._}=t.drawLayer.draw({bbox:p(this,js).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:p(this,la)},path:{d:p(this,js).toSVGPath()}},!1,!0),Q(this,Ia,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,la)},bbox:p(this,ls).box,path:{d:p(this,ls).toSVGPath()}},p(this,la))),p(this,Bf)&&(p(this,Bf).style.clipPath=p(this,Df)))},To=new WeakSet,z0=function([t,n,i,a],s){switch(s){case 90:return[1-n-a,t,a,i];case 180:return[1-t-i,1-n-a,i,a];case 270:return[n,1-t-i,a,i]}return[t,n,i,a]},IR=function(t){tr._keyboardManager.exec(this,t)},cy=function(t){if(!p(this,_1))return;const n=window.getSelection();t?n.setPosition(p(this,_1),p(this,c2)):n.setPosition(p(this,d2),p(this,h2))},uy=function(){return p(this,la)?this.rotation:0},MR=function(){if(p(this,la))return null;const[t,n]=this.pageDimensions,[i,a]=this.pageTranslation,s=p(this,au),o=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:d,height:h}of s){const f=c*t+i,g=(1-u)*n+a;o[l]=o[l+4]=f,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=f+d*t,o[l+5]=o[l+7]=g-h*n,l+=8}return o},PR=function(t){return p(this,js).serialize(t,ve(this,Mn,uy).call(this))},FR=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},LR=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},DR=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==n[a])},de(tr,To),xt(tr,"_defaultColor",null),xt(tr,"_defaultOpacity",1),xt(tr,"_defaultThickness",12),xt(tr,"_type","highlight"),xt(tr,"_editorType",An.HIGHLIGHT),xt(tr,"_freeHighlightId",-1),xt(tr,"_freeHighlight",null),xt(tr,"_freeHighlightClipId","");let Xy=tr;var Of;class BR{constructor(){de(this,Of,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){p(this,Of)[e]=t}toSVGProperties(){const e=p(this,Of);return Q(this,Of,Object.create(null)),{root:e}}reset(){Q(this,Of,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Tr("Not implemented")}}Of=new WeakMap;var qs,E1,Gi,jf,Uf,Jn,J3,Q3,$3,Jm,OR,dy,Qm,V0;const Dn=class Dn extends Pr{constructor(t){super(t);de(this,Jn);de(this,qs,null);de(this,E1);xt(this,"_colorPicker",null);xt(this,"_drawId",null);Q(this,E1,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(ve(this,Jn,J3).call(this,t),ve(this,Jn,Jm).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[a,s]of Object.entries(n))i.has(a)?Object.assign(t[a],s):t[a]=s;return t}static getDefaultDrawingOptions(t){Tr("Not implemented")}static get typesMap(){Tr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(p(Dn,Gi).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,n[a]]);return t}_updateProperty(t,n,i){const a=this._drawingOptions,s=a[n],o=l=>{var u;a.updateProperty(n,l);const c=p(this,qs).updateProperty(n,l);c&&ve(this,Jn,Qm).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Dn._mergeSVGProperties(p(this,qs).getPathResizingSVGProperties(ve(this,Jn,dy).call(this)),{bbox:ve(this,Jn,V0).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Dn._mergeSVGProperties(p(this,qs).getPathResizedSVGProperties(ve(this,Jn,dy).call(this)),{bbox:ve(this,Jn,V0).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ve(this,Jn,V0).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Dn._mergeSVGProperties(p(this,qs).getPathTranslatedSVGProperties(ve(this,Jn,dy).call(this),this.parentDimensions),{bbox:ve(this,Jn,V0).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,E1)&&(Q(this,E1,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ve(this,Jn,$3).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ve(this,Jn,Jm).call(this),ve(this,Jn,Qm).call(this,p(this,qs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ve(this,Jn,$3).call(this)):t&&(this._uiManager.addShouldRescale(this),ve(this,Jn,Jm).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Dn._mergeSVGProperties({bbox:ve(this,Jn,V0).call(this)},p(this,qs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ve(this,Jn,Qm).call(this,p(this,qs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,a,s){Tr("Not implemented")}static startDrawing(t,n,i,a){var w;const{target:s,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=a;if(Ea.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:d}}=t,{width:h,height:f}=s.getBoundingClientRect(),g=Q(Dn,jf,new AbortController),y=t.combinedSignal(g);if(Ea.setPointer(u,c),window.addEventListener("pointerup",x=>{Ea.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:y}),window.addEventListener("pointercancel",x=>{Ea.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:y}),window.addEventListener("pointerdown",x=>{Ea.isSamePointerType(x.pointerType)&&(Ea.initializeAndAddPointerId(x.pointerId),p(Dn,Gi).isCancellable()&&(p(Dn,Gi).removeLastElement(),p(Dn,Gi).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Po,{signal:y}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),s.addEventListener("touchmove",x=>{Ea.isSameTimeStamp(x.timeStamp)&&ai(x)},{signal:y}),t.toggleDrawing(),(w=n._editorUndoBar)==null||w.hide(),p(Dn,Gi)){t.drawLayer.updateProperties(this._currentDrawId,p(Dn,Gi).startNew(o,l,h,f,d));return}n.updateUIForDefaultProperties(this),Q(Dn,Gi,this.createDrawerInstance(o,l,h,f,d)),Q(Dn,Uf,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(p(Dn,Uf).toSVGProperties(),p(Dn,Gi).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ea.isSameTimeStamp(t.timeStamp),!p(Dn,Gi))return;const{offsetX:n,offsetY:i,pointerId:a}=t;if(Ea.isSamePointerId(a)){if(Ea.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(Dn,Gi).add(n,i)),Ea.setTimeStamp(t.timeStamp),ai(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Q(Dn,Gi,null),Q(Dn,Uf,null),Ea.clearPointerType(),Ea.clearTimeStamp()),p(Dn,jf)&&(p(Dn,jf).abort(),Q(Dn,jf,null),Ea.clearPointerIds())}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,p(Dn,Gi).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=p(Dn,Gi),a=this._currentDrawId,s=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:qn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(qn.DRAW_STEP),!p(Dn,Gi).isEmpty()){const{pageDimensions:[i,a],scale:s}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(Dn,Gi).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:p(Dn,Uf),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,a,s,o){Tr("Not implemented")}static async deserialize(t,n,i){var d,h;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}=n.viewport,c=this.deserializeDraw(o,l,a,s,this._INNER_MARGIN,t),u=await super.deserialize(t,n,i);return u.createDrawingOptions(t),ve(d=u,Jn,J3).call(d,{drawOutlines:c}),ve(h=u,Jn,Jm).call(h),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[n,i]=this.pageTranslation,[a,s]=this.pageDimensions;return p(this,qs).serialize([n,i,a,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};qs=new WeakMap,E1=new WeakMap,Gi=new WeakMap,jf=new WeakMap,Uf=new WeakMap,Jn=new WeakSet,J3=function({drawOutlines:t,drawId:n,drawingOptions:i}){Q(this,qs,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=ve(this,Jn,Q3).call(this,t,this.parent),ve(this,Jn,Qm).call(this,t.box)},Q3=function(t,n){const{id:i}=n.drawLayer.draw(Dn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},$3=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Jm=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ve(this,Jn,Q3).call(this,p(this,qs),t)}},OR=function([t,n,i,a]){const{parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(o/s),a*(s/o)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(o/s),a*(s/o)];default:return[t,n,i,a]}},dy=function(){const{x:t,y:n,width:i,height:a,parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(s/o),a*(o/s)];case 180:return[1-t,1-n,i,a];case 270:return[n,1-t,i*(s/o),a*(o/s)];default:return[t,n,i,a]}},Qm=function(t){[this.x,this.y,this.width,this.height]=ve(this,Jn,OR).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},V0=function(){const{x:t,y:n,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[l,c]}=this;switch((s*4+o)/90){case 1:return[1-n-a,t,a,i];case 2:return[1-t-i,1-n-a,i,a];case 3:return[n,1-t-i,a,i];case 4:return[t,n-i*(l/c),a*(c/l),i*(l/c)];case 5:return[1-n,t,i*(l/c),a*(c/l)];case 6:return[1-t-a*(c/l),1-n,a*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-t-a*(c/l),i*(l/c),a*(c/l)];case 8:return[t-i,n-a,i,a];case 9:return[1-n,t-i,a,i];case 10:return[1-t,1-n,i,a];case 11:return[n-a,1-t,a,i];case 12:return[t-a*(c/l),n,a*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),t-a*(c/l),i*(l/c),a*(c/l)];case 14:return[1-t,1-n-i*(l/c),a*(c/l),i*(l/c)];case 15:return[n,1-t,i*(l/c),a*(c/l)];default:return[t,n,i,a]}},xt(Dn,"_currentDrawId",-1),xt(Dn,"_currentParent",null),de(Dn,Gi,null),de(Dn,jf,null),de(Dn,Uf,null),xt(Dn,"_INNER_MARGIN",3);let Ky=Dn;var Wl,Wi,Xi,qf,C1,za,ca,ko,Hf,zf,Vf,T1,hy;class GH{constructor(e,t,n,i,a,s){de(this,T1);de(this,Wl,new Float64Array(6));de(this,Wi);de(this,Xi);de(this,qf);de(this,C1);de(this,za);de(this,ca,"");de(this,ko,0);de(this,Hf,new k2);de(this,zf);de(this,Vf);Q(this,zf,n),Q(this,Vf,i),Q(this,qf,a),Q(this,C1,s),[e,t]=ve(this,T1,hy).call(this,e,t);const o=Q(this,Wi,[NaN,NaN,NaN,NaN,e,t]);Q(this,za,[e,t]),Q(this,Xi,[{line:o,points:p(this,za)}]),p(this,Wl).set(o,0)}updateProperty(e,t){e==="stroke-width"&&Q(this,C1,t)}isEmpty(){return!p(this,Xi)||p(this,Xi).length===0}isCancellable(){return p(this,za).length<=10}add(e,t){[e,t]=ve(this,T1,hy).call(this,e,t);const[n,i,a,s]=p(this,Wl).subarray(2,6),o=e-a,l=t-s;return Math.hypot(p(this,zf)*o,p(this,Vf)*l)<=2?null:(p(this,za).push(e,t),isNaN(n)?(p(this,Wl).set([a,s,e,t],2),p(this,Wi).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(p(this,Wl)[0])&&p(this,Wi).splice(6,6),p(this,Wl).set([n,i,a,s,e,t],0),p(this,Wi).push(...Ht.createBezierPoints(n,i,a,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(p(this,za).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,a){Q(this,zf,n),Q(this,Vf,i),Q(this,qf,a),[e,t]=ve(this,T1,hy).call(this,e,t);const s=Q(this,Wi,[NaN,NaN,NaN,NaN,e,t]);Q(this,za,[e,t]);const o=p(this,Xi).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),p(this,Xi).push({line:s,points:p(this,za)}),p(this,Wl).set(s,0),Q(this,ko,0),this.toSVGPath(),null}getLastElement(){return p(this,Xi).at(-1)}setLastElement(e){return p(this,Xi)?(p(this,Xi).push(e),Q(this,Wi,e.line),Q(this,za,e.points),Q(this,ko,0),{path:{d:this.toSVGPath()}}):p(this,Hf).setLastElement(e)}removeLastElement(){if(!p(this,Xi))return p(this,Hf).removeLastElement();p(this,Xi).pop(),Q(this,ca,"");for(let e=0,t=p(this,Xi).length;e<t;e++){const{line:n,points:i}=p(this,Xi)[e];Q(this,Wi,n),Q(this,za,i),Q(this,ko,0),this.toSVGPath()}return{path:{d:p(this,ca)}}}toSVGPath(){const e=Ht.svgRound(p(this,Wi)[4]),t=Ht.svgRound(p(this,Wi)[5]);if(p(this,za).length===2)return Q(this,ca,`${p(this,ca)} M ${e} ${t} Z`),p(this,ca);if(p(this,za).length<=6){const i=p(this,ca).lastIndexOf("M");Q(this,ca,`${p(this,ca).slice(0,i)} M ${e} ${t}`),Q(this,ko,6)}if(p(this,za).length===4){const i=Ht.svgRound(p(this,Wi)[10]),a=Ht.svgRound(p(this,Wi)[11]);return Q(this,ca,`${p(this,ca)} L ${i} ${a}`),Q(this,ko,12),p(this,ca)}const n=[];p(this,ko)===0&&(n.push(`M ${e} ${t}`),Q(this,ko,6));for(let i=p(this,ko),a=p(this,Wi).length;i<a;i+=6){const[s,o,l,c,u,d]=p(this,Wi).slice(i,i+6).map(Ht.svgRound);n.push(`C${s} ${o} ${l} ${c} ${u} ${d}`)}return Q(this,ca,p(this,ca)+n.join(" ")),Q(this,ko,p(this,Wi).length),p(this,ca)}getOutlines(e,t,n,i){const a=p(this,Xi).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),p(this,Hf).build(p(this,Xi),e,t,n,p(this,qf),p(this,C1),i),Q(this,Wl,null),Q(this,Wi,null),Q(this,Xi,null),Q(this,ca,null),p(this,Hf)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Wl=new WeakMap,Wi=new WeakMap,Xi=new WeakMap,qf=new WeakMap,C1=new WeakMap,za=new WeakMap,ca=new WeakMap,ko=new WeakMap,Hf=new WeakMap,zf=new WeakMap,Vf=new WeakMap,T1=new WeakSet,hy=function(e,t){return Ht._normalizePoint(e,t,p(this,zf),p(this,Vf),p(this,qf))};var Va,p2,m2,Hs,Xl,Kl,N1,R1,Gf,ha,Ec,jR,UR,qR;class k2 extends Ht{constructor(){super(...arguments);de(this,ha);de(this,Va);de(this,p2,0);de(this,m2);de(this,Hs);de(this,Xl);de(this,Kl);de(this,N1);de(this,R1);de(this,Gf)}build(t,n,i,a,s,o,l){Q(this,Xl,n),Q(this,Kl,i),Q(this,N1,a),Q(this,R1,s),Q(this,Gf,o),Q(this,m2,l??0),Q(this,Hs,t),ve(this,ha,UR).call(this)}get thickness(){return p(this,Gf)}setLastElement(t){return p(this,Hs).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,Hs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of p(this,Hs)){if(t.push(`M${Ht.svgRound(n[4])} ${Ht.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${Ht.svgRound(n[10])} ${Ht.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[s,o,l,c,u,d]=n.subarray(i,i+6).map(Ht.svgRound);t.push(`C${s} ${o} ${l} ${c} ${u} ${d}`)}}return t.join("")}serialize([t,n,i,a],s){const o=[],l=[],[c,u,d,h]=ve(this,ha,jR).call(this);let f,g,y,w,x,T,v,R,M;switch(p(this,R1)){case 0:M=Ht._rescale,f=t,g=n+a,y=i,w=-a,x=t+c*i,T=n+(1-u-h)*a,v=t+(c+d)*i,R=n+(1-u)*a;break;case 90:M=Ht._rescaleAndSwap,f=t,g=n,y=i,w=a,x=t+u*i,T=n+c*a,v=t+(u+h)*i,R=n+(c+d)*a;break;case 180:M=Ht._rescale,f=t+i,g=n,y=-i,w=a,x=t+(1-c-d)*i,T=n+u*a,v=t+(1-c)*i,R=n+(u+h)*a;break;case 270:M=Ht._rescaleAndSwap,f=t+i,g=n+a,y=-i,w=-a,x=t+(1-u-h)*i,T=n+(1-c-d)*a,v=t+(1-u)*i,R=n+(1-c)*a;break}for(const{line:B,points:L}of p(this,Hs))o.push(M(B,f,g,y,w,s?new Array(B.length):null)),l.push(M(L,f,g,y,w,s?new Array(L.length):null));return{lines:o,points:l,rect:[x,T,v,R]}}static deserialize(t,n,i,a,s,{paths:{lines:o,points:l},rotation:c,thickness:u}){const d=[];let h,f,g,y,w;switch(c){case 0:w=Ht._rescale,h=-t/i,f=n/a+1,g=1/i,y=-1/a;break;case 90:w=Ht._rescaleAndSwap,h=-n/a,f=-t/i,g=1/a,y=1/i;break;case 180:w=Ht._rescale,h=t/i+1,f=-n/a,g=-1/i,y=1/a;break;case 270:w=Ht._rescaleAndSwap,h=n/a+1,f=t/i+1,g=-1/a,y=-1/i;break}if(!o){o=[];for(const T of l){const v=T.length;if(v===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(v===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const R=new Float32Array(3*(v-2));o.push(R);let[M,B,L,z]=T.subarray(0,4);R.set([NaN,NaN,NaN,NaN,M,B],0);for(let H=4;H<v;H+=2){const $=T[H],U=T[H+1];R.set(Ht.createBezierPoints(M,B,L,z,$,U),(H-2)*3),[M,B,L,z]=[L,z,$,U]}}}for(let T=0,v=o.length;T<v;T++)d.push({line:w(o[T].map(R=>R??NaN),h,f,g,y),points:w(l[T].map(R=>R??NaN),h,f,g,y)});const x=new this.prototype.constructor;return x.build(d,i,a,1,c,u,s),x}get box(){return p(this,Va)}updateProperty(t,n){return t==="stroke-width"?ve(this,ha,qR).call(this,n):null}updateParentDimensions([t,n],i){const[a,s]=ve(this,ha,Ec).call(this);Q(this,Xl,t),Q(this,Kl,n),Q(this,N1,i);const[o,l]=ve(this,ha,Ec).call(this),c=o-a,u=l-s,d=p(this,Va);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(t){return Q(this,p2,t),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,Va).map(Ht.svgRound).join(" ")}get defaultProperties(){const[t,n]=p(this,Va);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=p(this,Va);let i=0,a=0,s=0,o=0,l=0,c=0;switch(p(this,p2)){case 90:a=n/t,s=-t/n,l=t;break;case 180:i=-1,o=-1,l=t,c=n;break;case 270:a=-n/t,s=t/n,c=n;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${Ht.svgRound(l)} ${Ht.svgRound(c)})`}getPathResizingSVGProperties([t,n,i,a]){const[s,o]=ve(this,ha,Ec).call(this),[l,c,u,d]=p(this,Va);if(Math.abs(u-s)<=Ht.PRECISION||Math.abs(d-o)<=Ht.PRECISION){const w=t+i/2-(l+u/2),x=n+a/2-(c+d/2);return{path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${x})`}}}const h=(i-2*s)/(u-2*s),f=(a-2*o)/(d-2*o),g=u/i,y=d/a;return{path:{"transform-origin":`${Ht.svgRound(l)} ${Ht.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${y}) translate(${Ht.svgRound(s)} ${Ht.svgRound(o)}) scale(${h} ${f}) translate(${Ht.svgRound(-s)} ${Ht.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,a]){const[s,o]=ve(this,ha,Ec).call(this),l=p(this,Va),[c,u,d,h]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=a,Math.abs(d-s)<=Ht.PRECISION||Math.abs(h-o)<=Ht.PRECISION){const x=t+i/2-(c+d/2),T=n+a/2-(u+h/2);for(const{line:v,points:R}of p(this,Hs))Ht._translate(v,x,T,v),Ht._translate(R,x,T,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*s)/(d-2*s),g=(a-2*o)/(h-2*o),y=-f*(c+s)+t+s,w=-g*(u+o)+n+o;if(f!==1||g!==1||y!==0||w!==0)for(const{line:x,points:T}of p(this,Hs))Ht._rescale(x,y,w,f,g,x),Ht._rescale(T,y,w,f,g,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[a,s]=i,o=p(this,Va),l=t-o[0],c=n-o[1];if(p(this,Xl)===a&&p(this,Kl)===s)for(const{line:u,points:d}of p(this,Hs))Ht._translate(u,l,c,u),Ht._translate(d,l,c,d);else{const u=p(this,Xl)/a,d=p(this,Kl)/s;Q(this,Xl,a),Q(this,Kl,s);for(const{line:h,points:f}of p(this,Hs))Ht._rescale(h,l,c,u,d,h),Ht._rescale(f,l,c,u,d,f);o[2]*=u,o[3]*=d}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(n)}`}}}get defaultSVGProperties(){const t=p(this,Va);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ht.svgRound(t[0])} ${Ht.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Va=new WeakMap,p2=new WeakMap,m2=new WeakMap,Hs=new WeakMap,Xl=new WeakMap,Kl=new WeakMap,N1=new WeakMap,R1=new WeakMap,Gf=new WeakMap,ha=new WeakSet,Ec=function(t=p(this,Gf)){const n=p(this,m2)+t/2*p(this,N1);return p(this,R1)%180===0?[n/p(this,Xl),n/p(this,Kl)]:[n/p(this,Kl),n/p(this,Xl)]},jR=function(){const[t,n,i,a]=p(this,Va),[s,o]=ve(this,ha,Ec).call(this,0);return[t+s,n+o,i-2*s,a-2*o]},UR=function(){const t=Q(this,Va,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of p(this,Hs)){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)Vt.pointBoundingBox(a[l],a[l+1],t);continue}let s=a[4],o=a[5];for(let l=6,c=a.length;l<c;l+=6){const[u,d,h,f,g,y]=a.subarray(l,l+6);Vt.bezierBoundingBox(s,o,u,d,h,f,g,y,t),s=g,o=y}}const[n,i]=ve(this,ha,Ec).call(this);t[0]=Xa(t[0]-n,0,1),t[1]=Xa(t[1]-i,0,1),t[2]=Xa(t[2]+n,0,1),t[3]=Xa(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},qR=function(t){const[n,i]=ve(this,ha,Ec).call(this);Q(this,Gf,t);const[a,s]=ve(this,ha,Ec).call(this),[o,l]=[a-n,s-i],c=p(this,Va);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class zx extends BR{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new zx(this._viewParameters);return e.updateAll(this),e}}var Tx,HR;const np=class np extends Ky{constructor(t){super({...t,name:"inkEditor"});de(this,Tx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Pr.initialize(t,n),this._defaultDrawingOptions=new zx(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return wn(this,"typesMap",new Map([[qn.INK_THICKNESS,"stroke-width"],[qn.INK_COLOR,"stroke"],[qn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,a,s){return new GH(t,n,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,a,s,o){return k2.deserialize(t,n,i,a,s,o)}static async deserialize(t,n,i){let a=null;if(t instanceof nS){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:d,opacity:h,borderStyle:{rawWidth:f},popupRef:g,richText:y,contentsObj:w,creationDate:x,modificationDate:T},parent:{page:{pageNumber:v}}}=t;a=t={annotationType:An.INK,color:Array.from(d),thickness:f,opacity:h,paths:{points:o},boxes:null,pageIndex:v-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:g,richText:y,comment:(w==null?void 0:w.str)||null,creationDate:x,modificationDate:T}}const s=await super.deserialize(t,n,i);return s._initialData=a,t.comment&&s.setCommentData(t),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Vy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return qn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=np.getDefaultDrawingOptions({stroke:Vt.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Pr._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:n,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!ve(this,Tx,HR).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};Tx=new WeakSet,HR=function(t){const{color:n,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==n[l])||t.thickness!==i||t.opacity!==a||t.pageIndex!==s},xt(np,"_type","ink"),xt(np,"_editorType",An.INK),xt(np,"_defaultDrawingOptions",null);let e4=np;class t4 extends k2{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const fb=8,Sm=3;var Wf,sr,n4,ol,zR,VR,r4,fy,GR,WR,XR,i4,a4,KR;class du{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},a,s,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,h=u.font=`${n} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:g,actualBoundingBoxAscent:y,actualBoundingBoxDescent:w,fontBoundingBoxAscent:x,fontBoundingBoxDescent:T,width:v}=u.measureText(e),R=1.5,M=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||0,v)*R),B=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||d,Math.abs(x)+Math.abs(T)||d)*R);c=new OffscreenCanvas(M,B),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,M,B),u.fillStyle="black",u.fillText(e,M*(R-1)/2,B*(3-R)/2);const L=ve(this,sr,i4).call(this,u.getImageData(0,0,M,B).data),z=ve(this,sr,XR).call(this,L),H=ve(this,sr,a4).call(this,z),$=ve(this,sr,r4).call(this,L,M,B,H);return this.processDrawnLines({lines:{curves:$,width:M,height:B},pageWidth:a,pageHeight:s,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,a){const[s,o,l]=ve(this,sr,KR).call(this,e),[c,u]=ve(this,sr,WR).call(this,s,o,l,Math.hypot(o,l)*p(this,Wf).sigmaSFactor,p(this,Wf).sigmaR,p(this,Wf).kernelSize),d=ve(this,sr,a4).call(this,u),h=ve(this,sr,r4).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:s,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,h=[],f=Math.min(t/c,n/u),g=f/t,y=f/n,w=[];for(const{points:T}of l){const v=s?ve(this,sr,GR).call(this,T):T;if(!v)continue;w.push(v);const R=v.length,M=new Float32Array(R),B=new Float32Array(3*(R===2?2:R-2));if(h.push({line:B,points:M}),R===2){M[0]=v[0]*g,M[1]=v[1]*y,B.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[L,z,H,$]=v;L*=g,z*=y,H*=g,$*=y,M.set([L,z,H,$],0),B.set([NaN,NaN,NaN,NaN,L,z],0);for(let U=4;U<R;U+=2){const D=M[U]=v[U]*g,ee=M[U+1]=v[U+1]*y;B.set(Ht.createBezierPoints(L,z,H,$,D,ee),(U-2)*3),[L,z,H,$]=[H,$,D,ee]}}if(h.length===0)return null;const x=o?new t4:new k2;return x.build(h,t,n,1,i,o?0:d,a),{outline:x,newCurves:w,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:a}){let s=1/0,o=-1/0,l=0;for(const v of e){l+=v.length;for(let R=2,M=v.length;R<M;R++){const B=v[R]-v[R-2];s=Math.min(s,B),o=Math.max(o,B)}}let c;s>=-128&&o<=127?c=Int8Array:s>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=fb+Sm*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=a,h[f++]=t?0:1,h[f++]=Math.max(0,Math.floor(n??0)),h[f++]=u,h[f++]=c.BYTES_PER_ELEMENT;for(const v of e)h[f++]=v.length-2,h[f++]=v[0],h[f++]=v[1];const g=new CompressionStream("deflate-raw"),y=g.writable.getWriter();await y.ready,y.write(h);const w=c.prototype.constructor;for(const v of e){const R=new w(v.length-2);for(let M=2,B=v.length;M<B;M++)R[M-2]=v[M]-v[M-2];y.write(R)}y.close();const x=await new Response(g.readable).arrayBuffer(),T=new Uint8Array(x);return WT(T)}static async decompressSignature(e){try{const t=oq(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const v of n)s||(s=new Uint8Array(new Uint32Array(v.buffer,0,4)[0])),s.set(v,o),o+=v.length;const l=new Uint32Array(s.buffer,0,s.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],h=l[4]===0,f=l[5],g=l[6],y=l[7],w=[],x=(fb+Sm*g)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(y){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(s.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(s.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(s.buffer,x);break}o=0;for(let v=0;v<g;v++){const R=l[Sm*v+fb],M=new Float32Array(R+2);w.push(M);for(let B=0;B<Sm-1;B++)M[B]=l[Sm*v+fb+B+1];for(let B=0;B<R;B++)M[B+2]=M[B]+T[o++]}return{areContours:h,thickness:f,outlines:w,width:u,height:d}}catch(t){return xn(`decompressSignature: ${t}`),null}}}Wf=new WeakMap,sr=new WeakSet,n4=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},ol=new WeakMap,zR=function(e,t,n,i,a,s,o){const l=ve(this,sr,n4).call(this,n,i,a,s);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=p(this,ol)[2*u],h=p(this,ol)[2*u+1];if(e[(n+d)*t+(i+h)]!==0)return u}return-1},VR=function(e,t,n,i,a,s,o){const l=ve(this,sr,n4).call(this,n,i,a,s);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=p(this,ol)[2*u],h=p(this,ol)[2*u+1];if(e[(n+d)*t+(i+h)]!==0)return u}return-1},r4=function(e,t,n,i){const a=e.length,s=new Int32Array(a);for(let u=0;u<a;u++)s[u]=e[u]<=i?1:0;for(let u=1;u<n-1;u++)s[u*t]=s[u*t+t-1]=0;for(let u=0;u<t;u++)s[u]=s[t*n-1-u]=0;let o=1,l;const c=[];for(let u=1;u<n-1;u++){l=1;for(let d=1;d<t-1;d++){const h=u*t+d,f=s[h];if(f===0)continue;let g=u,y=d;if(f===1&&s[h-1]===0)o+=1,y-=1;else if(f>=1&&s[h+1]===0)o+=1,y+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const w=[d,u],x=y===d+1,T={isHole:x,points:w,id:o,parent:0};c.push(T);let v;for(const U of c)if(U.id===l){v=U;break}v?v.isHole?T.parent=x?v.parent:l:T.parent=x?l:v.parent:T.parent=x?l:0;const R=ve(this,sr,zR).call(this,s,t,u,d,g,y,0);if(R===-1){s[h]=-o,s[h]!==1&&(l=Math.abs(s[h]));continue}let M=p(this,ol)[2*R],B=p(this,ol)[2*R+1];const L=u+M,z=d+B;g=L,y=z;let H=u,$=d;for(;;){const U=ve(this,sr,VR).call(this,s,t,H,$,g,y,1);M=p(this,ol)[2*U],B=p(this,ol)[2*U+1];const D=H+M,ee=$+B;w.push(ee,D);const J=H*t+$;if(s[J+1]===0?s[J]=-o:s[J]===1&&(s[J]=o),D===u&&ee===d&&H===L&&$===z){s[h]!==1&&(l=Math.abs(s[h]));break}else g=H,y=$,H=D,$=ee}}}return c},fy=function(e,t,n,i){if(n-t<=4){for(let L=t;L<n-2;L+=2)i.push(e[L],e[L+1]);return}const a=e[t],s=e[t+1],o=e[n-4]-a,l=e[n-3]-s,c=Math.hypot(o,l),u=o/c,d=l/c,h=u*s-d*a,f=l/o,g=1/c,y=Math.atan(f),w=Math.cos(y),x=Math.sin(y),T=g*(Math.abs(w)+Math.abs(x)),v=g*(1-T+T**2),R=Math.max(Math.atan(Math.abs(x+w)*v),Math.atan(Math.abs(x-w)*v));let M=0,B=t;for(let L=t+2;L<n-2;L+=2){const z=Math.abs(h-u*e[L+1]+d*e[L]);z>M&&(B=L,M=z)}M>(c*R)**2?(ve(this,sr,fy).call(this,e,t,B+2,i),ve(this,sr,fy).call(this,e,B,n,i)):i.push(a,s)},GR=function(e){const t=[],n=e.length;return ve(this,sr,fy).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},WR=function(e,t,n,i,a,s){const o=new Float32Array(s**2),l=-2*i**2,c=s>>1;for(let y=0;y<s;y++){const w=(y-c)**2;for(let x=0;x<s;x++)o[y*s+x]=Math.exp((w+(x-c)**2)/l)}const u=new Float32Array(256),d=-2*a**2;for(let y=0;y<256;y++)u[y]=Math.exp(y**2/d);const h=e.length,f=new Uint8Array(h),g=new Uint32Array(256);for(let y=0;y<n;y++)for(let w=0;w<t;w++){const x=y*t+w,T=e[x];let v=0,R=0;for(let B=0;B<s;B++){const L=y+B-c;if(!(L<0||L>=n))for(let z=0;z<s;z++){const H=w+z-c;if(H<0||H>=t)continue;const $=e[L*t+H],U=o[B*s+z]*u[Math.abs($-T)];v+=$*U,R+=U}}const M=f[x]=Math.round(v/R);g[M]++}return[f,g]},XR=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},i4=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,a=1/0;for(let o=0,l=n.length;o<l;o++){const c=n[o]=e[o<<2];i=Math.max(i,c),a=Math.min(a,c)}const s=255/(i-a);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-a)*s;return n},a4=function(e){let t,n=-1/0,i=-1/0;const a=e.findIndex(l=>l!==0);let s=a,o=a;for(t=a;t<256;t++){const l=e[t];l>n&&(t-s>i&&(i=t-s,o=t-1),n=l,s=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},KR=function(e){const t=e,{width:n,height:i}=e,{maxDim:a}=p(this,Wf);let s=n,o=i;if(n>a||i>a){let h=n,f=i,g=Math.log2(Math.max(n,i)/a);const y=Math.floor(g);g=g===y?y-1:y;for(let x=0;x<g;x++){s=Math.ceil(h/2),o=Math.ceil(f/2);const T=new OffscreenCanvas(s,o);T.getContext("2d").drawImage(e,0,0,h,f,0,0,s,o),h=s,f=o,e!==t&&e.close(),e=T.transferToImageBitmap()}const w=Math.min(a/s,a/o);s=Math.round(s*w),o=Math.round(o*w)}const c=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,s,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,s,o);const u=c.getImageData(0,0,s,o).data;return[ve(this,sr,i4).call(this,u),s,o]},de(du,sr),de(du,Wf,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),de(du,ol,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class rS extends BR{constructor(){super(),super.updateProperties({fill:Pr._defaultLineColor,"stroke-width":0})}clone(){const e=new rS;return e.updateAll(this),e}}class iS extends zx{constructor(e){super(e),super.updateProperties({stroke:Pr._defaultLineColor,"stroke-width":1})}clone(){const e=new iS(this._viewParameters);return e.updateAll(this),e}}var Id,Yl,Md,Xf;const ks=class ks extends Ky{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});de(this,Id,!1);de(this,Yl,null);de(this,Md,null);de(this,Xf,null);this._willKeepAspectRatio=!0,Q(this,Md,t.signatureData||null),Q(this,Yl,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Pr.initialize(t,n),this._defaultDrawingOptions=new rS,this._defaultDrawnSignatureOptions=new iS(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return wn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(this,Yl)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(p(this,Md)){const{lines:a,mustSmooth:s,areContours:o,description:l,uuid:c,heightInPage:u}=p(this,Md),{rawDims:{pageWidth:d,pageHeight:h},rotation:f}=this.parent.viewport,g=du.processDrawnLines({lines:a,pageWidth:d,pageHeight:h,rotation:f,innerMargin:ks._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(g,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:p(this,Yl)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){Q(this,Xf,t),this.addEditToolbar()}getUuid(){return p(this,Xf)}get description(){return p(this,Yl)}set description(t){Q(this,Yl,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:a,height:s}=p(this,Md),o=Math.max(a,s),l=du.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,a){const{x:s,y:o}=this,{outline:l}=Q(this,Md,t);Q(this,Id,l instanceof t4),this.description=i;let c;p(this,Id)?c=ks.getDefaultDrawingOptions():(c=ks._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=n/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return du.process(t,n,i,a,ks._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:s}=this.parent.viewport;return du.extractContoursFromText(t,n,i,a,s,ks._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return du.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:ks._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=ks.getDefaultDrawingOptions():(this._drawingOptions=ks._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(t),{isSignature:!0,areContours:p(this,Id),color:[0,0,0],thickness:p(this,Id)?0:a});return this.addComment(s),t?(s.paths={lines:n,points:i},s.uuid=p(this,Xf),s.isCopy=!0):s.lines=n,p(this,Yl)&&(s.accessibilityData={type:"Figure",alt:p(this,Yl)}),s}static deserializeDraw(t,n,i,a,s,o){return o.areContours?t4.deserialize(t,n,i,a,s,o):k2.deserialize(t,n,i,a,s,o)}static async deserialize(t,n,i){var s;const a=await super.deserialize(t,n,i);return Q(a,Id,t.areContours),a.description=((s=t.accessibilityData)==null?void 0:s.alt)||"",Q(a,Xf,t.uuid),a}};Id=new WeakMap,Yl=new WeakMap,Md=new WeakMap,Xf=new WeakMap,xt(ks,"_type","signature"),xt(ks,"_editorType",An.SIGNATURE),xt(ks,"_defaultDrawingOptions",null);let s4=ks;var zr,Ki,Pd,su,Fd,I1,ou,Kf,Zl,zs,M1,Qn,$m,eg,py,my,gy,l4,vy,YR;class o4 extends Pr{constructor(t){super({...t,name:"stampEditor"});de(this,Qn);de(this,zr,null);de(this,Ki,null);de(this,Pd,null);de(this,su,null);de(this,Fd,null);de(this,I1,"");de(this,ou,null);de(this,Kf,!1);de(this,Zl,null);de(this,zs,!1);de(this,M1,!1);Q(this,su,t.bitmapUrl),Q(this,Fd,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Pr.initialize(t,n)}static isHandlingMimeForPasting(t){return W_.includes(t)}static paste(t,n){n.pasteEditor({mode:An.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;p(this,Ki)&&(Q(this,zr,null),this._uiManager.imageManager.deleteId(p(this,Ki)),(t=p(this,ou))==null||t.remove(),Q(this,ou,null),p(this,Zl)&&(clearTimeout(p(this,Zl)),Q(this,Zl,null))),super.remove()}rebuild(){if(!this.parent){p(this,Ki)&&ve(this,Qn,py).call(this);return}super.rebuild(),this.div!==null&&(p(this,Ki)&&p(this,ou)===null&&ve(this,Qn,py).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(p(this,Pd)||p(this,zr)||p(this,su)||p(this,Fd)||p(this,Ki)||p(this,Kf))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),p(this,Kf)||(p(this,zr)?ve(this,Qn,my).call(this):ve(this,Qn,py).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(Q(this,Ki,i),a&&Q(this,zr,a),Q(this,Kf,!1),ve(this,Qn,my).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,Zl)!==null&&clearTimeout(p(this,Zl)),Q(this,Zl,setTimeout(()=>{Q(this,Zl,null),ve(this,Qn,l4).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);const{width:a,height:s}=p(this,zr),o=new $l;let l=p(this,zr),c=a,u=s,d=null;if(n){if(a>n||s>n){const L=Math.min(n/a,n/s);c=Math.floor(a*L),u=Math.floor(s*L)}d=document.createElement("canvas");const f=d.width=Math.ceil(c*o.sx),g=d.height=Math.ceil(u*o.sy);p(this,zs)||(l=ve(this,Qn,gy).call(this,f,g));const y=d.getContext("2d");y.filter=this._uiManager.hcmFilter;let w="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":fq.isDarkMode&&(w="#8f8f9d",x="#42414d");const T=15,v=T*o.sx,R=T*o.sy,M=new OffscreenCanvas(v*2,R*2),B=M.getContext("2d");B.fillStyle=w,B.fillRect(0,0,v*2,R*2),B.fillStyle=x,B.fillRect(0,0,v,R),B.fillRect(v,R,v,R),y.fillStyle=y.createPattern(M,"repeat"),y.fillRect(0,0,f,g),y.drawImage(l,0,0,l.width,l.height,0,0,f,g)}let h=null;if(i){let f,g;if(o.symmetric&&l.width<t&&l.height<t)f=l.width,g=l.height;else if(l=p(this,zr),a>t||s>t){const x=Math.min(t/a,t/s);f=Math.floor(a*x),g=Math.floor(s*x),p(this,zs)||(l=ve(this,Qn,gy).call(this,f,g))}const w=new OffscreenCanvas(f,g).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,f,g),h={width:f,height:g,data:w.getImageData(0,0,f,g).data}}return{canvas:d,width:c,height:u,imageData:h}}static async deserialize(t,n,i){var w;let a=null,s=!1;if(t instanceof dR){const{data:{rect:x,rotation:T,id:v,structParent:R,popupRef:M,richText:B,contentsObj:L,creationDate:z,modificationDate:H},container:$,parent:{page:{pageNumber:U}},canvas:D}=t;let ee,J;D?(delete t.canvas,{id:ee,bitmap:J}=i.imageManager.getFromCanvas($.id,D),D.remove()):(s=!0,t._hasNoCanvas=!0);const re=((w=await n._structTree.getAriaAttributes(`${K0}${v}`))==null?void 0:w.get("aria-label"))||"";a=t={annotationType:An.STAMP,bitmapId:ee,bitmap:J,pageIndex:U-1,rect:x.slice(0),rotation:T,annotationElementId:v,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:re},isSvg:!1,structParent:R,popupRef:M,richText:B,comment:(L==null?void 0:L.str)||null,creationDate:z,modificationDate:H}}const o=await super.deserialize(t,n,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=t;s?(i.addMissingCanvas(t.id,o),Q(o,Kf,!0)):d&&i.imageManager.isValidId(d)?(Q(o,Ki,d),c&&Q(o,zr,c)):Q(o,su,u),Q(o,zs,h);const[g,y]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/y,f&&(o.altTextData=f),o._initialData=a,t.comment&&o.setCommentData(t),Q(o,M1,!!a),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:p(this,Ki),isSvg:p(this,zs)});if(this.addComment(i),t)return i.bitmapUrl=ve(this,Qn,vy).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=ve(this,Qn,YR).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const o=p(this,zs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(p(this,Ki)))n.stamps.set(p(this,Ki),{area:o,serialized:i}),i.bitmap=ve(this,Qn,vy).call(this,!1);else if(p(this,zs)){const l=n.stamps.get(p(this,Ki));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=ve(this,Qn,vy).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}zr=new WeakMap,Ki=new WeakMap,Pd=new WeakMap,su=new WeakMap,Fd=new WeakMap,I1=new WeakMap,ou=new WeakMap,Kf=new WeakMap,Zl=new WeakMap,zs=new WeakMap,M1=new WeakMap,Qn=new WeakSet,$m=function(t,n=!1){if(!t){this.remove();return}Q(this,zr,t.bitmap),n||(Q(this,Ki,t.id),Q(this,zs,t.isSvg)),t.file&&Q(this,I1,t.file.name),ve(this,Qn,my).call(this)},eg=function(){if(Q(this,Pd,null),this._uiManager.enableWaiting(!1),!!p(this,ou)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,zr)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,zr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},py=function(){if(p(this,Ki)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Ki)).then(i=>ve(this,Qn,$m).call(this,i,!0)).finally(()=>ve(this,Qn,eg).call(this));return}if(p(this,su)){const i=p(this,su);Q(this,su,null),this._uiManager.enableWaiting(!0),Q(this,Pd,this._uiManager.imageManager.getFromUrl(i).then(a=>ve(this,Qn,$m).call(this,a)).finally(()=>ve(this,Qn,eg).call(this)));return}if(p(this,Fd)){const i=p(this,Fd);Q(this,Fd,null),this._uiManager.enableWaiting(!0),Q(this,Pd,this._uiManager.imageManager.getFromFile(i).then(a=>ve(this,Qn,$m).call(this,a)).finally(()=>ve(this,Qn,eg).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=W_.join(",");const n=this._uiManager._signal;Q(this,Pd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ve(this,Qn,$m).call(this,a)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>ve(this,Qn,eg).call(this))),t.click()},my=function(){var c;const{div:t}=this;let{width:n,height:i}=p(this,zr);const[a,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>o*a||i>o*s){const u=Math.min(o*a/n,o*s/i);n*=u,i*=u}this._uiManager.enableWaiting(!1);const l=Q(this,ou,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/a,this.height=i/s,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ve(this,Qn,l4).call(this),p(this,M1)||(this.parent.addUndoableEditor(this),Q(this,M1,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,I1)&&this.div.setAttribute("aria-description",p(this,I1)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},gy=function(t,n){const{width:i,height:a}=p(this,zr);let s=i,o=a,l=p(this,zr);for(;s>2*t||o>2*n;){const c=s,u=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(s,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,s,o),l=d.transferToImageBitmap()}return l},l4=function(){const[t,n]=this.parentDimensions,{width:i,height:a}=this,s=new $l,o=Math.ceil(i*t*s.sx),l=Math.ceil(a*n*s.sy),c=p(this,ou);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=p(this,zs)?p(this,zr):ve(this,Qn,gy).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,l)},vy=function(t){if(t){if(p(this,zs)){const a=this._uiManager.imageManager.getSvgUrl(p(this,Ki));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=p(this,zr),n.getContext("2d").drawImage(p(this,zr),0,0),n.toDataURL()}if(p(this,zs)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Kd.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Kd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(p(this,zr),0,0,p(this,zr).width,p(this,zr).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(p(this,zr))},YR=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,s=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},xt(o4,"_type","stamp"),xt(o4,"_editorType",An.STAMP);var Yf,P1,Ld,Dd,lu,cs,Bd,F1,L1,ll,cu,Yi,uu,Od,D1,Qt,jd,Cr,u4,ZR,Cl,d4,h4,by;const Jo=class Jo{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}){de(this,Cr);de(this,Yf);de(this,P1,!1);de(this,Ld,null);de(this,Dd,null);de(this,lu,null);de(this,cs,new Map);de(this,Bd,!1);de(this,F1,!1);de(this,L1,!1);de(this,ll,null);de(this,cu,null);de(this,Yi,null);de(this,uu,null);de(this,Od,null);de(this,D1,-1);de(this,Qt);const d=[...p(Jo,jd).values()];if(!Jo._initialized){Jo._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),Q(this,Qt,e),this.pageIndex=t,this.div=n,Q(this,Yf,a),Q(this,Ld,s),this.viewport=c,Q(this,Yi,l),this.drawLayer=o,this._structTree=i,p(this,Qt).addLayer(this)}get isEmpty(){return p(this,cs).size===0}get isInvisible(){return this.isEmpty&&p(this,Qt).getMode()===An.NONE}updateToolbar(e){p(this,Qt).updateToolbar(e)}updateMode(e=p(this,Qt).getMode()){switch(ve(this,Cr,by).call(this),e){case An.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case An.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case An.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===An.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of p(Jo,jd).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=p(this,Yi))==null?void 0:t.div)}setEditingState(e){p(this,Qt).setEditingState(e)}addCommands(e){p(this,Qt).addCommands(e)}cleanUndoStack(e){p(this,Qt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=p(this,Ld))==null||t.togglePointerEvents(e)}async enable(){var n;Q(this,L1,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=p(this,Od))==null||n.abort(),Q(this,Od,null);const e=new Set;for(const i of p(this,Cr,u4))i.enableEditing(),i.show(!0),i.annotationElementId&&(p(this,Qt).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=p(this,Ld);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),p(this,Qt).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}Q(this,L1,!1),p(this,Qt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(Q(this,F1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),p(this,Yi)&&!p(this,Od)){Q(this,Od,new AbortController);const a=p(this,Qt).combinedSignal(p(this,Od));p(this,Yi).div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:c,timeStamp:u}=s,d=p(this,D1);if(u-d>500){Q(this,D1,u);return}Q(this,D1,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let g;const y=new RegExp(`^${gg}[0-9]+$`);for(const x of f)if(y.test(x.id)){g=x.id;break}if(!g)return;const w=p(this,cs).get(g);(w==null?void 0:w.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),w.dblclick(s))},{signal:a,capture:!0})}const e=p(this,Ld),t=[];if(e){const a=new Map,s=new Map;for(const l of p(this,Cr,u4)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){a.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(p(this,Qt).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=s.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=a.get(c),u&&(p(this,Qt).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}ve(this,Cr,by).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of p(Jo,jd).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),Q(this,F1,!1)}getEditableAnnotation(e){var t;return((t=p(this,Ld))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){p(this,Qt).getActive()!==e&&p(this,Qt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=p(this,Yi))!=null&&e.div&&!p(this,uu)){Q(this,uu,new AbortController);const t=p(this,Qt).combinedSignal(p(this,uu));p(this,Yi).div.addEventListener("pointerdown",ve(this,Cr,ZR).bind(this),{signal:t}),p(this,Yi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=p(this,Yi))!=null&&e.div&&p(this,uu)&&(p(this,uu).abort(),Q(this,uu,null),p(this,Yi).div.classList.remove("highlighting"))}enableClick(){if(p(this,Dd))return;Q(this,Dd,new AbortController);const e=p(this,Qt).combinedSignal(p(this,Dd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=p(this,Dd))==null||e.abort(),Q(this,Dd,null)}attach(e){p(this,cs).set(e.id,e);const{annotationElementId:t}=e;t&&p(this,Qt).isDeletedAnnotationElement(t)&&p(this,Qt).removeDeletedAnnotationElement(e)}detach(e){var t;p(this,cs).delete(e.id),(t=p(this,Yf))==null||t.removePointerInTextLayer(e.contentDiv),!p(this,F1)&&e.annotationElementId&&p(this,Qt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),p(this,Qt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(p(this,Qt).addDeletedAnnotationElement(e),Pr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),p(this,Qt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!p(this,L1)),p(this,Qt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!p(this,lu)&&(e._focusEventsAllowed=!1,Q(this,lu,setTimeout(()=>{Q(this,lu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:p(this,Qt)._signal}),t.focus())},0))),e._structTreeParentId=(n=p(this,Yf))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of p(this,cs).values())if(t.uid===e)return t;return null}getNextId(){return p(this,Qt).getId()}combinedSignal(e){return p(this,Qt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=p(this,Cr,Cl))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await p(this,Qt).updateMode(e.mode);const{offsetX:n,offsetY:i}=ve(this,Cr,h4).call(this),a=this.getNextId(),s=ve(this,Cr,d4).call(this,{parent:this,id:a,x:n,y:i,uiManager:p(this,Qt),isCentered:!0,...t});s&&this.add(s)}async deserialize(e){var t;return await((t=p(Jo,jd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,p(this,Qt)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),a=ve(this,Cr,d4).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:p(this,Qt),isCentered:t,...n});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(ve(this,Cr,h4).call(this),!0,e)}setSelected(e){p(this,Qt).setSelected(e)}toggleSelected(e){p(this,Qt).toggleSelected(e)}unselect(e){p(this,Qt).unselect(e)}pointerup(e){var i;const{isMac:t}=ga.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!p(this,Bd)||(Q(this,Bd,!1),(i=p(this,Cr,Cl))!=null&&i.isDrawer&&p(this,Cr,Cl).supportMultipleDrawings))return;if(!p(this,P1)){Q(this,P1,!0);return}const n=p(this,Qt).getMode();if(n===An.STAMP||n===An.SIGNATURE){p(this,Qt).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(p(this,Qt).getMode()===An.HIGHLIGHT&&this.enableTextSelection(),p(this,Bd)){Q(this,Bd,!1);return}const{isMac:t}=ga.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(Q(this,Bd,!0),(i=p(this,Cr,Cl))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=p(this,Qt).getActive();Q(this,P1,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),p(this,ll)){p(this,Cr,Cl).startDrawing(this,p(this,Qt),!1,e);return}p(this,Qt).setCurrentDrawingSession(this),Q(this,ll,new AbortController);const t=p(this,Qt).combinedSignal(p(this,ll));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(Q(this,cu,null),this.commitOrRemove())},{signal:t}),p(this,Cr,Cl).startDrawing(this,p(this,Qt),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&Q(this,cu,t);return}p(this,cu)&&setTimeout(()=>{var t;(t=p(this,cu))==null||t.focus(),Q(this,cu,null)},0)}endDrawingSession(e=!1){return p(this,ll)?(p(this,Qt).setCurrentDrawingSession(null),p(this,ll).abort(),Q(this,ll,null),Q(this,cu,null),p(this,Cr,Cl).endDrawing(e)):null}findNewParent(e,t,n){const i=p(this,Qt).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return p(this,ll)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,ll)&&p(this,Cr,Cl).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=p(this,Qt).getActive())==null?void 0:e.parent)===this&&(p(this,Qt).commitOrRemove(),p(this,Qt).setActiveEditor(null)),p(this,lu)&&(clearTimeout(p(this,lu)),Q(this,lu,null));for(const n of p(this,cs).values())(t=p(this,Yf))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,p(this,cs).clear(),p(this,Qt).removeLayer(this)}render({viewport:e}){this.viewport=e,e0(this.div,e);for(const t of p(this,Qt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){p(this,Qt).commitOrRemove(),ve(this,Cr,by).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,e0(this.div,{rotation:n}),t!==n)for(const i of p(this,cs).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return p(this,Qt).viewParameters.realScale}};Yf=new WeakMap,P1=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,lu=new WeakMap,cs=new WeakMap,Bd=new WeakMap,F1=new WeakMap,L1=new WeakMap,ll=new WeakMap,cu=new WeakMap,Yi=new WeakMap,uu=new WeakMap,Od=new WeakMap,D1=new WeakMap,Qt=new WeakMap,jd=new WeakMap,Cr=new WeakSet,u4=function(){return p(this,cs).size!==0?p(this,cs).values():p(this,Qt).getEditors(this.pageIndex)},ZR=function(e){p(this,Qt).unselectAll();const{target:t}=e;if(t===p(this,Yi).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&p(this,Yi).div.contains(t)){const{isMac:n}=ga.platform;if(e.button!==0||e.ctrlKey&&n)return;p(this,Qt).showAllEditors("highlight",!0,!0),p(this,Yi).div.classList.add("free"),this.toggleDrawing(),Xy.startHighlighting(this,p(this,Qt).direction==="ltr",{target:p(this,Yi).div,x:e.x,y:e.y}),p(this,Yi).div.addEventListener("pointerup",()=>{p(this,Yi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,Qt)._signal}),e.preventDefault()}},Cl=function(){return p(Jo,jd).get(p(this,Qt).getMode())},d4=function(e){const t=p(this,Cr,Cl);return t?new t.prototype.constructor(e):null},h4=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),c=(a+o)/2-e,u=(s+l)/2-t,[d,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:h}},by=function(){for(const e of p(this,cs).values())e.isEmpty()&&e.remove()},xt(Jo,"_initialized",!1),de(Jo,jd,new Map([V3,e4,o4,Xy,s4].map(e=>[e._editorType,e])));let c4=Jo;var cl,Ga,Zf,g2,Nx,JR,tc,p4,QR,m4;const Mi=class Mi{constructor({pageIndex:e}){de(this,tc);de(this,cl,null);de(this,Ga,new Map);de(this,Zf,new Map);this.pageIndex=e}setParent(e){if(!p(this,cl)){Q(this,cl,e);return}if(p(this,cl)!==e){if(p(this,Ga).size>0)for(const t of p(this,Ga).values())t.remove(),e.append(t);Q(this,cl,e)}}static get _svgFactory(){return wn(this,"_svgFactory",new Gy)}draw(e,t=!1,n=!1){const i=Ri(Mi,g2)._++,a=ve(this,tc,p4).call(this),s=Mi._svgFactory.createElement("defs");a.append(s);const o=Mi._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&p(this,Zf).set(i,o);const c=n?ve(this,tc,QR).call(this,s,l):null,u=Mi._svgFactory.createElement("use");return a.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(a,e),p(this,Ga).set(i,a),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const n=Ri(Mi,g2)._++,i=ve(this,tc,p4).call(this),a=Mi._svgFactory.createElement("defs");i.append(a);const s=Mi._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=Mi._svgFactory.createElement("mask");a.append(d),l=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=Mi._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Mi._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=Mi._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),p(this,Ga).set(n,i),n}finalizeDraw(e,t){p(this,Zf).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:n,bbox:i,rootClass:a,path:s}=t,o=typeof e=="number"?p(this,Ga).get(e):e;if(o){if(n&&ve(this,tc,m4).call(this,o,n),i&&ve(l=Mi,Nx,JR).call(l,o,i),a){const{classList:c}=o;for(const[u,d]of Object.entries(a))c.toggle(u,d)}if(s){const u=o.firstElementChild.firstElementChild;ve(this,tc,m4).call(this,u,s)}}}updateParent(e,t){if(t===this)return;const n=p(this,Ga).get(e);n&&(p(t,cl).append(n),p(this,Ga).delete(e),p(t,Ga).set(e,n))}remove(e){p(this,Zf).delete(e),p(this,cl)!==null&&(p(this,Ga).get(e).remove(),p(this,Ga).delete(e))}destroy(){Q(this,cl,null);for(const e of p(this,Ga).values())e.remove();p(this,Ga).clear(),p(this,Zf).clear()}};cl=new WeakMap,Ga=new WeakMap,Zf=new WeakMap,g2=new WeakMap,Nx=new WeakSet,JR=function(e,[t,n,i,a]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},tc=new WeakSet,p4=function(){const e=Mi._svgFactory.create(1,1,!0);return p(this,cl).append(e),e.setAttribute("aria-hidden",!0),e},QR=function(e,t){const n=Mi._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Mi._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),i},m4=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},de(Mi,Nx),de(Mi,g2,0);let f4=Mi;globalThis._pdfjsTestingUtils={HighlightOutliner:W3};globalThis.pdfjsLib={AbortException:Xd,AnnotationEditorLayer:c4,AnnotationEditorParamsType:qn,AnnotationEditorType:An,AnnotationEditorUIManager:t0,AnnotationLayer:H3,AnnotationMode:Ku,AnnotationType:yi,applyOpacity:mq,build:_H,ColorPicker:zy,createValidAbsoluteUrl:HT,CSSConstants:pq,DOMSVGFactory:Gy,DrawLayer:f4,FeatureTest:ga,fetchData:x2,findContrastColor:gq,getDocument:ZN,getFilenameFromUrl:lq,getPdfFilenameFromUrl:cq,getRGB:_2,getUuid:GT,getXfaPageViewport:dq,GlobalWorkerOptions:Jl,ImageKind:jb,InvalidPDFException:V_,isDataScheme:qx,isPdfFile:J4,isValidExplicitDest:Eq,MathClamp:Xa,noContextMenu:Po,normalizeUnicode:aq,OPS:vg,OutputScale:$l,PasswordResponses:ZU,PDFDataRangeTransport:JN,PDFDateString:By,PDFWorker:xg,PermissionFlag:YU,PixelsPerInch:Kd,RenderingCancelledException:Z4,renderRichText:KT,ResponseException:Dy,setLayerDimensions:e0,shadow:wn,SignatureExtractor:du,stopEvent:ai,SupportedImageMimeTypes:W_,TextLayer:yg,TouchManager:jy,updateUrlHash:zT,Util:Vt,VerbosityLevel:Ox,version:wH,XfaLayer:XT};const WH="/pdf.worker.min.js",XH=()=>{const[r,e]=Qe.useState(null),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),l=Qe.useRef(null);Qe.useEffect(()=>{Jl.workerSrc=WH},[]);const c=h=>{var g;const f=(g=h.target.files)==null?void 0:g[0];if(f){if(f.type!=="application/pdf"){a("Only PDF files are allowed.");return}if(f.size>10*1024*1024){a("Max file size is 10MB.");return}o(f),a(null)}},u=()=>{e(null),o(null),a(null),l.current&&(l.current.value="")},d=async()=>{if(s){n(!0),a(null),e(null);try{const h=new FileReader;h.onload=async f=>{var g;try{const y=(g=f.target)==null?void 0:g.result;if(!y)throw new Error("Failed to read the file.");const w=await ZN({data:y}).promise;let x="";for(let R=1;R<=w.numPages;R++){const L=(await(await w.getPage(R)).getTextContent()).items.map(z=>"str"in z?z.str:"").join(" ");x+=L+`

`}const T=`
            <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
            <head><meta charset='utf-8'><title>Converted Document</title></head>
            <body>
                <pre>${x.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</pre>
            </body>
            </html>
          `,v=new Blob([T],{type:"application/msword"});e(URL.createObjectURL(v))}catch(y){console.error("Error processing PDF:",y),a(`Failed to process PDF. The file might be corrupt or in an unsupported format. Error: ${y.message}`)}finally{n(!1)}},h.onerror=()=>{a("Error reading the selected file."),n(!1)},h.readAsArrayBuffer(s)}catch(h){a(`An unexpected error occurred: ${h.message}`),n(!1)}}};return b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12 text-center",children:r?b.jsxs("div",{className:"py-12 flex flex-col items-center justify-center animate-fade-in",children:[b.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:b.jsx(Qa,{className:"w-12 h-12 text-green-600"})}),b.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Conversion Successful!"}),b.jsx("p",{className:"text-slate-500 mb-8",children:"Your document is ready for download."}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("a",{href:r,download:s==null?void 0:s.name.replace(/\.pdf$/i,".doc"),className:"py-4 px-8 bg-primary-600 text-white rounded-xl font-bold shadow-lg flex items-center gap-2 hover:bg-primary-700 transition-colors",children:[b.jsx(ma,{className:"w-5 h-5"})," Download Word File"]}),b.jsx("button",{onClick:u,className:"py-4 px-8 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:"Convert Another"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("label",{className:"block text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Upload PDF Document"}),s?b.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-3 bg-red-100 rounded-lg text-red-600",children:b.jsx(zd,{className:"w-8 h-8"})}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-lg",children:s.name}),b.jsx("p",{className:"text-sm text-slate-500",children:"Ready to convert"})]})]}),b.jsx("button",{onClick:u,className:"text-red-500 hover:text-red-700 font-medium",children:"Remove"})]}):b.jsxs("div",{onClick:()=>{var h;return(h=l.current)==null?void 0:h.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-12 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 transition-all",children:[b.jsx(zd,{className:"w-16 h-16 text-slate-400 mb-4"}),b.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload PDF"}),b.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Max file size 10MB"})]}),b.jsx("input",{type:"file",ref:l,className:"hidden",accept:"application/pdf",onChange:c})]}),b.jsxs("button",{onClick:d,disabled:!s||t,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:[t?b.jsx(si,{className:"w-6 h-6 animate-spin"}):b.jsx(zd,{className:"w-6 h-6"}),t?"Converting...":"Convert to Word"]}),i&&b.jsxs("p",{className:"mt-4 text-red-500 font-medium flex items-center justify-center gap-2",children:[b.jsx(Qs,{className:"w-5 h-5"})," ",i]})]})})})};function fr(r){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(r)}var hl=Uint8Array,Xs=Uint16Array,aS=Int32Array,sS=new hl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oS=new hl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),I6=new hl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$R=function(r,e){for(var t=new Xs(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new aS(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},e7=$R(sS,2),KH=e7.b,g4=e7.r;KH[28]=258,g4[258]=28;var YH=$R(oS,0),M6=YH.r,v4=new Xs(32768);for(var Br=0;Br<32768;++Br){var zu=(Br&43690)>>1|(Br&21845)<<1;zu=(zu&52428)>>2|(zu&13107)<<2,zu=(zu&61680)>>4|(zu&3855)<<4,v4[Br]=((zu&65280)>>8|(zu&255)<<8)>>1}var lg=(function(r,e,t){for(var n=r.length,i=0,a=new Xs(e);i<n;++i)r[i]&&++a[r[i]-1];var s=new Xs(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new Xs(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var c=i<<4|r[i],u=e-r[i],d=s[r[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[v4[d]>>l]=c}else for(o=new Xs(n),i=0;i<n;++i)r[i]&&(o[i]=v4[s[r[i]-1]++]>>15-r[i]);return o}),r0=new hl(288);for(var Br=0;Br<144;++Br)r0[Br]=8;for(var Br=144;Br<256;++Br)r0[Br]=9;for(var Br=256;Br<280;++Br)r0[Br]=7;for(var Br=280;Br<288;++Br)r0[Br]=8;var Yy=new hl(32);for(var Br=0;Br<32;++Br)Yy[Br]=5;var ZH=lg(r0,9,0),JH=lg(Yy,5,0),t7=function(r){return(r+7)/8|0},QH=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new hl(r.subarray(e,t))},_c=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Am=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},G5=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,a=t.slice();if(!i)return{t:r7,l:0};if(i==1){var s=new hl(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(M,B){return M.f-B.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=a[0].s,n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var f=new Xs(h+1),g=b4(t[u-1],f,0);if(g>e){var n=0,y=0,w=g-e,x=1<<w;for(a.sort(function(B,L){return f[L.s]-f[B.s]||B.f-L.f});n<i;++n){var T=a[n].s;if(f[T]>e)y+=x-(1<<g-f[T]),f[T]=e;else break}for(y>>=w;y>0;){var v=a[n].s;f[v]<e?y-=1<<e-f[v]++-1:++n}for(;n>=0&&y;--n){var R=a[n].s;f[R]==e&&(--f[R],++y)}g=e}return{t:new hl(f),l:g}},b4=function(r,e,t){return r.s==-1?Math.max(b4(r.l,e,t+1),b4(r.r,e,t+1)):e[r.s]=t},P6=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Xs(++e),n=0,i=r[0],a=1,s=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=r[o]}return{c:t.subarray(0,n),n:e}},km=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},n7=function(r,e,t){var n=t.length,i=t7(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=t[a];return(i+4+n)*8},F6=function(r,e,t,n,i,a,s,o,l,c,u){_c(e,u++,t),++i[256];for(var d=G5(i,15),h=d.t,f=d.l,g=G5(a,15),y=g.t,w=g.l,x=P6(h),T=x.c,v=x.n,R=P6(y),M=R.c,B=R.n,L=new Xs(19),z=0;z<T.length;++z)++L[T[z]&31];for(var z=0;z<M.length;++z)++L[M[z]&31];for(var H=G5(L,7),$=H.t,U=H.l,D=19;D>4&&!$[I6[D-1]];--D);var ee=c+5<<3,J=km(i,r0)+km(a,Yy)+s,re=km(i,h)+km(a,y)+s+14+3*D+km(L,$)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&ee<=J&&ee<=re)return n7(e,u,r.subarray(l,l+c));var q,W,le,ue;if(_c(e,u,1+(re<J)),u+=2,re<J){q=lg(h,f,0),W=h,le=lg(y,w,0),ue=y;var oe=lg($,U,0);_c(e,u,v-257),_c(e,u+5,B-1),_c(e,u+10,D-4),u+=14;for(var z=0;z<D;++z)_c(e,u+3*z,$[I6[z]]);u+=3*D;for(var F=[T,M],C=0;C<2;++C)for(var I=F[C],z=0;z<I.length;++z){var O=I[z]&31;_c(e,u,oe[O]),u+=$[O],O>15&&(_c(e,u,I[z]>>5&127),u+=I[z]>>12)}}else q=ZH,W=r0,le=JH,ue=Yy;for(var z=0;z<o;++z){var X=n[z];if(X>255){var O=X>>18&31;Am(e,u,q[O+257]),u+=W[O+257],O>7&&(_c(e,u,X>>23&31),u+=sS[O]);var te=X&31;Am(e,u,le[te]),u+=ue[te],te>3&&(Am(e,u,X>>5&8191),u+=oS[te])}else Am(e,u,q[X]),u+=W[X]}return Am(e,u,q[256]),u+W[256]},$H=new aS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r7=new hl(0),ez=function(r,e,t,n,i,a){var s=a.z||r.length,o=new hl(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var d=$H[e-1],h=d>>13,f=d&8191,g=(1<<t)-1,y=a.p||new Xs(32768),w=a.h||new Xs(g+1),x=Math.ceil(t/3),T=2*x,v=function(it){return(r[it]^r[it+1]<<x^r[it+2]<<T)&g},R=new aS(25e3),M=new Xs(288),B=new Xs(32),L=0,z=0,H=a.i||0,$=0,U=a.w||0,D=0;H+2<s;++H){var ee=v(H),J=H&32767,re=w[ee];if(y[J]=re,w[ee]=J,U<=H){var q=s-H;if((L>7e3||$>24576)&&(q>423||!c)){u=F6(r,l,0,R,M,B,z,$,D,H-D,u),$=L=z=0,D=H;for(var W=0;W<286;++W)M[W]=0;for(var W=0;W<30;++W)B[W]=0}var le=2,ue=0,oe=f,F=J-re&32767;if(q>2&&ee==v(H-F))for(var C=Math.min(h,q)-1,I=Math.min(32767,H),O=Math.min(258,q);F<=I&&--oe&&J!=re;){if(r[H+le]==r[H+le-F]){for(var X=0;X<O&&r[H+X]==r[H+X-F];++X);if(X>le){if(le=X,ue=F,X>C)break;for(var te=Math.min(F,X-2),ie=0,W=0;W<te;++W){var ne=H-F+W&32767,we=y[ne],Ee=ne-we&32767;Ee>ie&&(ie=Ee,re=ne)}}}J=re,re=y[J],F+=J-re&32767}if(ue){R[$++]=268435456|g4[le]<<18|M6[ue];var He=g4[le]&31,Ue=M6[ue]&31;z+=sS[He]+oS[Ue],++M[257+He],++B[Ue],U=H+le,++L}else R[$++]=r[H],++M[r[H]]}}for(H=Math.max(H,U);H<s;++H)R[$++]=r[H],++M[r[H]];u=F6(r,l,c,R,M,B,z,$,D,H-D,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=w,a.p=y,a.i=H,a.w=U)}else{for(var H=a.w||0;H<s+c;H+=65535){var We=H+65535;We>=s&&(l[u/8|0]=c,We=s),u=n7(l,u+1,r.subarray(H,We))}a.i=s}return QH(o,0,n+t7(u)+i)},i7=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,a=t.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},tz=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new hl(a.length+r.length);s.set(a),s.set(r,a.length),r=s,i.w=a.length}return ez(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},a7=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},nz=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=i7();i.p(e.dictionary),a7(r,2,i.d())}};function y4(r,e){e||(e={});var t=i7();t.p(r);var n=tz(r,e,e.dictionary?6:2,4);return nz(n,e),a7(n,n.length-4,t.d()),n}var rz=typeof TextDecoder<"u"&&new TextDecoder,iz=0;try{rz.decode(r7,{stream:!0}),iz=1}catch{}function az(r){if(Array.isArray(r))return r}function sz(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function L6(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function oz(r,e){if(r){if(typeof r=="string")return L6(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L6(r,e):void 0}}function lz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(r,e){return az(r)||sz(r,e)||oz(r,e)||lz()}function B6(r,e="utf8"){return new TextDecoder(e).decode(r)}const cz=new TextEncoder;function uz(r){return cz.encode(r)}const dz=1024*8,hz=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),W5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lS{constructor(e=dz,t={}){xt(this,"buffer");xt(this,"byteLength");xt(this,"byteOffset");xt(this,"length");xt(this,"offset");xt(this,"lastWrittenByte");xt(this,"littleEndian");xt(this,"_data");xt(this,"_mark");xt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof lS)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=W5[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===hz&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new W5[t](o.buffer);return this.offset+=n,l.reverse(),l}const s=new W5[t](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return B6(this.readBytes(e))}decodeText(e=1,t="utf8"){return B6(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(uz(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function V1(r){let e=r.length;for(;--e>=0;)r[e]=0}const fz=3,pz=258,s7=29,mz=256,gz=mz+1+s7,o7=30,vz=512,bz=new Array((gz+2)*2);V1(bz);const yz=new Array(o7*2);V1(yz);const xz=new Array(vz);V1(xz);const wz=new Array(pz-fz+1);V1(wz);const _z=new Array(s7);V1(_z);const Sz=new Array(o7);V1(Sz);const Az=(r,e,t,n)=>{let i=r&65535|0,a=r>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var x4=Az;const kz=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},Ez=new Uint32Array(kz()),Cz=(r,e,t,n)=>{const i=Ez,a=n+t;r^=-1;for(let s=n;s<a;s++)r=r>>>8^i[(r^e[s])&255];return r^-1};var kl=Cz,w4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},l7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Tz=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Nz=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)Tz(t,n)&&(r[n]=t[n])}}return r},Rz=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,a=r.length;n<a;n++){let s=r[n];t.set(s,i),i+=s.length}return t},c7={assign:Nz,flattenChunks:Rz};let u7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u7=!1}const wg=new Uint8Array(256);for(let r=0;r<256;r++)wg[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;wg[254]=wg[254]=1;var Iz=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,a,s=r.length,o=0;for(i=0;i<s;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const Mz=(r,e)=>{if(e<65534&&r.subarray&&u7)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var Pz=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const a=new Array(t*2);for(i=0,n=0;n<t;){let s=r[n++];if(s<128){a[i++]=s;continue}let o=wg[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<t;)s=s<<6|r[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Mz(a,i)},Fz=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+wg[r[t]]>e?t:e},_4={string2buf:Iz,buf2string:Pz,utf8border:Fz};function Lz(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Dz=Lz;const pb=16209,Bz=16191;var Oz=function(e,t){let n,i,a,s,o,l,c,u,d,h,f,g,y,w,x,T,v,R,M,B,L,z,H,$;const U=e.state;n=e.next_in,H=e.input,i=n+(e.avail_in-5),a=e.next_out,$=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),l=U.dmax,c=U.wsize,u=U.whave,d=U.wnext,h=U.window,f=U.hold,g=U.bits,y=U.lencode,w=U.distcode,x=(1<<U.lenbits)-1,T=(1<<U.distbits)-1;e:do{g<15&&(f+=H[n++]<<g,g+=8,f+=H[n++]<<g,g+=8),v=y[f&x];t:for(;;){if(R=v>>>24,f>>>=R,g-=R,R=v>>>16&255,R===0)$[a++]=v&65535;else if(R&16){M=v&65535,R&=15,R&&(g<R&&(f+=H[n++]<<g,g+=8),M+=f&(1<<R)-1,f>>>=R,g-=R),g<15&&(f+=H[n++]<<g,g+=8,f+=H[n++]<<g,g+=8),v=w[f&T];n:for(;;){if(R=v>>>24,f>>>=R,g-=R,R=v>>>16&255,R&16){if(B=v&65535,R&=15,g<R&&(f+=H[n++]<<g,g+=8,g<R&&(f+=H[n++]<<g,g+=8)),B+=f&(1<<R)-1,B>l){e.msg="invalid distance too far back",U.mode=pb;break e}if(f>>>=R,g-=R,R=a-s,B>R){if(R=B-R,R>u&&U.sane){e.msg="invalid distance too far back",U.mode=pb;break e}if(L=0,z=h,d===0){if(L+=c-R,R<M){M-=R;do $[a++]=h[L++];while(--R);L=a-B,z=$}}else if(d<R){if(L+=c+d-R,R-=d,R<M){M-=R;do $[a++]=h[L++];while(--R);if(L=0,d<M){R=d,M-=R;do $[a++]=h[L++];while(--R);L=a-B,z=$}}}else if(L+=d-R,R<M){M-=R;do $[a++]=h[L++];while(--R);L=a-B,z=$}for(;M>2;)$[a++]=z[L++],$[a++]=z[L++],$[a++]=z[L++],M-=3;M&&($[a++]=z[L++],M>1&&($[a++]=z[L++]))}else{L=a-B;do $[a++]=$[L++],$[a++]=$[L++],$[a++]=$[L++],M-=3;while(M>2);M&&($[a++]=$[L++],M>1&&($[a++]=$[L++]))}}else if((R&64)===0){v=w[(v&65535)+(f&(1<<R)-1)];continue n}else{e.msg="invalid distance code",U.mode=pb;break e}break}}else if((R&64)===0){v=y[(v&65535)+(f&(1<<R)-1)];continue t}else if(R&32){U.mode=Bz;break e}else{e.msg="invalid literal/length code",U.mode=pb;break e}break}}while(n<i&&a<o);M=g>>3,n-=M,g-=M<<3,f&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),U.hold=f,U.bits=g};const A0=15,O6=852,j6=592,U6=0,X5=1,q6=2,jz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Uz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zz=(r,e,t,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,d=0,h=0,f=0,g=0,y=0,w=0,x=0,T=0,v,R,M,B,L,z=null,H;const $=new Uint16Array(A0+1),U=new Uint16Array(A0+1);let D=null,ee,J,re;for(c=0;c<=A0;c++)$[c]=0;for(u=0;u<n;u++)$[e[t+u]]++;for(f=l,h=A0;h>=1&&$[h]===0;h--);if(f>h&&(f=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<h&&$[d]===0;d++);for(f<d&&(f=d),w=1,c=1;c<=A0;c++)if(w<<=1,w-=$[c],w<0)return-1;if(w>0&&(r===U6||h!==1))return-1;for(U[1]=0,c=1;c<A0;c++)U[c+1]=U[c]+$[c];for(u=0;u<n;u++)e[t+u]!==0&&(s[U[e[t+u]]++]=u);if(r===U6?(z=D=s,H=20):r===X5?(z=jz,D=Uz,H=257):(z=qz,D=Hz,H=0),T=0,u=0,c=d,L=a,g=f,y=0,M=-1,x=1<<f,B=x-1,r===X5&&x>O6||r===q6&&x>j6)return 1;for(;;){ee=c-y,s[u]+1<H?(J=0,re=s[u]):s[u]>=H?(J=D[s[u]-H],re=z[s[u]-H]):(J=96,re=0),v=1<<c-y,R=1<<g,d=R;do R-=v,i[L+(T>>y)+R]=ee<<24|J<<16|re|0;while(R!==0);for(v=1<<c-1;T&v;)v>>=1;if(v!==0?(T&=v-1,T+=v):T=0,u++,--$[c]===0){if(c===h)break;c=e[t+s[u]]}if(c>f&&(T&B)!==M){for(y===0&&(y=f),L+=d,g=c-y,w=1<<g;g+y<h&&(w-=$[g+y],!(w<=0));)g++,w<<=1;if(x+=1<<g,r===X5&&x>O6||r===q6&&x>j6)return 1;M=T&B,i[M]=f<<24|g<<16|L-a|0}}return T!==0&&(i[L+T]=c-y<<24|64<<16|0),o.bits=f,0};var cg=zz;const Vz=0,d7=1,h7=2,{Z_FINISH:H6,Z_BLOCK:Gz,Z_TREES:mb,Z_OK:i0,Z_STREAM_END:Wz,Z_NEED_DICT:Xz,Z_STREAM_ERROR:Fo,Z_DATA_ERROR:f7,Z_MEM_ERROR:p7,Z_BUF_ERROR:Kz,Z_DEFLATED:z6}=l7,Vx=16180,V6=16181,G6=16182,W6=16183,X6=16184,K6=16185,Y6=16186,Z6=16187,J6=16188,Q6=16189,Zy=16190,Sc=16191,K5=16192,$6=16193,Y5=16194,ek=16195,tk=16196,nk=16197,rk=16198,gb=16199,vb=16200,ik=16201,ak=16202,sk=16203,ok=16204,lk=16205,Z5=16206,ck=16207,uk=16208,Ur=16209,m7=16210,g7=16211,Yz=852,Zz=592,Jz=15,Qz=Jz,dk=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function $z(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const c0=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Vx||e.mode>g7?1:0},v7=r=>{if(c0(r))return Fo;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Vx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Yz),e.distcode=e.distdyn=new Int32Array(Zz),e.sane=1,e.back=-1,i0},b7=r=>{if(c0(r))return Fo;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,v7(r)},y7=(r,e)=>{let t;if(c0(r))return Fo;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,b7(r))},x7=(r,e)=>{if(!r)return Fo;const t=new $z;r.state=t,t.strm=r,t.window=null,t.mode=Vx;const n=y7(r,e);return n!==i0&&(r.state=null),n},eV=r=>x7(r,Qz);let hk=!0,J5,Q5;const tV=r=>{if(hk){J5=new Int32Array(512),Q5=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(cg(d7,r.lens,0,288,J5,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;cg(h7,r.lens,0,32,Q5,0,r.work,{bits:5}),hk=!1}r.lencode=J5,r.lenbits=9,r.distcode=Q5,r.distbits=5},w7=(r,e,t,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(t-n,t-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},nV=(r,e)=>{let t,n,i,a,s,o,l,c,u,d,h,f,g,y,w=0,x,T,v,R,M,B,L,z;const H=new Uint8Array(4);let $,U;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(c0(r)||!r.output||!r.input&&r.avail_in!==0)return Fo;t=r.state,t.mode===Sc&&(t.mode=K5),s=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,c=t.hold,u=t.bits,d=o,h=l,z=i0;e:for(;;)switch(t.mode){case Vx:if(t.wrap===0){t.mode=K5;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=c&255,H[1]=c>>>8&255,t.check=kl(t.check,H,2,0),c=0,u=0,t.mode=V6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){r.msg="incorrect header check",t.mode=Ur;break}if((c&15)!==z6){r.msg="unknown compression method",t.mode=Ur;break}if(c>>>=4,u-=4,L=(c&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){r.msg="invalid window size",t.mode=Ur;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=c&512?Q6:Sc,c=0,u=0;break;case V6:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==z6){r.msg="unknown compression method",t.mode=Ur;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Ur;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,t.check=kl(t.check,H,2,0)),c=0,u=0,t.mode=G6;case G6:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,H[2]=c>>>16&255,H[3]=c>>>24&255,t.check=kl(t.check,H,4,0)),c=0,u=0,t.mode=W6;case W6:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,t.check=kl(t.check,H,2,0)),c=0,u=0,t.mode=X6;case X6:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,t.check=kl(t.check,H,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=K6;case K6:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+f),L)),t.flags&512&&t.wrap&4&&(t.check=kl(t.check,n,f,a)),o-=f,a+=f,t.length-=f),t.length))break e;t.length=0,t.mode=Y6;case Y6:if(t.flags&2048){if(o===0)break e;f=0;do L=n[a+f++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=kl(t.check,n,f,a)),o-=f,a+=f,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Z6;case Z6:if(t.flags&4096){if(o===0)break e;f=0;do L=n[a+f++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=kl(t.check,n,f,a)),o-=f,a+=f,L)break e}else t.head&&(t.head.comment=null);t.mode=J6;case J6:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Ur;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Sc;break;case Q6:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.adler=t.check=dk(c),c=0,u=0,t.mode=Zy;case Zy:if(t.havedict===0)return r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,t.hold=c,t.bits=u,Xz;r.adler=t.check=1,t.mode=Sc;case Sc:if(e===Gz||e===mb)break e;case K5:if(t.last){c>>>=u&7,u-=u&7,t.mode=Z5;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=$6;break;case 1:if(tV(t),t.mode=gb,e===mb){c>>>=2,u-=2;break e}break;case 2:t.mode=tk;break;case 3:r.msg="invalid block type",t.mode=Ur}c>>>=2,u-=2;break;case $6:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Ur;break}if(t.length=c&65535,c=0,u=0,t.mode=Y5,e===mb)break e;case Y5:t.mode=ek;case ek:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,t.length-=f;break}t.mode=Sc;break;case tk:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Ur;break}t.have=0,t.mode=nk;case nk:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.lens[D[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,$={bits:t.lenbits},z=cg(Vz,t.lens,0,19,t.lencode,0,t.work,$),t.lenbits=$.bits,z){r.msg="invalid code lengths set",t.mode=Ur;break}t.have=0,t.mode=rk;case rk:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[c&(1<<t.lenbits)-1],x=w>>>24,T=w>>>16&255,v=w&65535,!(x<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(v<16)c>>>=x,u-=x,t.lens[t.have++]=v;else{if(v===16){for(U=x+2;u<U;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=x,u-=x,t.have===0){r.msg="invalid bit length repeat",t.mode=Ur;break}L=t.lens[t.have-1],f=3+(c&3),c>>>=2,u-=2}else if(v===17){for(U=x+3;u<U;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=x,u-=x,L=0,f=3+(c&7),c>>>=3,u-=3}else{for(U=x+7;u<U;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=x,u-=x,L=0,f=11+(c&127),c>>>=7,u-=7}if(t.have+f>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Ur;break}for(;f--;)t.lens[t.have++]=L}}if(t.mode===Ur)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Ur;break}if(t.lenbits=9,$={bits:t.lenbits},z=cg(d7,t.lens,0,t.nlen,t.lencode,0,t.work,$),t.lenbits=$.bits,z){r.msg="invalid literal/lengths set",t.mode=Ur;break}if(t.distbits=6,t.distcode=t.distdyn,$={bits:t.distbits},z=cg(h7,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,$),t.distbits=$.bits,z){r.msg="invalid distances set",t.mode=Ur;break}if(t.mode=gb,e===mb)break e;case gb:t.mode=vb;case vb:if(o>=6&&l>=258){r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,t.hold=c,t.bits=u,Oz(r,h),s=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,o=r.avail_in,c=t.hold,u=t.bits,t.mode===Sc&&(t.back=-1);break}for(t.back=0;w=t.lencode[c&(1<<t.lenbits)-1],x=w>>>24,T=w>>>16&255,v=w&65535,!(x<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(T&&(T&240)===0){for(R=x,M=T,B=v;w=t.lencode[B+((c&(1<<R+M)-1)>>R)],x=w>>>24,T=w>>>16&255,v=w&65535,!(R+x<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=R,u-=R,t.back+=R}if(c>>>=x,u-=x,t.back+=x,t.length=v,T===0){t.mode=lk;break}if(T&32){t.back=-1,t.mode=Sc;break}if(T&64){r.msg="invalid literal/length code",t.mode=Ur;break}t.extra=T&15,t.mode=ik;case ik:if(t.extra){for(U=t.extra;u<U;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ak;case ak:for(;w=t.distcode[c&(1<<t.distbits)-1],x=w>>>24,T=w>>>16&255,v=w&65535,!(x<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((T&240)===0){for(R=x,M=T,B=v;w=t.distcode[B+((c&(1<<R+M)-1)>>R)],x=w>>>24,T=w>>>16&255,v=w&65535,!(R+x<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=R,u-=R,t.back+=R}if(c>>>=x,u-=x,t.back+=x,T&64){r.msg="invalid distance code",t.mode=Ur;break}t.offset=v,t.extra=T&15,t.mode=sk;case sk:if(t.extra){for(U=t.extra;u<U;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Ur;break}t.mode=ok;case ok:if(l===0)break e;if(f=h-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Ur;break}f>t.wnext?(f-=t.wnext,g=t.wsize-f):g=t.wnext-f,f>t.length&&(f=t.length),y=t.window}else y=i,g=s-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[s++]=y[g++];while(--f);t.length===0&&(t.mode=vb);break;case lk:if(l===0)break e;i[s++]=t.length,l--,t.mode=vb;break;case Z5:if(t.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(h-=l,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?kl(t.check,i,h,s-h):x4(t.check,i,h,s-h)),h=l,t.wrap&4&&(t.flags?c:dk(c))!==t.check){r.msg="incorrect data check",t.mode=Ur;break}c=0,u=0}t.mode=ck;case ck:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Ur;break}c=0,u=0}t.mode=uk;case uk:z=Wz;break e;case Ur:z=f7;break e;case m7:return p7;case g7:default:return Fo}return r.next_out=s,r.avail_out=l,r.next_in=a,r.avail_in=o,t.hold=c,t.bits=u,(t.wsize||h!==r.avail_out&&t.mode<Ur&&(t.mode<Z5||e!==H6))&&w7(r,r.output,r.next_out,h-r.avail_out),d-=r.avail_in,h-=r.avail_out,r.total_in+=d,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?kl(t.check,i,h,r.next_out-h):x4(t.check,i,h,r.next_out-h)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Sc?128:0)+(t.mode===gb||t.mode===Y5?256:0),(d===0&&h===0||e===H6)&&z===i0&&(z=Kz),z},rV=r=>{if(c0(r))return Fo;let e=r.state;return e.window&&(e.window=null),r.state=null,i0},iV=(r,e)=>{if(c0(r))return Fo;const t=r.state;return(t.wrap&2)===0?Fo:(t.head=e,e.done=!1,i0)},aV=(r,e)=>{const t=e.length;let n,i,a;return c0(r)||(n=r.state,n.wrap!==0&&n.mode!==Zy)?Fo:n.mode===Zy&&(i=1,i=x4(i,e,t,0),i!==n.check)?f7:(a=w7(r,e,t,t),a?(n.mode=m7,p7):(n.havedict=1,i0))};var sV=b7,oV=y7,lV=v7,cV=eV,uV=x7,dV=nV,hV=rV,fV=iV,pV=aV,mV="pako inflate (from Nodeca project)",Rc={inflateReset:sV,inflateReset2:oV,inflateResetKeep:lV,inflateInit:cV,inflateInit2:uV,inflate:dV,inflateEnd:hV,inflateGetHeader:fV,inflateSetDictionary:pV,inflateInfo:mV};function gV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vV=gV;const _7=Object.prototype.toString,{Z_NO_FLUSH:bV,Z_FINISH:yV,Z_OK:_g,Z_STREAM_END:$5,Z_NEED_DICT:ew,Z_STREAM_ERROR:xV,Z_DATA_ERROR:fk,Z_MEM_ERROR:wV}=l7;function E2(r){this.options=c7.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dz,this.strm.avail_out=0;let t=Rc.inflateInit2(this.strm,e.windowBits);if(t!==_g)throw new Error(w4[t]);if(this.header=new vV,Rc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_4.string2buf(e.dictionary):_7.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Rc.inflateSetDictionary(this.strm,e.dictionary),t!==_g)))throw new Error(w4[t])}E2.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?yV:bV,_7.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Rc.inflate(t,s),a===ew&&i&&(a=Rc.inflateSetDictionary(t,i),a===_g?a=Rc.inflate(t,s):a===fk&&(a=ew));t.avail_in>0&&a===$5&&t.state.wrap>0&&r[t.next_in]!==0;)Rc.inflateReset(t),a=Rc.inflate(t,s);switch(a){case xV:case fk:case ew:case wV:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===$5))if(this.options.to==="string"){let l=_4.utf8border(t.output,t.next_out),c=t.next_out-l,u=_4.buf2string(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===_g&&o===0)){if(a===$5)return a=Rc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};E2.prototype.onData=function(r){this.chunks.push(r)};E2.prototype.onEnd=function(r){r===_g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c7.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function _V(r,e){const t=new E2(e);if(t.push(r),t.err)throw t.msg||w4[t.err];return t.result}var SV=E2,AV=_V,kV={Inflate:SV,inflate:AV};const{Inflate:EV,inflate:CV}=kV;var pk=EV,TV=CV;const S7=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;S7[r]=e}const mk=4294967295;function NV(r,e,t){let n=r;for(let i=0;i<t;i++)n=S7[(n^e[i])&255]^n>>>8;return n}function RV(r,e){return(NV(mk,r,e)^mk)>>>0}function gk(r,e,t){const n=r.readUint32(),i=RV(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function A7(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function k7(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function E7(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function C7(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=r[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=r[a]+(e[a-i]+t[a]>>1)&255}}function T7(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=r[a]+t[a]&255;for(;a<n;a++)e[a]=r[a]+IV(e[a-i],t[a],t[a-i])&255}}function IV(r,e,t){const n=r+e-t,i=Math.abs(n-r),a=Math.abs(n-e),s=Math.abs(n-t);return i<=a&&i<=s?r:a<=s?e:t}function MV(r,e,t,n,i,a){switch(r){case 0:A7(e,t,i);break;case 1:k7(e,t,i,a);break;case 2:E7(e,t,n,i);break;case 3:C7(e,t,n,i,a);break;case 4:T7(e,t,n,i,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const PV=new Uint16Array([255]),FV=new Uint8Array(PV.buffer),LV=FV[0]===255;function DV(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*t*o);let c=0;for(let u=0;u<7;u++){const d=s[u],h=Math.ceil((t-d.x)/d.xStep),f=Math.ceil((n-d.y)/d.yStep);if(h<=0||f<=0)continue;const g=h*o,y=new Uint8Array(g);for(let w=0;w<f;w++){const x=e[c++],T=e.subarray(c,c+g);c+=g;const v=new Uint8Array(g);MV(x,T,v,y,g,o),y.set(v);for(let R=0;R<h;R++){const M=d.x+R*d.xStep,B=d.y+w*d.yStep;if(!(M>=t||B>=n))for(let L=0;L<o;L++)l[(B*t+M)*o+L]=v[R*o+L]}}}if(a===16){const u=new Uint16Array(l.buffer);if(LV)for(let d=0;d<u.length;d++)u[d]=BV(u[d]);return u}else return l}function BV(r){return(r&255)<<8|r>>8&255}const OV=new Uint16Array([255]),jV=new Uint8Array(OV.buffer),UV=jV[0]===255,qV=new Uint8Array(0);function vk(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*t),l=new Uint8Array(n*o);let c=qV,u=0,d,h;for(let f=0;f<n;f++){switch(d=e.subarray(u+1,u+1+o),h=l.subarray(f*o,(f+1)*o),e[u]){case 0:A7(d,h,o);break;case 1:k7(d,h,o,s);break;case 2:E7(d,h,c,o);break;case 3:C7(d,h,c,o,s);break;case 4:T7(d,h,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(a===16){const f=new Uint16Array(l.buffer);if(UV)for(let g=0;g<f.length;g++)f[g]=HV(f[g]);return f}else return l}function HV(r){return(r&255)<<8|r>>8&255}const yy=Uint8Array.of(137,80,78,71,13,10,26,10);function bk(r){if(!zV(r.readBytes(yy.length)))throw new Error("wrong PNG signature")}function zV(r){if(r.length<yy.length)return!1;for(let e=0;e<yy.length;e++)if(r[e]!==yy[e])return!1;return!0}const VV="tEXt",GV=0,N7=new TextDecoder("latin1");function WV(r){if(KV(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const XV=/^[\u0000-\u00FF]*$/;function KV(r){if(!XV.test(r))throw new Error("invalid latin1 text")}function YV(r,e,t){const n=R7(e);r[n]=ZV(e,t-n.length-1)}function R7(r){for(r.mark();r.readByte()!==GV;);const e=r.offset;r.reset();const t=N7.decode(r.readBytes(e-r.offset-1));return r.skip(1),WV(t),t}function ZV(r,e){return N7.decode(r.readBytes(e))}const As={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tw={UNKNOWN:-1,DEFLATE:0},yk={UNKNOWN:-1,ADAPTIVE:0},nw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},bb={NONE:0,BACKGROUND:1,PREVIOUS:2},rw={SOURCE:0,OVER:1};class JV extends lS{constructor(t,n={}){super(t);xt(this,"_checkCrc");xt(this,"_inflator");xt(this,"_png");xt(this,"_apng");xt(this,"_end");xt(this,"_hasPalette");xt(this,"_palette");xt(this,"_hasTransparency");xt(this,"_transparency");xt(this,"_compressionMethod");xt(this,"_filterMethod");xt(this,"_interlaceMethod");xt(this,"_colorType");xt(this,"_isAnimated");xt(this,"_numberOfFrames");xt(this,"_numberOfPlays");xt(this,"_frames");xt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new pk,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tw.UNKNOWN,this._filterMethod=yk.UNKNOWN,this._interlaceMethod=nw.UNKNOWN,this._colorType=As.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(bk(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(bk(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case VV:YV(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?gk(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?gk(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=QV(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case As.GREYSCALE:i=1;break;case As.TRUECOLOUR:i=3;break;case As.INDEXED_COLOUR:i=1;break;case As.GREYSCALE_ALPHA:i=2;break;case As.TRUECOLOUR_ALPHA:i=4;break;case As.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==tw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case As.GREYSCALE:case As.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case As.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case As.UNKNOWN:case As.GREYSCALE_ALPHA:case As.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=R7(this),i=this.readUint8();if(i!==tw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:TV(a)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=vk({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case bb.NONE:break;case bb.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*t.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case bb.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case rw.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)t.data[l+u]=n.data[c+u]}break;case rw.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:n.data[c+u],f=Math.floor(d*h+(1-d)*t.data[l+u]);t.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==yk.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===nw.NO_INTERLACE)this._png.data=vk({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===nw.ADAM7)this._png.data=DV({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:bb.NONE,blendOp:rw.SOURCE,data:t}),this._inflator=new pk,this._writingDataChunks=!1}}function QV(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var xk;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(xk||(xk={}));function $V(r,e){return new JV(r,e).decode()}var hn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function iw(){hn.console&&typeof hn.console.log=="function"&&hn.console.log.apply(hn.console,arguments)}var Er={log:iw,warn:function(r){hn.console&&(typeof hn.console.warn=="function"?hn.console.warn.apply(hn.console,arguments):iw.call(null,arguments))},error:function(r){hn.console&&(typeof hn.console.error=="function"?hn.console.error.apply(hn.console,arguments):iw(r))}};function aw(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Nh(n.response,e,t)},n.onerror=function(){Er.error("could not download file")},n.send()}function wk(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yb(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Nh=hn.saveAs||((typeof window>"u"?"undefined":fr(window))!=="object"||window!==hn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=hn.URL||hn.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?wk(i.href)?aw(r,e,t):yb(i,i.target="_blank"):yb(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){yb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(wk(r))aw(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){yb(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:fr(a)!=="object"&&(Er.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return aw(r,e,t);var i=r.type==="application/octet-stream",a=/constructor/i.test(hn.HTMLElement)||hn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":fr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var l=hn.URL||hn.webkitURL,c=l.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function I7(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,a=t[n].process,s=i.exec(r);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var xy=hn.atob.bind(hn),_k=hn.btoa.bind(hn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function sw(r,e){var t=r[0],n=r[1],i=r[2],a=r[3];t=wa(t,n,i,a,e[0],7,-680876936),a=wa(a,t,n,i,e[1],12,-389564586),i=wa(i,a,t,n,e[2],17,606105819),n=wa(n,i,a,t,e[3],22,-1044525330),t=wa(t,n,i,a,e[4],7,-176418897),a=wa(a,t,n,i,e[5],12,1200080426),i=wa(i,a,t,n,e[6],17,-1473231341),n=wa(n,i,a,t,e[7],22,-45705983),t=wa(t,n,i,a,e[8],7,1770035416),a=wa(a,t,n,i,e[9],12,-1958414417),i=wa(i,a,t,n,e[10],17,-42063),n=wa(n,i,a,t,e[11],22,-1990404162),t=wa(t,n,i,a,e[12],7,1804603682),a=wa(a,t,n,i,e[13],12,-40341101),i=wa(i,a,t,n,e[14],17,-1502002290),t=_a(t,n=wa(n,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=_a(a,t,n,i,e[6],9,-1069501632),i=_a(i,a,t,n,e[11],14,643717713),n=_a(n,i,a,t,e[0],20,-373897302),t=_a(t,n,i,a,e[5],5,-701558691),a=_a(a,t,n,i,e[10],9,38016083),i=_a(i,a,t,n,e[15],14,-660478335),n=_a(n,i,a,t,e[4],20,-405537848),t=_a(t,n,i,a,e[9],5,568446438),a=_a(a,t,n,i,e[14],9,-1019803690),i=_a(i,a,t,n,e[3],14,-187363961),n=_a(n,i,a,t,e[8],20,1163531501),t=_a(t,n,i,a,e[13],5,-1444681467),a=_a(a,t,n,i,e[2],9,-51403784),i=_a(i,a,t,n,e[7],14,1735328473),t=Sa(t,n=_a(n,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Sa(a,t,n,i,e[8],11,-2022574463),i=Sa(i,a,t,n,e[11],16,1839030562),n=Sa(n,i,a,t,e[14],23,-35309556),t=Sa(t,n,i,a,e[1],4,-1530992060),a=Sa(a,t,n,i,e[4],11,1272893353),i=Sa(i,a,t,n,e[7],16,-155497632),n=Sa(n,i,a,t,e[10],23,-1094730640),t=Sa(t,n,i,a,e[13],4,681279174),a=Sa(a,t,n,i,e[0],11,-358537222),i=Sa(i,a,t,n,e[3],16,-722521979),n=Sa(n,i,a,t,e[6],23,76029189),t=Sa(t,n,i,a,e[9],4,-640364487),a=Sa(a,t,n,i,e[12],11,-421815835),i=Sa(i,a,t,n,e[15],16,530742520),t=Aa(t,n=Sa(n,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Aa(a,t,n,i,e[7],10,1126891415),i=Aa(i,a,t,n,e[14],15,-1416354905),n=Aa(n,i,a,t,e[5],21,-57434055),t=Aa(t,n,i,a,e[12],6,1700485571),a=Aa(a,t,n,i,e[3],10,-1894986606),i=Aa(i,a,t,n,e[10],15,-1051523),n=Aa(n,i,a,t,e[1],21,-2054922799),t=Aa(t,n,i,a,e[8],6,1873313359),a=Aa(a,t,n,i,e[15],10,-30611744),i=Aa(i,a,t,n,e[6],15,-1560198380),n=Aa(n,i,a,t,e[13],21,1309151649),t=Aa(t,n,i,a,e[4],6,-145523070),a=Aa(a,t,n,i,e[11],10,-1120210379),i=Aa(i,a,t,n,e[2],15,718787259),n=Aa(n,i,a,t,e[9],21,-343485551),r[0]=qd(t,r[0]),r[1]=qd(n,r[1]),r[2]=qd(i,r[2]),r[3]=qd(a,r[3])}function Gx(r,e,t,n,i,a){return e=qd(qd(e,r),qd(n,a)),qd(e<<i|e>>>32-i,t)}function wa(r,e,t,n,i,a,s){return Gx(e&t|~e&n,r,e,i,a,s)}function _a(r,e,t,n,i,a,s){return Gx(e&n|t&~n,r,e,i,a,s)}function Sa(r,e,t,n,i,a,s){return Gx(e^t^n,r,e,i,a,s)}function Aa(r,e,t,n,i,a,s){return Gx(t^(e|~n),r,e,i,a,s)}function M7(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)sw(n,eG(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(sw(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,sw(n,i),n}function eG(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var Sk="0123456789abcdef".split("");function tG(r){for(var e="",t=0;t<4;t++)e+=Sk[r>>8*t+4&15]+Sk[r>>8*t&15];return e}function nG(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function S4(r){return M7(r).map(nG).join("")}var rG=(function(r){for(var e=0;e<r.length;e++)r[e]=tG(r[e]);return r.join("")})(M7("hello"))!="5d41402abc4b2a76b9719d911017c592";function qd(r,e){if(rG){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function A4(r,e){var t,n,i,a;if(r!==t){for(var s=(i=r,a=1+(256/r.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}t=r,n=o}else o=n;var d=e.length,h=0,f=0,g="";for(l=0;l<d;l++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,s=o[(o[h]+o[f])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ak={print:4,modify:8,copy:16,"annot-forms":32};function G0(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(Ak.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Ak[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=S4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=A4(this.encryptionKey,this.padding)}function W0(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function kk(r){if(fr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!i],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var s=e[t][a];try{s[0].apply(r,n)}catch(o){hn.console&&Er.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jy(r){if(!(this instanceof Jy))return new Jy(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function P7(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Rh(r,e,t,n,i){if(!(this instanceof Rh))return new Rh(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,P7.call(this,n,i)}function Z0(r,e,t,n,i){if(!(this instanceof Z0))return new Z0(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,P7.call(this,n,i)}function en(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;fr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),s=r.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",t=(""+(t||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=kk;var g="1.3",y=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(V){g=V};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var x=f.__private__.getPageFormat=function(V){return w[V]};i=i||"a4";var T="compat",v="advanced",R=T;function M(){this.saveGraphicsState(),xe(new Te(gt,0,0,-gt,0,ch()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),c="n",R=v}function B(){this.restoreGraphicsState(),c="S",R=T}var L=f.__private__.combineFontStyleAndFontWeight=function(V,be){if(V=="bold"&&be=="normal"||V=="bold"&&be==400||V=="normal"&&be=="italic"||V=="bold"&&be=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return be&&(V=be==400||be==="normal"?V==="italic"?"italic":"normal":be!=700&&be!=="bold"||V!=="normal"?(be==700?"bold":be)+""+V:"bold"),V};f.advancedAPI=function(V){var be=R===T;return be&&M.call(this),typeof V!="function"||(V(this),be&&B.call(this)),this},f.compatAPI=function(V){var be=R===v;return be&&B.call(this),typeof V!="function"||(V(this),be&&M.call(this)),this},f.isAdvancedAPI=function(){return R===v};var z,H=function(V){if(R!==v)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=f.roundToPrecision=f.__private__.roundToPrecision=function(V,be){var qe=e||be;if(isNaN(V)||isNaN(qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(qe).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return $(V,l)}:l==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return $(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return $(V,16)};var U=f.f2=f.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return $(V,2)},D=f.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return $(V,3)},ee=f.scale=f.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return R===T?V*gt:R===v?V:void 0},J=function(V){return ee((function(be){return R===T?ch()-be:R===v?be:void 0})(V))};f.__private__.setPrecision=f.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(e=parseInt(V,10))};var re,q="00000000000000000000000000000000",W=f.__private__.getFileId=function(){return q},le=f.__private__.setFileId=function(V){return q=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Zr=new G0(u.userPermissions,u.userPassword,u.ownerPassword,q)),q};f.setFileId=function(V){return le(V),this},f.getFileId=function(){return W()};var ue=f.__private__.convertDateToPDFDate=function(V){var be=V.getTimezoneOffset(),qe=be<0?"+":"-",Ye=Math.floor(Math.abs(be/60)),tt=Math.abs(be%60),St=[qe,O(Ye),"'",O(tt),"'"].join("");return["D:",V.getFullYear(),O(V.getMonth()+1),O(V.getDate()),O(V.getHours()),O(V.getMinutes()),O(V.getSeconds()),St].join("")},oe=f.__private__.convertPDFDateToDate=function(V){var be=parseInt(V.substr(2,4),10),qe=parseInt(V.substr(6,2),10)-1,Ye=parseInt(V.substr(8,2),10),tt=parseInt(V.substr(10,2),10),St=parseInt(V.substr(12,2),10),Rt=parseInt(V.substr(14,2),10);return new Date(be,qe,Ye,tt,St,Rt,0)},F=f.__private__.setCreationDate=function(V){var be;if(V===void 0&&(V=new Date),V instanceof Date)be=ue(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");be=V}return re=be},C=f.__private__.getCreationDate=function(V){var be=re;return V==="jsDate"&&(be=oe(re)),be};f.setCreationDate=function(V){return F(V),this},f.getCreationDate=function(V){return C(V)};var I,O=f.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},X=f.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},te=0,ie=[],ne=[],we=0,Ee=[],He=[],Ue=!1,We=ne;f.__private__.setCustomOutputDestination=function(V){Ue=!0,We=V};var it=function(V){Ue||(We=V)};f.__private__.resetCustomOutputDestination=function(){Ue=!1,We=ne};var xe=f.__private__.out=function(V){return V=V.toString(),we+=V.length+1,We.push(V),We},nt=f.__private__.write=function(V){return xe(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},pt=f.__private__.getArrayBuffer=function(V){for(var be=V.length,qe=new ArrayBuffer(be),Ye=new Uint8Array(qe);be--;)Ye[be]=V.charCodeAt(be);return qe},Z=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Z};var ce=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(V){return ce=R===v?V/gt:V,this};var ut,rt=f.__private__.getFontSize=f.getFontSize=function(){return R===T?ce:ce*gt},ht=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(V){return ht=V,this},f.__private__.getR2L=f.getR2L=function(){return ht};var mt,wt=f.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))ut=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');ut=V}else ut=parseInt(V,10)};f.__private__.getZoomMode=function(){return ut};var ft,Tt=f.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');mt=V};f.__private__.getPageMode=function(){return mt};var De=f.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');ft=V};f.__private__.getLayoutMode=function(){return ft},f.__private__.setDisplayMode=f.setDisplayMode=function(V,be,qe){return wt(V),De(be),Tt(qe),this};var Ve={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(V){if(Object.keys(Ve).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ve[V]},f.__private__.getDocumentProperties=function(){return Ve},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(V){for(var be in Ve)Ve.hasOwnProperty(be)&&V[be]&&(Ve[be]=V[be]);return this},f.__private__.setDocumentProperty=function(V,be){if(Object.keys(Ve).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ve[V]=be};var Ke,gt,N,_e,ke,Le={},Y={},ge=[],S={},Ae={},Xe={},m={},pe=null,he=0,k=[],G=new kk(f),j=r.hotfixes||[],se={},fe={},me=[],Te=function V(be,qe,Ye,tt,St,Rt){if(!(this instanceof V))return new V(be,qe,Ye,tt,St,Rt);isNaN(be)&&(be=1),isNaN(qe)&&(qe=0),isNaN(Ye)&&(Ye=0),isNaN(tt)&&(tt=1),isNaN(St)&&(St=0),isNaN(Rt)&&(Rt=0),this._matrix=[be,qe,Ye,tt,St,Rt]};Object.defineProperty(Te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(Te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(Te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(Te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(Te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(Te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(Te.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(Te.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(Te.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(Te.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(Te.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(Te.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(Te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Te.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Te.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(V)},Te.prototype.multiply=function(V){var be=V.sx*this.sx+V.shy*this.shx,qe=V.sx*this.shy+V.shy*this.sy,Ye=V.shx*this.sx+V.sy*this.shx,tt=V.shx*this.shy+V.sy*this.sy,St=V.tx*this.sx+V.ty*this.shx+this.tx,Rt=V.tx*this.shy+V.ty*this.sy+this.ty;return new Te(be,qe,Ye,tt,St,Rt)},Te.prototype.decompose=function(){var V=this.sx,be=this.shy,qe=this.shx,Ye=this.sy,tt=this.tx,St=this.ty,Rt=Math.sqrt(V*V+be*be),Kt=(V/=Rt)*qe+(be/=Rt)*Ye;qe-=V*Kt,Ye-=be*Kt;var $t=Math.sqrt(qe*qe+Ye*Ye);return Kt/=$t,V*(Ye/=$t)<be*(qe/=$t)&&(V=-V,be=-be,Kt=-Kt,Rt=-Rt),{scale:new Te(Rt,0,0,$t,0,0),translate:new Te(1,0,0,1,tt,St),rotate:new Te(V,be,-be,V,0,0),skew:new Te(1,0,Kt,1,0,0)}},Te.prototype.toString=function(V){return this.join(" ")},Te.prototype.inversed=function(){var V=this.sx,be=this.shy,qe=this.shx,Ye=this.sy,tt=this.tx,St=this.ty,Rt=1/(V*Ye-be*qe),Kt=Ye*Rt,$t=-be*Rt,pn=-qe*Rt,Tn=V*Rt;return new Te(Kt,$t,pn,Tn,-Kt*tt-pn*St,-$t*tt-Tn*St)},Te.prototype.applyToPoint=function(V){var be=V.x*this.sx+V.y*this.shx+this.tx,qe=V.x*this.shy+V.y*this.sy+this.ty;return new dc(be,qe)},Te.prototype.applyToRectangle=function(V){var be=this.applyToPoint(V),qe=this.applyToPoint(new dc(V.x+V.w,V.y+V.h));return new Q1(be.x,be.y,qe.x-be.x,qe.y-be.y)},Te.prototype.clone=function(){var V=this.sx,be=this.shy,qe=this.shx,Ye=this.sy,tt=this.tx,St=this.ty;return new Te(V,be,qe,Ye,tt,St)},f.Matrix=Te;var Ne=f.matrixMult=function(V,be){return be.multiply(V)},Pe=new Te(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Pe;var Fe=function(V,be){if(!Ae[V]){var qe=(be instanceof Rh?"Sh":"P")+(Object.keys(S).length+1).toString(10);be.id=qe,Ae[V]=qe,S[qe]=be,G.publish("addPattern",be)}};f.ShadingPattern=Rh,f.TilingPattern=Z0,f.addShadingPattern=function(V,be){return H("addShadingPattern()"),Fe(V,be),this},f.beginTilingPattern=function(V){H("beginTilingPattern()"),$1(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},f.endTilingPattern=function(V,be){H("endTilingPattern()"),be.stream=He[I].join(`
`),Fe(V,be),G.publish("endTilingPattern",be),me.pop().restore()};var ze,Ze=f.__private__.newObject=function(){var V=Ge();return at(V,!0),V},Ge=f.__private__.newObjectDeferred=function(){return te++,ie[te]=function(){return we},te},at=function(V,be){return be=typeof be=="boolean"&&be,ie[V]=we,be&&xe(V+" 0 obj"),V},Nt=f.__private__.newAdditionalObject=function(){var V={objId:Ge(),content:""};return Ee.push(V),V},vt=Ge(),lt=Ge(),bt=f.__private__.decodeColorString=function(V){var be=V.split(" ");if(be.length!==2||be[1]!=="g"&&be[1]!=="G")be.length!==5||be[4]!=="k"&&be[4]!=="K"||(be=[(1-be[0])*(1-be[3]),(1-be[1])*(1-be[3]),(1-be[2])*(1-be[3]),"r"]);else{var qe=parseFloat(be[0]);be=[qe,qe,qe,"r"]}for(var Ye="#",tt=0;tt<3;tt++)Ye+=("0"+Math.floor(255*parseFloat(be[tt])).toString(16)).slice(-2);return Ye},et=f.__private__.encodeColorString=function(V){var be;typeof V=="string"&&(V={ch1:V});var qe=V.ch1,Ye=V.ch2,tt=V.ch3,St=V.ch4,Rt=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof qe=="string"&&qe.charAt(0)!=="#"){var Kt=new I7(qe);if(Kt.ok)qe=Kt.toHex();else if(!/^\d*\.?\d*$/.test(qe))throw new Error('Invalid color "'+qe+'" passed to jsPDF.encodeColorString.')}if(typeof qe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(qe)&&(qe="#"+qe[1]+qe[1]+qe[2]+qe[2]+qe[3]+qe[3]),typeof qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(qe)){var $t=parseInt(qe.substr(1),16);qe=$t>>16&255,Ye=$t>>8&255,tt=255&$t}if(Ye===void 0||St===void 0&&qe===Ye&&Ye===tt)be=typeof qe=="string"?qe+" "+Rt[0]:V.precision===2?U(qe/255)+" "+Rt[0]:D(qe/255)+" "+Rt[0];else if(St===void 0||fr(St)==="object"){if(St&&!isNaN(St.a)&&St.a===0)return["1.","1.","1.",Rt[1]].join(" ");be=typeof qe=="string"?[qe,Ye,tt,Rt[1]].join(" "):V.precision===2?[U(qe/255),U(Ye/255),U(tt/255),Rt[1]].join(" "):[D(qe/255),D(Ye/255),D(tt/255),Rt[1]].join(" ")}else be=typeof qe=="string"?[qe,Ye,tt,St,Rt[2]].join(" "):V.precision===2?[U(qe),U(Ye),U(tt),U(St),Rt[2]].join(" "):[D(qe),D(Ye),D(tt),D(St),Rt[2]].join(" ");return be},kt=f.__private__.getFilters=function(){return s},zt=f.__private__.putStream=function(V){var be=(V=V||{}).data||"",qe=V.filters||kt(),Ye=V.alreadyAppliedFilters||[],tt=V.addLength1||!1,St=be.length,Rt=V.objectId,Kt=function(ki){return ki};if(u!==null&&Rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Kt=Zr.encryptor(Rt,0));var $t={};qe===!0&&(qe=["FlateEncode"]);var pn=V.additionalKeyValues||[],Tn=($t=en.API.processDataByFilters!==void 0?en.API.processDataByFilters(be,qe):{data:be,reverseChain:[]}).reverseChain+(Array.isArray(Ye)?Ye.join(" "):Ye.toString());if($t.data.length!==0&&(pn.push({key:"Length",value:$t.data.length}),tt===!0&&pn.push({key:"Length1",value:St})),Tn.length!=0)if(Tn.split("/").length-1==1)pn.push({key:"Filter",value:Tn});else{pn.push({key:"Filter",value:"["+Tn+"]"});for(var Xn=0;Xn<pn.length;Xn+=1)if(pn[Xn].key==="DecodeParms"){for(var Gr=[],gi=0;gi<$t.reverseChain.split("/").length-1;gi+=1)Gr.push("null");Gr.push(pn[Xn].value),pn[Xn].value="["+Gr.join(" ")+"]"}}xe("<<");for(var Nr=0;Nr<pn.length;Nr++)xe("/"+pn[Nr].key+" "+pn[Nr].value);xe(">>"),$t.data.length!==0&&(xe("stream"),xe(Kt($t.data)),xe("endstream"))},Ct=f.__private__.putPage=function(V){var be=V.number,qe=V.data,Ye=V.objId,tt=V.contentsObjId;at(Ye,!0),xe("<</Type /Page"),xe("/Parent "+V.rootDictionaryObjId+" 0 R"),xe("/Resources "+V.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(z(V.mediaBox.bottomLeftX))+" "+parseFloat(z(V.mediaBox.bottomLeftY))+" "+z(V.mediaBox.topRightX)+" "+z(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&xe("/CropBox ["+z(V.cropBox.bottomLeftX)+" "+z(V.cropBox.bottomLeftY)+" "+z(V.cropBox.topRightX)+" "+z(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&xe("/BleedBox ["+z(V.bleedBox.bottomLeftX)+" "+z(V.bleedBox.bottomLeftY)+" "+z(V.bleedBox.topRightX)+" "+z(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&xe("/TrimBox ["+z(V.trimBox.bottomLeftX)+" "+z(V.trimBox.bottomLeftY)+" "+z(V.trimBox.topRightX)+" "+z(V.trimBox.topRightY)+"]"),V.artBox!==null&&xe("/ArtBox ["+z(V.artBox.bottomLeftX)+" "+z(V.artBox.bottomLeftY)+" "+z(V.artBox.topRightX)+" "+z(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&xe("/UserUnit "+V.userUnit),G.publish("putPage",{objId:Ye,pageContext:k[be],pageNumber:be,page:qe}),xe("/Contents "+tt+" 0 R"),xe(">>"),xe("endobj");var St=qe.join(`
`);return R===v&&(St+=`
Q`),at(tt,!0),zt({data:St,filters:kt(),objectId:tt}),xe("endobj"),Ye},Bt=f.__private__.putPages=function(){var V,be,qe=[];for(V=1;V<=he;V++)k[V].objId=Ge(),k[V].contentsObjId=Ge();for(V=1;V<=he;V++)qe.push(Ct({number:V,data:He[V],objId:k[V].objId,contentsObjId:k[V].contentsObjId,mediaBox:k[V].mediaBox,cropBox:k[V].cropBox,bleedBox:k[V].bleedBox,trimBox:k[V].trimBox,artBox:k[V].artBox,userUnit:k[V].userUnit,rootDictionaryObjId:vt,resourceDictionaryObjId:lt}));at(vt,!0),xe("<</Type /Pages");var Ye="/Kids [";for(be=0;be<he;be++)Ye+=qe[be]+" 0 R ";xe(Ye+"]"),xe("/Count "+he),xe(">>"),xe("endobj"),G.publish("postPutPages")},Et=function(V){G.publish("putFont",{font:V,out:xe,newObject:Ze,putStream:zt}),V.isAlreadyPutted!==!0&&(V.objectNumber=Ze(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+W0(V.postScriptName)),xe("/Subtype /Type1"),typeof V.encoding=="string"&&xe("/Encoding /"+V.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},Gt=function(V){V.objectNumber=Ze();var be=[];be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Form"}),be.push({key:"BBox",value:"["+[z(V.x),z(V.y),z(V.x+V.width),z(V.y+V.height)].join(" ")+"]"}),be.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var qe=V.pages[1].join(`
`);zt({data:qe,additionalKeyValues:be,objectId:V.objectNumber}),xe("endobj")},Wn=function(V,be){be||(be=21);var qe=Ze(),Ye=(function(Rt,Kt){var $t,pn=[],Tn=1/(Kt-1);for($t=0;$t<1;$t+=Tn)pn.push($t);if(pn.push(1),Rt[0].offset!=0){var Xn={offset:0,color:Rt[0].color};Rt.unshift(Xn)}if(Rt[Rt.length-1].offset!=1){var Gr={offset:1,color:Rt[Rt.length-1].color};Rt.push(Gr)}for(var gi="",Nr=0,ki=0;ki<pn.length;ki++){for($t=pn[ki];$t>Rt[Nr+1].offset;)Nr++;var vi=Rt[Nr].offset,$i=($t-vi)/(Rt[Nr+1].offset-vi),pc=Rt[Nr].color,Uo=Rt[Nr+1].color;gi+=X(Math.round((1-$i)*pc[0]+$i*Uo[0]).toString(16))+X(Math.round((1-$i)*pc[1]+$i*Uo[1]).toString(16))+X(Math.round((1-$i)*pc[2]+$i*Uo[2]).toString(16))}return gi.trim()})(V.colors,be),tt=[];tt.push({key:"FunctionType",value:"0"}),tt.push({key:"Domain",value:"[0.0 1.0]"}),tt.push({key:"Size",value:"["+be+"]"}),tt.push({key:"BitsPerSample",value:"8"}),tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zt({data:Ye,additionalKeyValues:tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:qe}),xe("endobj"),V.objectNumber=Ze(),xe("<< /ShadingType "+V.type),xe("/ColorSpace /DeviceRGB");var St="/Coords ["+z(parseFloat(V.coords[0]))+" "+z(parseFloat(V.coords[1]))+" ";V.type===2?St+=z(parseFloat(V.coords[2]))+" "+z(parseFloat(V.coords[3])):St+=z(parseFloat(V.coords[2]))+" "+z(parseFloat(V.coords[3]))+" "+z(parseFloat(V.coords[4]))+" "+z(parseFloat(V.coords[5])),xe(St+="]"),V.matrix&&xe("/Matrix ["+V.matrix.toString()+"]"),xe("/Function "+qe+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Ft=function(V,be){var qe=Ge(),Ye=Ze();be.push({resourcesOid:qe,objectOid:Ye}),V.objectNumber=Ye;var tt=[];tt.push({key:"Type",value:"/Pattern"}),tt.push({key:"PatternType",value:"1"}),tt.push({key:"PaintType",value:"1"}),tt.push({key:"TilingType",value:"1"}),tt.push({key:"BBox",value:"["+V.boundingBox.map(z).join(" ")+"]"}),tt.push({key:"XStep",value:z(V.xStep)}),tt.push({key:"YStep",value:z(V.yStep)}),tt.push({key:"Resources",value:qe+" 0 R"}),V.matrix&&tt.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),zt({data:V.stream,additionalKeyValues:tt,objectId:V.objectNumber}),xe("endobj")},an=function(V){for(var be in V.objectNumber=Ze(),xe("<<"),V)switch(be){case"opacity":xe("/ca "+U(V[be]));break;case"stroke-opacity":xe("/CA "+U(V[be]))}xe(">>"),xe("endobj")},cn=function(V){at(V.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var be in xe("/Font <<"),Le)Le.hasOwnProperty(be)&&(d===!1||d===!0&&h.hasOwnProperty(be))&&xe("/"+be+" "+Le[be].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(S).length>0){for(var be in xe("/Shading <<"),S)S.hasOwnProperty(be)&&S[be]instanceof Rh&&S[be].objectNumber>=0&&xe("/"+be+" "+S[be].objectNumber+" 0 R");G.publish("putShadingPatternDict"),xe(">>")}})(),(function(be){if(Object.keys(S).length>0){for(var qe in xe("/Pattern <<"),S)S.hasOwnProperty(qe)&&S[qe]instanceof f.TilingPattern&&S[qe].objectNumber>=0&&S[qe].objectNumber<be&&xe("/"+qe+" "+S[qe].objectNumber+" 0 R");G.publish("putTilingPatternDict"),xe(">>")}})(V.objectOid),(function(){if(Object.keys(Xe).length>0){var be;for(be in xe("/ExtGState <<"),Xe)Xe.hasOwnProperty(be)&&Xe[be].objectNumber>=0&&xe("/"+be+" "+Xe[be].objectNumber+" 0 R");G.publish("putGStateDict"),xe(">>")}})(),(function(){for(var be in xe("/XObject <<"),se)se.hasOwnProperty(be)&&se[be].objectNumber>=0&&xe("/"+be+" "+se[be].objectNumber+" 0 R");G.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},or=function(V){Y[V.fontName]=Y[V.fontName]||{},Y[V.fontName][V.fontStyle]=V.id},Ui=function(V,be,qe,Ye,tt){var St={id:"F"+(Object.keys(Le).length+1).toString(10),postScriptName:V,fontName:be,fontStyle:qe,encoding:Ye,isStandardFont:tt||!1,metadata:{}};return G.publish("addFont",{font:St,instance:this}),Le[St.id]=St,or(St),St.id},Vn=f.__private__.pdfEscape=f.pdfEscape=function(V,be){return(function(qe,Ye){var tt,St,Rt,Kt,$t,pn,Tn,Xn,Gr;if(Rt=(Ye=Ye||{}).sourceEncoding||"Unicode",$t=Ye.outputEncoding,(Ye.autoencode||$t)&&Le[Ke].metadata&&Le[Ke].metadata[Rt]&&Le[Ke].metadata[Rt].encoding&&(Kt=Le[Ke].metadata[Rt].encoding,!$t&&Le[Ke].encoding&&($t=Le[Ke].encoding),!$t&&Kt.codePages&&($t=Kt.codePages[0]),typeof $t=="string"&&($t=Kt[$t]),$t)){for(Tn=!1,pn=[],tt=0,St=qe.length;tt<St;tt++)(Xn=$t[qe.charCodeAt(tt)])?pn.push(String.fromCharCode(Xn)):pn.push(qe[tt]),pn[tt].charCodeAt(0)>>8&&(Tn=!0);qe=pn.join("")}for(tt=qe.length;Tn===void 0&&tt!==0;)qe.charCodeAt(tt-1)>>8&&(Tn=!0),tt--;if(!Tn)return qe;for(pn=Ye.noBOM?[]:[254,255],tt=0,St=qe.length;tt<St;tt++){if((Gr=(Xn=qe.charCodeAt(tt))>>8)>>8)throw new Error("Character at position "+tt+" of string '"+qe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pn.push(Gr),pn.push(Xn-(Gr<<8))}return String.fromCharCode.apply(void 0,pn)})(V,be).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},er=f.__private__.beginPage=function(V){He[++he]=[],k[he]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},qi(he),it(He[I])},Si=function(V,be){var qe,Ye,tt;switch(t=be||t,typeof V=="string"&&(qe=x(V.toLowerCase()),Array.isArray(qe)&&(Ye=qe[0],tt=qe[1])),Array.isArray(V)&&(Ye=V[0]*gt,tt=V[1]*gt),isNaN(Ye)&&(Ye=i[0],tt=i[1]),(Ye>14400||tt>14400)&&(Er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ye=Math.min(14400,Ye),tt=Math.min(14400,tt)),i=[Ye,tt],t.substr(0,1)){case"l":tt>Ye&&(i=[tt,Ye]);break;case"p":Ye>tt&&(i=[tt,Ye])}er(i),vn(yl),xe(g0),Z1!==0&&xe(Z1+" J"),J1!==0&&xe(J1+" j"),G.publish("addPage",{pageNumber:he})},Ai=function(V){V>0&&V<=he&&(He.splice(V,1),k.splice(V,1),he--,I>he&&(I=he),this.setPage(I))},qi=function(V){V>0&&V<=he&&(I=V)},ba=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return He.length-1},ya=function(V,be,qe){var Ye,tt=void 0;return qe=qe||{},V=V!==void 0?V:Le[Ke].fontName,be=be!==void 0?be:Le[Ke].fontStyle,Ye=V.toLowerCase(),Y[Ye]!==void 0&&Y[Ye][be]!==void 0?tt=Y[Ye][be]:Y[V]!==void 0&&Y[V][be]!==void 0?tt=Y[V][be]:qe.disableWarning===!1&&Er.warn("Unable to look up font label for font '"+V+"', '"+be+"'. Refer to getFontList() for available fonts."),tt||qe.noFallback||(tt=Y.times[be])==null&&(tt=Y.times.normal),tt},wr=f.__private__.putInfo=function(){var V=Ze(),be=function(Ye){return Ye};for(var qe in u!==null&&(be=Zr.encryptor(V,0)),xe("<<"),xe("/Producer ("+Vn(be("jsPDF "+en.version))+")"),Ve)Ve.hasOwnProperty(qe)&&Ve[qe]&&xe("/"+qe.substr(0,1).toUpperCase()+qe.substr(1)+" ("+Vn(be(Ve[qe]))+")");xe("/CreationDate ("+Vn(be(re))+")"),xe(">>"),xe("endobj")},Qi=f.__private__.putCatalog=function(V){var be=(V=V||{}).rootDictionaryObjId||vt;switch(Ze(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+be+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var qe=""+ut;qe.substr(qe.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+U(ut)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}mt&&xe("/PageMode /"+mt),G.publish("putCatalog"),xe(">>"),xe("endobj")},vl=f.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(te+1)),xe("/Root "+te+" 0 R"),xe("/Info "+(te-1)+" 0 R"),u!==null&&xe("/Encrypt "+Zr.oid+" 0 R"),xe("/ID [ <"+q+"> <"+q+"> ]"),xe(">>")},Or=f.__private__.putHeader=function(){xe("%PDF-"+g),xe("%")},sh=f.__private__.putXRef=function(){var V="0000000000";xe("xref"),xe("0 "+(te+1)),xe("0000000000 65535 f ");for(var be=1;be<=te;be++)typeof ie[be]=="function"?xe((V+ie[be]()).slice(-10)+" 00000 n "):ie[be]!==void 0?xe((V+ie[be]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},fs=f.__private__.buildDocument=function(){var V;te=0,we=0,ne=[],ie=[],Ee=[],vt=Ge(),lt=Ge(),it(ne),G.publish("buildDocument"),Or(),Bt(),(function(){G.publish("putAdditionalObjects");for(var qe=0;qe<Ee.length;qe++){var Ye=Ee[qe];at(Ye.objId,!0),xe(Ye.content),xe("endobj")}G.publish("postPutAdditionalObjects")})(),V=[],(function(){for(var qe in Le)Le.hasOwnProperty(qe)&&(d===!1||d===!0&&h.hasOwnProperty(qe))&&Et(Le[qe])})(),(function(){var qe;for(qe in Xe)Xe.hasOwnProperty(qe)&&an(Xe[qe])})(),(function(){for(var qe in se)se.hasOwnProperty(qe)&&Gt(se[qe])})(),(function(qe){var Ye;for(Ye in S)S.hasOwnProperty(Ye)&&(S[Ye]instanceof Rh?Wn(S[Ye]):S[Ye]instanceof Z0&&Ft(S[Ye],qe))})(V),G.publish("putResources"),V.forEach(cn),cn({resourcesOid:lt,objectOid:Number.MAX_SAFE_INTEGER}),G.publish("postPutResources"),u!==null&&(Zr.oid=Ze(),xe("<<"),xe("/Filter /Standard"),xe("/V "+Zr.v),xe("/R "+Zr.r),xe("/U <"+Zr.toHexString(Zr.U)+">"),xe("/O <"+Zr.toHexString(Zr.O)+">"),xe("/P "+Zr.P),xe(">>"),xe("endobj")),wr(),Qi();var be=we;return sh(),vl(),xe("startxref"),xe(""+be),xe("%%EOF"),it(He[I]),ne.join(`
`)},rc=f.__private__.getBlob=function(V){return new Blob([pt(V)],{type:"application/pdf"})},lr=f.output=f.__private__.output=(ze=function(V,be){switch(typeof(be=be||{})=="string"?be={filename:be}:be.filename=be.filename||"generated.pdf",V){case void 0:return fs();case"save":f.save(be.filename);break;case"arraybuffer":return pt(fs());case"blob":return rc(fs());case"bloburi":case"bloburl":if(hn.URL!==void 0&&typeof hn.URL.createObjectURL=="function")return hn.URL&&hn.URL.createObjectURL(rc(fs()))||void 0;Er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var qe="",Ye=fs();try{qe=_k(Ye)}catch{qe=_k(unescape(encodeURIComponent(Ye)))}return"data:application/pdf;filename="+be.filename+";base64,"+qe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",St=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';be.pdfObjectUrl&&(tt=be.pdfObjectUrl,St="");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+tt+'"'+St+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(be)+");<\/script></body></html>",Kt=hn.open();return Kt!==null&&Kt.document.write(Rt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(be.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+be.filename+'" width="500px" height="400px" /></body></html>',pn=hn.open();if(pn!==null){pn.document.write($t);var Tn=this;pn.document.documentElement.querySelector("#pdfViewer").onload=function(){pn.document.title=be.filename,pn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tn.output("bloburl"))}}return pn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",be)+'"></iframe></body></html>',Gr=hn.open();if(Gr!==null&&(Gr.document.write(Xn),Gr.document.title=be.filename),Gr||typeof safari>"u")return Gr;break;case"datauri":case"dataurl":return hn.document.location.href=this.output("datauristring",be);default:return null}},ze.foo=function(){try{return ze.apply(this,arguments)}catch(qe){var V=qe.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var be="Error in function "+V.split(`
`)[0].split("<")[0]+": "+qe.message;if(!hn.console)throw new Error(be);hn.console.error(be,qe),hn.alert&&alert(be)}},ze.foo.bar=ze,ze.foo),La=function(V){return Array.isArray(j)===!0&&j.indexOf(V)>-1};switch(n){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=La("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);gt=n}var Zr=null;F(),le();var ps=f.__private__.getPageInfo=f.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:k[V].objId,pageNumber:V,pageContext:k[V]}},ku=f.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var be in k)if(k[be].objId===V)break;return ps(be)},m0=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:k[I].objId,pageNumber:I,pageContext:k[I]}};f.addPage=function(){return Si.apply(this,arguments),this},f.setPage=function(){return qi.apply(this,arguments),it.call(this,He[I]),this},f.insertPage=function(V){return this.addPage(),this.movePage(I,V),this},f.movePage=function(V,be){var qe,Ye;if(V>be){qe=He[V],Ye=k[V];for(var tt=V;tt>be;tt--)He[tt]=He[tt-1],k[tt]=k[tt-1];He[be]=qe,k[be]=Ye,this.setPage(be)}else if(V<be){qe=He[V],Ye=k[V];for(var St=V;St<be;St++)He[St]=He[St+1],k[St]=k[St+1];He[be]=qe,k[be]=Ye,this.setPage(be)}return this},f.deletePage=function(){return Ai.apply(this,arguments),this},f.__private__.text=f.text=function(V,be,qe,Ye,tt){var St,Rt,Kt,$t,pn,Tn,Xn,Gr,gi,Nr=(Ye=Ye||{}).scope||this;if(typeof V=="number"&&typeof be=="number"&&(typeof qe=="string"||Array.isArray(qe))){var ki=qe;qe=be,be=V,V=ki}if(arguments[3]instanceof Te==0?(Kt=arguments[4],$t=arguments[5],fr(Xn=arguments[3])==="object"&&Xn!==null||(typeof Kt=="string"&&($t=Kt,Kt=null),typeof Xn=="string"&&($t=Xn,Xn=null),typeof Xn=="number"&&(Kt=Xn,Xn=null),Ye={flags:Xn,angle:Kt,align:$t})):(H("The transform parameter of text() with a Matrix value"),gi=tt),isNaN(be)||isNaN(qe)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return Nr;var vi,$i="",pc=typeof Ye.lineHeightFactor=="number"?Ye.lineHeightFactor:ms,Uo=Nr.internal.scaleFactor;function mc(ar){return ar=ar.split("	").join(Array(Ye.TabLen||9).join(" ")),Vn(ar,Xn)}function tm(ar){for(var _r,li=ar.concat(),Ei=[],bc=li.length;bc--;)typeof(_r=li.shift())=="string"?Ei.push(_r):Array.isArray(ar)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?Ei.push(_r[0]):Ei.push([_r[0],_r[1],_r[2]]);return Ei}function b0(ar,_r){var li;if(typeof ar=="string")li=_r(ar)[0];else if(Array.isArray(ar)){for(var Ei,bc,dm=ar.concat(),w0=[],q2=dm.length;q2--;)typeof(Ei=dm.shift())=="string"?w0.push(_r(Ei)[0]):Array.isArray(Ei)&&typeof Ei[0]=="string"&&(bc=_r(Ei[0],Ei[1],Ei[2]),w0.push([bc[0],bc[1],bc[2]]));li=w0}return li}var Tu=!1,uh=!0;if(typeof V=="string")Tu=!0;else if(Array.isArray(V)){var dh=V.concat();Rt=[];for(var Nu,ea=dh.length;ea--;)(typeof(Nu=dh.shift())!="string"||Array.isArray(Nu)&&typeof Nu[0]!="string")&&(uh=!1);Tu=uh}if(Tu===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var hh=ce/Nr.internal.scaleFactor,fh=hh*(pc-1);switch(Ye.baseline){case"bottom":qe-=fh;break;case"top":qe+=hh-fh;break;case"hanging":qe+=hh-2*fh;break;case"middle":qe+=hh/2-fh}if((Tn=Ye.maxWidth||0)>0&&(typeof V=="string"?V=Nr.splitTextToSize(V,Tn):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(ar,_r){return ar.concat(Nr.splitTextToSize(_r,Tn))},[]))),St={text:V,x:be,y:qe,options:Ye,mutex:{pdfEscape:Vn,activeFontKey:Ke,fonts:Le,activeFontSize:ce}},G.publish("preProcessText",St),V=St.text,Kt=(Ye=St.options).angle,gi instanceof Te==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,Ye.rotationDirection===0&&(Kt=-Kt),R===v&&(Kt=-Kt);var nm=Math.cos(Kt),rm=Math.sin(Kt);gi=new Te(nm,rm,-rm,nm,0,0)}else Kt&&Kt instanceof Te&&(gi=Kt);R!==v||gi||(gi=Pe),(pn=Ye.charSpace||uc)!==void 0&&($i+=z(ee(pn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gr=Ye.horizontalScale)!==void 0&&($i+=z(100*Gr)+` Tz
`),Ye.lang;var Ba=-1,gc=Ye.renderingMode!==void 0?Ye.renderingMode:Ye.stroke,y0=Nr.internal.getCurrentPageInfo().pageContext;switch(gc){case 0:case!1:case"fill":Ba=0;break;case 1:case!0:case"stroke":Ba=1;break;case 2:case"fillThenStroke":Ba=2;break;case 3:case"invisible":Ba=3;break;case 4:case"fillAndAddForClipping":Ba=4;break;case 5:case"strokeAndAddPathForClipping":Ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ba=6;break;case 7:case"addToPathForClipping":Ba=7}var j2=y0.usedRenderingMode!==void 0?y0.usedRenderingMode:-1;Ba!==-1?$i+=Ba+` Tr
`:j2!==-1&&($i+=`0 Tr
`),Ba!==-1&&(y0.usedRenderingMode=Ba),$t=Ye.align||"left";var ro,ph=ce*pc,im=Nr.internal.pageSize.getWidth(),am=Le[Ke];pn=Ye.charSpace||uc,Tn=Ye.maxWidth||0,Xn=Object.assign({autoencode:!0,noBOM:!0},Ye.flags);var Ru=[],mh=function(ar){return Nr.getStringUnitWidth(ar,{font:am,charSpace:pn,fontSize:ce,doKerning:!1})*ce/Uo};if(Object.prototype.toString.call(V)==="[object Array]"){var gs;Rt=tm(V),$t!=="left"&&(ro=Rt.map(mh));var vs,Iu=0;if($t==="right"){be-=ro[0],V=[],ea=Rt.length;for(var vc=0;vc<ea;vc++)vc===0?(vs=lc(be),gs=cc(qe)):(vs=ee(Iu-ro[vc]),gs=-ph),V.push([Rt[vc],vs,gs]),Iu=ro[vc]}else if($t==="center"){be-=ro[0]/2,V=[],ea=Rt.length;for(var Mu=0;Mu<ea;Mu++)Mu===0?(vs=lc(be),gs=cc(qe)):(vs=ee((Iu-ro[Mu])/2),gs=-ph),V.push([Rt[Mu],vs,gs]),Iu=ro[Mu]}else if($t==="left"){V=[],ea=Rt.length;for(var sm=0;sm<ea;sm++)V.push(Rt[sm])}else if($t==="justify"&&am.encoding==="Identity-H"){V=[],ea=Rt.length,Tn=Tn!==0?Tn:im;for(var x0=0,oi=0;oi<ea;oi++)if(gs=oi===0?cc(qe):-ph,vs=oi===0?lc(be):x0,oi<ea-1){var U2=ee((Tn-ro[oi])/(Rt[oi].split(" ").length-1)),xl=Rt[oi].split(" ");V.push([xl[0]+" ",vs,gs]),x0=0;for(var wl=1;wl<xl.length;wl++){var om=(mh(xl[wl-1]+" "+xl[wl])-mh(xl[wl]))*Uo+U2;wl==xl.length-1?V.push([xl[wl],om,0]):V.push([xl[wl]+" ",om,0]),x0-=om}}else V.push([Rt[oi],vs,gs]);V.push(["",x0,0])}else{if($t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],ea=Rt.length,Tn=Tn!==0?Tn:im,oi=0;oi<ea;oi++){gs=oi===0?cc(qe):-ph,vs=oi===0?lc(be):0;var lm=Rt[oi].split(" ").length-1,cm=lm>0?(Tn-ro[oi])/lm:0;oi<ea-1?Ru.push(z(ee(cm))):Ru.push(0),V.push([Rt[oi],vs,gs])}}}(typeof Ye.R2L=="boolean"?Ye.R2L:ht)===!0&&(V=b0(V,function(ar,_r,li){return[ar.split("").reverse().join(""),_r,li]})),St={text:V,x:be,y:qe,options:Ye,mutex:{pdfEscape:Vn,activeFontKey:Ke,fonts:Le,activeFontSize:ce}},G.publish("postProcessText",St),V=St.text,vi=St.mutex.isHex||!1;var um=Le[Ke].encoding;um!=="WinAnsiEncoding"&&um!=="StandardEncoding"||(V=b0(V,function(ar,_r,li){return[mc(ar),_r,li]})),Rt=tm(V),V=[];for(var Pu,Fu,Lu,gh=Array.isArray(Rt[0])?1:0,Du="",vh=function(ar,_r,li){var Ei="";return li instanceof Te?(li=typeof Ye.angle=="number"?Ne(li,new Te(1,0,0,1,ar,_r)):Ne(new Te(1,0,0,1,ar,_r),li),R===v&&(li=Ne(new Te(1,0,0,-1,0,0),li)),Ei=li.join(" ")+` Tm
`):Ei=z(ar)+" "+z(_r)+` Td
`,Ei},io=0;io<Rt.length;io++){switch(Du="",gh){case 1:Lu=(vi?"<":"(")+Rt[io][0]+(vi?">":")"),Pu=parseFloat(Rt[io][1]),Fu=parseFloat(Rt[io][2]);break;case 0:Lu=(vi?"<":"(")+Rt[io]+(vi?">":")"),Pu=lc(be),Fu=cc(qe)}Ru!==void 0&&Ru[io]!==void 0&&(Du=Ru[io]+` Tw
`),io===0?V.push(Du+vh(Pu,Fu,gi)+Lu):gh===0?V.push(Du+Lu):gh===1&&V.push(Du+vh(Pu,Fu,gi)+Lu)}V=gh===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var _l=`BT
/`;return _l+=Ke+" "+ce+` Tf
`,_l+=z(ce*pc)+` TL
`,_l+=oh+`
`,_l+=$i,_l+=V,xe(_l+="ET"),h[Ke]=!0,Nr};var ic=f.__private__.clip=f.clip=function(V){return xe(V==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return ic("evenodd")},f.__private__.discardPath=f.discardPath=function(){return xe("n"),this};var to=f.__private__.isValidStyle=function(V){var be=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(be=!0),be};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(V){return to(V)&&(c=V),this};var jr=f.__private__.getStyle=f.getStyle=function(V){var be=c;switch(V){case"D":case"S":be="S";break;case"F":be="f";break;case"FD":case"DF":be="B";break;case"f":case"f*":case"B":case"B*":be=V}return be},Eu=f.close=function(){return xe("h"),this};f.stroke=function(){return xe("S"),this},f.fill=function(V){return bl("f",V),this},f.fillEvenOdd=function(V){return bl("f*",V),this},f.fillStroke=function(V){return bl("B",V),this},f.fillStrokeEvenOdd=function(V){return bl("B*",V),this};var bl=function(V,be){fr(be)==="object"?ac(be,V):xe(V)},Oo=function(V){V===null||R===v&&V===void 0||(V=jr(V),xe(V))};function Hi(V,be,qe,Ye,tt){var St=new Z0(be||this.boundingBox,qe||this.xStep,Ye||this.yStep,this.gState,tt||this.matrix);St.stream=this.stream;var Rt=V+"$$"+this.cloneIndex+++"$$";return Fe(Rt,St),St}var ac=function(V,be){var qe=Ae[V.key],Ye=S[qe];if(Ye instanceof Rh)xe("q"),xe(jo(be)),Ye.gState&&f.setGState(Ye.gState),xe(V.matrix.toString()+" cm"),xe("/"+qe+" sh"),xe("Q");else if(Ye instanceof Z0){var tt=new Te(1,0,0,-1,0,ch());V.matrix&&(tt=tt.multiply(V.matrix||Pe),qe=Hi.call(Ye,V.key,V.boundingBox,V.xStep,V.yStep,tt).id),xe("q"),xe("/Pattern cs"),xe("/"+qe+" scn"),Ye.gState&&f.setGState(Ye.gState),xe(be),xe("Q")}},jo=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},sc=f.moveTo=function(V,be){return xe(z(ee(V))+" "+z(J(be))+" m"),this},no=f.lineTo=function(V,be){return xe(z(ee(V))+" "+z(J(be))+" l"),this},Da=f.curveTo=function(V,be,qe,Ye,tt,St){return xe([z(ee(V)),z(J(be)),z(ee(qe)),z(J(Ye)),z(ee(tt)),z(J(St)),"c"].join(" ")),this};f.__private__.line=f.line=function(V,be,qe,Ye,tt){if(isNaN(V)||isNaN(be)||isNaN(qe)||isNaN(Ye)||!to(tt))throw new Error("Invalid arguments passed to jsPDF.line");return R===T?this.lines([[qe-V,Ye-be]],V,be,[1,1],tt||"S"):this.lines([[qe-V,Ye-be]],V,be,[1,1]).stroke()},f.__private__.lines=f.lines=function(V,be,qe,Ye,tt,St){var Rt,Kt,$t,pn,Tn,Xn,Gr,gi,Nr,ki,vi,$i;if(typeof V=="number"&&($i=qe,qe=be,be=V,V=$i),Ye=Ye||[1,1],St=St||!1,isNaN(be)||isNaN(qe)||!Array.isArray(V)||!Array.isArray(Ye)||!to(tt)||typeof St!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sc(be,qe),Rt=Ye[0],Kt=Ye[1],pn=V.length,ki=be,vi=qe,$t=0;$t<pn;$t++)(Tn=V[$t]).length===2?(ki=Tn[0]*Rt+ki,vi=Tn[1]*Kt+vi,no(ki,vi)):(Xn=Tn[0]*Rt+ki,Gr=Tn[1]*Kt+vi,gi=Tn[2]*Rt+ki,Nr=Tn[3]*Kt+vi,ki=Tn[4]*Rt+ki,vi=Tn[5]*Kt+vi,Da(Xn,Gr,gi,Nr,ki,vi));return St&&Eu(),Oo(tt),this},f.path=function(V){for(var be=0;be<V.length;be++){var qe=V[be],Ye=qe.c;switch(qe.op){case"m":sc(Ye[0],Ye[1]);break;case"l":no(Ye[0],Ye[1]);break;case"c":Da.apply(this,Ye);break;case"h":Eu()}}return this},f.__private__.rect=f.rect=function(V,be,qe,Ye,tt){if(isNaN(V)||isNaN(be)||isNaN(qe)||isNaN(Ye)||!to(tt))throw new Error("Invalid arguments passed to jsPDF.rect");return R===T&&(Ye=-Ye),xe([z(ee(V)),z(J(be)),z(ee(qe)),z(ee(Ye)),"re"].join(" ")),Oo(tt),this},f.__private__.triangle=f.triangle=function(V,be,qe,Ye,tt,St,Rt){if(isNaN(V)||isNaN(be)||isNaN(qe)||isNaN(Ye)||isNaN(tt)||isNaN(St)||!to(Rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[qe-V,Ye-be],[tt-qe,St-Ye],[V-tt,be-St]],V,be,[1,1],Rt,!0),this},f.__private__.roundedRect=f.roundedRect=function(V,be,qe,Ye,tt,St,Rt){if(isNaN(V)||isNaN(be)||isNaN(qe)||isNaN(Ye)||isNaN(tt)||isNaN(St)||!to(Rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return tt=Math.min(tt,.5*qe),St=Math.min(St,.5*Ye),this.lines([[qe-2*tt,0],[tt*Kt,0,tt,St-St*Kt,tt,St],[0,Ye-2*St],[0,St*Kt,-tt*Kt,St,-tt,St],[2*tt-qe,0],[-tt*Kt,0,-tt,-St*Kt,-tt,-St],[0,2*St-Ye],[0,-St*Kt,tt*Kt,-St,tt,-St]],V+tt,be,[1,1],Rt,!0),this},f.__private__.ellipse=f.ellipse=function(V,be,qe,Ye,tt){if(isNaN(V)||isNaN(be)||isNaN(qe)||isNaN(Ye)||!to(tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var St=4/3*(Math.SQRT2-1)*qe,Rt=4/3*(Math.SQRT2-1)*Ye;return sc(V+qe,be),Da(V+qe,be-Rt,V+St,be-Ye,V,be-Ye),Da(V-St,be-Ye,V-qe,be-Rt,V-qe,be),Da(V-qe,be+Rt,V-St,be+Ye,V,be+Ye),Da(V+St,be+Ye,V+qe,be+Rt,V+qe,be),Oo(tt),this},f.__private__.circle=f.circle=function(V,be,qe,Ye){if(isNaN(V)||isNaN(be)||isNaN(qe)||!to(Ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,be,qe,qe,Ye)},f.setFont=function(V,be,qe){return qe&&(be=L(be,qe)),Ke=ya(V,be,{disableWarning:!1}),this};var oc=f.__private__.getFont=f.getFont=function(){return Le[ya.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var V,be,qe={};for(V in Y)if(Y.hasOwnProperty(V))for(be in qe[V]=[],Y[V])Y[V].hasOwnProperty(be)&&qe[V].push(be);return qe},f.addFont=function(V,be,qe,Ye,tt){var St=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&St.indexOf(arguments[3])!==-1?tt=arguments[3]:arguments[3]&&St.indexOf(arguments[3])==-1&&(qe=L(qe,Ye)),Ui.call(this,V,be,qe,tt=tt||"Identity-H")};var ms,yl=r.lineWidth||.200025,Cu=f.__private__.getLineWidth=f.getLineWidth=function(){return yl},vn=f.__private__.setLineWidth=f.setLineWidth=function(V){return yl=V,xe(z(ee(V))+" w"),this};f.__private__.setLineDash=en.API.setLineDash=en.API.setLineDashPattern=function(V,be){if(V=V||[],be=be||0,isNaN(be)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(qe){return z(ee(qe))}).join(" "),be=z(ee(be)),xe("["+V+"] "+be+" d"),this};var u5=f.__private__.getLineHeight=f.getLineHeight=function(){return ce*ms};f.__private__.getLineHeight=f.getLineHeight=function(){return ce*ms};var d5=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(ms=V),this},h5=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ms};d5(r.lineHeight);var lc=f.__private__.getHorizontalCoordinate=function(V){return ee(V)},cc=f.__private__.getVerticalCoordinate=function(V){return R===v?V:k[I].mediaBox.topRightY-k[I].mediaBox.bottomLeftY-ee(V)},f5=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(V){return z(lc(V))},p5=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(V){return z(cc(V))},g0=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return bt(g0)},f.__private__.setStrokeColor=f.setDrawColor=function(V,be,qe,Ye){return g0=et({ch1:V,ch2:be,ch3:qe,ch4:Ye,pdfColorType:"draw",precision:2}),xe(g0),this};var Y1=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return bt(Y1)},f.__private__.setFillColor=f.setFillColor=function(V,be,qe,Ye){return Y1=et({ch1:V,ch2:be,ch3:qe,ch4:Ye,pdfColorType:"fill",precision:2}),xe(Y1),this};var oh=r.textColor||"0 g",m5=f.__private__.getTextColor=f.getTextColor=function(){return bt(oh)};f.__private__.setTextColor=f.setTextColor=function(V,be,qe,Ye){return oh=et({ch1:V,ch2:be,ch3:qe,ch4:Ye,pdfColorType:"text",precision:3}),this};var uc=r.charSpace,g5=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(uc||0)};f.__private__.setCharSpace=f.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uc=V,this};var Z1=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(V){var be=f.CapJoinStyles[V];if(be===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Z1=be,xe(be+" J"),this};var J1=0;f.__private__.setLineJoin=f.setLineJoin=function(V){var be=f.CapJoinStyles[V];if(be===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return J1=be,xe(be+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(z(ee(V))+" M"),this},f.GState=Jy,f.setGState=function(V){(V=typeof V=="string"?Xe[m[V]]:F2(null,V)).equals(pe)||(xe("/"+V.id+" gs"),pe=V)};var F2=function(V,be){if(!V||!m[V]){var qe=!1;for(var Ye in Xe)if(Xe.hasOwnProperty(Ye)&&Xe[Ye].equals(be)){qe=!0;break}if(qe)be=Xe[Ye];else{var tt="GS"+(Object.keys(Xe).length+1).toString(10);Xe[tt]=be,be.id=tt}return V&&(m[V]=be.id),G.publish("addGState",be),be}};f.addGState=function(V,be){return F2(V,be),this},f.saveGraphicsState=function(){return xe("q"),ge.push({key:Ke,size:ce,color:oh}),this},f.restoreGraphicsState=function(){xe("Q");var V=ge.pop();return Ke=V.key,ce=V.size,oh=V.color,pe=null,this},f.setCurrentTransformationMatrix=function(V){return xe(V.toString()+" cm"),this},f.comment=function(V){return xe("#"+V),this};var dc=function(V,be){var qe=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return qe},set:function(St){isNaN(St)||(qe=parseFloat(St))}});var Ye=be||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ye},set:function(St){isNaN(St)||(Ye=parseFloat(St))}});var tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return tt},set:function(St){tt=St.toString()}}),this},Q1=function(V,be,qe,Ye){dc.call(this,V,be),this.type="rect";var tt=qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return tt},set:function(Rt){isNaN(Rt)||(tt=parseFloat(Rt))}});var St=Ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return St},set:function(Rt){isNaN(Rt)||(St=parseFloat(Rt))}}),this},v0=function(){this.page=he,this.currentPage=I,this.pages=He.slice(0),this.pagesContext=k.slice(0),this.x=N,this.y=_e,this.matrix=ke,this.width=em(I),this.height=D2(I),this.outputDestination=We,this.id="",this.objectNumber=-1};v0.prototype.restore=function(){he=this.page,I=this.currentPage,k=this.pagesContext,He=this.pages,N=this.x,_e=this.y,ke=this.matrix,L2(I,this.width),hc(I,this.height),We=this.outputDestination};var $1=function(V,be,qe,Ye,tt){me.push(new v0),he=I=0,He=[],N=V,_e=be,ke=tt,er([qe,Ye])};for(var lh in f.beginFormObject=function(V,be,qe,Ye,tt){return $1(V,be,qe,Ye,tt),this},f.endFormObject=function(V){return(function(be){if(fe[be])me.pop().restore();else{var qe=new v0,Ye="Xo"+(Object.keys(se).length+1).toString(10);qe.id=Ye,fe[be]=Ye,se[Ye]=qe,G.publish("addFormObject",qe),me.pop().restore()}})(V),this},f.doFormObject=function(V,be){var qe=se[fe[V]];return xe("q"),xe(be.toString()+" cm"),xe("/"+qe.id+" Do"),xe("Q"),this},f.getFormObject=function(V){var be=se[fe[V]];return{x:be.x,y:be.y,width:be.width,height:be.height,matrix:be.matrix}},f.save=function(V,be){return V=V||"generated.pdf",(be=be||{}).returnPromise=be.returnPromise||!1,be.returnPromise===!1?(Nh(rc(fs()),V),typeof Nh.unload=="function"&&hn.setTimeout&&setTimeout(Nh.unload,911),this):new Promise(function(qe,Ye){try{var tt=Nh(rc(fs()),V);typeof Nh.unload=="function"&&hn.setTimeout&&setTimeout(Nh.unload,911),qe(tt)}catch(St){Ye(St.message)}})},en.API)en.API.hasOwnProperty(lh)&&(lh==="events"&&en.API.events.length?(function(V,be){var qe,Ye,tt;for(tt=be.length-1;tt!==-1;tt--)qe=be[tt][0],Ye=be[tt][1],V.subscribe.apply(V,[qe].concat(typeof Ye=="function"?[Ye]:Ye))})(G,en.API.events):f[lh]=en.API[lh]);function em(V){return k[V].mediaBox.topRightX-k[V].mediaBox.bottomLeftX}function L2(V,be){k[V].mediaBox.topRightX=be+k[V].mediaBox.bottomLeftX}function D2(V){return k[V].mediaBox.topRightY-k[V].mediaBox.bottomLeftY}function hc(V,be){k[V].mediaBox.topRightY=be+k[V].mediaBox.bottomLeftY}var fc=f.getPageWidth=function(V){return em(V=V||I)/gt},B2=f.setPageWidth=function(V,be){L2(V,be*gt)},ch=f.getPageHeight=function(V){return D2(V=V||I)/gt},O2=f.setPageHeight=function(V,be){hc(V,be*gt)};return f.internal={pdfEscape:Vn,getStyle:jr,getFont:oc,getFontSize:rt,getCharSpace:g5,getTextColor:m5,getLineHeight:u5,getLineHeightFactor:h5,getLineWidth:Cu,write:nt,getHorizontalCoordinate:lc,getVerticalCoordinate:cc,getCoordinateString:f5,getVerticalCoordinateString:p5,collections:{},newObject:Ze,newAdditionalObject:Nt,newObjectDeferred:Ge,newObjectDeferredBegin:at,getFilters:kt,putStream:zt,events:G,scaleFactor:gt,pageSize:{getWidth:function(){return fc(I)},setWidth:function(V){B2(I,V)},getHeight:function(){return ch(I)},setHeight:function(V){O2(I,V)}},encryptionOptions:u,encryption:Zr,getEncryptor:function(V){return u!==null?Zr.encryptor(V,0):function(be){return be}},output:lr,getNumberOfPages:ba,get pages(){return He},out:xe,f2:U,f3:D,getPageInfo:ps,getPageInfoByObjId:ku,getCurrentPageInfo:m0,getPDFVersion:y,Point:dc,Rectangle:Q1,Matrix:Te,hasHotfix:La},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return fc(I)},set:function(V){B2(I,V)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ch(I)},set:function(V){O2(I,V)},enumerable:!0,configurable:!0}),(function(V){for(var be=0,qe=Z.length;be<qe;be++){var Ye=Ui.call(this,V[be][0],V[be][1],V[be][2],Z[be][3],!0);d===!1&&(h[Ye]=!0);var tt=V[be][0].split("-");or({id:Ye,fontName:tt[0],fontStyle:tt[1]||""})}G.publish("addFonts",{fonts:Le,dictionary:Y})}).call(f,Z),Ke="F1",Si(i,t),G.publish("initialized"),f}G0.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},G0.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},G0.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},G0.prototype.processOwnerPassword=function(r,e){return A4(S4(e).substr(0,5),r)},G0.prototype.encryptor=function(r,e){var t=S4(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return A4(t,n)}},Jy.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||fr(r)!==fr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},en.API={events:[]},en.version="3.0.4";var ri=en.API,cS=1,u0=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},k0=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(r){return r.toFixed(2)},Vu=function(r){return r.toFixed(5)};ri.__acroform__={};var hs=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Ek=function(r){return r*cS},Tl=function(r){var e=new L7,t=Xt.internal.getHeight(r)||0,n=Xt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(bn(n)),Number(bn(t))],e},iG=ri.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},aG=ri.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},sG=ri.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},fi=ri.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sG(r,e-1)},pi=ri.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iG(r,e-1)},mi=ri.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aG(r,e-1)},oG=ri.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],a=r[1],s=r[2],o=r[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=n(a)||0,[Number(bn(l.lowerLeft_X)),Number(bn(l.lowerLeft_Y)),Number(bn(l.upperRight_X)),Number(bn(l.upperRight_Y))]},lG=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=k4(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+bn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Tl(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},k4=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(U){return U.split(`
`)}):i.map(function(U){return[U]});var a=t,s=Xt.internal.getHeight(r)||0;s=s<0?-s:s;var o=Xt.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(U,D,ee){if(U+1<i.length){var J=D+" "+i[U+1][0];return xb(J,r,ee).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,d=xb("3",r,a).height,h=r.multiline?s-a:(s-d)/2,f=h+=2,g=0,y=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+xb(e,r,a=12).width+", FieldWidth:"+o+`
`;break}for(var x="",T=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var R=!1;if(i[v].length!==1&&w!==i[v].length-1){if((d+2)*(T+2)+2>s)continue e;x+=i[v][w],R=!0,y=v,v--}else{x=(x+=i[v][w]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var M=parseInt(v),B=l(M,x,a),L=v>=i.length-1;if(B&&!L){x+=" ",w=0;continue}if(B||L){if(L)y=M;else if(r.multiline&&(d+2)*(T+2)+2>s)continue e}else{if(!r.multiline||(d+2)*(T+2)+2>s)continue e;y=M}}for(var z="",H=g;H<=y;H++){var $=i[H];if(r.multiline){if(H===y){z+=$[w]+" ",w=(w+1)%$.length;continue}if(H===g){z+=$[$.length-1]+" ";continue}}z+=$[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,u=xb(z,r,a).width,r.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=bn(c)+" "+bn(f)+` Td
`,e+="("+u0(z)+`) Tj
`,e+=-bn(c)+` 0 Td
`,f=-(a+2),u=0,g=R?y:y+1,T++,x=""}break}return n.text=e,n.fontSize=a,n},xb=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},cG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uG=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},dG=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ml.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(cG)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cS=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new D7,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&uG(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=oG(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Xt.createDefaultAppearanceStream(o),fr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=lG(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var g=f[s];typeof g=="function"&&(g=g.call(i,o)),d+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,o)),d+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&(function(y,w){for(var x in y)if(y.hasOwnProperty(x)){var T=x,v=y[x];w.internal.newObjectDeferredBegin(v.objId,!0),fr(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete y[T]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},F7=ri.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(s){return s};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),fr(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+u0(n(r[a].toString()))+")"):i+=r[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ow=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+u0(n(r))+")"},Ql=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ql.prototype.toString=function(){return this.objId+" 0 R"},Ql.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ql.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:F7(i,this.objId,this.scope)}):i instanceof Ql?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var L7=function(){Ql.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};hs(L7,Ql);var D7=function(){Ql.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+u0(t(r))+")"}},set:function(t){r=t}})};hs(D7,Ql);var ml=function r(){Ql.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(e,3)},set:function(x){x?this.F=pi(e,3):this.F=mi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Qy)return;a="FieldObject"+r.FieldNum++}var x=function(T){return T};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+u0(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/cS:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Qy||this instanceof $f))return ow(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Zi==0?ow(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Zi==0?x.substr(0,1)==="("?k0(x.substr(1,x.length-2)):k0(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi==1?k0(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Zi==1?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Zi==0?ow(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Zi==0?x.substr(0,1)==="("?k0(x.substr(1,x.length-2)):k0(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi==1?k0(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Zi==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(x){x?this.Ff=pi(this.Ff,1):this.Ff=mi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(x){x?this.Ff=pi(this.Ff,2):this.Ff=mi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(x){x?this.Ff=pi(this.Ff,3):this.Ff=mi(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');w=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(w){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};hs(ml,Ql);var op=function(){ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F7(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(t){t?this.Ff=pi(this.Ff,18):this.Ff=mi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=pi(this.Ff,19):this.Ff=mi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(t){t?(this.Ff=pi(this.Ff,20),e.sort()):this.Ff=mi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(t){t?this.Ff=pi(this.Ff,22):this.Ff=mi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(t){t?this.Ff=pi(this.Ff,23):this.Ff=mi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(t){t?this.Ff=pi(this.Ff,27):this.Ff=mi(this.Ff,27)}}),this.hasAppearanceStream=!1};hs(op,ml);var lp=function(){op.call(this),this.fontName="helvetica",this.combo=!1};hs(lp,op);var cp=function(){lp.call(this),this.combo=!0};hs(cp,lp);var wy=function(){cp.call(this),this.edit=!0};hs(wy,cp);var Zi=function(){ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(t){t?this.Ff=pi(this.Ff,15):this.Ff=mi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(t){t?this.Ff=pi(this.Ff,16):this.Ff=mi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(t){t?this.Ff=pi(this.Ff,17):this.Ff=mi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(t){t?this.Ff=pi(this.Ff,26):this.Ff=mi(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+u0(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){fr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};hs(Zi,ml);var _y=function(){Zi.call(this),this.pushButton=!0};hs(_y,Zi);var up=function(){Zi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};hs(up,Zi);var Qy=function(){var r,e;ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+u0(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){fr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hs(Qy,ml),up.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},up.prototype.createOption=function(r){var e=new Qy;return e.Parent=this,e.optionName=r,this.Kids.push(e),hG.call(this.scope,e),e};var Sy=function(){Zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};hs(Sy,Zi);var $f=function(){ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(e){e?this.Ff=pi(this.Ff,13):this.Ff=mi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(e){e?this.Ff=pi(this.Ff,21):this.Ff=mi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(e){e?this.Ff=pi(this.Ff,23):this.Ff=mi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(e){e?this.Ff=pi(this.Ff,24):this.Ff=mi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(e){e?this.Ff=pi(this.Ff,25):this.Ff=mi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(e){e?this.Ff=pi(this.Ff,26):this.Ff=mi(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hs($f,ml);var Ay=function(){$f.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(r){r?this.Ff=pi(this.Ff,14):this.Ff=mi(this.Ff,14)}}),this.password=!0};hs(Ay,$f);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Tl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=k4(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+bn(Xt.internal.getWidth(r))+" "+bn(Xt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+bn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Tl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=Xt.internal.getHeight(r),s=Xt.internal.getWidth(r),o=k4(r,r.caption);return i.push("1 g"),i.push("0 0 "+bn(s)+" "+bn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bn(s-1)+" "+bn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+bn(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Tl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Xt.internal.getWidth(r))+" "+bn(Xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Xt.RadioButton.Circle.YesNormal,e.D[r]=Xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Tl(r);e.scope=r.scope;var t=[],n=Xt.internal.getWidth(r)<=Xt.internal.getHeight(r)?Xt.internal.getWidth(r)/4:Xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Xt.internal.Bezier_C,a=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Vu(Xt.internal.getWidth(r)/2)+" "+Vu(Xt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Tl(r);e.scope=r.scope;var t=[],n=Xt.internal.getWidth(r)<=Xt.internal.getHeight(r)?Xt.internal.getWidth(r)/4:Xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Xt.internal.Bezier_C).toFixed(5)),s=Number((n*Xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vu(Xt.internal.getWidth(r)/2)+" "+Vu(Xt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Vu(Xt.internal.getWidth(r)/2)+" "+Vu(Xt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Tl(r);e.scope=r.scope;var t=[],n=Xt.internal.getWidth(r)<=Xt.internal.getHeight(r)?Xt.internal.getWidth(r)/4:Xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vu(Xt.internal.getWidth(r)/2)+" "+Vu(Xt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Xt.RadioButton.Cross.YesNormal,e.D[r]=Xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Tl(r);e.scope=r.scope;var t=[],n=Xt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+bn(Xt.internal.getWidth(r)-2)+" "+bn(Xt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),t.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),t.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),t.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Tl(r);e.scope=r.scope;var t=Xt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(Xt.internal.getWidth(r))+" "+bn(Xt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bn(Xt.internal.getWidth(r)-2)+" "+bn(Xt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(t.x1.x)+" "+bn(t.x1.y)+" m"),n.push(bn(t.x2.x)+" "+bn(t.x2.y)+" l"),n.push(bn(t.x4.x)+" "+bn(t.x4.y)+" m"),n.push(bn(t.x3.x)+" "+bn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Tl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Xt.internal.getWidth(r))+" "+bn(Xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Xt.internal.getWidth(r),t=Xt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Xt.internal.getWidth=function(r){var e=0;return fr(r)==="object"&&(e=Ek(r.Rect[2])),e},Xt.internal.getHeight=function(r){var e=0;return fr(r)==="object"&&(e=Ek(r.Rect[3])),e};var hG=ri.addField=function(r){if(dG(this,r),!(r instanceof ml))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=op,ri.AcroFormListBox=lp,ri.AcroFormComboBox=cp,ri.AcroFormEditBox=wy,ri.AcroFormButton=Zi,ri.AcroFormPushButton=_y,ri.AcroFormRadioButton=up,ri.AcroFormCheckBox=Sy,ri.AcroFormTextField=$f,ri.AcroFormPasswordField=Ay,ri.AcroFormAppearance=Xt,ri.AcroForm={ChoiceField:op,ListBox:lp,ComboBox:cp,EditBox:wy,Button:Zi,PushButton:_y,RadioButton:up,CheckBox:Sy,TextField:$f,PasswordField:Ay,Appearance:Xt},en.AcroForm={ChoiceField:op,ListBox:lp,ComboBox:cp,EditBox:wy,Button:Zi,PushButton:_y,RadioButton:up,CheckBox:Sy,TextField:$f,PasswordField:Ay,Appearance:Xt};en.AcroForm;function B7(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(U,D){var ee,J,re,q,W,le=t;if((D=D||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(B(U))for(W in n)for(re=n[W],ee=0;ee<re.length;ee+=1){for(q=!0,J=0;J<re[ee].length;J+=1)if(re[ee][J]!==void 0&&re[ee][J]!==U[J]){q=!1;break}if(q===!0){le=W;break}}else for(W in n)for(re=n[W],ee=0;ee<re.length;ee+=1){for(q=!0,J=0;J<re[ee].length;J+=1)if(re[ee][J]!==void 0&&re[ee][J]!==U.charCodeAt(J)){q=!1;break}if(q===!0){le=W;break}}return le===t&&D!==t&&(le=D),le},a=function U(D){for(var ee=this.internal.write,J=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:D.width}),q.push({key:"Height",value:D.height}),D.colorSpace===x.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===x.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var W="",le=0,ue=D.transparency.length;le<ue;le++)W+=D.transparency[le]+" "+D.transparency[le]+" ";q.push({key:"Mask",value:"["+W+"]"})}D.sMask!==void 0&&q.push({key:"SMask",value:D.objectId+1+" 0 R"});var oe=D.filter!==void 0?["/"+D.filter]:void 0;if(J({data:D.data,additionalKeyValues:q,alreadyAppliedFilters:oe,objectId:D.objectId}),ee("endobj"),"sMask"in D&&D.sMask!==void 0){var F,C=(F=D.sMaskBitsPerComponent)!==null&&F!==void 0?F:D.bitsPerComponent,I={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:D.sMask};"filter"in D&&(I.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(D.width),I.filter=D.filter),U.call(this,I)}if(D.colorSpace===x.INDEXED){var O=this.internal.newObject();J({data:z(new Uint8Array(D.palette)),objectId:O}),ee("endobj")}},s=function(){var U=this.internal.collections[e+"images"];for(var D in U)a.call(this,U[D])},o=function(){var U,D=this.internal.collections[e+"images"],ee=this.internal.write;for(var J in D)ee("/I"+(U=D[J]).index,U.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var U=this.internal.collections[e+"images"];return l.call(this),U},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(U){return typeof r["process"+U.toUpperCase()]=="function"},h=function(U){return fr(U)==="object"&&U.nodeType===1},f=function(U,D){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var ee=""+U.getAttribute("src");if(ee.indexOf("data:image/")===0)return xy(unescape(ee).split("base64,").pop());var J=r.loadFile(ee,!0);if(J!==void 0)return J}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var re;switch(D){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return xy(U.toDataURL(re,1).split("base64,").pop())}},g=function(U){var D=this.internal.collections[e+"images"];if(D){for(var ee in D)if(U===D[ee].alias)return D[ee]}},y=function(U,D,ee){return U||D||(U=-96,D=-96),U<0&&(U=-1*ee.width*72/U/this.internal.scaleFactor),D<0&&(D=-1*ee.height*72/D/this.internal.scaleFactor),U===0&&(U=D*ee.width/ee.height),D===0&&(D=U*ee.height/ee.width),[U,D]},w=function(U,D,ee,J,re,q){var W=y.call(this,ee,J,re),le=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,oe=c.call(this);if(ee=W[0],J=W[1],oe[re.index]=re,q){q*=Math.PI/180;var F=Math.cos(q),C=Math.sin(q),I=function(X){return X.toFixed(4)},O=[I(F),I(C),I(-1*C),I(F),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,le(U),ue(D+J),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([le(ee),"0","0",le(J),"0","0","cm"].join(" "))):this.internal.write([le(ee),"0","0",le(J),le(U),ue(D+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},x=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=r.__addimage__.sHashCode=function(U){var D,ee,J=0;if(typeof U=="string")for(ee=U.length,D=0;D<ee;D++)J=(J<<5)-J+U.charCodeAt(D),J|=0;else if(B(U))for(ee=U.byteLength/2,D=0;D<ee;D++)J=(J<<5)-J+U[D],J|=0;return J},R=r.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var D=!0;return U.length===0&&(D=!1),U.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(D=!1),D},M=r.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var D=U.indexOf(",");return D<0?null:U.substring(0,D).trim().endsWith("base64")?U.substring(D+1):null};r.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var B=r.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},L=r.__addimage__.binaryStringToUint8Array=function(U){for(var D=U.length,ee=new Uint8Array(D),J=0;J<D;J++)ee[J]=U.charCodeAt(J);return ee},z=r.__addimage__.arrayBufferToBinaryString=function(U){for(var D="",ee=B(U)?U:new Uint8Array(U),J=0;J<ee.length;J+=8192)D+=String.fromCharCode.apply(null,ee.subarray(J,J+8192));return D};r.addImage=function(){var U,D,ee,J,re,q,W,le,ue;if(typeof arguments[1]=="number"?(D=t,ee=arguments[1],J=arguments[2],re=arguments[3],q=arguments[4],W=arguments[5],le=arguments[6],ue=arguments[7]):(D=arguments[1],ee=arguments[2],J=arguments[3],re=arguments[4],q=arguments[5],W=arguments[6],le=arguments[7],ue=arguments[8]),fr(U=arguments[0])==="object"&&!h(U)&&"imageData"in U){var oe=U;U=oe.imageData,D=oe.format||D||t,ee=oe.x||ee||0,J=oe.y||J||0,re=oe.w||oe.width||re,q=oe.h||oe.height||q,W=oe.alias||W,le=oe.compression||le,ue=oe.rotation||oe.angle||ue}var F=this.internal.getFilters();if(le===void 0&&F.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(ee)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=H.call(this,U,D,W,le);return w.call(this,ee,J,re,q,C,ue),this};var H=function(U,D,ee,J){var re,q,W;if(typeof U=="string"&&i(U)===t){U=unescape(U);var le=$(U,!1);(le!==""||(le=r.loadFile(U,!0))!==void 0)&&(U=le)}if(h(U)&&(U=f(U,D)),D=i(U,D),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((W=ee)==null||W.length===0)&&(ee=(function(ue){return typeof ue=="string"||B(ue)?v(ue):B(ue.data)?v(ue.data):null})(U)),(re=g.call(this,ee))||(U instanceof Uint8Array||D==="RGBA"||(q=U,U=L(U)),re=this["process"+D.toUpperCase()](U,u.call(this),ee,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in r.image_compression?ue:T.NONE})(J),q)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},$=r.__addimage__.convertBase64ToBinaryString=function(U,D){D=typeof D!="boolean"||D;var ee,J="";if(typeof U=="string"){var re;ee=(re=M(U))!==null&&re!==void 0?re:U;try{J=xy(ee)}catch(q){if(D)throw R(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};r.getImageProperties=function(U){var D,ee,J="";if(h(U)&&(U=f(U)),typeof U=="string"&&i(U)===t&&((J=$(U,!1))===""&&(J=r.loadFile(U)||""),U=J),ee=i(U),!d(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(U instanceof Uint8Array||(U=L(U)),!(D=this["process"+ee.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=ee,D}})(en.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};en.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),T=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(x(T))+") >>",y.content=a;var v=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(y.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var B=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(n),w:l(t+i),h:c(n+a)},options:s,type:"link"})},r.textWithLink=function(t,n,i,a){var s,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(t,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(t,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(en.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=r.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(y){var w=0,x=t,T="",v=0;for(w=0;w<y.length;w+=1)x[y.charCodeAt(w)]!==void 0?(v++,typeof(x=x[y.charCodeAt(w)])=="number"&&(T+=String.fromCharCode(x),x=t,v=0),w===y.length-1&&(x=t,T+=y.charAt(w-(v-1)),w-=v-1,v=0)):(x=t,T+=y.charAt(w-v),w-=v,v=0);return T};r.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(y,w,x){return s(y)?a(y)===!1?-1:!c(y)||!s(w)&&!s(x)||!s(x)&&o(w)||o(y)&&!s(w)||o(y)&&l(w)||o(y)&&o(w)?0:u(y)&&s(w)&&!o(w)&&s(x)&&c(x)?3:o(y)||!s(x)?1:2:-1},f=function(y){var w=0,x=0,T=0,v="",R="",M="",B=(y=y||"").split("\\s+"),L=[];for(w=0;w<B.length;w+=1){for(L.push(""),x=0;x<B[w].length;x+=1)v=B[w][x],R=B[w][x-1],M=B[w][x+1],s(v)?(T=h(v,R,M),L[w]+=T!==-1?String.fromCharCode(e[v.charCodeAt(0)][T]):v):L[w]+=v;L[w]=d(L[w])}return L.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var y,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(w)){var T=0;for(x=[],T=0;T<w.length;T+=1)Array.isArray(w[T])?x.push([f(w[T][0]),w[T][1],w[T][2]]):x.push([f(w[T])]);y=x}else y=f(w);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};r.events.push(["preProcessText",g])})(en.API),en.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(en.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,g=0,y=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,R){return v.concat(w.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)f<(y=this.getStringUnitWidth(l[T],{font:d})*u)&&(f=y);return f!==0&&(g=l.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,y,w,x=[],T=[],v=[],R={},M={},B=[],L=[],z=(h=h||{}).autoSize||!1,H=h.printHeaders!==!1,$=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,U=h.margins||Object.assign({width:this.getPageWidth()},e),D=typeof h.padding=="number"?h.padding:3,ee=h.headerBackgroundColor||"#c8c8c8",J=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=J,this.setFontSize($),d==null)T=x=Object.keys(u[0]),v=x.map(function(){return"left"});else if(Array.isArray(d)&&fr(d[0])==="object")for(x=d.map(function(oe){return oe.name}),T=d.map(function(oe){return oe.prompt||oe.name||""}),v=d.map(function(oe){return oe.align||"left"}),f=0;f<d.length;f+=1)M[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(T=x=d,v=x.map(function(){return"left"}));if(z||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<x.length;f+=1){for(R[w=x[f]]=u.map(function(oe){return oe[w]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(T[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=R[w],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)B.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[w]=Math.max.apply(null,B)+D+D,B=[]}if(H){var re={};for(f=0;f<x.length;f+=1)re[x[f]]={},re[x[f]].text=T[f],re[x[f]].align=v[f];var q=o.call(this,re,M);L=x.map(function(oe){return new a(l,c,M[oe],q,re[oe].text,void 0,re[oe].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var W=d.reduce(function(oe,F){return oe[F.name]=F.align,oe},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var le=o.call(this,u[f],M);for(y=0;y<x.length;y+=1){var ue=u[f][x[y]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:y,data:ue},this),s.call(this,new a(l,c,M[x[y]],le,ue,f+2,W[x[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}})(en.API);var O7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E4=B7(j7),U7=[100,200,300,400,500,600,700,800,900],fG=B7(U7);function lw(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return O7[a=a||"normal"]?a:"normal"})(r.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(r.weight),i=(function(a){return typeof E4[a=a||"normal"]=="number"?a:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function Ck(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var pG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Nk(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Rk(r){return r.trimLeft()}function mG(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function gG(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var wb,Ik,Mk,E0,_b,Pk,Fk,Lk,cw=["times"];function Dk(r,e,t,n,i){var a=4,s=Ok;switch(i){case en.API.image_compression.FAST:a=1,s=Bk;break;case en.API.image_compression.MEDIUM:a=6,s=jk;break;case en.API.image_compression.SLOW:a=9,s=Uk}r=(function(l,c,u,d){for(var h,f=l.length/c,g=new Uint8Array(l.length+f),y=[vG,Bk,Ok,jk,Uk],w=0;w<f;w+=1){var x=w*c,T=l.subarray(x,x+c);if(d)g.set(d(T,u,h),x+w);else{for(var v=y.length,R=[],M=0;M<v;M+=1)R[M]=y[M](T,u,h);var B=yG(R.concat());g.set(R[B],x+w)}h=T}return g})(r,e,Math.ceil(t*n/8),s);var o=y4(r,{level:a});return en.API.__addimage__.arrayBufferToBinaryString(o)}function vG(r){var e=Array.apply([],r);return e.unshift(0),e}function Bk(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var a=r[i-e]||0;n[i+1]=r[i]-a+256&255}return n}function Ok(r,e,t){var n=r.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=t&&t[a]||0;i[a+1]=r[a]-s+256&255}return i}function jk(r,e,t){var n=r.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=r[a-e]||0,o=t&&t[a]||0;i[a+1]=r[a]+256-(s+o>>>1)&255}return i}function Uk(r,e,t){var n=r.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=bG(r[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=r[a]-s+256&255}return i}function bG(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),a=Math.abs(r+e-t-t);return n<=i&&n<=a?r:i<=a?e:t}function yG(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function uw(r,e,t){var n=e*t,i=Math.floor(n/8),a=16-(n-8*i+t),s=(1<<t)-1;return q7(r,i)>>a&s}function qk(r,e,t,n){var i=t*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var h=d>>8&255;c.setUint8(u,h)}})(r,a,q7(r,a)&~(o<<s)&65535|l)}function q7(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function xG(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],a=i>>7,s=1<<1+(7&i);r[e++],r[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],d=0,h=null,f=0,g=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,g=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((U=r[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=r[e++];d=r[e++]|r[e++]<<8,h=r[e++],1&y||(h=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((U=r[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var w=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,R=r[e++],M=R>>6&1,B=1<<1+(7&R),L=o,z=l,H=!1;R>>7&&(H=!0,L=e,z=B,e+=3*B);var $=e;for(e++;;){var U;if(!((U=r[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}u.push({x:w,y:x,width:T,height:v,has_local_palette:H,palette_offset:L,palette_size:z,data_offset:$,data_length:e-$,transparent_index:h,interlaced:!!M,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,ee){var J=this.frameInfo(D),re=J.width*J.height,q=new Uint8Array(re);Hk(r,J.data_offset,q,re);var W=J.palette_offset,le=J.transparent_index;le===null&&(le=256);var ue=J.width,oe=t-ue,F=ue,C=4*(J.y*t+J.x),I=4*((J.y+J.height)*t+J.x),O=C,X=4*oe;J.interlaced===!0&&(X+=4*t*7);for(var te=8,ie=0,ne=q.length;ie<ne;++ie){var we=q[ie];if(F===0&&(F=ue,(O+=X)>=I&&(X=4*oe+4*t*(te-1),O=C+(ue+oe)*(te<<1),te>>=1)),we===le)O+=4;else{var Ee=r[W+3*we],He=r[W+3*we+1],Ue=r[W+3*we+2];ee[O++]=Ue,ee[O++]=He,ee[O++]=Ee,ee[O++]=255}--F}},this.decodeAndBlitFrameRGBA=function(D,ee){var J=this.frameInfo(D),re=J.width*J.height,q=new Uint8Array(re);Hk(r,J.data_offset,q,re);var W=J.palette_offset,le=J.transparent_index;le===null&&(le=256);var ue=J.width,oe=t-ue,F=ue,C=4*(J.y*t+J.x),I=4*((J.y+J.height)*t+J.x),O=C,X=4*oe;J.interlaced===!0&&(X+=4*t*7);for(var te=8,ie=0,ne=q.length;ie<ne;++ie){var we=q[ie];if(F===0&&(F=ue,(O+=X)>=I&&(X=4*oe+4*t*(te-1),O=C+(ue+oe)*(te<<1),te>>=1)),we===le)O+=4;else{var Ee=r[W+3*we],He=r[W+3*we+1],Ue=r[W+3*we+2];ee[O++]=Ee,ee[O++]=He,ee[O++]=Ue,ee[O++]=255}--F}}}function Hk(r,e,t,n){for(var i=r[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=r[e++],g=new Int32Array(4096),y=null;;){for(;u<16&&f!==0;)d|=r[e++]<<u,u+=8,f===1?f=r[e++]:--f;if(u<l)break;var w=d&c;if(d>>=l,u-=l,w!==a){if(w===s)break;for(var x=w<o?w:y,T=0,v=x;v>a;)v=g[v]>>8,++T;var R=v;if(h+T+(x!==w?1:0)>n)return void Er.log("Warning, gif stream longer than expected.");t[h++]=R;var M=h+=T;for(x!==w&&(t[h++]=R),v=x;T--;)v=g[v],t[--M]=255&v,v>>=8;y!==null&&o<4096&&(g[o++]=y<<8|R,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=w}else o=s+1,c=(1<<(l=i+1))-1,y=null}return h!==n&&Er.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function dw(r){var e,t,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),y=[],w=0,x=7,T=new Array(64),v=new Array(64),R=new Array(64),M=new Array(256),B=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(C,I){for(var O=0,X=0,te=new Array,ie=1;ie<=16;ie++){for(var ne=1;ne<=C[ie];ne++)te[I[X]]=[],te[I[X]][0]=O,te[I[X]][1]=ie,X++,O++;O*=2}return te}function W(C){for(var I=C[0],O=C[1]-1;O>=0;)I&1<<O&&(w|=1<<x),O--,--x<0&&(w==255?(le(255),le(0)):le(w),x=7,w=0)}function le(C){y.push(C)}function ue(C){le(C>>8&255),le(255&C)}function oe(C,I,O,X,te){for(var ie,ne=te[0],we=te[240],Ee=(function(ce,ut){var rt,ht,mt,wt,ft,Tt,De,Ve,Ke,gt,N=0;for(Ke=0;Ke<8;++Ke){rt=ce[N],ht=ce[N+1],mt=ce[N+2],wt=ce[N+3],ft=ce[N+4],Tt=ce[N+5],De=ce[N+6];var _e=rt+(Ve=ce[N+7]),ke=rt-Ve,Le=ht+De,Y=ht-De,ge=mt+Tt,S=mt-Tt,Ae=wt+ft,Xe=wt-ft,m=_e+Ae,pe=_e-Ae,he=Le+ge,k=Le-ge;ce[N]=m+he,ce[N+4]=m-he;var G=.707106781*(k+pe);ce[N+2]=pe+G,ce[N+6]=pe-G;var j=.382683433*((m=Xe+S)-(k=Y+ke)),se=.5411961*m+j,fe=1.306562965*k+j,me=.707106781*(he=S+Y),Te=ke+me,Ne=ke-me;ce[N+5]=Ne+se,ce[N+3]=Ne-se,ce[N+1]=Te+fe,ce[N+7]=Te-fe,N+=8}for(N=0,Ke=0;Ke<8;++Ke){rt=ce[N],ht=ce[N+8],mt=ce[N+16],wt=ce[N+24],ft=ce[N+32],Tt=ce[N+40],De=ce[N+48];var Pe=rt+(Ve=ce[N+56]),Fe=rt-Ve,ze=ht+De,Ze=ht-De,Ge=mt+Tt,at=mt-Tt,Nt=wt+ft,vt=wt-ft,lt=Pe+Nt,bt=Pe-Nt,et=ze+Ge,kt=ze-Ge;ce[N]=lt+et,ce[N+32]=lt-et;var zt=.707106781*(kt+bt);ce[N+16]=bt+zt,ce[N+48]=bt-zt;var Ct=.382683433*((lt=vt+at)-(kt=Ze+Fe)),Bt=.5411961*lt+Ct,Et=1.306562965*kt+Ct,Gt=.707106781*(et=at+Ze),Wn=Fe+Gt,Ft=Fe-Gt;ce[N+40]=Ft+Bt,ce[N+24]=Ft-Bt,ce[N+8]=Wn+Et,ce[N+56]=Wn-Et,N++}for(Ke=0;Ke<64;++Ke)gt=ce[Ke]*ut[Ke],f[Ke]=gt>0?gt+.5|0:gt-.5|0;return f})(C,I),He=0;He<64;++He)g[L[He]]=Ee[He];var Ue=g[0]-O;O=g[0],Ue==0?W(X[0]):(W(X[h[ie=32767+Ue]]),W(d[ie]));for(var We=63;We>0&&g[We]==0;)We--;if(We==0)return W(ne),O;for(var it,xe=1;xe<=We;){for(var nt=xe;g[xe]==0&&xe<=We;)++xe;var pt=xe-nt;if(pt>=16){it=pt>>4;for(var Z=1;Z<=it;++Z)W(we);pt&=15}ie=32767+g[xe],W(te[(pt<<4)+h[ie]]),W(d[ie]),xe++}return We!=63&&W(ne),O}function F(C){C=Math.min(Math.max(C,1),100),a!=C&&((function(I){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var te=s((O[X]*I+50)/100);te=Math.min(Math.max(te,1),255),o[L[X]]=te}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var we=s((ie[ne]*I+50)/100);we=Math.min(Math.max(we,1),255),l[L[ne]]=we}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Ue=0;Ue<8;Ue++)for(var We=0;We<8;We++)c[He]=1/(o[L[He]]*Ee[Ue]*Ee[We]*8),u[He]=1/(l[L[He]]*Ee[Ue]*Ee[We]*8),He++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),a=C)}this.encode=function(C,I){I&&F(I),y=new Array,w=0,x=7,ue(65496),ue(65504),ue(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),ue(1),ue(1),le(0),le(0),(function(){ue(65499),ue(132),le(0);for(var ht=0;ht<64;ht++)le(o[ht]);le(1);for(var mt=0;mt<64;mt++)le(l[mt])})(),(function(ht,mt){ue(65472),ue(17),le(8),ue(mt),ue(ht),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(C.width,C.height),(function(){ue(65476),ue(418),le(0);for(var ht=0;ht<16;ht++)le(z[ht+1]);for(var mt=0;mt<=11;mt++)le(H[mt]);le(16);for(var wt=0;wt<16;wt++)le($[wt+1]);for(var ft=0;ft<=161;ft++)le(U[ft]);le(1);for(var Tt=0;Tt<16;Tt++)le(D[Tt+1]);for(var De=0;De<=11;De++)le(ee[De]);le(17);for(var Ve=0;Ve<16;Ve++)le(J[Ve+1]);for(var Ke=0;Ke<=161;Ke++)le(re[Ke])})(),ue(65498),ue(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var O=0,X=0,te=0;w=0,x=7,this.encode.displayName="_encode_";for(var ie,ne,we,Ee,He,Ue,We,it,xe,nt=C.data,pt=C.width,Z=C.height,ce=4*pt,ut=0;ut<Z;){for(ie=0;ie<ce;){for(He=ce*ut+ie,We=-1,it=0,xe=0;xe<64;xe++)Ue=He+(it=xe>>3)*ce+(We=4*(7&xe)),ut+it>=Z&&(Ue-=ce*(ut+1+it-Z)),ie+We>=ce&&(Ue-=ie+We-ce+4),ne=nt[Ue++],we=nt[Ue++],Ee=nt[Ue++],T[xe]=(B[ne]+B[we+256|0]+B[Ee+512|0]>>16)-128,v[xe]=(B[ne+768|0]+B[we+1024|0]+B[Ee+1280|0]>>16)-128,R[xe]=(B[ne+1280|0]+B[we+1536|0]+B[Ee+1792|0]>>16)-128;O=oe(T,c,O,e,n),X=oe(v,u,X,t,i),te=oe(R,u,te,t,i),ie+=32}ut+=8}if(x>=0){var rt=[];rt[1]=x+1,rt[0]=(1<<x+1)-1,W(rt)}return ue(65497),new Uint8Array(y)},r=r||50,(function(){for(var C=String.fromCharCode,I=0;I<256;I++)M[I]=C(I)})(),e=q(z,H),t=q(D,ee),n=q($,U),i=q(J,re),(function(){for(var C=1,I=2,O=1;O<=15;O++){for(var X=C;X<I;X++)h[32767+X]=O,d[32767+X]=[],d[32767+X][1]=O,d[32767+X][0]=X;for(var te=-(I-1);te<=-C;te++)h[32767+te]=O,d[32767+te]=[],d[32767+te][1]=O,d[32767+te][0]=I-1+te;C<<=1,I<<=1}})(),(function(){for(var C=0;C<256;C++)B[C]=19595*C,B[C+256|0]=38470*C,B[C+512|0]=7471*C+32768,B[C+768|0]=-11059*C,B[C+1024|0]=-21709*C,B[C+1280|0]=32768*C+8421375,B[C+1536|0]=-27439*C,B[C+1792|0]=-5329*C})(),F(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vo(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zk(r){function e(H){if(!H)throw Error("assert :P")}function t(H,$,U){for(var D=0;4>D;D++)if(H[$+D]!=U.charCodeAt(D))return!0;return!1}function n(H,$,U,D,ee){for(var J=0;J<ee;J++)H[$+J]=U[D+J]}function i(H,$,U,D){for(var ee=0;ee<D;ee++)H[$+ee]=U}function a(H){return new Int32Array(H)}function s(H,$){for(var U=[],D=0;D<H;D++)U.push(new $);return U}function o(H,$){var U=[];return(function D(ee,J,re){for(var q=re[J],W=0;W<q&&(ee.push(re.length>J+1?[]:new $),!(re.length<J+1));W++)D(ee[W],J+1,re)})(U,0,H),U}var l=function(){var H=this;function $(A,P){for(var K=1<<P-1>>>0;A&K;)K>>>=1;return K?(A&K-1)+K:A}function U(A,P,K,ae,ye){e(!(ae%K));do A[P+(ae-=K)]=ye;while(0<ae)}function D(A,P,K,ae,ye){if(e(2328>=ye),512>=ye)var Se=a(512);else if((Se=a(ye))==null)return 0;return(function(Ce,Re,Ie,Oe,Je,dt){var je,$e,st=Re,yt=1<<Ie,ct=a(16),_t=a(16);for(e(Je!=0),e(Oe!=null),e(Ce!=null),e(0<Ie),$e=0;$e<Je;++$e){if(15<Oe[$e])return 0;++ct[Oe[$e]]}if(ct[0]==Je)return 0;for(_t[1]=0,je=1;15>je;++je){if(ct[je]>1<<je)return 0;_t[je+1]=_t[je]+ct[je]}for($e=0;$e<Je;++$e)je=Oe[$e],0<Oe[$e]&&(dt[_t[je]++]=$e);if(_t[15]==1)return(Oe=new ee).g=0,Oe.value=dt[0],U(Ce,st,1,yt,Oe),yt;var At,Pt=-1,It=yt-1,tn=0,Wt=1,Rn=1,Zt=1<<Ie;for($e=0,je=1,Je=2;je<=Ie;++je,Je<<=1){if(Wt+=Rn<<=1,0>(Rn-=ct[je]))return 0;for(;0<ct[je];--ct[je])(Oe=new ee).g=je,Oe.value=dt[$e++],U(Ce,st+tn,Je,Zt,Oe),tn=$(tn,je)}for(je=Ie+1,Je=2;15>=je;++je,Je<<=1){if(Wt+=Rn<<=1,0>(Rn-=ct[je]))return 0;for(;0<ct[je];--ct[je]){if(Oe=new ee,(tn&It)!=Pt){for(st+=Zt,At=1<<(Pt=je)-Ie;15>Pt&&!(0>=(At-=ct[Pt]));)++Pt,At<<=1;yt+=Zt=1<<(At=Pt-Ie),Ce[Re+(Pt=tn&It)].g=At+Ie,Ce[Re+Pt].value=st-Re-Pt}Oe.g=je-Ie,Oe.value=dt[$e++],U(Ce,st+(tn>>Ie),Je,Zt,Oe),tn=$(tn,je)}}return Wt!=2*_t[15]-1?0:yt})(A,P,K,ae,ye,Se)}function ee(){this.value=this.g=0}function J(){this.value=this.g=0}function re(){this.G=s(5,ee),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(mh,J)}function q(A,P,K,ae){e(A!=null),e(P!=null),e(2147483648>ae),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=P,A.pa=K,A.Jd=P,A.Yc=K+ae,A.Zc=4<=ae?K+ae-4+1:K,ne(A)}function W(A,P){for(var K=0;0<P--;)K|=Ee(A,128)<<P;return K}function le(A,P){var K=W(A,P);return we(A)?-K:K}function ue(A,P,K,ae){var ye,Se=0;for(e(A!=null),e(P!=null),e(4294967288>ae),A.Sb=ae,A.Ra=0,A.u=0,A.h=0,4<ae&&(ae=4),ye=0;ye<ae;++ye)Se+=P[K+ye]<<8*ye;A.Ra=Se,A.bb=ae,A.oa=P,A.pa=K}function oe(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<Iu-8>>>0,++A.bb,A.u-=8;X(A)&&(A.h=1,A.u=0)}function F(A,P){if(e(0<=P),!A.h&&P<=vs){var K=O(A)&gs[P];return A.u+=P,oe(A),K}return A.h=1,A.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(A){return A.Ra>>>(A.u&Iu-1)>>>0}function X(A){return e(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>Iu}function te(A,P){A.u=P,A.h=X(A)}function ie(A){A.u>=vc&&(e(A.u>=vc),oe(A))}function ne(A){e(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(e(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function we(A){return W(A,1)}function Ee(A,P){var K=A.Ca;0>A.b&&ne(A);var ae=A.b,ye=K*P>>>8,Se=(A.I>>>ae>ye)+0;for(Se?(K-=ye,A.I-=ye+1<<ae>>>0):K=ye+1,ae=K,ye=0;256<=ae;)ye+=8,ae>>=8;return ae=7^ye+Mu[ae],A.b-=ae,A.Ca=(K<<ae)-1,Se}function He(A,P,K){A[P+0]=K>>24&255,A[P+1]=K>>16&255,A[P+2]=K>>8&255,A[P+3]=255&K}function Ue(A,P){return A[P+0]|A[P+1]<<8}function We(A,P){return Ue(A,P)|A[P+2]<<16}function it(A,P){return Ue(A,P)|Ue(A,P+2)<<16}function xe(A,P){var K=1<<P;return e(A!=null),e(0<P),A.X=a(K),A.X==null?0:(A.Mb=32-P,A.Xa=P,1)}function nt(A,P){e(A!=null),e(P!=null),e(A.Xa==P.Xa),n(P.X,0,A.X,0,1<<P.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function Z(A,P,K,ae){e(K!=null),e(ae!=null);var ye=K[0],Se=ae[0];return ye==0&&(ye=(A*Se+P/2)/P),Se==0&&(Se=(P*ye+A/2)/A),0>=ye||0>=Se?0:(K[0]=ye,ae[0]=Se,1)}function ce(A,P){return A+(1<<P)-1>>>P}function ut(A,P){return((4278255360&A)+(4278255360&P)>>>0&4278255360)+((16711935&A)+(16711935&P)>>>0&16711935)>>>0}function rt(A,P){H[P]=function(K,ae,ye,Se,Ce,Re,Ie){var Oe;for(Oe=0;Oe<Ce;++Oe){var Je=H[A](Re[Ie+Oe-1],ye,Se+Oe);Re[Ie+Oe]=ut(K[ae+Oe],Je)}}}function ht(){this.ud=this.hd=this.jd=0}function mt(A,P){return((4278124286&(A^P))>>>1)+(A&P)>>>0}function wt(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function ft(A,P){return wt(A+(A-P+.5>>1))}function Tt(A,P,K){return Math.abs(P-K)-Math.abs(A-K)}function De(A,P,K,ae,ye,Se,Ce){for(ae=Se[Ce-1],K=0;K<ye;++K)Se[Ce+K]=ae=ut(A[P+K],ae)}function Ve(A,P,K,ae,ye){var Se;for(Se=0;Se<K;++Se){var Ce=A[P+Se],Re=Ce>>8&255,Ie=16711935&(Ie=(Ie=16711935&Ce)+((Re<<16)+Re));ae[ye+Se]=(4278255360&Ce)+Ie>>>0}}function Ke(A,P){P.jd=255&A,P.hd=A>>8&255,P.ud=A>>16&255}function gt(A,P,K,ae,ye,Se){var Ce;for(Ce=0;Ce<ae;++Ce){var Re=P[K+Ce],Ie=Re>>>8,Oe=Re,Je=255&(Je=(Je=Re>>>16)+((A.jd<<24>>24)*(Ie<<24>>24)>>>5));Oe=255&(Oe=(Oe+=(A.hd<<24>>24)*(Ie<<24>>24)>>>5)+((A.ud<<24>>24)*(Je<<24>>24)>>>5)),ye[Se+Ce]=(4278255360&Re)+(Je<<16)+Oe}}function N(A,P,K,ae,ye){H[P]=function(Se,Ce,Re,Ie,Oe,Je,dt,je,$e){for(Ie=dt;Ie<je;++Ie)for(dt=0;dt<$e;++dt)Oe[Je++]=ye(Re[ae(Se[Ce++])])},H[A]=function(Se,Ce,Re,Ie,Oe,Je,dt){var je=8>>Se.b,$e=Se.Ea,st=Se.K[0],yt=Se.w;if(8>je)for(Se=(1<<Se.b)-1,yt=(1<<je)-1;Ce<Re;++Ce){var ct,_t=0;for(ct=0;ct<$e;++ct)ct&Se||(_t=ae(Ie[Oe++])),Je[dt++]=ye(st[_t&yt]),_t>>=je}else H["VP8LMapColor"+K](Ie,Oe,st,yt,Je,dt,Ce,Re,$e)}}function _e(A,P,K,ae,ye){for(K=P+K;P<K;){var Se=A[P++];ae[ye++]=Se>>16&255,ae[ye++]=Se>>8&255,ae[ye++]=255&Se}}function ke(A,P,K,ae,ye){for(K=P+K;P<K;){var Se=A[P++];ae[ye++]=Se>>16&255,ae[ye++]=Se>>8&255,ae[ye++]=255&Se,ae[ye++]=Se>>24&255}}function Le(A,P,K,ae,ye){for(K=P+K;P<K;){var Se=(Ce=A[P++])>>16&240|Ce>>12&15,Ce=240&Ce|Ce>>28&15;ae[ye++]=Se,ae[ye++]=Ce}}function Y(A,P,K,ae,ye){for(K=P+K;P<K;){var Se=(Ce=A[P++])>>16&248|Ce>>13&7,Ce=Ce>>5&224|Ce>>3&31;ae[ye++]=Se,ae[ye++]=Ce}}function ge(A,P,K,ae,ye){for(K=P+K;P<K;){var Se=A[P++];ae[ye++]=255&Se,ae[ye++]=Se>>8&255,ae[ye++]=Se>>16&255}}function S(A,P,K,ae,ye,Se){if(Se==0)for(K=P+K;P<K;)He(ae,((Se=A[P++])[0]>>24|Se[1]>>8&65280|Se[2]<<8&16711680|Se[3]<<24)>>>0),ye+=32;else n(ae,ye,A,P,K)}function Ae(A,P){H[P][0]=H[A+"0"],H[P][1]=H[A+"1"],H[P][2]=H[A+"2"],H[P][3]=H[A+"3"],H[P][4]=H[A+"4"],H[P][5]=H[A+"5"],H[P][6]=H[A+"6"],H[P][7]=H[A+"7"],H[P][8]=H[A+"8"],H[P][9]=H[A+"9"],H[P][10]=H[A+"10"],H[P][11]=H[A+"11"],H[P][12]=H[A+"12"],H[P][13]=H[A+"13"],H[P][14]=H[A+"0"],H[P][15]=H[A+"0"]}function Xe(A){return A==y5||A==x5||A==X2||A==w5}function m(){this.eb=[],this.size=this.A=this.fb=0}function pe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function he(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new m,this.f.kb=new pe,this.sd=null}function k(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function G(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function j(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function se(A,P){var K=A.T,ae=P.ba.f.RGBA,ye=ae.eb,Se=ae.fb+A.ka*ae.A,Ce=so[P.ba.S],Re=A.y,Ie=A.O,Oe=A.f,Je=A.N,dt=A.ea,je=A.W,$e=P.cc,st=P.dc,yt=P.Mc,ct=P.Nc,_t=A.ka,At=A.ka+A.T,Pt=A.U,It=Pt+1>>1;for(_t==0?Ce(Re,Ie,null,null,Oe,Je,dt,je,Oe,Je,dt,je,ye,Se,null,null,Pt):(Ce(P.ec,P.fc,Re,Ie,$e,st,yt,ct,Oe,Je,dt,je,ye,Se-ae.A,ye,Se,Pt),++K);_t+2<At;_t+=2)$e=Oe,st=Je,yt=dt,ct=je,Je+=A.Rc,je+=A.Rc,Se+=2*ae.A,Ce(Re,(Ie+=2*A.fa)-A.fa,Re,Ie,$e,st,yt,ct,Oe,Je,dt,je,ye,Se-ae.A,ye,Se,Pt);return Ie+=A.fa,A.j+At<A.o?(n(P.ec,P.fc,Re,Ie,Pt),n(P.cc,P.dc,Oe,Je,It),n(P.Mc,P.Nc,dt,je,It),K--):1&At||Ce(Re,Ie,null,null,Oe,Je,dt,je,Oe,Je,dt,je,ye,Se+ae.A,null,null,Pt),K}function fe(A,P,K){var ae=A.F,ye=[A.J];if(ae!=null){var Se=A.U,Ce=P.ba.S,Re=Ce==W2||Ce==X2;P=P.ba.f.RGBA;var Ie=[0],Oe=A.ka;Ie[0]=A.T,A.Kb&&(Oe==0?--Ie[0]:(--Oe,ye[0]-=A.width),A.j+A.ka+A.T==A.o&&(Ie[0]=A.o-A.j-Oe));var Je=P.eb;Oe=P.fb+Oe*P.A,A=ZS(ae,ye[0],A.width,Se,Ie,Je,Oe+(Re?0:3),P.A),e(K==Ie),A&&Xe(Ce)&&hm(Je,Oe,Re,Se,Ie,P.A)}return 0}function me(A){var P=A.ma,K=P.ba.S,ae=11>K,ye=K==V2||K==G2||K==W2||K==b5||K==12||Xe(K);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!im(P.Oa,A,ye?11:12))return 0;if(ye&&Xe(K)&&tm(),A.da)alert("todo:use_scaling");else{if(ae){if(P.Ib=j,A.Kb){if(K=A.U+1>>1,P.memory=a(A.U+2*K),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+A.U,P.Mc=P.cc,P.Nc=P.dc+K,P.Ib=se,tm()}}else alert("todo:EmitYUV");ye&&(P.Jb=fe,ae&&Uo())}if(ae&&!hA){for(A=0;256>A;++A)PM[A]=89858*(A-128)+Y2>>K2,DM[A]=-22014*(A-128)+Y2,LM[A]=-45773*(A-128),FM[A]=113618*(A-128)+Y2>>K2;for(A=pm;A<A5;++A)P=76283*(A-16)+Y2>>K2,BM[A-pm]=wr(P,255),OM[A-pm]=wr(P+8>>4,15);hA=1}return 1}function Te(A){var P=A.ma,K=A.U,ae=A.T;return e(!(1&A.ka)),0>=K||0>=ae?0:(K=P.Ib(A,P),P.Jb!=null&&P.Jb(A,P,K),P.Dc+=K,1)}function Ne(A){A.ma.memory=null}function Pe(A,P,K,ae){return F(A,8)!=47?0:(P[0]=F(A,14)+1,K[0]=F(A,14)+1,ae[0]=F(A,1),F(A,3)!=0?0:!A.h)}function Fe(A,P){if(4>A)return A+1;var K=A-2>>1;return(2+(1&A)<<K)+F(P,K)+1}function ze(A,P){return 120<P?P-120:1<=(K=((K=yM[P-1])>>4)*A+(8-(15&K)))?K:1;var K}function Ze(A,P,K){var ae=O(K),ye=A[P+=255&ae].g-8;return 0<ye&&(te(K,K.u+8),ae=O(K),P+=A[P].value,P+=ae&(1<<ye)-1),te(K,K.u+A[P].g),A[P].value}function Ge(A,P,K){return K.g+=A.g,K.value+=A.value<<P>>>0,e(8>=K.g),A.g}function at(A,P,K){var ae=A.xc;return e((P=ae==0?0:A.vc[A.md*(K>>ae)+(P>>ae)])<A.Wb),A.Ya[P]}function Nt(A,P,K,ae){var ye=A.ab,Se=A.c*P,Ce=A.C;P=Ce+P;var Re=K,Ie=ae;for(ae=A.Ta,K=A.Ua;0<ye--;){var Oe=A.gc[ye],Je=Ce,dt=P,je=Re,$e=Ie,st=(Ie=ae,Re=K,Oe.Ea);switch(e(Je<dt),e(dt<=Oe.nc),Oe.hc){case 2:oi(je,$e,(dt-Je)*st,Ie,Re);break;case 0:var yt=Je,ct=dt,_t=Ie,At=Re,Pt=(Zt=Oe).Ea;yt==0&&(sm(je,$e,null,null,1,_t,At),De(je,$e+1,0,0,Pt-1,_t,At+1),$e+=Pt,At+=Pt,++yt);for(var It=1<<Zt.b,tn=It-1,Wt=ce(Pt,Zt.b),Rn=Zt.K,Zt=Zt.w+(yt>>Zt.b)*Wt;yt<ct;){var Un=Rn,Ci=Zt,In=1;for(x0(je,$e,_t,At-Pt,1,_t,At);In<Pt;){var Jt=(In&~tn)+It;Jt>Pt&&(Jt=Pt),(0,lm[Un[Ci++]>>8&15])(je,$e+ +In,_t,At+In-Pt,Jt-In,_t,At+In),In=Jt}$e+=Pt,At+=Pt,++yt&tn||(Zt+=Wt)}dt!=Oe.nc&&n(Ie,Re-st,Ie,Re+(dt-Je-1)*st,st);break;case 1:for(st=je,ct=$e,Pt=(je=Oe.Ea)-(At=je&~(_t=($e=1<<Oe.b)-1)),yt=ce(je,Oe.b),It=Oe.K,Oe=Oe.w+(Je>>Oe.b)*yt;Je<dt;){for(tn=It,Wt=Oe,Rn=new ht,Zt=ct+At,Un=ct+je;ct<Zt;)Ke(tn[Wt++],Rn),cm(Rn,st,ct,$e,Ie,Re),ct+=$e,Re+=$e;ct<Un&&(Ke(tn[Wt++],Rn),cm(Rn,st,ct,Pt,Ie,Re),ct+=Pt,Re+=Pt),++Je&_t||(Oe+=yt)}break;case 3:if(je==Ie&&$e==Re&&0<Oe.b){for(ct=Ie,je=st=Re+(dt-Je)*st-(At=(dt-Je)*ce(Oe.Ea,Oe.b)),$e=Ie,_t=Re,yt=[],At=(Pt=At)-1;0<=At;--At)yt[At]=$e[_t+At];for(At=Pt-1;0<=At;--At)ct[je+At]=yt[At];U2(Oe,Je,dt,Ie,st,Ie,Re)}else U2(Oe,Je,dt,je,$e,Ie,Re)}Re=ae,Ie=K}Ie!=K&&n(ae,K,Re,Ie,Se)}function vt(A,P){var K=A.V,ae=A.Ba+A.c*A.C,ye=P-A.C;if(e(P<=A.l.o),e(16>=ye),0<ye){var Se=A.l,Ce=A.Ta,Re=A.Ua,Ie=Se.width;if(Nt(A,ye,K,ae),ye=Re=[Re],e((K=A.C)<(ae=P)),e(Se.v<Se.va),ae>Se.o&&(ae=Se.o),K<Se.j){var Oe=Se.j-K;K=Se.j,ye[0]+=Oe*Ie}if(K>=ae?K=0:(ye[0]+=4*Se.v,Se.ka=K-Se.j,Se.U=Se.va-Se.v,Se.T=ae-K,K=1),K){if(Re=Re[0],11>(K=A.ca).S){var Je=K.f.RGBA,dt=(ae=K.S,ye=Se.U,Se=Se.T,Oe=Je.eb,Je.A),je=Se;for(Je=Je.fb+A.Ma*Je.A;0<je--;){var $e=Ce,st=Re,yt=ye,ct=Oe,_t=Je;switch(ae){case z2:um($e,st,yt,ct,_t);break;case V2:Pu($e,st,yt,ct,_t);break;case y5:Pu($e,st,yt,ct,_t),hm(ct,_t,0,yt,1,0);break;case rA:gh($e,st,yt,ct,_t);break;case G2:S($e,st,yt,ct,_t,1);break;case x5:S($e,st,yt,ct,_t,1),hm(ct,_t,0,yt,1,0);break;case W2:S($e,st,yt,ct,_t,0);break;case X2:S($e,st,yt,ct,_t,0),hm(ct,_t,1,yt,1,0);break;case b5:Fu($e,st,yt,ct,_t);break;case w5:Fu($e,st,yt,ct,_t),YS(ct,_t,yt,1,0);break;case iA:Lu($e,st,yt,ct,_t);break;default:e(0)}Re+=Ie,Je+=dt}A.Ma+=Se}else alert("todo:EmitRescaledRowsYUVA");e(A.Ma<=K.height)}}A.C=P,e(A.C<=A.i)}function lt(A){var P;if(0<A.ua)return 0;for(P=0;P<A.Wb;++P){var K=A.Ya[P].G,ae=A.Ya[P].H;if(0<K[1][ae[1]+0].g||0<K[2][ae[2]+0].g||0<K[3][ae[3]+0].g)return 0}return 1}function bt(A,P,K,ae,ye,Se){if(A.Z!=0){var Ce=A.qd,Re=A.rd;for(e(Ou[A.Z]!=null);P<K;++P)Ou[A.Z](Ce,Re,ae,ye,ae,ye,Se),Ce=ae,Re=ye,ye+=Se;A.qd=Ce,A.rd=Re}}function et(A,P){var K=A.l.ma,ae=K.Z==0||K.Z==1?A.l.j:A.C;if(ae=A.C<ae?ae:A.C,e(P<=A.l.o),P>ae){var ye=A.l.width,Se=K.ca,Ce=K.tb+ye*ae,Re=A.V,Ie=A.Ba+A.c*ae,Oe=A.gc;e(A.ab==1),e(Oe[0].hc==3),wl(Oe[0],ae,P,Re,Ie,Se,Ce),bt(K,ae,P,Se,Ce,ye)}A.C=A.Ma=P}function kt(A,P,K,ae,ye,Se,Ce){var Re=A.$/ae,Ie=A.$%ae,Oe=A.m,Je=A.s,dt=K+A.$,je=dt;ye=K+ae*ye;var $e=K+ae*Se,st=280+Je.ua,yt=A.Pb?Re:16777216,ct=0<Je.ua?Je.Wa:null,_t=Je.wc,At=dt<$e?at(Je,Ie,Re):null;e(A.C<Se),e($e<=ye);var Pt=!1;e:for(;;){for(;Pt||dt<$e;){var It=0;if(Re>=yt){var tn=dt-K;e((yt=A).Pb),yt.wd=yt.m,yt.xd=tn,0<yt.s.ua&&nt(yt.s.Wa,yt.s.vb),yt=Re+wM}if(Ie&_t||(At=at(Je,Ie,Re)),e(At!=null),At.Qb&&(P[dt]=At.qb,Pt=!0),!Pt)if(ie(Oe),At.jc){It=Oe,tn=P;var Wt=dt,Rn=At.pd[O(It)&mh-1];e(At.jc),256>Rn.g?(te(It,It.u+Rn.g),tn[Wt]=Rn.value,It=0):(te(It,It.u+Rn.g-256),e(256<=Rn.value),It=Rn.value),It==0&&(Pt=!0)}else It=Ze(At.G[0],At.H[0],Oe);if(Oe.h)break;if(Pt||256>It){if(!Pt)if(At.nd)P[dt]=(At.qb|It<<8)>>>0;else{if(ie(Oe),Pt=Ze(At.G[1],At.H[1],Oe),ie(Oe),tn=Ze(At.G[2],At.H[2],Oe),Wt=Ze(At.G[3],At.H[3],Oe),Oe.h)break;P[dt]=(Wt<<24|Pt<<16|It<<8|tn)>>>0}if(Pt=!1,++dt,++Ie>=ae&&(Ie=0,++Re,Ce!=null&&Re<=Se&&!(Re%16)&&Ce(A,Re),ct!=null))for(;je<dt;)It=P[je++],ct.X[(506832829*It&4294967295)>>>ct.Mb]=It}else if(280>It){if(It=Fe(It-256,Oe),tn=Ze(At.G[4],At.H[4],Oe),ie(Oe),tn=ze(ae,tn=Fe(tn,Oe)),Oe.h)break;if(dt-K<tn||ye-dt<It)break e;for(Wt=0;Wt<It;++Wt)P[dt+Wt]=P[dt+Wt-tn];for(dt+=It,Ie+=It;Ie>=ae;)Ie-=ae,++Re,Ce!=null&&Re<=Se&&!(Re%16)&&Ce(A,Re);if(e(dt<=ye),Ie&_t&&(At=at(Je,Ie,Re)),ct!=null)for(;je<dt;)It=P[je++],ct.X[(506832829*It&4294967295)>>>ct.Mb]=It}else{if(!(It<st))break e;for(Pt=It-280,e(ct!=null);je<dt;)It=P[je++],ct.X[(506832829*It&4294967295)>>>ct.Mb]=It;It=dt,e(!(Pt>>>(tn=ct).Xa)),P[It]=tn.X[Pt],Pt=!0}Pt||e(Oe.h==X(Oe))}if(A.Pb&&Oe.h&&dt<ye)e(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&nt(A.s.vb,A.s.Wa);else{if(Oe.h)break e;Ce!=null&&Ce(A,Re>Se?Se:Re),A.a=0,A.$=dt-K}return 1}return A.a=3,0}function zt(A){e(A!=null),A.vc=null,A.yc=null,A.Ya=null;var P=A.Wa;P!=null&&(P.X=null),A.vb=null,e(A!=null)}function Ct(){var A=new pn;return A==null?null:(A.a=0,A.xb=oA,Ae("Predictor","VP8LPredictors"),Ae("Predictor","VP8LPredictors_C"),Ae("PredictorAdd","VP8LPredictorsAdd"),Ae("PredictorAdd","VP8LPredictorsAdd_C"),oi=Ve,cm=gt,um=_e,Pu=ke,Fu=Le,Lu=Y,gh=ge,H.VP8LMapColor32b=xl,H.VP8LMapColor8b=om,A)}function Bt(A,P,K,ae,ye){var Se=1,Ce=[A],Re=[P],Ie=ae.m,Oe=ae.s,Je=null,dt=0;e:for(;;){if(K)for(;Se&&F(Ie,1);){var je=Ce,$e=Re,st=ae,yt=1,ct=st.m,_t=st.gc[st.ab],At=F(ct,2);if(st.Oc&1<<At)Se=0;else{switch(st.Oc|=1<<At,_t.hc=At,_t.Ea=je[0],_t.nc=$e[0],_t.K=[null],++st.ab,e(4>=st.ab),At){case 0:case 1:_t.b=F(ct,3)+2,yt=Bt(ce(_t.Ea,_t.b),ce(_t.nc,_t.b),0,st,_t.K),_t.K=_t.K[0];break;case 3:var Pt,It=F(ct,8)+1,tn=16<It?0:4<It?1:2<It?2:3;if(je[0]=ce(_t.Ea,tn),_t.b=tn,Pt=yt=Bt(It,1,0,st,_t.K)){var Wt,Rn=It,Zt=_t,Un=1<<(8>>Zt.b),Ci=a(Un);if(Ci==null)Pt=0;else{var In=Zt.K[0],Jt=Zt.w;for(Ci[0]=Zt.K[0][0],Wt=1;Wt<1*Rn;++Wt)Ci[Wt]=ut(In[Jt+Wt],Ci[Wt-1]);for(;Wt<4*Un;++Wt)Ci[Wt]=0;Zt.K[0]=null,Zt.K[0]=Ci,Pt=1}}yt=Pt;break;case 2:break;default:e(0)}Se=yt}}if(Ce=Ce[0],Re=Re[0],Se&&F(Ie,1)&&!(Se=1<=(dt=F(Ie,4))&&11>=dt)){ae.a=3;break e}var Ot;if(Ot=Se)t:{var ci,_n,Gn,Fr=ae,ta=Ce,Oa=Re,Jr=dt,xa=K,ja=Fr.m,Ti=Fr.s,Kn=[null],cr=1,Qr=0,ur=xM[Jr];n:for(;;){if(xa&&F(ja,1)){var na=F(ja,3)+2,Ho=ce(ta,na),ui=ce(Oa,na),$a=Ho*ui;if(!Bt(Ho,ui,0,Fr,Kn))break n;for(Kn=Kn[0],Ti.xc=na,ci=0;ci<$a;++ci){var Sr=Kn[ci]>>8&65535;Kn[ci]=Sr,Sr>=cr&&(cr=Sr+1)}}if(ja.h)break n;for(_n=0;5>_n;++_n){var Ni=aA[_n];!_n&&0<Jr&&(Ni+=1<<Jr),Qr<Ni&&(Qr=Ni)}var ys=s(cr*ur,ee),Ua=cr,xs=s(Ua,re);if(xs==null)var ws=null;else e(65536>=Ua),ws=xs;var es=a(Qr);if(ws==null||es==null||ys==null){Fr.a=1;break n}var _s=ys;for(ci=Gn=0;ci<cr;++ci){var Rr=ws[ci],Ss=Rr.G,zo=Rr.H,bh=0,xc=1,ra=0;for(_n=0;5>_n;++_n){Ni=aA[_n],Ss[_n]=_s,zo[_n]=Gn,!_n&&0<Jr&&(Ni+=1<<Jr);i:{var J2,k5=Ni,Q2=Fr,mm=es,qM=_s,HM=Gn,E5=0,ju=Q2.m,zM=F(ju,1);if(i(mm,0,0,k5),zM){var VM=F(ju,1)+1,GM=F(ju,1),mA=F(ju,GM==0?1:8);mm[mA]=1,VM==2&&(mm[mA=F(ju,8)]=1);var $2=1}else{var gA=a(19),vA=F(ju,4)+4;if(19<vA){Q2.a=3;var eb=0;break i}for(J2=0;J2<vA;++J2)gA[bM[J2]]=F(ju,3);var C5=void 0,gm=void 0,bA=Q2,WM=gA,tb=k5,yA=mm,T5=0,Uu=bA.m,xA=8,wA=s(128,ee);r:for(;D(wA,0,7,WM,19);){if(F(Uu,1)){var XM=2+2*F(Uu,3);if((C5=2+F(Uu,XM))>tb)break r}else C5=tb;for(gm=0;gm<tb&&C5--;){ie(Uu);var _A=wA[0+(127&O(Uu))];te(Uu,Uu.u+_A.g);var _0=_A.value;if(16>_0)yA[gm++]=_0,_0!=0&&(xA=_0);else{var KM=_0==16,SA=_0-16,YM=gM[SA],AA=F(Uu,mM[SA])+YM;if(gm+AA>tb)break r;for(var ZM=KM?xA:0;0<AA--;)yA[gm++]=ZM}}T5=1;break r}T5||(bA.a=3),$2=T5}($2=$2&&!ju.h)&&(E5=D(qM,HM,8,mm,k5)),$2&&E5!=0?eb=E5:(Q2.a=3,eb=0)}if(eb==0)break n;if(xc&&vM[_n]==1&&(xc=_s[Gn].g==0),bh+=_s[Gn].g,Gn+=eb,3>=_n){var vm,N5=es[0];for(vm=1;vm<Ni;++vm)es[vm]>N5&&(N5=es[vm]);ra+=N5}}if(Rr.nd=xc,Rr.Qb=0,xc&&(Rr.qb=(Ss[3][zo[3]+0].value<<24|Ss[1][zo[1]+0].value<<16|Ss[2][zo[2]+0].value)>>>0,bh==0&&256>Ss[0][zo[0]+0].value&&(Rr.Qb=1,Rr.qb+=Ss[0][zo[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>ra,Rr.jc){var nb,wc=Rr;for(nb=0;nb<mh;++nb){var qu=nb,Hu=wc.pd[qu],rb=wc.G[0][wc.H[0]+qu];256<=rb.value?(Hu.g=rb.g+256,Hu.value=rb.value):(Hu.g=0,Hu.value=0,qu>>=Ge(rb,8,Hu),qu>>=Ge(wc.G[1][wc.H[1]+qu],16,Hu),qu>>=Ge(wc.G[2][wc.H[2]+qu],0,Hu),Ge(wc.G[3][wc.H[3]+qu],24,Hu))}}}Ti.vc=Kn,Ti.Wb=cr,Ti.Ya=ws,Ti.yc=ys,Ot=1;break t}Ot=0}if(!(Se=Ot)){ae.a=3;break e}if(0<dt){if(Oe.ua=1<<dt,!xe(Oe.Wa,dt)){ae.a=1,Se=0;break e}}else Oe.ua=0;var R5=ae,kA=Ce,JM=Re,I5=R5.s,M5=I5.xc;if(R5.c=kA,R5.i=JM,I5.md=ce(kA,M5),I5.wc=M5==0?-1:(1<<M5)-1,K){ae.xb=TM;break e}if((Je=a(Ce*Re))==null){ae.a=1,Se=0;break e}Se=(Se=kt(ae,Je,0,Ce,Re,Re,null))&&!Ie.h;break e}return Se?(ye!=null?ye[0]=Je:(e(Je==null),e(K)),ae.$=0,K||zt(Oe)):zt(Oe),Se}function Et(A,P){var K=A.c*A.i,ae=K+P+16*P;return e(A.c<=P),A.V=a(ae),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+K+P,1)}function Gt(A,P){var K=A.C,ae=P-K,ye=A.V,Se=A.Ba+A.c*K;for(e(P<=A.l.o);0<ae;){var Ce=16<ae?16:ae,Re=A.l.ma,Ie=A.l.width,Oe=Ie*Ce,Je=Re.ca,dt=Re.tb+Ie*K,je=A.Ta,$e=A.Ua;Nt(A,Ce,ye,Se),JS(je,$e,Je,dt,Oe),bt(Re,K,K+Ce,Je,dt,Ie),ae-=Ce,ye+=Ce*A.c,K+=Ce}e(K==P),A.C=A.Ma=P}function Wn(){this.ub=this.yd=this.td=this.Rb=0}function Ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function an(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function cn(){this.Yb=(function(){var A=[];return(function P(K,ae,ye){for(var Se=ye[ae],Ce=0;Ce<Se&&(K.push(ye.length>ae+1?[]:0),!(ye.length<ae+1));Ce++)P(K[Ce],ae+1,ye)})(A,0,[3,11]),A})()}function or(){this.jb=a(3),this.Wc=o([4,8],cn),this.Xc=o([4,17],cn)}function Ui(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function Si(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ai(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qi(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new Ai),this.aa=0,this.l=new Qi}function ba(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ya(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Wn,this.Kc=new Ft,this.ed=new Ui,this.Qa=new an,this.Ic=this.$c=this.Aa=0,this.D=new qi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,C),this.ia=0,this.pb=s(4,Si),this.Pa=new or,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ba),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ai),this.L=this.aa=0,this.gd=o([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wr(A,P){return 0>A?0:A>P?P:A}function Qi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vl(){var A=new ya;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,fm||(fm=rc)),A}function Or(A,P,K){return A.a==0&&(A.a=P,A.sc=K,A.cb=0),0}function sh(A,P,K){return 3<=K&&A[P+0]==157&&A[P+1]==1&&A[P+2]==42}function fs(A,P){if(A==null)return 0;if(A.a=0,A.sc="OK",P==null)return Or(A,2,"null VP8Io passed to VP8GetHeaders()");var K=P.data,ae=P.w,ye=P.ha;if(4>ye)return Or(A,7,"Truncated header.");var Se=K[ae+0]|K[ae+1]<<8|K[ae+2]<<16,Ce=A.Od;if(Ce.Rb=!(1&Se),Ce.td=Se>>1&7,Ce.yd=Se>>4&1,Ce.ub=Se>>5,3<Ce.td)return Or(A,3,"Incorrect keyframe parameters.");if(!Ce.yd)return Or(A,4,"Frame not displayable.");ae+=3,ye-=3;var Re=A.Kc;if(Ce.Rb){if(7>ye)return Or(A,7,"cannot parse picture header");if(!sh(K,ae,ye))return Or(A,3,"Bad code word");Re.c=16383&(K[ae+4]<<8|K[ae+3]),Re.Td=K[ae+4]>>6,Re.i=16383&(K[ae+6]<<8|K[ae+5]),Re.Ud=K[ae+6]>>6,ae+=7,ye-=7,A.za=Re.c+15>>4,A.Ub=Re.i+15>>4,P.width=Re.c,P.height=Re.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,i((Se=A.Pa).jb,0,255,Se.jb.length),e((Se=A.Qa)!=null),Se.Cb=0,Se.Bb=0,Se.Fb=1,i(Se.Zb,0,0,Se.Zb.length),i(Se.Lb,0,0,Se.Lb)}if(Ce.ub>ye)return Or(A,7,"bad partition length");q(Se=A.m,K,ae,Ce.ub),ae+=Ce.ub,ye-=Ce.ub,Ce.Rb&&(Re.Ld=we(Se),Re.Kd=we(Se)),Re=A.Qa;var Ie,Oe=A.Pa;if(e(Se!=null),e(Re!=null),Re.Cb=we(Se),Re.Cb){if(Re.Bb=we(Se),we(Se)){for(Re.Fb=we(Se),Ie=0;4>Ie;++Ie)Re.Zb[Ie]=we(Se)?le(Se,7):0;for(Ie=0;4>Ie;++Ie)Re.Lb[Ie]=we(Se)?le(Se,6):0}if(Re.Bb)for(Ie=0;3>Ie;++Ie)Oe.jb[Ie]=we(Se)?W(Se,8):255}else Re.Bb=0;if(Se.Ka)return Or(A,3,"cannot parse segment header");if((Re=A.ed).zd=we(Se),Re.Tb=W(Se,6),Re.wb=W(Se,3),Re.Pc=we(Se),Re.Pc&&we(Se)){for(Oe=0;4>Oe;++Oe)we(Se)&&(Re.vd[Oe]=le(Se,6));for(Oe=0;4>Oe;++Oe)we(Se)&&(Re.od[Oe]=le(Se,6))}if(A.L=Re.Tb==0?0:Re.zd?1:2,Se.Ka)return Or(A,3,"cannot parse filter header");var Je=ye;if(ye=Ie=ae,ae=Ie+Je,Re=Je,A.Xb=(1<<W(A.m,2))-1,Je<3*(Oe=A.Xb))K=7;else{for(Ie+=3*Oe,Re-=3*Oe,Je=0;Je<Oe;++Je){var dt=K[ye+0]|K[ye+1]<<8|K[ye+2]<<16;dt>Re&&(dt=Re),q(A.Jc[+Je],K,Ie,dt),Ie+=dt,Re-=dt,ye+=3}q(A.Jc[+Oe],K,Ie,Re),K=Ie<ae?0:5}if(K!=0)return Or(A,K,"cannot parse partitions");for(K=W(Ie=A.m,7),ye=we(Ie)?le(Ie,4):0,ae=we(Ie)?le(Ie,4):0,Re=we(Ie)?le(Ie,4):0,Oe=we(Ie)?le(Ie,4):0,Ie=we(Ie)?le(Ie,4):0,Je=A.Qa,dt=0;4>dt;++dt){if(Je.Cb){var je=Je.Zb[dt];Je.Fb||(je+=K)}else{if(0<dt){A.pb[dt]=A.pb[0];continue}je=K}var $e=A.pb[dt];$e.Sc[0]=_5[wr(je+ye,127)],$e.Sc[1]=S5[wr(je+0,127)],$e.Eb[0]=2*_5[wr(je+ae,127)],$e.Eb[1]=101581*S5[wr(je+Re,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=_5[wr(je+Oe,117)],$e.Qc[1]=S5[wr(je+Ie,127)],$e.lc=je+Ie}if(!Ce.Rb)return Or(A,4,"Not a key frame.");for(we(Se),Ce=A.Pa,K=0;4>K;++K){for(ye=0;8>ye;++ye)for(ae=0;3>ae;++ae)for(Re=0;11>Re;++Re)Oe=Ee(Se,EM[K][ye][ae][Re])?W(Se,8):AM[K][ye][ae][Re],Ce.Wc[K][ye].Yb[ae][Re]=Oe;for(ye=0;17>ye;++ye)Ce.Xc[K][ye]=Ce.Wc[K][CM[ye]]}return A.kc=we(Se),A.kc&&(A.Bd=W(Se,8)),A.cb=1}function rc(A,P,K,ae,ye,Se,Ce){var Re=P[ye].Yb[K];for(K=0;16>ye;++ye){if(!Ee(A,Re[K+0]))return ye;for(;!Ee(A,Re[K+1]);)if(Re=P[++ye].Yb[0],K=0,ye==16)return 16;var Ie=P[ye+1].Yb;if(Ee(A,Re[K+2])){var Oe=A,Je=0;if(Ee(Oe,(je=Re)[(dt=K)+3]))if(Ee(Oe,je[dt+6])){for(Re=0,dt=2*(Je=Ee(Oe,je[dt+8]))+(je=Ee(Oe,je[dt+9+Je])),Je=0,je=_M[dt];je[Re];++Re)Je+=Je+Ee(Oe,je[Re]);Je+=3+(8<<dt)}else Ee(Oe,je[dt+7])?(Je=7+2*Ee(Oe,165),Je+=Ee(Oe,145)):Je=5+Ee(Oe,159);else Je=Ee(Oe,je[dt+4])?3+Ee(Oe,je[dt+5]):2;Re=Ie[2]}else Je=1,Re=Ie[1];Ie=Ce+SM[ye],0>(Oe=A).b&&ne(Oe);var dt,je=Oe.b,$e=(dt=Oe.Ca>>1)-(Oe.I>>je)>>31;--Oe.b,Oe.Ca+=$e,Oe.Ca|=1,Oe.I-=(dt+1&$e)<<je,Se[Ie]=((Je^$e)-$e)*ae[(0<ye)+0]}return 16}function lr(A){var P=A.rb[A.sb-1];P.la=0,P.Na=0,i(A.zc,0,0,A.zc.length),A.ja=0}function La(A,P,K,ae,ye){ye=A[P+K+32*ae]+(ye>>3),A[P+K+32*ae]=-256&ye?0>ye?0:255:ye}function Zr(A,P,K,ae,ye,Se){La(A,P,0,K,ae+ye),La(A,P,1,K,ae+Se),La(A,P,2,K,ae-Se),La(A,P,3,K,ae-ye)}function ps(A){return(20091*A>>16)+A}function ku(A,P,K,ae){var ye,Se=0,Ce=a(16);for(ye=0;4>ye;++ye){var Re=A[P+0]+A[P+8],Ie=A[P+0]-A[P+8],Oe=(35468*A[P+4]>>16)-ps(A[P+12]),Je=ps(A[P+4])+(35468*A[P+12]>>16);Ce[Se+0]=Re+Je,Ce[Se+1]=Ie+Oe,Ce[Se+2]=Ie-Oe,Ce[Se+3]=Re-Je,Se+=4,P++}for(ye=Se=0;4>ye;++ye)Re=(A=Ce[Se+0]+4)+Ce[Se+8],Ie=A-Ce[Se+8],Oe=(35468*Ce[Se+4]>>16)-ps(Ce[Se+12]),La(K,ae,0,0,Re+(Je=ps(Ce[Se+4])+(35468*Ce[Se+12]>>16))),La(K,ae,1,0,Ie+Oe),La(K,ae,2,0,Ie-Oe),La(K,ae,3,0,Re-Je),Se++,ae+=32}function m0(A,P,K,ae){var ye=A[P+0]+4,Se=35468*A[P+4]>>16,Ce=ps(A[P+4]),Re=35468*A[P+1]>>16;Zr(K,ae,0,ye+Ce,A=ps(A[P+1]),Re),Zr(K,ae,1,ye+Se,A,Re),Zr(K,ae,2,ye-Se,A,Re),Zr(K,ae,3,ye-Ce,A,Re)}function ic(A,P,K,ae,ye){ku(A,P,K,ae),ye&&ku(A,P+16,K,ae+4)}function to(A,P,K,ae){vh(A,P+0,K,ae,1),vh(A,P+32,K,ae+128,1)}function jr(A,P,K,ae){var ye;for(A=A[P+0]+4,ye=0;4>ye;++ye)for(P=0;4>P;++P)La(K,ae,P,ye,A)}function Eu(A,P,K,ae){A[P+0]&&ar(A,P+0,K,ae),A[P+16]&&ar(A,P+16,K,ae+4),A[P+32]&&ar(A,P+32,K,ae+128),A[P+48]&&ar(A,P+48,K,ae+128+4)}function bl(A,P,K,ae){var ye,Se=a(16);for(ye=0;4>ye;++ye){var Ce=A[P+0+ye]+A[P+12+ye],Re=A[P+4+ye]+A[P+8+ye],Ie=A[P+4+ye]-A[P+8+ye],Oe=A[P+0+ye]-A[P+12+ye];Se[0+ye]=Ce+Re,Se[8+ye]=Ce-Re,Se[4+ye]=Oe+Ie,Se[12+ye]=Oe-Ie}for(ye=0;4>ye;++ye)Ce=(A=Se[0+4*ye]+3)+Se[3+4*ye],Re=Se[1+4*ye]+Se[2+4*ye],Ie=Se[1+4*ye]-Se[2+4*ye],Oe=A-Se[3+4*ye],K[ae+0]=Ce+Re>>3,K[ae+16]=Oe+Ie>>3,K[ae+32]=Ce-Re>>3,K[ae+48]=Oe-Ie>>3,ae+=64}function Oo(A,P,K){var ae,ye=P-32,Se=bs,Ce=255-A[ye-1];for(ae=0;ae<K;++ae){var Re,Ie=Se,Oe=Ce+A[P-1];for(Re=0;Re<K;++Re)A[P+Re]=Ie[Oe+A[ye+Re]];P+=32}}function Hi(A,P){Oo(A,P,4)}function ac(A,P){Oo(A,P,8)}function jo(A,P){Oo(A,P,16)}function sc(A,P){var K;for(K=0;16>K;++K)n(A,P+32*K,A,P-32,16)}function no(A,P){var K;for(K=16;0<K;--K)i(A,P,A[P-1],16),P+=32}function Da(A,P,K){var ae;for(ae=0;16>ae;++ae)i(P,K+32*ae,A,16)}function oc(A,P){var K,ae=16;for(K=0;16>K;++K)ae+=A[P-1+32*K]+A[P+K-32];Da(ae>>5,A,P)}function ms(A,P){var K,ae=8;for(K=0;16>K;++K)ae+=A[P-1+32*K];Da(ae>>4,A,P)}function yl(A,P){var K,ae=8;for(K=0;16>K;++K)ae+=A[P+K-32];Da(ae>>4,A,P)}function Cu(A,P){Da(128,A,P)}function vn(A,P,K){return A+2*P+K+2>>2}function u5(A,P){var K,ae=P-32;for(ae=new Uint8Array([vn(A[ae-1],A[ae+0],A[ae+1]),vn(A[ae+0],A[ae+1],A[ae+2]),vn(A[ae+1],A[ae+2],A[ae+3]),vn(A[ae+2],A[ae+3],A[ae+4])]),K=0;4>K;++K)n(A,P+32*K,ae,0,ae.length)}function d5(A,P){var K=A[P-1],ae=A[P-1+32],ye=A[P-1+64],Se=A[P-1+96];He(A,P+0,16843009*vn(A[P-1-32],K,ae)),He(A,P+32,16843009*vn(K,ae,ye)),He(A,P+64,16843009*vn(ae,ye,Se)),He(A,P+96,16843009*vn(ye,Se,Se))}function h5(A,P){var K,ae=4;for(K=0;4>K;++K)ae+=A[P+K-32]+A[P-1+32*K];for(ae>>=3,K=0;4>K;++K)i(A,P+32*K,ae,4)}function lc(A,P){var K=A[P-1+0],ae=A[P-1+32],ye=A[P-1+64],Se=A[P-1-32],Ce=A[P+0-32],Re=A[P+1-32],Ie=A[P+2-32],Oe=A[P+3-32];A[P+0+96]=vn(ae,ye,A[P-1+96]),A[P+1+96]=A[P+0+64]=vn(K,ae,ye),A[P+2+96]=A[P+1+64]=A[P+0+32]=vn(Se,K,ae),A[P+3+96]=A[P+2+64]=A[P+1+32]=A[P+0+0]=vn(Ce,Se,K),A[P+3+64]=A[P+2+32]=A[P+1+0]=vn(Re,Ce,Se),A[P+3+32]=A[P+2+0]=vn(Ie,Re,Ce),A[P+3+0]=vn(Oe,Ie,Re)}function cc(A,P){var K=A[P+1-32],ae=A[P+2-32],ye=A[P+3-32],Se=A[P+4-32],Ce=A[P+5-32],Re=A[P+6-32],Ie=A[P+7-32];A[P+0+0]=vn(A[P+0-32],K,ae),A[P+1+0]=A[P+0+32]=vn(K,ae,ye),A[P+2+0]=A[P+1+32]=A[P+0+64]=vn(ae,ye,Se),A[P+3+0]=A[P+2+32]=A[P+1+64]=A[P+0+96]=vn(ye,Se,Ce),A[P+3+32]=A[P+2+64]=A[P+1+96]=vn(Se,Ce,Re),A[P+3+64]=A[P+2+96]=vn(Ce,Re,Ie),A[P+3+96]=vn(Re,Ie,Ie)}function f5(A,P){var K=A[P-1+0],ae=A[P-1+32],ye=A[P-1+64],Se=A[P-1-32],Ce=A[P+0-32],Re=A[P+1-32],Ie=A[P+2-32],Oe=A[P+3-32];A[P+0+0]=A[P+1+64]=Se+Ce+1>>1,A[P+1+0]=A[P+2+64]=Ce+Re+1>>1,A[P+2+0]=A[P+3+64]=Re+Ie+1>>1,A[P+3+0]=Ie+Oe+1>>1,A[P+0+96]=vn(ye,ae,K),A[P+0+64]=vn(ae,K,Se),A[P+0+32]=A[P+1+96]=vn(K,Se,Ce),A[P+1+32]=A[P+2+96]=vn(Se,Ce,Re),A[P+2+32]=A[P+3+96]=vn(Ce,Re,Ie),A[P+3+32]=vn(Re,Ie,Oe)}function p5(A,P){var K=A[P+0-32],ae=A[P+1-32],ye=A[P+2-32],Se=A[P+3-32],Ce=A[P+4-32],Re=A[P+5-32],Ie=A[P+6-32],Oe=A[P+7-32];A[P+0+0]=K+ae+1>>1,A[P+1+0]=A[P+0+64]=ae+ye+1>>1,A[P+2+0]=A[P+1+64]=ye+Se+1>>1,A[P+3+0]=A[P+2+64]=Se+Ce+1>>1,A[P+0+32]=vn(K,ae,ye),A[P+1+32]=A[P+0+96]=vn(ae,ye,Se),A[P+2+32]=A[P+1+96]=vn(ye,Se,Ce),A[P+3+32]=A[P+2+96]=vn(Se,Ce,Re),A[P+3+64]=vn(Ce,Re,Ie),A[P+3+96]=vn(Re,Ie,Oe)}function g0(A,P){var K=A[P-1+0],ae=A[P-1+32],ye=A[P-1+64],Se=A[P-1+96];A[P+0+0]=K+ae+1>>1,A[P+2+0]=A[P+0+32]=ae+ye+1>>1,A[P+2+32]=A[P+0+64]=ye+Se+1>>1,A[P+1+0]=vn(K,ae,ye),A[P+3+0]=A[P+1+32]=vn(ae,ye,Se),A[P+3+32]=A[P+1+64]=vn(ye,Se,Se),A[P+3+64]=A[P+2+64]=A[P+0+96]=A[P+1+96]=A[P+2+96]=A[P+3+96]=Se}function Y1(A,P){var K=A[P-1+0],ae=A[P-1+32],ye=A[P-1+64],Se=A[P-1+96],Ce=A[P-1-32],Re=A[P+0-32],Ie=A[P+1-32],Oe=A[P+2-32];A[P+0+0]=A[P+2+32]=K+Ce+1>>1,A[P+0+32]=A[P+2+64]=ae+K+1>>1,A[P+0+64]=A[P+2+96]=ye+ae+1>>1,A[P+0+96]=Se+ye+1>>1,A[P+3+0]=vn(Re,Ie,Oe),A[P+2+0]=vn(Ce,Re,Ie),A[P+1+0]=A[P+3+32]=vn(K,Ce,Re),A[P+1+32]=A[P+3+64]=vn(ae,K,Ce),A[P+1+64]=A[P+3+96]=vn(ye,ae,K),A[P+1+96]=vn(Se,ye,ae)}function oh(A,P){var K;for(K=0;8>K;++K)n(A,P+32*K,A,P-32,8)}function m5(A,P){var K;for(K=0;8>K;++K)i(A,P,A[P-1],8),P+=32}function uc(A,P,K){var ae;for(ae=0;8>ae;++ae)i(P,K+32*ae,A,8)}function g5(A,P){var K,ae=8;for(K=0;8>K;++K)ae+=A[P+K-32]+A[P-1+32*K];uc(ae>>4,A,P)}function Z1(A,P){var K,ae=4;for(K=0;8>K;++K)ae+=A[P+K-32];uc(ae>>3,A,P)}function J1(A,P){var K,ae=4;for(K=0;8>K;++K)ae+=A[P-1+32*K];uc(ae>>3,A,P)}function F2(A,P){uc(128,A,P)}function dc(A,P,K){var ae=A[P-K],ye=A[P+0],Se=3*(ye-ae)+v5[1020+A[P-2*K]-A[P+K]],Ce=H2[112+(Se+4>>3)];A[P-K]=bs[255+ae+H2[112+(Se+3>>3)]],A[P+0]=bs[255+ye-Ce]}function Q1(A,P,K,ae){var ye=A[P+0],Se=A[P+K];return ao[255+A[P-2*K]-A[P-K]]>ae||ao[255+Se-ye]>ae}function v0(A,P,K,ae){return 4*ao[255+A[P-K]-A[P+0]]+ao[255+A[P-2*K]-A[P+K]]<=ae}function $1(A,P,K,ae,ye){var Se=A[P-3*K],Ce=A[P-2*K],Re=A[P-K],Ie=A[P+0],Oe=A[P+K],Je=A[P+2*K],dt=A[P+3*K];return 4*ao[255+Re-Ie]+ao[255+Ce-Oe]>ae?0:ao[255+A[P-4*K]-Se]<=ye&&ao[255+Se-Ce]<=ye&&ao[255+Ce-Re]<=ye&&ao[255+dt-Je]<=ye&&ao[255+Je-Oe]<=ye&&ao[255+Oe-Ie]<=ye}function lh(A,P,K,ae){var ye=2*ae+1;for(ae=0;16>ae;++ae)v0(A,P+ae,K,ye)&&dc(A,P+ae,K)}function em(A,P,K,ae){var ye=2*ae+1;for(ae=0;16>ae;++ae)v0(A,P+ae*K,1,ye)&&dc(A,P+ae*K,1)}function L2(A,P,K,ae){var ye;for(ye=3;0<ye;--ye)lh(A,P+=4*K,K,ae)}function D2(A,P,K,ae){var ye;for(ye=3;0<ye;--ye)em(A,P+=4,K,ae)}function hc(A,P,K,ae,ye,Se,Ce,Re){for(Se=2*Se+1;0<ye--;){if($1(A,P,K,Se,Ce))if(Q1(A,P,K,Re))dc(A,P,K);else{var Ie=A,Oe=P,Je=K,dt=Ie[Oe-2*Je],je=Ie[Oe-Je],$e=Ie[Oe+0],st=Ie[Oe+Je],yt=Ie[Oe+2*Je],ct=27*(At=v5[1020+3*($e-je)+v5[1020+dt-st]])+63>>7,_t=18*At+63>>7,At=9*At+63>>7;Ie[Oe-3*Je]=bs[255+Ie[Oe-3*Je]+At],Ie[Oe-2*Je]=bs[255+dt+_t],Ie[Oe-Je]=bs[255+je+ct],Ie[Oe+0]=bs[255+$e-ct],Ie[Oe+Je]=bs[255+st-_t],Ie[Oe+2*Je]=bs[255+yt-At]}P+=ae}}function fc(A,P,K,ae,ye,Se,Ce,Re){for(Se=2*Se+1;0<ye--;){if($1(A,P,K,Se,Ce))if(Q1(A,P,K,Re))dc(A,P,K);else{var Ie=A,Oe=P,Je=K,dt=Ie[Oe-Je],je=Ie[Oe+0],$e=Ie[Oe+Je],st=H2[112+(4+(yt=3*(je-dt))>>3)],yt=H2[112+(yt+3>>3)],ct=st+1>>1;Ie[Oe-2*Je]=bs[255+Ie[Oe-2*Je]+ct],Ie[Oe-Je]=bs[255+dt+yt],Ie[Oe+0]=bs[255+je-st],Ie[Oe+Je]=bs[255+$e-ct]}P+=ae}}function B2(A,P,K,ae,ye,Se){hc(A,P,K,1,16,ae,ye,Se)}function ch(A,P,K,ae,ye,Se){hc(A,P,1,K,16,ae,ye,Se)}function O2(A,P,K,ae,ye,Se){var Ce;for(Ce=3;0<Ce;--Ce)fc(A,P+=4*K,K,1,16,ae,ye,Se)}function V(A,P,K,ae,ye,Se){var Ce;for(Ce=3;0<Ce;--Ce)fc(A,P+=4,1,K,16,ae,ye,Se)}function be(A,P,K,ae,ye,Se,Ce,Re){hc(A,P,ye,1,8,Se,Ce,Re),hc(K,ae,ye,1,8,Se,Ce,Re)}function qe(A,P,K,ae,ye,Se,Ce,Re){hc(A,P,1,ye,8,Se,Ce,Re),hc(K,ae,1,ye,8,Se,Ce,Re)}function Ye(A,P,K,ae,ye,Se,Ce,Re){fc(A,P+4*ye,ye,1,8,Se,Ce,Re),fc(K,ae+4*ye,ye,1,8,Se,Ce,Re)}function tt(A,P,K,ae,ye,Se,Ce,Re){fc(A,P+4,1,ye,8,Se,Ce,Re),fc(K,ae+4,1,ye,8,Se,Ce,Re)}function St(){this.ba=new he,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new G,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $t(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new ee}function pn(){this.xb=this.a=0,this.l=new Qi,this.ca=new he,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $t,this.ab=0,this.gc=s(4,Kt),this.Oc=0}function Tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xn(A,P,K,ae,ye,Se,Ce){for(A=A==null?0:A[P+0],P=0;P<Ce;++P)ye[Se+P]=A+K[ae+P]&255,A=ye[Se+P]}function Gr(A,P,K,ae,ye,Se,Ce){var Re;if(A==null)Xn(null,null,K,ae,ye,Se,Ce);else for(Re=0;Re<Ce;++Re)ye[Se+Re]=A[P+Re]+K[ae+Re]&255}function gi(A,P,K,ae,ye,Se,Ce){if(A==null)Xn(null,null,K,ae,ye,Se,Ce);else{var Re,Ie=A[P+0],Oe=Ie,Je=Ie;for(Re=0;Re<Ce;++Re)Oe=Je+(Ie=A[P+Re])-Oe,Je=K[ae+Re]+(-256&Oe?0>Oe?0:255:Oe)&255,Oe=Ie,ye[Se+Re]=Je}}function Nr(A,P,K,ae){var ye=P.width,Se=P.o;if(e(A!=null&&P!=null),0>K||0>=ae||K+ae>Se)return null;if(!A.Cc){if(A.ga==null){var Ce;if(A.ga=new Tn,(Ce=A.ga==null)||(Ce=P.width*P.o,e(A.Gb.length==0),A.Gb=a(Ce),A.Uc=0,A.Gb==null?Ce=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,Ce=1),Ce=!Ce),!Ce){Ce=A.ga;var Re=A.Fa,Ie=A.P,Oe=A.qc,Je=A.mb,dt=A.nb,je=Ie+1,$e=Oe-1,st=Ce.l;if(e(Re!=null&&Je!=null&&P!=null),Ou[0]=null,Ou[1]=Xn,Ou[2]=Gr,Ou[3]=gi,Ce.ca=Je,Ce.tb=dt,Ce.c=P.width,Ce.i=P.height,e(0<Ce.c&&0<Ce.i),1>=Oe)P=0;else if(Ce.$a=3&Re[Ie+0],Ce.Z=Re[Ie+0]>>2&3,Ce.Lc=Re[Ie+0]>>4&3,Ie=Re[Ie+0]>>6&3,0>Ce.$a||1<Ce.$a||4<=Ce.Z||1<Ce.Lc||Ie)P=0;else if(st.put=Te,st.ac=me,st.bc=Ne,st.ma=Ce,st.width=P.width,st.height=P.height,st.Da=P.Da,st.v=P.v,st.va=P.va,st.j=P.j,st.o=P.o,Ce.$a)e:{e(Ce.$a==1),P=Ct();t:for(;;){if(P==null){P=0;break e}if(e(Ce!=null),Ce.mc=P,P.c=Ce.c,P.i=Ce.i,P.l=Ce.l,P.l.ma=Ce,P.l.width=Ce.c,P.l.height=Ce.i,P.a=0,ue(P.m,Re,je,$e),!Bt(Ce.c,Ce.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&lt(P.s)?(Ce.ic=1,Re=P.c*P.i,P.Ta=null,P.Ua=0,P.V=a(Re),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(Ce.ic=0,P=Et(P,Ce.c)),!P))break t;P=1;break e}Ce.mc=null,P=0}else P=$e>=Ce.c*Ce.i;Ce=!P}if(Ce)return null;A.ga.Lc!=1?A.Ga=0:ae=Se-K}e(A.ga!=null),e(K+ae<=Se);e:{if(P=(Re=A.ga).c,Se=Re.l.o,Re.$a==0){if(je=A.rc,$e=A.Vc,st=A.Fa,Ie=A.P+1+K*P,Oe=A.mb,Je=A.nb+K*P,e(Ie<=A.P+A.qc),Re.Z!=0)for(e(Ou[Re.Z]!=null),Ce=0;Ce<ae;++Ce)Ou[Re.Z](je,$e,st,Ie,Oe,Je,P),je=Oe,$e=Je,Je+=P,Ie+=P;else for(Ce=0;Ce<ae;++Ce)n(Oe,Je,st,Ie,P),je=Oe,$e=Je,Je+=P,Ie+=P;A.rc=je,A.Vc=$e}else{if(e(Re.mc!=null),P=K+ae,e((Ce=Re.mc)!=null),e(P<=Ce.i),Ce.C>=P)P=1;else if(Re.ic||Uo(),Re.ic){Re=Ce.V,je=Ce.Ba,$e=Ce.c;var yt=Ce.i,ct=(st=1,Ie=Ce.$/$e,Oe=Ce.$%$e,Je=Ce.m,dt=Ce.s,Ce.$),_t=$e*yt,At=$e*P,Pt=dt.wc,It=ct<At?at(dt,Oe,Ie):null;e(ct<=_t),e(P<=yt),e(lt(dt));t:for(;;){for(;!Je.h&&ct<At;){if(Oe&Pt||(It=at(dt,Oe,Ie)),e(It!=null),ie(Je),256>(yt=Ze(It.G[0],It.H[0],Je)))Re[je+ct]=yt,++ct,++Oe>=$e&&(Oe=0,++Ie<=P&&!(Ie%16)&&et(Ce,Ie));else{if(!(280>yt)){st=0;break t}yt=Fe(yt-256,Je);var tn,Wt=Ze(It.G[4],It.H[4],Je);if(ie(Je),!(ct>=(Wt=ze($e,Wt=Fe(Wt,Je)))&&_t-ct>=yt)){st=0;break t}for(tn=0;tn<yt;++tn)Re[je+ct+tn]=Re[je+ct+tn-Wt];for(ct+=yt,Oe+=yt;Oe>=$e;)Oe-=$e,++Ie<=P&&!(Ie%16)&&et(Ce,Ie);ct<At&&Oe&Pt&&(It=at(dt,Oe,Ie))}e(Je.h==X(Je))}et(Ce,Ie>P?P:Ie);break t}!st||Je.h&&ct<_t?(st=0,Ce.a=Je.h?5:3):Ce.$=ct,P=st}else P=kt(Ce,Ce.V,Ce.Ba,Ce.c,Ce.i,P,Gt);if(!P){ae=0;break e}}K+ae>=Se&&(A.Cc=1),ae=1}if(!ae)return null;if(A.Cc&&((ae=A.ga)!=null&&(ae.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+K*ye}function ki(A,P,K,ae,ye,Se){for(;0<ye--;){var Ce,Re=A,Ie=P+(K?1:0),Oe=A,Je=P+(K?0:3);for(Ce=0;Ce<ae;++Ce){var dt=Oe[Je+4*Ce];dt!=255&&(dt*=32897,Re[Ie+4*Ce+0]=Re[Ie+4*Ce+0]*dt>>23,Re[Ie+4*Ce+1]=Re[Ie+4*Ce+1]*dt>>23,Re[Ie+4*Ce+2]=Re[Ie+4*Ce+2]*dt>>23)}P+=Se}}function vi(A,P,K,ae,ye){for(;0<ae--;){var Se;for(Se=0;Se<K;++Se){var Ce=A[P+2*Se+0],Re=15&(Oe=A[P+2*Se+1]),Ie=4369*Re,Oe=(240&Oe|Oe>>4)*Ie>>16;A[P+2*Se+0]=(240&Ce|Ce>>4)*Ie>>16&240|(15&Ce|Ce<<4)*Ie>>16>>4&15,A[P+2*Se+1]=240&Oe|Re}P+=ye}}function $i(A,P,K,ae,ye,Se,Ce,Re){var Ie,Oe,Je=255;for(Oe=0;Oe<ye;++Oe){for(Ie=0;Ie<ae;++Ie){var dt=A[P+Ie];Se[Ce+4*Ie]=dt,Je&=dt}P+=K,Ce+=Re}return Je!=255}function pc(A,P,K,ae,ye){var Se;for(Se=0;Se<ye;++Se)K[ae+Se]=A[P+Se]>>8}function Uo(){hm=ki,YS=vi,ZS=$i,JS=pc}function mc(A,P,K){H[A]=function(ae,ye,Se,Ce,Re,Ie,Oe,Je,dt,je,$e,st,yt,ct,_t,At,Pt){var It,tn=Pt-1>>1,Wt=Re[Ie+0]|Oe[Je+0]<<16,Rn=dt[je+0]|$e[st+0]<<16;e(ae!=null);var Zt=3*Wt+Rn+131074>>2;for(P(ae[ye+0],255&Zt,Zt>>16,yt,ct),Se!=null&&(Zt=3*Rn+Wt+131074>>2,P(Se[Ce+0],255&Zt,Zt>>16,_t,At)),It=1;It<=tn;++It){var Un=Re[Ie+It]|Oe[Je+It]<<16,Ci=dt[je+It]|$e[st+It]<<16,In=Wt+Un+Rn+Ci+524296,Jt=In+2*(Un+Rn)>>3;Zt=Jt+Wt>>1,Wt=(In=In+2*(Wt+Ci)>>3)+Un>>1,P(ae[ye+2*It-1],255&Zt,Zt>>16,yt,ct+(2*It-1)*K),P(ae[ye+2*It-0],255&Wt,Wt>>16,yt,ct+(2*It-0)*K),Se!=null&&(Zt=In+Rn>>1,Wt=Jt+Ci>>1,P(Se[Ce+2*It-1],255&Zt,Zt>>16,_t,At+(2*It-1)*K),P(Se[Ce+2*It+0],255&Wt,Wt>>16,_t,At+(2*It+0)*K)),Wt=Un,Rn=Ci}1&Pt||(Zt=3*Wt+Rn+131074>>2,P(ae[ye+Pt-1],255&Zt,Zt>>16,yt,ct+(Pt-1)*K),Se!=null&&(Zt=3*Rn+Wt+131074>>2,P(Se[Ce+Pt-1],255&Zt,Zt>>16,_t,At+(Pt-1)*K)))}}function tm(){so[z2]=NM,so[V2]=lA,so[rA]=RM,so[G2]=cA,so[W2]=uA,so[b5]=dA,so[iA]=IM,so[y5]=lA,so[x5]=cA,so[X2]=uA,so[w5]=dA}function b0(A){return A&-16384?0>A?0:255:A>>MM}function Tu(A,P){return b0((19077*A>>8)+(26149*P>>8)-14234)}function uh(A,P,K){return b0((19077*A>>8)-(6419*P>>8)-(13320*K>>8)+8708)}function dh(A,P){return b0((19077*A>>8)+(33050*P>>8)-17685)}function Nu(A,P,K,ae,ye){ae[ye+0]=Tu(A,K),ae[ye+1]=uh(A,P,K),ae[ye+2]=dh(A,P)}function ea(A,P,K,ae,ye){ae[ye+0]=dh(A,P),ae[ye+1]=uh(A,P,K),ae[ye+2]=Tu(A,K)}function hh(A,P,K,ae,ye){var Se=uh(A,P,K);P=Se<<3&224|dh(A,P)>>3,ae[ye+0]=248&Tu(A,K)|Se>>5,ae[ye+1]=P}function fh(A,P,K,ae,ye){var Se=240&dh(A,P)|15;ae[ye+0]=240&Tu(A,K)|uh(A,P,K)>>4,ae[ye+1]=Se}function nm(A,P,K,ae,ye){ae[ye+0]=255,Nu(A,P,K,ae,ye+1)}function rm(A,P,K,ae,ye){ea(A,P,K,ae,ye),ae[ye+3]=255}function Ba(A,P,K,ae,ye){Nu(A,P,K,ae,ye),ae[ye+3]=255}function gc(A,P,K){H[A]=function(ae,ye,Se,Ce,Re,Ie,Oe,Je,dt){for(var je=Je+(-2&dt)*K;Je!=je;)P(ae[ye+0],Se[Ce+0],Re[Ie+0],Oe,Je),P(ae[ye+1],Se[Ce+0],Re[Ie+0],Oe,Je+K),ye+=2,++Ce,++Ie,Je+=2*K;1&dt&&P(ae[ye+0],Se[Ce+0],Re[Ie+0],Oe,Je)}}function y0(A,P,K){return K==0?A==0?P==0?6:5:P==0?4:0:K}function j2(A,P,K,ae,ye){switch(A>>>30){case 3:vh(P,K,ae,ye,0);break;case 2:io(P,K,ae,ye);break;case 1:ar(P,K,ae,ye)}}function ro(A,P){var K,ae,ye=P.M,Se=P.Nb,Ce=A.oc,Re=A.pc+40,Ie=A.oc,Oe=A.pc+584,Je=A.oc,dt=A.pc+600;for(K=0;16>K;++K)Ce[Re+32*K-1]=129;for(K=0;8>K;++K)Ie[Oe+32*K-1]=129,Je[dt+32*K-1]=129;for(0<ye?Ce[Re-1-32]=Ie[Oe-1-32]=Je[dt-1-32]=129:(i(Ce,Re-32-1,127,21),i(Ie,Oe-32-1,127,9),i(Je,dt-32-1,127,9)),ae=0;ae<A.za;++ae){var je=P.ya[P.aa+ae];if(0<ae){for(K=-1;16>K;++K)n(Ce,Re+32*K-4,Ce,Re+32*K+12,4);for(K=-1;8>K;++K)n(Ie,Oe+32*K-4,Ie,Oe+32*K+4,4),n(Je,dt+32*K-4,Je,dt+32*K+4,4)}var $e=A.Gd,st=A.Hd+ae,yt=je.ad,ct=je.Hc;if(0<ye&&(n(Ce,Re-32,$e[st].y,0,16),n(Ie,Oe-32,$e[st].f,0,8),n(Je,dt-32,$e[st].ea,0,8)),je.Za){var _t=Ce,At=Re-32+16;for(0<ye&&(ae>=A.za-1?i(_t,At,$e[st].y[15],4):n(_t,At,$e[st+1].y,0,4)),K=0;4>K;K++)_t[At+128+K]=_t[At+256+K]=_t[At+384+K]=_t[At+0+K];for(K=0;16>K;++K,ct<<=2)_t=Ce,At=Re+fA[K],qo[je.Ob[K]](_t,At),j2(ct,yt,16*+K,_t,At)}else if(_t=y0(ae,ye,je.Ob[0]),Bu[_t](Ce,Re),ct!=0)for(K=0;16>K;++K,ct<<=2)j2(ct,yt,16*+K,Ce,Re+fA[K]);for(K=je.Gc,_t=y0(ae,ye,je.Dd),yc[_t](Ie,Oe),yc[_t](Je,dt),ct=yt,_t=Ie,At=Oe,255&(je=0|K)&&(170&je?_l(ct,256,_t,At):_r(ct,256,_t,At)),je=Je,ct=dt,255&(K>>=8)&&(170&K?_l(yt,320,je,ct):_r(yt,320,je,ct)),ye<A.Ub-1&&(n($e[st].y,0,Ce,Re+480,16),n($e[st].f,0,Ie,Oe+224,8),n($e[st].ea,0,Je,dt+224,8)),K=8*Se*A.B,$e=A.sa,st=A.ta+16*ae+16*Se*A.R,yt=A.qa,je=A.ra+8*ae+K,ct=A.Ha,_t=A.Ia+8*ae+K,K=0;16>K;++K)n($e,st+K*A.R,Ce,Re+32*K,16);for(K=0;8>K;++K)n(yt,je+K*A.B,Ie,Oe+32*K,8),n(ct,_t+K*A.B,Je,dt+32*K,8)}}function ph(A,P,K,ae,ye,Se,Ce,Re,Ie){var Oe=[0],Je=[0],dt=0,je=Ie!=null?Ie.kd:0,$e=Ie??new Rt;if(A==null||12>K)return 7;$e.data=A,$e.w=P,$e.ha=K,P=[P],K=[K],$e.gb=[$e.gb];e:{var st=P,yt=K,ct=$e.gb;if(e(A!=null),e(yt!=null),e(ct!=null),ct[0]=0,12<=yt[0]&&!t(A,st[0],"RIFF")){if(t(A,st[0]+8,"WEBP")){ct=3;break e}var _t=it(A,st[0]+4);if(12>_t||4294967286<_t){ct=3;break e}if(je&&_t>yt[0]-8){ct=7;break e}ct[0]=_t,st[0]+=12,yt[0]-=12}ct=0}if(ct!=0)return ct;for(_t=0<$e.gb[0],K=K[0];;){e:{var At=A;yt=P,ct=K;var Pt=Oe,It=Je,tn=st=[0];if((Zt=dt=[dt])[0]=0,8>ct[0])ct=7;else{if(!t(At,yt[0],"VP8X")){if(it(At,yt[0]+4)!=10){ct=3;break e}if(18>ct[0]){ct=7;break e}var Wt=it(At,yt[0]+8),Rn=1+We(At,yt[0]+12);if(2147483648<=Rn*(At=1+We(At,yt[0]+15))){ct=3;break e}tn!=null&&(tn[0]=Wt),Pt!=null&&(Pt[0]=Rn),It!=null&&(It[0]=At),yt[0]+=18,ct[0]-=18,Zt[0]=1}ct=0}}if(dt=dt[0],st=st[0],ct!=0)return ct;if(yt=!!(2&st),!_t&&dt)return 3;if(Se!=null&&(Se[0]=!!(16&st)),Ce!=null&&(Ce[0]=yt),Re!=null&&(Re[0]=0),Ce=Oe[0],st=Je[0],dt&&yt&&Ie==null){ct=0;break}if(4>K){ct=7;break}if(_t&&dt||!_t&&!dt&&!t(A,P[0],"ALPH")){K=[K],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Wt=A,ct=P,_t=K;var Zt=$e.gb;Pt=$e.na,It=$e.P,tn=$e.Sa,Rn=22,e(Wt!=null),e(_t!=null),At=ct[0];var Un=_t[0];for(e(Pt!=null),e(tn!=null),Pt[0]=null,It[0]=null,tn[0]=0;;){if(ct[0]=At,_t[0]=Un,8>Un){ct=7;break e}var Ci=it(Wt,At+4);if(4294967286<Ci){ct=3;break e}var In=8+Ci+1&-2;if(Rn+=In,0<Zt&&Rn>Zt){ct=3;break e}if(!t(Wt,At,"VP8 ")||!t(Wt,At,"VP8L")){ct=0;break e}if(Un[0]<In){ct=7;break e}t(Wt,At,"ALPH")||(Pt[0]=Wt,It[0]=At+8,tn[0]=Ci),At+=In,Un-=In}}if(K=K[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],ct!=0)break}K=[K],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(Zt=A,ct=P,_t=K,Pt=$e.gb[0],It=$e.Ja,tn=$e.xa,Wt=ct[0],At=!t(Zt,Wt,"VP8 "),Rn=!t(Zt,Wt,"VP8L"),e(Zt!=null),e(_t!=null),e(It!=null),e(tn!=null),8>_t[0])ct=7;else{if(At||Rn){if(Zt=it(Zt,Wt+4),12<=Pt&&Zt>Pt-12){ct=3;break e}if(je&&Zt>_t[0]-8){ct=7;break e}It[0]=Zt,ct[0]+=8,_t[0]-=8,tn[0]=Rn}else tn[0]=5<=_t[0]&&Zt[Wt+0]==47&&!(Zt[Wt+4]>>5),It[0]=_t[0];ct=0}if(K=K[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],P=P[0],ct!=0)break;if(4294967286<$e.Ja)return 3;if(Re==null||yt||(Re[0]=$e.xa?2:1),Ce=[Ce],st=[st],$e.xa){if(5>K){ct=7;break}Re=Ce,je=st,yt=Se,A==null||5>K?A=0:5<=K&&A[P+0]==47&&!(A[P+4]>>5)?(_t=[0],Zt=[0],Pt=[0],ue(It=new I,A,P,K),Pe(It,_t,Zt,Pt)?(Re!=null&&(Re[0]=_t[0]),je!=null&&(je[0]=Zt[0]),yt!=null&&(yt[0]=Pt[0]),A=1):A=0):A=0}else{if(10>K){ct=7;break}Re=st,A==null||10>K||!sh(A,P+3,K-3)?A=0:(je=A[P+0]|A[P+1]<<8|A[P+2]<<16,yt=16383&(A[P+7]<<8|A[P+6]),A=16383&(A[P+9]<<8|A[P+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=$e.Ja||!yt||!A?A=0:(Ce&&(Ce[0]=yt),Re&&(Re[0]=A),A=1))}if(!A||(Ce=Ce[0],st=st[0],dt&&(Oe[0]!=Ce||Je[0]!=st)))return 3;Ie!=null&&(Ie[0]=$e,Ie.offset=P-Ie.w,e(4294967286>P-Ie.w),e(Ie.offset==Ie.ha-K));break}return ct==0||ct==7&&dt&&Ie==null?(Se!=null&&(Se[0]|=$e.na!=null&&0<$e.na.length),ae!=null&&(ae[0]=Ce),ye!=null&&(ye[0]=st),0):ct}function im(A,P,K){var ae=P.width,ye=P.height,Se=0,Ce=0,Re=ae,Ie=ye;if(P.Da=A!=null&&0<A.Da,P.Da&&(Re=A.cd,Ie=A.bd,Se=A.v,Ce=A.j,11>K||(Se&=-2,Ce&=-2),0>Se||0>Ce||0>=Re||0>=Ie||Se+Re>ae||Ce+Ie>ye))return 0;if(P.v=Se,P.j=Ce,P.va=Se+Re,P.o=Ce+Ie,P.U=Re,P.T=Ie,P.da=A!=null&&0<A.da,P.da){if(!Z(Re,Ie,K=[A.ib],Se=[A.hb]))return 0;P.ib=K[0],P.hb=Se[0]}return P.ob=A!=null&&A.ob,P.Kb=A==null||!A.Sd,P.da&&(P.ob=P.ib<3*ae/4&&P.hb<3*ye/4,P.Kb=0),1}function am(A){if(A==null)return 2;if(11>A.S){var P=A.f.RGBA;P.fb+=(A.height-1)*P.A,P.A=-P.A}else P=A.f.kb,A=A.height,P.O+=(A-1)*P.fa,P.fa=-P.fa,P.N+=(A-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(A-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(A-1)*P.lb,P.lb=-P.lb);return 0}function Ru(A,P,K,ae){if(ae==null||0>=A||0>=P)return 2;if(K!=null){if(K.Da){var ye=K.cd,Se=K.bd,Ce=-2&K.v,Re=-2&K.j;if(0>Ce||0>Re||0>=ye||0>=Se||Ce+ye>A||Re+Se>P)return 2;A=ye,P=Se}if(K.da){if(!Z(A,P,ye=[K.ib],Se=[K.hb]))return 2;A=ye[0],P=Se[0]}}ae.width=A,ae.height=P;e:{var Ie=ae.width,Oe=ae.height;if(A=ae.S,0>=Ie||0>=Oe||!(A>=z2&&13>A))A=2;else{if(0>=ae.Rd&&ae.sd==null){Ce=Se=ye=P=0;var Je=(Re=Ie*pA[A])*Oe;if(11>A||(Se=(Oe+1)/2*(P=(Ie+1)/2),A==12&&(Ce=(ye=Ie)*Oe)),(Oe=a(Je+2*Se+Ce))==null){A=1;break e}ae.sd=Oe,11>A?((Ie=ae.f.RGBA).eb=Oe,Ie.fb=0,Ie.A=Re,Ie.size=Je):((Ie=ae.f.kb).y=Oe,Ie.O=0,Ie.fa=Re,Ie.Fd=Je,Ie.f=Oe,Ie.N=0+Je,Ie.Ab=P,Ie.Cd=Se,Ie.ea=Oe,Ie.W=0+Je+Se,Ie.Db=P,Ie.Ed=Se,A==12&&(Ie.F=Oe,Ie.J=0+Je+2*Se),Ie.Tc=Ce,Ie.lb=ye)}if(P=1,ye=ae.S,Se=ae.width,Ce=ae.height,ye>=z2&&13>ye)if(11>ye)A=ae.f.RGBA,P&=(Re=Math.abs(A.A))*(Ce-1)+Se<=A.size,P&=Re>=Se*pA[ye],P&=A.eb!=null;else{A=ae.f.kb,Re=(Se+1)/2,Je=(Ce+1)/2,Ie=Math.abs(A.fa),Oe=Math.abs(A.Ab);var dt=Math.abs(A.Db),je=Math.abs(A.lb),$e=je*(Ce-1)+Se;P&=Ie*(Ce-1)+Se<=A.Fd,P&=Oe*(Je-1)+Re<=A.Cd,P=(P&=dt*(Je-1)+Re<=A.Ed)&Ie>=Se&Oe>=Re&dt>=Re,P&=A.y!=null,P&=A.f!=null,P&=A.ea!=null,ye==12&&(P&=je>=Se,P&=$e<=A.Tc,P&=A.F!=null)}else P=0;A=P?0:2}}return A!=0||K!=null&&K.fd&&(A=am(ae)),A}var mh=64,gs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vs=24,Iu=32,vc=8,Mu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(A){return A},H.Predictor2=function(A,P,K){return P[K+0]},H.Predictor3=function(A,P,K){return P[K+1]},H.Predictor4=function(A,P,K){return P[K-1]},H.Predictor5=function(A,P,K){return mt(mt(A,P[K+1]),P[K+0])},H.Predictor6=function(A,P,K){return mt(A,P[K-1])},H.Predictor7=function(A,P,K){return mt(A,P[K+0])},H.Predictor8=function(A,P,K){return mt(P[K-1],P[K+0])},H.Predictor9=function(A,P,K){return mt(P[K+0],P[K+1])},H.Predictor10=function(A,P,K){return mt(mt(A,P[K-1]),mt(P[K+0],P[K+1]))},H.Predictor11=function(A,P,K){var ae=P[K+0];return 0>=Tt(ae>>24&255,A>>24&255,(P=P[K-1])>>24&255)+Tt(ae>>16&255,A>>16&255,P>>16&255)+Tt(ae>>8&255,A>>8&255,P>>8&255)+Tt(255&ae,255&A,255&P)?ae:A},H.Predictor12=function(A,P,K){var ae=P[K+0];return(wt((A>>24&255)+(ae>>24&255)-((P=P[K-1])>>24&255))<<24|wt((A>>16&255)+(ae>>16&255)-(P>>16&255))<<16|wt((A>>8&255)+(ae>>8&255)-(P>>8&255))<<8|wt((255&A)+(255&ae)-(255&P)))>>>0},H.Predictor13=function(A,P,K){var ae=P[K-1];return(ft((A=mt(A,P[K+0]))>>24&255,ae>>24&255)<<24|ft(A>>16&255,ae>>16&255)<<16|ft(A>>8&255,ae>>8&255)<<8|ft(255&A,255&ae))>>>0};var sm=H.PredictorAdd0;H.PredictorAdd1=De,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var x0=H.PredictorAdd2;N("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),N("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var oi,U2=H.ColorIndexInverseTransform,xl=H.MapARGB,wl=H.VP8LColorIndexInverseTransformAlpha,om=H.MapAlpha,lm=H.VP8LPredictorsAdd=[];lm.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var cm,um,Pu,Fu,Lu,gh,Du,vh,io,_l,ar,_r,li,Ei,bc,dm,w0,q2,zS,VS,GS,WS,XS,KS,hm,YS,ZS,JS,QS=a(511),$S=a(2041),eA=a(225),tA=a(767),nA=0,v5=$S,H2=eA,bs=tA,ao=QS,z2=0,V2=1,rA=2,G2=3,W2=4,b5=5,iA=6,y5=7,x5=8,X2=9,w5=10,mM=[2,3,7],gM=[3,3,11],aA=[280,256,256,256,40],vM=[0,1,1,1,0],bM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wM=8,_5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fm=null,_M=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],SM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],AM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],CM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bu=[],qo=[],yc=[],TM=1,oA=2,Ou=[],so=[];mc("UpsampleRgbLinePair",Nu,3),mc("UpsampleBgrLinePair",ea,3),mc("UpsampleRgbaLinePair",Ba,4),mc("UpsampleBgraLinePair",rm,4),mc("UpsampleArgbLinePair",nm,4),mc("UpsampleRgba4444LinePair",fh,2),mc("UpsampleRgb565LinePair",hh,2);var NM=H.UpsampleRgbLinePair,RM=H.UpsampleBgrLinePair,lA=H.UpsampleRgbaLinePair,cA=H.UpsampleBgraLinePair,uA=H.UpsampleArgbLinePair,dA=H.UpsampleRgba4444LinePair,IM=H.UpsampleRgb565LinePair,K2=16,Y2=1<<K2-1,pm=-227,A5=482,MM=6,hA=0,PM=a(256),FM=a(256),LM=a(256),DM=a(256),BM=a(A5-pm),OM=a(A5-pm);gc("YuvToRgbRow",Nu,3),gc("YuvToBgrRow",ea,3),gc("YuvToRgbaRow",Ba,4),gc("YuvToBgraRow",rm,4),gc("YuvToArgbRow",nm,4),gc("YuvToRgba4444Row",fh,2),gc("YuvToRgb565Row",hh,2);var fA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Z2=[0,2,8],jM=[8,7,6,4,4,2,2,2,1,1,1,1],UM=1;this.WebPDecodeRGBA=function(A,P,K,ae,ye){var Se=V2,Ce=new St,Re=new he;Ce.ba=Re,Re.S=Se,Re.width=[Re.width],Re.height=[Re.height];var Ie=Re.width,Oe=Re.height,Je=new k;if(Je==null||A==null)var dt=2;else e(Je!=null),dt=ph(A,P,K,Je.width,Je.height,Je.Pd,Je.Qd,Je.format,null);if(dt!=0?Ie=0:(Ie!=null&&(Ie[0]=Je.width[0]),Oe!=null&&(Oe[0]=Je.height[0]),Ie=1),Ie){Re.width=Re.width[0],Re.height=Re.height[0],ae!=null&&(ae[0]=Re.width),ye!=null&&(ye[0]=Re.height);e:{if(ae=new Qi,(ye=new Rt).data=A,ye.w=P,ye.ha=K,ye.kd=1,P=[0],e(ye!=null),((A=ph(ye.data,ye.w,ye.ha,null,null,null,P,null,ye))==0||A==7)&&P[0]&&(A=4),(P=A)==0){if(e(Ce!=null),ae.data=ye.data,ae.w=ye.w+ye.offset,ae.ha=ye.ha-ye.offset,ae.put=Te,ae.ac=me,ae.bc=Ne,ae.ma=Ce,ye.xa){if((A=Ct())==null){Ce=1;break e}if((function(je,$e){var st=[0],yt=[0],ct=[0];t:for(;;){if(je==null)return 0;if($e==null)return je.a=2,0;if(je.l=$e,je.a=0,ue(je.m,$e.data,$e.w,$e.ha),!Pe(je.m,st,yt,ct)){je.a=3;break t}if(je.xb=oA,$e.width=st[0],$e.height=yt[0],!Bt(st[0],yt[0],1,je,null))break t;return 1}return e(je.a!=0),0})(A,ae)){if(ae=(P=Ru(ae.width,ae.height,Ce.Oa,Ce.ba))==0){t:{ae=A;n:for(;;){if(ae==null){ae=0;break t}if(e(ae.s.yc!=null),e(ae.s.Ya!=null),e(0<ae.s.Wb),e((K=ae.l)!=null),e((ye=K.ma)!=null),ae.xb!=0){if(ae.ca=ye.ba,ae.tb=ye.tb,e(ae.ca!=null),!im(ye.Oa,K,G2)){ae.a=2;break n}if(!Et(ae,K.width)||K.da)break n;if((K.da||Xe(ae.ca.S))&&Uo(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&Uo()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!xe(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break n}ae.xb=0}if(!kt(ae,ae.V,ae.Ba,ae.c,ae.i,K.o,vt))break n;ye.Dc=ae.Ma,ae=1;break t}e(ae.a!=0),ae=0}ae=!ae}ae&&(P=A.a)}else P=A.a}else{if((A=new vl)==null){Ce=1;break e}if(A.Fa=ye.na,A.P=ye.P,A.qc=ye.Sa,fs(A,ae)){if((P=Ru(ae.width,ae.height,Ce.Oa,Ce.ba))==0){if(A.Aa=0,K=Ce.Oa,e((ye=A)!=null),K!=null){if(0<(Ie=0>(Ie=K.Md)?0:100<Ie?255:255*Ie/100)){for(Oe=Je=0;4>Oe;++Oe)12>(dt=ye.pb[Oe]).lc&&(dt.ia=Ie*jM[0>dt.lc?0:dt.lc]>>3),Je|=dt.ia;Je&&(alert("todo:VP8InitRandom"),ye.ia=1)}ye.Ga=K.Id,100<ye.Ga?ye.Ga=100:0>ye.Ga&&(ye.Ga=0)}(function(je,$e){if(je==null)return 0;if($e==null)return Or(je,2,"NULL VP8Io parameter in VP8Decode().");if(!je.cb&&!fs(je,$e))return 0;if(e(je.cb),$e.ac==null||$e.ac($e)){$e.ob&&(je.L=0);var st=Z2[je.L];if(je.L==2?(je.yb=0,je.zb=0):(je.yb=$e.v-st>>4,je.zb=$e.j-st>>4,0>je.yb&&(je.yb=0),0>je.zb&&(je.zb=0)),je.Va=$e.o+15+st>>4,je.Hb=$e.va+15+st>>4,je.Hb>je.za&&(je.Hb=je.za),je.Va>je.Ub&&(je.Va=je.Ub),0<je.L){var yt=je.ed;for(st=0;4>st;++st){var ct;if(je.Qa.Cb){var _t=je.Qa.Lb[st];je.Qa.Fb||(_t+=yt.Tb)}else _t=yt.Tb;for(ct=0;1>=ct;++ct){var At=je.gd[st][ct],Pt=_t;if(yt.Pc&&(Pt+=yt.vd[0],ct&&(Pt+=yt.od[0])),0<(Pt=0>Pt?0:63<Pt?63:Pt)){var It=Pt;0<yt.wb&&(It=4<yt.wb?It>>2:It>>1)>9-yt.wb&&(It=9-yt.wb),1>It&&(It=1),At.dd=It,At.tc=2*Pt+It,At.ld=40<=Pt?2:15<=Pt?1:0}else At.tc=0;At.La=ct}}}st=0}else Or(je,6,"Frame setup failed"),st=je.a;if(st=st==0){if(st){je.$c=0,0<je.Aa||(je.Ic=UM);t:{st=je.Ic,yt=4*(It=je.za);var tn=32*It,Wt=It+1,Rn=0<je.L?It*(0<je.Aa?2:1):0,Zt=(je.Aa==2?2:1)*It;if((At=yt+832+(ct=3*(16*st+Z2[je.L])/2*tn)+(_t=je.Fa!=null&&0<je.Fa.length?je.Kc.c*je.Kc.i:0))!=At)st=0;else{if(At>je.Vb){if(je.Vb=0,je.Ec=a(At),je.Fc=0,je.Ec==null){st=Or(je,1,"no memory during frame initialization.");break t}je.Vb=At}At=je.Ec,Pt=je.Fc,je.Ac=At,je.Bc=Pt,Pt+=yt,je.Gd=s(tn,ba),je.Hd=0,je.rb=s(Wt+1,er),je.sb=1,je.wa=Rn?s(Rn,Vn):null,je.Y=0,je.D.Nb=0,je.D.wa=je.wa,je.D.Y=je.Y,0<je.Aa&&(je.D.Y+=It),e(!0),je.oc=At,je.pc=Pt,Pt+=832,je.ya=s(Zt,Ai),je.aa=0,je.D.ya=je.ya,je.D.aa=je.aa,je.Aa==2&&(je.D.aa+=It),je.R=16*It,je.B=8*It,It=(tn=Z2[je.L])*je.R,tn=tn/2*je.B,je.sa=At,je.ta=Pt+It,je.qa=je.sa,je.ra=je.ta+16*st*je.R+tn,je.Ha=je.qa,je.Ia=je.ra+8*st*je.B+tn,je.$c=0,Pt+=ct,je.mb=_t?At:null,je.nb=_t?Pt:null,e(Pt+_t<=je.Fc+je.Vb),lr(je),i(je.Ac,je.Bc,0,yt),st=1}}if(st){if($e.ka=0,$e.y=je.sa,$e.O=je.ta,$e.f=je.qa,$e.N=je.ra,$e.ea=je.Ha,$e.Vd=je.Ia,$e.fa=je.R,$e.Rc=je.B,$e.F=null,$e.J=0,!nA){for(st=-255;255>=st;++st)QS[255+st]=0>st?-st:st;for(st=-1020;1020>=st;++st)$S[1020+st]=-128>st?-128:127<st?127:st;for(st=-112;112>=st;++st)eA[112+st]=-16>st?-16:15<st?15:st;for(st=-255;510>=st;++st)tA[255+st]=0>st?0:255<st?255:st;nA=1}Du=bl,vh=ic,_l=to,ar=jr,_r=Eu,io=m0,li=B2,Ei=ch,bc=be,dm=qe,w0=O2,q2=V,zS=Ye,VS=tt,GS=lh,WS=em,XS=L2,KS=D2,qo[0]=h5,qo[1]=Hi,qo[2]=u5,qo[3]=d5,qo[4]=lc,qo[5]=f5,qo[6]=cc,qo[7]=p5,qo[8]=Y1,qo[9]=g0,Bu[0]=oc,Bu[1]=jo,Bu[2]=sc,Bu[3]=no,Bu[4]=ms,Bu[5]=yl,Bu[6]=Cu,yc[0]=g5,yc[1]=ac,yc[2]=oh,yc[3]=m5,yc[4]=J1,yc[5]=Z1,yc[6]=F2,st=1}else st=0}st&&(st=(function(Un,Ci){for(Un.M=0;Un.M<Un.Va;++Un.M){var In,Jt=Un.Jc[Un.M&Un.Xb],Ot=Un.m,ci=Un;for(In=0;In<ci.za;++In){var _n=Ot,Gn=ci,Fr=Gn.Ac,ta=Gn.Bc+4*In,Oa=Gn.zc,Jr=Gn.ya[Gn.aa+In];if(Gn.Qa.Bb?Jr.$b=Ee(_n,Gn.Pa.jb[0])?2+Ee(_n,Gn.Pa.jb[2]):Ee(_n,Gn.Pa.jb[1]):Jr.$b=0,Gn.kc&&(Jr.Ad=Ee(_n,Gn.Bd)),Jr.Za=!Ee(_n,145)+0,Jr.Za){var xa=Jr.Ob,ja=0;for(Gn=0;4>Gn;++Gn){var Ti,Kn=Oa[0+Gn];for(Ti=0;4>Ti;++Ti){Kn=kM[Fr[ta+Ti]][Kn];for(var cr=sA[Ee(_n,Kn[0])];0<cr;)cr=sA[2*cr+Ee(_n,Kn[cr])];Kn=-cr,Fr[ta+Ti]=Kn}n(xa,ja,Fr,ta,4),ja+=4,Oa[0+Gn]=Kn}}else Kn=Ee(_n,156)?Ee(_n,128)?1:3:Ee(_n,163)?2:0,Jr.Ob[0]=Kn,i(Fr,ta,Kn,4),i(Oa,0,Kn,4);Jr.Dd=Ee(_n,142)?Ee(_n,114)?Ee(_n,183)?1:3:2:0}if(ci.m.Ka)return Or(Un,7,"Premature end-of-partition0 encountered.");for(;Un.ja<Un.za;++Un.ja){if(ci=Jt,_n=(Ot=Un).rb[Ot.sb-1],Fr=Ot.rb[Ot.sb+Ot.ja],In=Ot.ya[Ot.aa+Ot.ja],ta=Ot.kc?In.Ad:0)_n.la=Fr.la=0,In.Za||(_n.Na=Fr.Na=0),In.Hc=0,In.Gc=0,In.ia=0;else{var Qr,ur;if(_n=Fr,Fr=ci,ta=Ot.Pa.Xc,Oa=Ot.ya[Ot.aa+Ot.ja],Jr=Ot.pb[Oa.$b],Gn=Oa.ad,xa=0,ja=Ot.rb[Ot.sb-1],Kn=Ti=0,i(Gn,xa,0,384),Oa.Za)var na=0,Ho=ta[3];else{cr=a(16);var ui=_n.Na+ja.Na;if(ui=fm(Fr,ta[1],ui,Jr.Eb,0,cr,0),_n.Na=ja.Na=(0<ui)+0,1<ui)Du(cr,0,Gn,xa);else{var $a=cr[0]+3>>3;for(cr=0;256>cr;cr+=16)Gn[xa+cr]=$a}na=1,Ho=ta[0]}var Sr=15&_n.la,Ni=15&ja.la;for(cr=0;4>cr;++cr){var ys=1&Ni;for($a=ur=0;4>$a;++$a)Sr=Sr>>1|(ys=(ui=fm(Fr,Ho,ui=ys+(1&Sr),Jr.Sc,na,Gn,xa))>na)<<7,ur=ur<<2|(3<ui?3:1<ui?2:Gn[xa+0]!=0),xa+=16;Sr>>=4,Ni=Ni>>1|ys<<7,Ti=(Ti<<8|ur)>>>0}for(Ho=Sr,na=Ni>>4,Qr=0;4>Qr;Qr+=2){for(ur=0,Sr=_n.la>>4+Qr,Ni=ja.la>>4+Qr,cr=0;2>cr;++cr){for(ys=1&Ni,$a=0;2>$a;++$a)ui=ys+(1&Sr),Sr=Sr>>1|(ys=0<(ui=fm(Fr,ta[2],ui,Jr.Qc,0,Gn,xa)))<<3,ur=ur<<2|(3<ui?3:1<ui?2:Gn[xa+0]!=0),xa+=16;Sr>>=2,Ni=Ni>>1|ys<<5}Kn|=ur<<4*Qr,Ho|=Sr<<4<<Qr,na|=(240&Ni)<<Qr}_n.la=Ho,ja.la=na,Oa.Hc=Ti,Oa.Gc=Kn,Oa.ia=43690&Kn?0:Jr.ia,ta=!(Ti|Kn)}if(0<Ot.L&&(Ot.wa[Ot.Y+Ot.ja]=Ot.gd[In.$b][In.Za],Ot.wa[Ot.Y+Ot.ja].La|=!ta),ci.Ka)return Or(Un,7,"Premature end-of-file encountered.")}if(lr(Un),Ot=Ci,ci=1,In=(Jt=Un).D,_n=0<Jt.L&&Jt.M>=Jt.zb&&Jt.M<=Jt.Va,Jt.Aa==0)t:{if(In.M=Jt.M,In.uc=_n,ro(Jt,In),ci=1,In=(ur=Jt.D).Nb,_n=(Kn=Z2[Jt.L])*Jt.R,Fr=Kn/2*Jt.B,cr=16*In*Jt.R,$a=8*In*Jt.B,ta=Jt.sa,Oa=Jt.ta-_n+cr,Jr=Jt.qa,Gn=Jt.ra-Fr+$a,xa=Jt.Ha,ja=Jt.Ia-Fr+$a,Ni=(Sr=ur.M)==0,Ti=Sr>=Jt.Va-1,Jt.Aa==2&&ro(Jt,ur),ur.uc)for(ys=(ui=Jt).D.M,e(ui.D.uc),ur=ui.yb;ur<ui.Hb;++ur){na=ur,Ho=ys;var Ua=(xs=(ra=ui).D).Nb;Qr=ra.R;var xs=xs.wa[xs.Y+na],ws=ra.sa,es=ra.ta+16*Ua*Qr+16*na,_s=xs.dd,Rr=xs.tc;if(Rr!=0)if(e(3<=Rr),ra.L==1)0<na&&WS(ws,es,Qr,Rr+4),xs.La&&KS(ws,es,Qr,Rr),0<Ho&&GS(ws,es,Qr,Rr+4),xs.La&&XS(ws,es,Qr,Rr);else{var Ss=ra.B,zo=ra.qa,bh=ra.ra+8*Ua*Ss+8*na,xc=ra.Ha,ra=ra.Ia+8*Ua*Ss+8*na;Ua=xs.ld,0<na&&(Ei(ws,es,Qr,Rr+4,_s,Ua),dm(zo,bh,xc,ra,Ss,Rr+4,_s,Ua)),xs.La&&(q2(ws,es,Qr,Rr,_s,Ua),VS(zo,bh,xc,ra,Ss,Rr,_s,Ua)),0<Ho&&(li(ws,es,Qr,Rr+4,_s,Ua),bc(zo,bh,xc,ra,Ss,Rr+4,_s,Ua)),xs.La&&(w0(ws,es,Qr,Rr,_s,Ua),zS(zo,bh,xc,ra,Ss,Rr,_s,Ua))}}if(Jt.ia&&alert("todo:DitherRow"),Ot.put!=null){if(ur=16*Sr,Sr=16*(Sr+1),Ni?(Ot.y=Jt.sa,Ot.O=Jt.ta+cr,Ot.f=Jt.qa,Ot.N=Jt.ra+$a,Ot.ea=Jt.Ha,Ot.W=Jt.Ia+$a):(ur-=Kn,Ot.y=ta,Ot.O=Oa,Ot.f=Jr,Ot.N=Gn,Ot.ea=xa,Ot.W=ja),Ti||(Sr-=Kn),Sr>Ot.o&&(Sr=Ot.o),Ot.F=null,Ot.J=null,Jt.Fa!=null&&0<Jt.Fa.length&&ur<Sr&&(Ot.J=Nr(Jt,Ot,ur,Sr-ur),Ot.F=Jt.mb,Ot.F==null&&Ot.F.length==0)){ci=Or(Jt,3,"Could not decode alpha data.");break t}ur<Ot.j&&(Kn=Ot.j-ur,ur=Ot.j,e(!(1&Kn)),Ot.O+=Jt.R*Kn,Ot.N+=Jt.B*(Kn>>1),Ot.W+=Jt.B*(Kn>>1),Ot.F!=null&&(Ot.J+=Ot.width*Kn)),ur<Sr&&(Ot.O+=Ot.v,Ot.N+=Ot.v>>1,Ot.W+=Ot.v>>1,Ot.F!=null&&(Ot.J+=Ot.v),Ot.ka=ur-Ot.j,Ot.U=Ot.va-Ot.v,Ot.T=Sr-ur,ci=Ot.put(Ot))}In+1!=Jt.Ic||Ti||(n(Jt.sa,Jt.ta-_n,ta,Oa+16*Jt.R,_n),n(Jt.qa,Jt.ra-Fr,Jr,Gn+8*Jt.B,Fr),n(Jt.Ha,Jt.Ia-Fr,xa,ja+8*Jt.B,Fr))}if(!ci)return Or(Un,6,"Output aborted.")}return 1})(je,$e)),$e.bc!=null&&$e.bc($e),st&=1}return st?(je.cb=0,st):0})(A,ae)||(P=A.a)}}else P=A.a}P==0&&Ce.Oa!=null&&Ce.Oa.fd&&(P=am(Ce.ba))}Ce=P}Se=Ce!=0?null:11>Se?Re.f.RGBA.eb:Re.f.kb.y}else Se=null;return Se};var pA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(H,$){for(var U="",D=0;D<4;D++)U+=String.fromCharCode(H[$++]);return U}function u(H,$){return H[$+0]|H[$+1]<<8}function d(H,$){return(H[$+0]|H[$+1]<<8|H[$+2]<<16)>>>0}function h(H,$){return(H[$+0]|H[$+1]<<8|H[$+2]<<16|H[$+3]<<24)>>>0}new l;var f=[0],g=[0],y=[],w=new l,x=r,T=(function(H,$){var U={},D=0,ee=!1,J=0,re=0;if(U.frames=[],!(function(C,I){for(var O=0;O<4;O++)if(C[I+O]!="RIFF".charCodeAt(O))return!0;return!1})(H,$)){for(h(H,$+=4),$+=8;$<H.length;){var q=c(H,$),W=h(H,$+=4);$+=4;var le=W+(1&W);switch(q){case"VP8 ":case"VP8L":U.frames[D]===void 0&&(U.frames[D]={}),(F=U.frames[D]).src_off=ee?re:$-8,F.src_size=J+W+8,D++,ee&&(ee=!1,J=0,re=0);break;case"VP8X":(F=U.header={}).feature_flags=H[$];var ue=$+4;F.canvas_width=1+d(H,ue),ue+=3,F.canvas_height=1+d(H,ue),ue+=3;break;case"ALPH":ee=!0,J=le+8,re=$-8;break;case"ANIM":(F=U.header).bgcolor=h(H,$),ue=$+4,F.loop_count=u(H,ue),ue+=2;break;case"ANMF":var oe,F;(F=U.frames[D]={}).offset_x=2*d(H,$),$+=3,F.offset_y=2*d(H,$),$+=3,F.width=1+d(H,$),$+=3,F.height=1+d(H,$),$+=3,F.duration=d(H,$),$+=3,oe=H[$++],F.dispose=1&oe,F.blend=oe>>1&1}q!="ANMF"&&($+=le)}return U}})(x,0);T.response=x,T.rgbaoutput=!0,T.dataurl=!1;var v=T.header?T.header:null,R=T.frames?T.frames:null;if(v){v.loop_counter=v.loop_count,f=[v.canvas_height],g=[v.canvas_width];for(var M=0;M<R.length&&R[M].blend!=0;M++);}var B=R[0],L=w.WebPDecodeRGBA(x,B.src_off,B.src_size,g,f);B.rgba=L,B.imgwidth=g[0],B.imgheight=f[0];for(var z=0;z<g[0]*f[0]*4;z++)y[z]=L[z];return this.width=g,this.height=f,this.data=y,this}(function(r){var e,t,n,i,a,s,o,l,c,u=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=C;Object.defineProperty(this,"pdf",{get:function(){return I}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(xe){O=!!xe}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(xe){X=!!xe}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(xe){isNaN(xe)||(te=xe)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(xe){isNaN(xe)||(ie=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var nt;typeof xe=="number"?nt=[xe,xe,xe,xe]:((nt=new Array(4))[0]=xe[0],nt[1]=xe.length>=2?xe[1]:nt[0],nt[2]=xe.length>=3?xe[2]:nt[0],nt[3]=xe.length>=4?xe[3]:nt[1]),c.margin=nt}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(xe){ne=xe}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(xe){we=xe}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(xe){Ee=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof u&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(xe){He=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var nt;nt=h(xe),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var nt=h(xe);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Ue=null,We=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(xe){Ue=null,We=null,it=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var nt;if(this.ctx.font=xe,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(xe))!==null){var pt=nt[1];nt[2];var Z=nt[3],ce=nt[4];nt[5];var ut=nt[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(rt==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var ht=(function(N){var _e,ke,Le=[],Y=N.trim();if(Y==="")return cw;if(Y in Tk)return[Tk[Y]];for(;Y!=="";){switch(ke=null,_e=(Y=Rk(Y)).charAt(0)){case'"':case"'":ke=mG(Y.substring(1),_e);break;default:ke=gG(Y)}if(ke===null||(Le.push(ke[0]),(Y=Rk(ke[1]))!==""&&Y.charAt(0)!==","))return cw;Y=Y.replace(/^,/,"")}return Le})(ut);if(this.fontFaces){var mt=(function(N,_e){var ke=N.getFontList(),Le=JSON.stringify(ke);if(Ue===null||We!==Le){var Y=(function(ge){var S=[];return Object.keys(ge).forEach(function(Ae){ge[Ae].forEach(function(Xe){var m=null;switch(Xe){case"bold":m={family:Ae,weight:"bold"};break;case"italic":m={family:Ae,style:"italic"};break;case"bolditalic":m={family:Ae,weight:"bold",style:"italic"};break;case"":case"normal":m={family:Ae}}m!==null&&(m.ref={name:Ae,style:Xe},S.push(m))})}),S})(ke);Ue=(function(ge){for(var S={},Ae=0;Ae<ge.length;++Ae){var Xe=lw(ge[Ae]),m=Xe.family,pe=Xe.stretch,he=Xe.style,k=Xe.weight;S[m]=S[m]||{},S[m][pe]=S[m][pe]||{},S[m][pe][he]=S[m][pe][he]||{},S[m][pe][he][k]=Xe}return S})(Y.concat(_e)),We=Le}return Ue})(this.pdf,this.fontFaces),wt=ht.map(function(N){return{family:N,stretch:"normal",weight:Z,style:pt}}),ft=(function(N,_e,ke){for(var Le=(ke=ke||{}).defaultFontFamily||"times",Y=Object.assign({},pG,ke.genericFontFamilies||{}),ge=null,S=null,Ae=0;Ae<_e.length;++Ae)if(Y[(ge=lw(_e[Ae])).family]&&(ge.family=Y[ge.family]),N.hasOwnProperty(ge.family)){S=N[ge.family];break}if(!(S=S||N[Le]))throw new Error("Could not find a font-family for the rule '"+Nk(ge)+"' and default family '"+Le+"'.");if(S=(function(Xe,m){if(m[Xe])return m[Xe];var pe=E4[Xe],he=pe<=E4.normal?-1:1,k=Ck(m,j7,pe,he);if(!k)throw new Error("Could not find a matching font-stretch value for "+Xe);return k})(ge.stretch,S),S=(function(Xe,m){if(m[Xe])return m[Xe];for(var pe=O7[Xe],he=0;he<pe.length;++he)if(m[pe[he]])return m[pe[he]];throw new Error("Could not find a matching font-style for "+Xe)})(ge.style,S),!(S=(function(Xe,m){if(m[Xe])return m[Xe];if(Xe===400&&m[500])return m[500];if(Xe===500&&m[400])return m[400];var pe=fG[Xe],he=Ck(m,U7,pe,Xe<400?-1:1);if(!he)throw new Error("Could not find a matching font-weight for value "+Xe);return he})(ge.weight,S)))throw new Error("Failed to resolve a font for the rule '"+Nk(ge)+"'.");return S})(mt,wt);this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var Tt="";(Z==="bold"||parseInt(Z,10)>=700||pt==="bold")&&(Tt="bold"),pt==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var De="",Ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<ht.length;Ke++){if(this.pdf.internal.getFont(ht[Ke],Tt,{noFallback:!0,disableWarning:!0})!==void 0){De=ht[Ke];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(ht[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=ht[Ke],Tt="bold";else if(this.pdf.internal.getFont(ht[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=ht[Ke],Tt="normal";break}}if(De===""){for(var gt=0;gt<ht.length;gt++)if(Ve[ht[gt]]){De=Ve[ht[gt]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};d.prototype.setLineDash=function(C){this.lineDash=C},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){R.call(this,"fill",!1)},d.prototype.stroke=function(){R.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(C,I){if(isNaN(C)||isNaN(I))throw Er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new s(C,I));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new s(C,I)},d.prototype.closePath=function(){var C=new s(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&fr(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){C=new s(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},d.prototype.lineTo=function(C,I){if(isNaN(C)||isNaN(I))throw Er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new s(C,I));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new s(O.x,O.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},d.prototype.quadraticCurveTo=function(C,I,O,X){if(isNaN(O)||isNaN(X)||isNaN(C)||isNaN(I))throw Er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s(O,X)),ie=this.ctx.transform.applyToPoint(new s(C,I));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},d.prototype.bezierCurveTo=function(C,I,O,X,te,ie){if(isNaN(te)||isNaN(ie)||isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new s(te,ie)),we=this.ctx.transform.applyToPoint(new s(C,I)),Ee=this.ctx.transform.applyToPoint(new s(O,X));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ee.x,y2:Ee.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},d.prototype.arc=function(C,I,O,X,te,ie){if(isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X)||isNaN(te))throw Er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new s(C,I));C=ne.x,I=ne.y;var we=this.ctx.transform.applyToPoint(new s(0,O)),Ee=this.ctx.transform.applyToPoint(new s(0,0));O=Math.sqrt(Math.pow(we.x-Ee.x,2)+Math.pow(we.y-Ee.y,2))}Math.abs(te-X)>=2*Math.PI&&(X=0,te=2*Math.PI),this.path.push({type:"arc",x:C,y:I,radius:O,startAngle:X,endAngle:te,counterclockwise:ie})},d.prototype.arcTo=function(C,I,O,X,te){throw new Error("arcTo not implemented.")},d.prototype.rect=function(C,I,O,X){if(isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,I),this.lineTo(C+O,I),this.lineTo(C+O,I+X),this.lineTo(C,I+X),this.lineTo(C,I),this.lineTo(C+O,I),this.lineTo(C,I)},d.prototype.fillRect=function(C,I,O,X){if(isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,I,O,X),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},d.prototype.strokeRect=function(C,I,O,X){if(isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,I,O,X),this.stroke())},d.prototype.clearRect=function(C,I,O,X){if(isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,I,O,X))},d.prototype.save=function(C){C=typeof C!="boolean"||C;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},d.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(I),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(C){var I,O,X,te;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))I=0,O=0,X=0,te=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ie!==null)I=parseInt(ie[1]),O=parseInt(ie[2]),X=parseInt(ie[3]),te=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)I=parseInt(ie[1]),O=parseInt(ie[2]),X=parseInt(ie[3]),te=parseFloat(ie[4]);else{if(te=1,typeof C=="string"&&C.charAt(0)!=="#"){var ne=new I7(C);C=ne.ok?ne.toHex():"#000000"}C.length===4?(I=C.substring(1,2),I+=I,O=C.substring(2,3),O+=O,X=C.substring(3,4),X+=X):(I=C.substring(1,3),O=C.substring(3,5),X=C.substring(5,7)),I=parseInt(I,16),O=parseInt(O,16),X=parseInt(X,16)}}return{r:I,g:O,b:X,a:te,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(C,I,O,X){if(isNaN(I)||isNaN(O)||typeof C!="string")throw Er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var te=le(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;D.call(this,{text:C,x:I,y:O,scale:ie,angle:te,align:this.textAlign,maxWidth:X})}},d.prototype.strokeText=function(C,I,O,X){if(isNaN(I)||isNaN(O)||typeof C!="string")throw Er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){X=isNaN(X)?void 0:X;var te=le(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;D.call(this,{text:C,x:I,y:O,scale:ie,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:X})}},d.prototype.measureText=function(C){if(typeof C!="string")throw Er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,O=this.pdf.internal.scaleFactor,X=I.internal.getFontSize(),te=I.getStringUnitWidth(C)*X/I.internal.scaleFactor;return new function(ie){var ne=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this}({width:te*=Math.round(96*O/72*1e4)/1e4})},d.prototype.scale=function(C,I){if(isNaN(C)||isNaN(I))throw Er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new l(C,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},d.prototype.rotate=function(C){if(isNaN(C))throw Er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},d.prototype.translate=function(C,I){if(isNaN(C)||isNaN(I))throw Er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new l(1,0,0,1,C,I);this.ctx.transform=this.ctx.transform.multiply(O)},d.prototype.transform=function(C,I,O,X,te,ie){if(isNaN(C)||isNaN(I)||isNaN(O)||isNaN(X)||isNaN(te)||isNaN(ie))throw Er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new l(C,I,O,X,te,ie);this.ctx.transform=this.ctx.transform.multiply(ne)},d.prototype.setTransform=function(C,I,O,X,te,ie){C=isNaN(C)?1:C,I=isNaN(I)?0:I,O=isNaN(O)?0:O,X=isNaN(X)?1:X,te=isNaN(te)?0:te,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(C,I,O,X,te,ie)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(C,I,O,X,te,ie,ne,we,Ee){var He=this.pdf.getImageProperties(C),Ue=1,We=1,it=1,xe=1;X!==void 0&&we!==void 0&&(it=we/X,xe=Ee/te,Ue=He.width/X*we/X,We=He.height/te*Ee/te),ie===void 0&&(ie=I,ne=O,I=0,O=0),X!==void 0&&we===void 0&&(we=X,Ee=te),X===void 0&&we===void 0&&(we=He.width,Ee=He.height);var nt=this.ctx.transform.decompose(),pt=le(nt.rotate.shx),Z=new l,ce=(Z=(Z=(Z=Z.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new o(ie-I*it,ne-O*xe,X*Ue,te*We));if(this.autoPaging){for(var ut,rt=w.call(this,ce),ht=[],mt=0;mt<rt.length;mt+=1)ht.indexOf(rt[mt])===-1&&ht.push(rt[mt]);v(ht);for(var wt=ht[0],ft=ht[ht.length-1],Tt=wt;Tt<ft+1;Tt++){this.pdf.setPage(Tt);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Tt===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=Tt===1?0:Ke+(Tt-2)*gt;if(this.ctx.clip_path.length!==0){var _e=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ut,this.posX+this.margin[3],-N+Ve+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=_e}var ke=JSON.parse(JSON.stringify(ce));ke=T([ke],this.posX+this.margin[3],-N+Ve+this.ctx.prevPageLastElemOffset)[0];var Le=(Tt>wt||Tt<ft)&&y.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,gt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,pt),Le&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,pt)};var w=function(C,I,O){var X=[];I=I||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":X.push(Math.floor((C.y+te)/O)+1);break;case"arc":X.push(Math.floor((C.y+te-C.radius)/O)+1),X.push(Math.floor((C.y+te+C.radius)/O)+1);break;case"qct":var ie=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);X.push(Math.floor((ie.y+te)/O)+1),X.push(Math.floor((ie.y+ie.h+te)/O)+1);break;case"bct":var ne=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);X.push(Math.floor((ne.y+te)/O)+1),X.push(Math.floor((ne.y+ne.h+te)/O)+1);break;case"rect":X.push(Math.floor((C.y+te)/O)+1),X.push(Math.floor((C.y+C.h+te)/O)+1)}for(var we=0;we<X.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<X[we];)x.call(this);return X},x=function(){var C=this.fillStyle,I=this.strokeStyle,O=this.font,X=this.lineCap,te=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=I,this.font=O,this.lineCap=X,this.lineWidth=te,this.lineJoin=ie},T=function(C,I,O){for(var X=0;X<C.length;X++)switch(C[X].type){case"bct":C[X].x2+=I,C[X].y2+=O;case"qct":C[X].x1+=I,C[X].y1+=O;default:C[X].x+=I,C[X].y+=O}return C},v=function(C){return C.sort(function(I,O){return I-O})},R=function(C,I){var O=this.fillStyle,X=this.strokeStyle,te=this.lineCap,ie=this.lineWidth,ne=Math.abs(ie*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var Ee,He,Ue=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),it=[],xe=0;xe<We.length;xe++)if(We[xe].x!==void 0)for(var nt=w.call(this,We[xe]),pt=0;pt<nt.length;pt+=1)it.indexOf(nt[pt])===-1&&it.push(nt[pt]);for(var Z=0;Z<it.length;Z++)for(;this.pdf.internal.getNumberOfPages()<it[Z];)x.call(this);v(it);for(var ce=it[0],ut=it[it.length-1],rt=ce;rt<ut+1;rt++){this.pdf.setPage(rt),this.fillStyle=O,this.strokeStyle=X,this.lineCap=te,this.lineWidth=ne,this.lineJoin=we;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=rt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=rt===1?0:wt+(rt-2)*ft;if(this.ctx.clip_path.length!==0){var De=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Ee,this.posX+this.margin[3],-Tt+mt+this.ctx.prevPageLastElemOffset),M.call(this,C,!0),this.path=De}if(He=JSON.parse(JSON.stringify(Ue)),this.path=T(He,this.posX+this.margin[3],-Tt+mt+this.ctx.prevPageLastElemOffset),I===!1||rt===0){var Ve=(rt>ce||rt<ut)&&y.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,ft,null).clip().discardPath()),M.call(this,C,I),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=Ue}else this.lineWidth=ne,M.call(this,C,I),this.lineWidth=ie},M=function(C,I){if((C!=="stroke"||I||!g.call(this))&&(C==="stroke"||I||!f.call(this))){for(var O,X,te=[],ie=this.path,ne=0;ne<ie.length;ne++){var we=ie[ne];switch(we.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:we,deltas:[],abs:[]});break;case"lt":var Ee=te.length;if(ie[ne-1]&&!isNaN(ie[ne-1].x)&&(O=[we.x-ie[ne-1].x,we.y-ie[ne-1].y],Ee>0)){for(;Ee>=0;Ee--)if(te[Ee-1].close!==!0&&te[Ee-1].begin!==!0){te[Ee-1].deltas.push(O),te[Ee-1].abs.push(we);break}}break;case"bct":O=[we.x1-ie[ne-1].x,we.y1-ie[ne-1].y,we.x2-ie[ne-1].x,we.y2-ie[ne-1].y,we.x-ie[ne-1].x,we.y-ie[ne-1].y],te[te.length-1].deltas.push(O);break;case"qct":var He=ie[ne-1].x+2/3*(we.x1-ie[ne-1].x),Ue=ie[ne-1].y+2/3*(we.y1-ie[ne-1].y),We=we.x+2/3*(we.x1-we.x),it=we.y+2/3*(we.y1-we.y),xe=we.x,nt=we.y;O=[He-ie[ne-1].x,Ue-ie[ne-1].y,We-ie[ne-1].x,it-ie[ne-1].y,xe-ie[ne-1].x,nt-ie[ne-1].y],te[te.length-1].deltas.push(O);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(we)}}X=I?null:C==="stroke"?"stroke":"fill";for(var pt=!1,Z=0;Z<te.length;Z++)if(te[Z].arc)for(var ce=te[Z].abs,ut=0;ut<ce.length;ut++){var rt=ce[ut];rt.type==="arc"?z.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,I,!pt):ee.call(this,rt.x,rt.y),pt=!0}else if(te[Z].close===!0)this.pdf.internal.out("h"),pt=!1;else if(te[Z].begin!==!0){var ht=te[Z].start.x,mt=te[Z].start.y;J.call(this,te[Z].deltas,ht,mt),pt=!0}X&&H.call(this,X),I&&$.call(this)}},B=function(C){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-O;case"top":return C+I-O;case"hanging":return C+I-2*O;case"middle":return C+I/2-O;default:return C}},L=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(I,O){this.colorStops.push([I,O])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(C,I,O,X,te,ie,ne,we,Ee){for(var He=q.call(this,O,X,te,ie),Ue=0;Ue<He.length;Ue++){var We=He[Ue];Ue===0&&(Ee?U.call(this,We.x1+C,We.y1+I):ee.call(this,We.x1+C,We.y1+I)),re.call(this,C,I,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}we?$.call(this):H.call(this,ne)},H=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(C,I){this.pdf.internal.out(t(C)+" "+n(I)+" m")},D=function(C){var I;switch(C.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var O,X,te,ie=this.pdf.getTextDimensions(C.text),ne=B.call(this,C.y),we=L.call(this,ne)-ie.h,Ee=this.ctx.transform.applyToPoint(new s(C.x,ne));if(this.autoPaging){var He=this.ctx.transform.decompose(),Ue=new l;Ue=(Ue=(Ue=Ue.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var We=this.ctx.transform.applyToRectangle(new o(C.x,ne,ie.w,ie.h)),it=Ue.applyToRectangle(new o(C.x,we,ie.w,ie.h)),xe=w.call(this,it),nt=[],pt=0;pt<xe.length;pt+=1)nt.indexOf(xe[pt])===-1&&nt.push(xe[pt]);v(nt);for(var Z=nt[0],ce=nt[nt.length-1],ut=Z;ut<ce+1;ut++){this.pdf.setPage(ut);var rt=ut===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[2],wt=mt-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],Tt=ft-this.margin[3],De=ut===1?0:ht+(ut-2)*wt;if(this.ctx.clip_path.length!==0){var Ve=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(O,this.posX+this.margin[3],-1*De+rt),M.call(this,"fill",!0),this.path=Ve}var Ke=T([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-De+rt+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale);var gt=this.autoPaging!=="text";if(gt||Ke.y+Ke.h<=mt){if(gt||Ke.y>=rt&&Ke.x<=ft){var N=gt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ft-Ke.x)[0],_e=T([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-De+rt+this.ctx.prevPageLastElemOffset)[0],ke=gt&&(ut>Z||ut<ce)&&y.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,wt,null).clip().discardPath()),this.pdf.text(N,_e.x,_e.y,{angle:C.angle,align:I,renderingMode:C.renderingMode}),ke&&this.pdf.restoreGraphicsState()}}else Ke.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-Ke.y);C.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=te)}}else C.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale),this.pdf.text(C.text,Ee.x+this.posX,Ee.y+this.posY,{angle:C.angle,align:I,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=te)},ee=function(C,I,O,X){O=O||0,X=X||0,this.pdf.internal.out(t(C+O)+" "+n(I+X)+" l")},J=function(C,I,O){return this.pdf.lines(C,I,O,null,null)},re=function(C,I,O,X,te,ie,ne,we){this.pdf.internal.out([e(i(O+C)),e(a(X+I)),e(i(te+C)),e(a(ie+I)),e(i(ne+C)),e(a(we+I)),"c"].join(" "))},q=function(C,I,O,X){for(var te=2*Math.PI,ie=Math.PI/2;I>O;)I-=te;var ne=Math.abs(O-I);ne<te&&X&&(ne=te-ne);for(var we=[],Ee=X?-1:1,He=I;ne>1e-5;){var Ue=He+Ee*Math.min(ne,ie);we.push(W.call(this,C,He,Ue)),ne-=Math.abs(Ue-He),He=Ue}return we},W=function(C,I,O){var X=(O-I)/2,te=C*Math.cos(X),ie=C*Math.sin(X),ne=te,we=-ie,Ee=ne*ne+we*we,He=Ee+ne*te+we*ie,Ue=4/3*(Math.sqrt(2*Ee*He)-He)/(ne*ie-we*te),We=ne-Ue*we,it=we+Ue*ne,xe=We,nt=-it,pt=X+I,Z=Math.cos(pt),ce=Math.sin(pt);return{x1:C*Math.cos(I),y1:C*Math.sin(I),x2:We*Z-it*ce,y2:We*ce+it*Z,x3:xe*Z-nt*ce,y3:xe*ce+nt*Z,x4:C*Math.cos(O),y4:C*Math.sin(O)}},le=function(C){return 180*C/Math.PI},ue=function(C,I,O,X,te,ie){var ne=C+.5*(O-C),we=I+.5*(X-I),Ee=te+.5*(O-te),He=ie+.5*(X-ie),Ue=Math.min(C,te,ne,Ee),We=Math.max(C,te,ne,Ee),it=Math.min(I,ie,we,He),xe=Math.max(I,ie,we,He);return new o(Ue,it,We-Ue,xe-it)},oe=function(C,I,O,X,te,ie,ne,we){var Ee,He,Ue,We,it,xe,nt,pt,Z,ce,ut,rt,ht,mt,wt=O-C,ft=X-I,Tt=te-O,De=ie-X,Ve=ne-te,Ke=we-ie;for(He=0;He<41;He++)Z=(nt=(Ue=C+(Ee=He/40)*wt)+Ee*((it=O+Ee*Tt)-Ue))+Ee*(it+Ee*(te+Ee*Ve-it)-nt),ce=(pt=(We=I+Ee*ft)+Ee*((xe=X+Ee*De)-We))+Ee*(xe+Ee*(ie+Ee*Ke-xe)-pt),He==0?(ut=Z,rt=ce,ht=Z,mt=ce):(ut=Math.min(ut,Z),rt=Math.min(rt,ce),ht=Math.max(ht,Z),mt=Math.max(mt,ce));return new o(Math.round(ut),Math.round(rt),Math.round(ht-ut),Math.round(mt-rt))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,I,O=(C=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:I}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(en.API),(function(r){var e=function(s){var o,l,c,u,d,h,f,g,y,w;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(w=d%85))/85)-(y=d%85))/85)-(g=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,g+33,y+33,w+33)):l.push(122);return(function(x,T){for(var v=T;v>0;v--)x.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var o,l,c,u,d,h=String,f="length",g=255,y="charCodeAt",w="slice",x="replace";for(s[w](-2),s=s[w](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[w](s[f]%5||5))[f];d>u;u+=5)l=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(T,v){for(var R=v;R>0;R--)T.pop()})(c,o[f]),h.fromCharCode.apply(h,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=y4(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};r.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(en.API),(function(r){r.loadFile=function(e,t,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(g){var y=g.length,w=[],x=String.fromCharCode;for(h=0;h<y;h+=1)w.push(x(255&g.charCodeAt(h)));return w.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)})(i,a,s)}catch{}return o})(e,t,n)},r.loadImageFile=r.loadFile})(en.API),(function(r){function e(){return(hn.html2canvas?Promise.resolve(hn.html2canvas):F5(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(hn.DOMPurify?Promise.resolve(hn.DOMPurify):F5(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=fr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var g=u[f],y=g.src.find(function(w){return w.format==="truetype"});y&&c.addFont(y.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||en.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),h=c.call(d,o,l);return s.convert(h,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,en.getPageSize=function(o,l,c){if(fr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var g,y=0,w=0;if(f.hasOwnProperty(h))y=f[h][1]/d,w=f[h][0]/d;else try{y=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>y&&(g=w,w=y,y=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>w&&(g=w,w=y,y=g)}return{width:w,height:y,unit:l,k:d,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(lw):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}})(en.API),en.API.addJS=function(r){return Mk=r,this.internal.events.subscribe("postPutResources",function(){wb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ik=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Mk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wb!==void 0&&Ik!==void 0&&this.internal.out("/Names <</JavaScript "+wb+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var d=t.internal.newObject();u.push(d);var h=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<u.length;a++)t.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(en.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,y={width:0,height:0,numcomponents:1},w=4;w<g;w+=2){if(w+=f,e.indexOf(d.charCodeAt(w+1))!==-1){h=256*d.charCodeAt(w+5)+d.charCodeAt(w+6),y={width:256*d.charCodeAt(w+7)+d.charCodeAt(w+8),height:h,numcomponents:d.charCodeAt(w+9)};break}f=256*d.charCodeAt(w+2)+d.charCodeAt(w+3)}return y})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}})(en.API),en.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,a=$V(r,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?(function(z){for(var H=z.width,$=z.height,U=z.data,D=z.palette,ee=z.depth,J=!1,re=[],q=[],W=void 0,le=!1,ue=0,oe=0;oe<D.length;oe++){var F=D6(D[oe],4),C=F[0],I=F[1],O=F[2],X=F[3];re.push(C,I,O),X!=null&&(X===0?(ue++,q.length<1&&q.push(oe)):X<255&&(le=!0))}if(le||ue>1){J=!0,q=void 0;var te=H*$;W=new Uint8Array(te);for(var ie=new DataView(U.buffer),ne=0;ne<te;ne++){var we=uw(ie,ne,ee),Ee=D6(D[we],4)[3];W[ne]=Ee}}else ue===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:U,alphaBytes:W,needSMask:J,palette:re,mask:q}})(a):l===2||l===4?(function(z){for(var H=z.data,$=z.width,U=z.height,D=z.channels,ee=z.depth,J=D===2?"DeviceGray":"DeviceRGB",re=D-1,q=$*U,W=re,le=q*W,ue=1*q,oe=Math.ceil(le*ee/8),F=Math.ceil(ue*ee/8),C=new Uint8Array(oe),I=new Uint8Array(F),O=new DataView(H.buffer),X=new DataView(C.buffer),te=new DataView(I.buffer),ie=!1,ne=0;ne<q;ne++){for(var we=ne*D,Ee=0;Ee<W;Ee++)qk(X,uw(O,we+Ee,ee),ne*W+Ee,ee);var He=uw(O,we+W,ee);He<(1<<ee)-1&&(ie=!0),qk(te,He,1*ne,ee)}return{colorSpace:J,colorsPerPixel:re,sMaskBitsPerComponent:ie?ee:void 0,colorBytes:C,alphaBytes:I,needSMask:ie}})(a):(function(z){var H=z.data,$=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(U){for(var D=U.length,ee=new Uint8Array(2*D),J=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),re=0;re<D;re++)J.setUint16(2*re,U[re],!1);return ee})(H):H,needSMask:!1}})(a);var d,h,f,g=i,y=g.colorSpace,w=g.colorsPerPixel,x=g.sMaskBitsPerComponent,T=g.colorBytes,v=g.alphaBytes,R=g.needSMask,M=g.palette,B=g.mask,L=null;return n!==en.API.image_compression.NONE&&typeof y4=="function"?(L=(function(z){var H;switch(z){case en.API.image_compression.FAST:H=11;break;case en.API.image_compression.MEDIUM:H=13;break;case en.API.image_compression.SLOW:H=14;break;default:H=12}return H})(n),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(L," /Colors ").concat(w," /BitsPerComponent ").concat(u," /Columns ").concat(s),r=Dk(T,Math.ceil(s*w*u/8),w,u,n),R&&(f=Dk(v,Math.ceil(s*x/8),1,x,n))):(d=void 0,h=void 0,r=T,R&&(f=v)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:r,index:e,filter:d,decodeParameters:h,transparency:B,palette:M,sMask:f,predictor:L,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:x,colorSpace:y}}},(function(r){r.processGIF89A=function(e,t,n,i){var a=new xG(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new dw(100).encode(c,100);return r.processJPEG.call(this,u,t,n,i)},r.processGIF87A=r.processGIF89A})(en.API),Vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vo.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Er.log("bit decode error:"+t)}},Vo.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Vo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Vo.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},Vo.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=r}},Vo.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},Vo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Vo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Vo.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var a=new Vo(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new dw(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)}})(en.API),zk.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var a=new zk(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new dw(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)}})(en.API),en.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],d=n[c+1],h=n[c+2],f=n[c+3];a[o++]=u,a[o++]=d,a[o++]=h,s[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},en.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},E0=en.API,_b=E0.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,f=r.length,g=0,y=o[0]||l,w=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(h=d&&fr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,w.push((o[n]||y)/l+h)),g=n;return w},Pk=E0.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return E0.processArabic&&(r=E0.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:_b.apply(this,arguments).reduce(function(a,s){return a+s},0)},Fk=function(r,e,t,n){for(var i=[],a=0,s=r.length,o=0;a!==s&&o+e[a]<t;)o+=e[a],a++;i.push(r.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(r.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(r.slice(l,a)),i},Lk=function(r,e,t){t||(t={});var n,i,a,s,o,l,c,u=[],d=[u],h=t.textIndent||0,f=0,g=0,y=r.split(" "),w=_b.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var x=Array(l).join(" "),T=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?T=T.concat(R.map(function(M,B){return(B&&M.length?`
`:"")+M})):T.push(R[0])}),y=T,l=Pk.apply(this,[x,t])}for(a=0,s=y.length;a<s;a++){var v=0;if(n=y[a],l&&n[0]==`
`&&(n=n.substr(1),v=1),h+f+(g=(i=_b.apply(this,[n,t])).reduce(function(R,M){return R+M},0))>e||v){if(g>e){for(o=Fk.apply(this,[n,i,e-(h+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(R,M){return R+M},0)}else u=[n];d.push(u),h=g+l,f=w}else u.push(n),h+=f+g,f=w}return c=l?function(R,M){return(M?x:"")+R.join(" ")}:function(R){return R.join(" ")},d.map(c)},E0.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Lk.apply(this,[n[o],s,a]));return c},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[t[a]]=e[a],i[e[a]]=t[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=r.__fontmetrics__.compress=function(h){var f,g,y,w,x=["{"];for(var T in h){if(f=h[T],isNaN(parseInt(T,10))?g="'"+T+"'":(T=parseInt(T,10),g=(g=s(T).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(y=s(f).slice(3),w="-"):(y=s(f).slice(2),w=""),y=w+y.slice(0,-1)+i[y.slice(-1)];else{if(fr(f)!=="object")throw new Error("Don't know what to do with value type "+fr(f)+".");y=o(f)}x.push(g+y)}return x.push("}"),x.join("")},l=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,y,w,x={},T=1,v=x,R=[],M="",B="",L=h.length-1,z=1;z<L;z+=1)(w=h[z])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(R.push([v,y]),v={},y=void 0):w=="}"?((g=R.pop())[0][g[1]]=v,y=void 0,v=g[0]):w=="-"?T=-1:y===void 0?n.hasOwnProperty(w)?(M+=n[w],y=parseInt(M,16)*T,T=1,M=""):M+=w:n.hasOwnProperty(w)?(B+=n[w],v[y]=parseInt(B,16)*T,T=1,y=void 0,B=""):B+=w;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var f=h.font,g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var y=u.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])})(en.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(xy(o)),s.metadata=r.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(en),en.API.addSvgAsImage=function(r,e,t,n,i,a,s,o){if(isNaN(e)||isNaN(t))throw Er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(hn.canvg?Promise.resolve(hn.canvg):F5(()=>import("./index.es-BNrQ-4hn.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,n,i,s,o)})},en.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},en.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function h(g,y){var w,x=!1;for(w=0;w<g.length;w+=1)g[w]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)t[o[d]].value=t[o[d]].defaultValue,t[o[d]].explicitSet=!1}if(fr(r)==="object"){for(i in r)if(a=r[i],h(o,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&h(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?y.push("/"+g+" /"+t[g].value):y.push("/"+g+" "+t[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(en.API),(function(r){var e=r.API,t=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=a.length;d<h;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(a).sort(function(f,g){return f-g})).length;d<h;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var y=c();u({data:f,addLength1:!0,objectId:y}),l("endobj");var w=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+W0(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var T=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+W0(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+r.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+W0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+W0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+W0(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},d=a.mutex||{},h=d.pdfEscape,f=d.activeFontKey,g=d.fonts,y=f,w="",x=0,T="",v=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(T=o,y=f,Array.isArray(o)&&(T=o[0]),x=0;x<T.length;x+=1)g[y].metadata.hasOwnProperty("cmap")&&(s=g[y].metadata.cmap.unicode.codeMap[T[x].charCodeAt(0)]),s||T[x].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?w+=T[x]:w+="";var R="";return parseInt(y.slice(1))<14||v==="WinAnsiEncoding"?R=h(w,y).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(R=t(w,g[y])),d.isHex=!0,{text:R,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])})(en),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(en.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,v=0;this.__bidiEngine__={};var R=function(U){var D=U.charCodeAt(),ee=D>>8,J=y[ee];return J!==void 0?d[256*J+(255&D)]:ee===252||ee===253?"AL":x.test(ee)?"L":ee===8?"R":"N"},M=function(U){for(var D,ee=0;ee<U.length;ee++){if((D=R(U.charAt(ee)))==="L")return!1;if(D==="R")return!0}return!1},B=function(U,D,ee,J){var re,q,W,le,ue=D[J];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(ue="AN");break;case"AL":T=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":J<1||J+1>=D.length||(re=ee[J-1])!=="EN"&&re!=="AN"||(q=D[J+1])!=="EN"&&q!=="AN"?ue="N":T&&(q="AN"),ue=q===re?q:"N";break;case"ES":ue=(re=J>0?ee[J-1]:"B")==="EN"&&J+1<D.length&&D[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&ee[J-1]==="EN"){ue="EN";break}if(T){ue="N";break}for(W=J+1,le=D.length;W<le&&D[W]==="ET";)W++;ue=W<le&&D[W]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(le=D.length,W=J+1;W<le&&D[W]==="NSM";)W++;if(W<le){var oe=U[J],F=oe>=1425&&oe<=2303||oe===64286;if(re=D[W],F&&(re==="R"||re==="AL")){ue="R";break}}}ue=J<1||(re=D[J-1])==="B"?"N":ee[J-1];break;case"B":T=!1,i=!0,ue=v;break;case"S":a=!0,ue="N"}return ue},L=function(U,D,ee){var J=U.split("");return ee&&z(J,ee,{hiLevel:v}),J.reverse(),D&&D.reverse(),J.join("")},z=function(U,D,ee){var J,re,q,W,le,ue=-1,oe=U.length,F=0,C=[],I=v?f:h,O=[];for(T=!1,i=!1,a=!1,re=0;re<oe;re++)O[re]=R(U[re]);for(q=0;q<oe;q++){if(le=F,C[q]=B(U,O,C,q),J=240&(F=I[le][g[C[q]]]),F&=15,D[q]=W=I[F][5],J>0)if(J===16){for(re=ue;re<q;re++)D[re]=1;ue=-1}else ue=-1;if(I[F][6])ue===-1&&(ue=q);else if(ue>-1){for(re=ue;re<q;re++)D[re]=W;ue=-1}O[q]==="B"&&(D[q]=0),ee.hiLevel|=W}a&&(function(X,te,ie){for(var ne=0;ne<ie;ne++)if(X[ne]==="S"){te[ne]=v;for(var we=ne-1;we>=0&&X[we]==="WS";we--)te[we]=v}})(O,D,oe)},H=function(U,D,ee,J,re){if(!(re.hiLevel<U)){if(U===1&&v===1&&!i)return D.reverse(),void(ee&&ee.reverse());for(var q,W,le,ue,oe=D.length,F=0;F<oe;){if(J[F]>=U){for(le=F+1;le<oe&&J[le]>=U;)le++;for(ue=F,W=le-1;ue<W;ue++,W--)q=D[ue],D[ue]=D[W],D[W]=q,ee&&(q=ee[ue],ee[ue]=ee[W],ee[W]=q);F=le}F++}}},$=function(U,D,ee){var J=U.split(""),re={hiLevel:v};return ee||(ee=[]),z(J,ee,re),(function(q,W,le){if(le.hiLevel!==0&&u)for(var ue,oe=0;oe<q.length;oe++)W[oe]===1&&(ue=w.indexOf(q[oe]))>=0&&(q[oe]=w[ue+1])})(J,ee,re),H(2,J,D,ee,re),H(1,J,D,ee,re),J.join("")};return this.__bidiEngine__.doBidiReorder=function(U,D,ee){if((function(re,q){if(q)for(var W=0;W<re.length;W++)q[W]=W;o===void 0&&(o=M(re)),c===void 0&&(c=M(re))})(U,D),s||!l||c)if(s&&l&&o^c)v=o?1:0,U=L(U,D,ee);else if(!s&&l&&c)v=o?1:0,U=$(U,D,ee),U=L(U,D);else if(!s||o||l||c){if(s&&!l&&o^c)U=L(U,D),o?(v=0,U=$(U,D,ee)):(v=1,U=$(U,D,ee),U=L(U,D));else if(s&&o&&!l&&c)v=1,U=$(U,D,ee),U=L(U,D);else if(!s&&!l&&o^c){var J=u;o?(v=1,U=$(U,D,ee),v=0,u=!1,U=$(U,D,ee),u=J):(v=0,U=$(U,D,ee),U=L(U,D),v=1,u=!1,U=$(U,D,ee),u=J,U=L(U,D))}}else v=0,U=$(U,D,ee);else v=o?1:0,U=$(U,D,ee);return U},this.__bidiEngine__.setOptions=function(U){U&&(s=U.isInputVisual,l=U.isOutputVisual,o=U.isInputRtl,c=U.isOutputRtl,u=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([t.doBidiReorder(i[o])]);n.text=s}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(en),en.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Yd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new LG(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new wG(this.contents),this.head=new SG(this),this.name=new TG(this),this.cmap=new H7(this),this.toUnicode={},this.hhea=new AG(this),this.maxp=new NG(this),this.hmtx=new RG(this),this.post=new EG(this),this.os2=new kG(this),this.loca=new FG(this),this.glyf=new IG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return s*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var gl,Yd=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,a,s,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},r})(),wG=(function(){var r;function e(t){var n,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,a,s,o,l,c,u,d,h,f,g,y;for(y in f=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),s=Math.floor(d/l),u=16*f-d,(i=new Yd).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(s),i.writeShort(u),a=16*f,c=i.pos+a,o=null,g=[],t)for(h=t[y],i.writeString(y),i.writeInt(r(h)),i.writeInt(c),i.writeInt(h.length),g=g.concat(h),y==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return i.write(g),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,a,s;for(t=z7.call(t);t.length%4;)t.push(0);for(a=new Yd(t),i=0,n=0,s=t.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),_G={}.hasOwnProperty,nc=function(r,e){for(var t in e)_G.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};gl=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var SG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Yd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Vk=(function(){function r(e,t){var n,i,a,s,o,l,c,u,d,h,f,g,y,w,x,T,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,a=(function(){var R,M;for(M=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)M.push(e.readUInt16());return M})(),e.pos+=2,y=(function(){var R,M;for(M=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)M.push(e.readUInt16());return M})(),c=(function(){var R,M;for(M=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)M.push(e.readUInt16());return M})(),u=(function(){var R,M;for(M=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)M.push(e.readUInt16());return M})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var R,M;for(M=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)M.push(e.readUInt16());return M})(),l=x=0,v=a.length;x<v;l=++x)for(w=a[l],n=T=g=y[l];g<=w?T<=w:T>=w;n=g<=w?++T:--T)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=d}return r.encode=function(e,t){var n,i,a,s,o,l,c,u,d,h,f,g,y,w,x,T,v,R,M,B,L,z,H,$,U,D,ee,J,re,q,W,le,ue,oe,F,C,I,O,X,te,ie,ne,we,Ee,He,Ue;switch(J=new Yd,s=Object.keys(e).sort(function(We,it){return We-it}),t){case"macroman":for(y=0,w=(function(){var We=[];for(g=0;g<256;++g)We.push(0);return We})(),T={0:0},a={},re=0,ue=s.length;re<ue;re++)T[we=e[i=s[re]]]==null&&(T[we]=++y),a[i]={old:e[i],new:T[e[i]]},w[i]=T[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(w),{charMap:a,subtable:J.data,maxGlyphID:y+1};case"unicode":for(D=[],d=[],v=0,T={},n={},x=c=null,q=0,oe=s.length;q<oe;q++)T[M=e[i=s[q]]]==null&&(T[M]=++v),n[i]={old:M,new:T[M]},o=T[M]-i,x!=null&&o===c||(x&&d.push(x),D.push(i),c=o),x=i;for(x&&d.push(x),d.push(65535),D.push(65535),$=2*(H=D.length),z=2*Math.pow(Math.log(H)/Math.LN2,2),h=Math.log(z/2)/Math.LN2,L=2*H-z,l=[],B=[],f=[],g=W=0,F=D.length;W<F;g=++W){if(U=D[g],u=d[g],U===65535){l.push(0),B.push(0);break}if(U-(ee=n[U].new)>=32768)for(l.push(0),B.push(2*(f.length+H-g)),i=le=U;U<=u?le<=u:le>=u;i=U<=u?++le:--le)f.push(n[i].new);else l.push(ee-U),B.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*H+2*f.length),J.writeUInt16(0),J.writeUInt16($),J.writeUInt16(z),J.writeUInt16(h),J.writeUInt16(L),ie=0,C=d.length;ie<C;ie++)i=d[ie],J.writeUInt16(i);for(J.writeUInt16(0),ne=0,I=D.length;ne<I;ne++)i=D[ne],J.writeUInt16(i);for(Ee=0,O=l.length;Ee<O;Ee++)o=l[Ee],J.writeUInt16(o);for(He=0,X=B.length;He<X;He++)R=B[He],J.writeUInt16(R);for(Ue=0,te=f.length;Ue<te;Ue++)y=f[Ue],J.writeUInt16(y);return{charMap:n,subtable:J.data,maxGlyphID:v+1}}},r})(),H7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new Vk(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=Vk.encode(e,t),(i=new Yd).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),AG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),kG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),EG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},r})(),CG=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},TG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,a,s,o,l,c,u,d,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,d=n.length;u<d;a=++u)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new CG(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r})(),NG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),RG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,d,h;for(h=[],c=0,u=(d=this.metrics).length;c<u;c++)a=d[c],h.push(a.advance);return h}).call(this),n=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(n));return l},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),z7=[].slice,IG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,a,s,o,l,c,u,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,s=(o=new Yd(t.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new PG(o,c,d,l,u):new MG(o,s,c,d,l,u),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=t.length;o<l;o++)i=e[t[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},r})(),MG=(function(){function r(e,t,n,i,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),PG=(function(){function r(e,t,n,i,a){var s,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Yd(z7.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),FG=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return nc(r,gl),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<t.length&&t[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},r})(),LG=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(n=i[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in l=this.glyphsFor(t))n=l[a],i[a]=n;return i},r.prototype.encode=function(e,t){var n,i,a,s,o,l,c,u,d,h,f,g,y,w,x;for(i in n=H7.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},x=n.charMap)f[(l=x[i]).old]=l.new;for(g in h=n.maxGlyphID,s)g in f||(f[g]=h++);return u=(function(T){var v,R;for(v in R={},T)R[T[v]]=v;return R})(f),d=Object.keys(u).sort(function(T,v){return T-v}),y=(function(){var T,v,R;for(R=[],T=0,v=d.length;T<v;T++)o=d[T],R.push(u[o]);return R})(),a=this.font.glyf.encode(s,y,f),c=this.font.loca.encode(a.offsets,y),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},r})();en.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,a,s;if(Array.isArray(t))return"["+(function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)n=t[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+t},e})();const DG=()=>{const[r,e]=Qe.useState([]),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),l=Qe.useRef(null),c=h=>{if(h.target.files&&h.target.files.length>0){const f=[];Array.from(h.target.files).forEach(g=>{if(!g.type.startsWith("image/")||g.size>10*1024*1024)return;const y=URL.createObjectURL(g);f.push({id:Math.random().toString(36).substr(2,9),url:y,file:g})}),e(g=>[...g,...f]),o(null),a(null)}l.current&&(l.current.value="")},u=h=>{e(f=>f.filter(g=>g.id!==h)),o(null)},d=async()=>{if(r.length!==0){n(!0),a(null);try{const h=new en,f=210,g=297;for(let x=0;x<r.length;x++){const T=r[x];x>0&&h.addPage();const v=h.getImageProperties(T.url),R=v.width/v.height,M=f/g;let B=f,L=f/R;L>g&&(L=g,B=g*R);const z=(f-B)/2,H=(g-L)/2;h.addImage(T.url,"JPEG",z,H,B,L)}const y=h.output("blob"),w=URL.createObjectURL(y);o(w)}catch(h){console.error(h),a("Failed to generate PDF. Please try again.")}finally{n(!1)}}};return b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Convert Images to PDF"}),b.jsxs("div",{onClick:()=>{var h;return(h=l.current)==null?void 0:h.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group",children:[b.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:b.jsx(U1,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),b.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload images"}),b.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"JPG, PNG supported"})]}),b.jsx("input",{type:"file",ref:l,className:"hidden",accept:"image/png, image/jpeg, image/jpg",multiple:!0,onChange:c})]}),r.length>0&&b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.map((h,f)=>b.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 aspect-square bg-slate-50 dark:bg-slate-800",children:[b.jsx("img",{src:h.url,alt:`Upload ${f}`,className:"w-full h-full object-contain"}),b.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:b.jsx("button",{onClick:()=>u(h.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:b.jsx(a0,{className:"w-4 h-4"})})}),b.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded-md",children:f+1})]},h.id)),b.jsxs("div",{onClick:()=>{var h;return(h=l.current)==null?void 0:h.click()},className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl aspect-square cursor-pointer hover:border-primary-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[b.jsx(JP,{className:"w-6 h-6 text-slate-400"}),b.jsx("span",{className:"text-xs text-slate-500 mt-2",children:"Add More"})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.length>0&&!s&&b.jsxs("button",{onClick:d,disabled:t,className:"w-full md:w-auto px-8 py-4 bg-primary-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/30 flex items-center justify-center gap-2 hover:bg-primary-700 transition-all disabled:opacity-70",children:[t?b.jsx(si,{className:"w-6 h-6 animate-spin"}):b.jsx(tP,{className:"w-6 h-6"}),t?"Converting...":`Convert ${r.length} Images to PDF`]}),s&&b.jsxs("div",{className:"w-full animate-fade-in bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/50 rounded-2xl p-8 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(ma,{className:"w-8 h-8 text-green-600"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"PDF Ready!"}),b.jsx("p",{className:"text-slate-500 mb-6",children:"Your images have been combined successfully."}),b.jsxs("div",{className:"flex gap-4 justify-center",children:[b.jsxs("a",{href:s,download:"converted-images.pdf",className:"px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:shadow-lg transition-all flex items-center gap-2",children:[b.jsx(ma,{className:"w-4 h-4"})," Download PDF"]}),b.jsx("button",{onClick:()=>{o(null),e([])},className:"px-6 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Start Over"})]})]}),i&&b.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[b.jsx(Qs,{className:"w-5 h-5"}),i]})]})]})})},BG=()=>{const[r,e]=Qe.useState([]),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),[l,c]=Qe.useState("png"),[u,d]=Qe.useState(1),h=Qe.useRef(null),f=async y=>{var x;const w=(x=y.target.files)==null?void 0:x[0];if(w){if(w.type!=="application/pdf"){a("Only PDF files allowed.");return}const T=await w.arrayBuffer();o({name:w.name,data:T}),e([]),a(null)}h.current&&(h.current.value="")},g=async()=>{if(s){n(!0),a(null),e([]);try{const y=await window.pdfjsLib.getDocument(s.data).promise,w=y.numPages,x=[];for(let T=1;T<=w;T++){const v=await y.getPage(T),R=v.getViewport({scale:2}),M=document.createElement("canvas"),B=M.getContext("2d");M.height=R.height,M.width=R.width,await v.render({canvasContext:B,viewport:R}).promise;const L=l==="png"?"image/png":"image/jpeg",z=M.toDataURL(L,u);x.push(z)}e(x)}catch(y){console.error(y),a("Failed to convert PDF. The file might be corrupted or password protected.")}finally{n(!1)}}};return b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12",children:r.length===0?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsx("label",{className:"block text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Upload PDF"}),s?b.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600",children:b.jsx(L5,{className:"w-8 h-8"})}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-lg",children:s.name}),b.jsx("p",{className:"text-sm text-slate-500",children:"Ready to convert"})]})]}),b.jsx("button",{onClick:()=>{o(null),h.current&&(h.current.value="")},className:"text-red-500 hover:text-red-700 font-medium",children:"Remove"})]}):b.jsxs("div",{onClick:()=>{var y;return(y=h.current)==null?void 0:y.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-12 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all",children:[b.jsx(L5,{className:"w-16 h-16 text-slate-400 mb-4"}),b.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload PDF"}),b.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Converts each page to an image"})]}),b.jsx("input",{type:"file",ref:h,className:"hidden",accept:"application/pdf",onChange:f})]}),s&&b.jsx("div",{className:"mb-8 flex justify-center gap-6",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Format:"}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>c("png"),className:`px-3 py-1 text-xs font-bold rounded-md ${l==="png"?"bg-white dark:bg-slate-700 shadow text-primary-600":"text-slate-500"}`,children:"PNG"}),b.jsx("button",{onClick:()=>c("jpeg"),className:`px-3 py-1 text-xs font-bold rounded-md ${l==="jpeg"?"bg-white dark:bg-slate-700 shadow text-primary-600":"text-slate-500"}`,children:"JPG"})]})]})}),b.jsxs("button",{onClick:g,disabled:!s||t,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/30 flex items-center justify-center gap-2 disabled:opacity-50 hover:bg-primary-700 transition-colors",children:[t?b.jsx(si,{className:"w-6 h-6 animate-spin"}):b.jsx(L5,{className:"w-6 h-6"}),t?"Converting...":"Convert to Images"]}),i&&b.jsxs("p",{className:"mt-4 text-red-500 font-medium flex items-center justify-center gap-2",children:[b.jsx(Qs,{className:"w-5 h-5"})," ",i]})]}):b.jsxs("div",{className:"animate-fade-in text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(Qa,{className:"w-8 h-8 text-green-600"})}),b.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Conversion Complete!"}),b.jsxs("p",{className:"text-slate-500 mb-8",children:[r.length," pages converted successfully."]}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8 max-h-[500px] overflow-y-auto custom-scrollbar p-2",children:r.map((y,w)=>b.jsxs("div",{className:"group relative rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",children:[b.jsx("img",{src:y,alt:`Page ${w+1}`,className:"w-full h-auto object-contain"}),b.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:b.jsx("a",{href:y,download:`${s==null?void 0:s.name.replace(".pdf","")}-page-${w+1}.${l}`,className:"p-2 bg-white rounded-full text-primary-600 hover:text-primary-700 shadow-lg",children:b.jsx(ma,{className:"w-5 h-5"})})}),b.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:["Page ",w+1]})]},w))}),b.jsx("button",{onClick:()=>{e([]),o(null)},className:"py-3 px-8 border border-slate-200 dark:border-slate-700 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Convert Another"})]})})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C4=function(r,e){return C4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},C4(r,e)};function Dt(r,e){C4(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var mn=function(){return mn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},mn.apply(this,arguments)};function OG(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function kn(r,e,t,n){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(r,[])).next())})}function En(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zn(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}var J0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tg=new Uint8Array(256);for(var Sb=0;Sb<J0.length;Sb++)tg[J0.charCodeAt(Sb)]=Sb;var jG=function(r){for(var e="",t=r.length,n=0;n<t;n+=3)e+=J0[r[n]>>2],e+=J0[(r[n]&3)<<4|r[n+1]>>4],e+=J0[(r[n+1]&15)<<2|r[n+2]>>6],e+=J0[r[n+2]&63];return t%3===2?e=e.substring(0,e.length-1)+"=":t%3===1&&(e=e.substring(0,e.length-2)+"=="),e},Gk=function(r){var e=r.length*.75,t=r.length,n,i=0,a,s,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=new Uint8Array(e);for(n=0;n<t;n+=4)a=tg[r.charCodeAt(n)],s=tg[r.charCodeAt(n+1)],o=tg[r.charCodeAt(n+2)],l=tg[r.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return c},UG=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,qG=function(r){var e=r.trim(),t=e.substring(0,100),n=t.match(UG);if(!n)return Gk(e);var i=n[0],a=e.substring(i.length);return Gk(a)},fn=function(r){return r.charCodeAt(0)},HG=function(r){return r.codePointAt(0)},C2=function(r,e){return ul(r.toString(16),e,"0").toUpperCase()},Wx=function(r){return C2(r,2)},hu=function(r){return String.fromCharCode(r)},zG=function(r){return hu(parseInt(r,16))},ul=function(r,e,t){for(var n="",i=0,a=e-r.length;i<a;i++)n+=t;return n+r},pa=function(r,e,t){for(var n=r.length,i=0;i<n;i++)e[t++]=r.charCodeAt(i);return n},VG=function(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},T2=function(r){return r.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},GG=["\\n","\\f","\\r","\\u000B"],V7=function(r){return/^[\n\f\r\u000B]$/.test(r)},G7=function(r){return r.split(/[\n\f\r\u000B]/)},W7=function(r){return r.replace(/[\n\f\r\u000B]/g," ")},X7=function(r,e){var t=r.charCodeAt(e),n,i=e+1,a=1;return t>=55296&&t<=56319&&r.length>i&&(n=r.charCodeAt(i),n>=56320&&n<=57343&&(a=2)),[r.slice(e,e+a),a]},WG=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=X7(r,t),a=i[0],s=i[1];e.push(a),t+=s}return e},XG=function(r){for(var e=GG.join("|"),t=["$"],n=0,i=r.length;n<i;n++){var a=r[n];if(V7(a))throw new TypeError("`wordBreak` must not include "+e);t.push(a===""?".":VG(a))}var s=t.join("|");return new RegExp("("+e+")|((.*?)("+s+"))","gm")},KG=function(r,e,t,n){for(var i=XG(e),a=T2(r).match(i),s="",o=0,l=[],c=function(){s!==""&&l.push(s),s="",o=0},u=0,d=a.length;u<d;u++){var h=a[u];if(V7(h))c();else{var f=n(h);o+f>t&&c(),s+=h,o+=f}}return c(),l},YG=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,K7=function(r){var e=r.match(YG);if(e){var t=e[1],n=e[2],i=n===void 0?"01":n,a=e[3],s=a===void 0?"01":a,o=e[4],l=o===void 0?"00":o,c=e[5],u=c===void 0?"00":c,d=e[6],h=d===void 0?"00":d,f=e[7],g=f===void 0?"Z":f,y=e[8],w=y===void 0?"00":y,x=e[9],T=x===void 0?"00":x,v=g==="Z"?"Z":""+g+w+":"+T,R=new Date(t+"-"+i+"-"+s+"T"+l+":"+u+":"+h+v);return R}},uS=function(r,e){for(var t,n=0,i;n<r.length;){var a=r.substring(n).match(e);if(!a)return{match:i,pos:n};i=a,n+=((t=a.index)!==null&&t!==void 0?t:0)+a[0].length}return{match:i,pos:n}},$y=function(r){return r[r.length-1]},T4=function(r){if(r instanceof Uint8Array)return r;for(var e=r.length,t=new Uint8Array(e),n=0;n<e;n++)t[n]=r.charCodeAt(n);return t},ZG=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=r.length,n=[],i=0;i<t;i++){var a=r[i];n[i]=a instanceof Uint8Array?a:T4(a)}for(var s=0,i=0;i<t;i++)s+=r[i].length;for(var o=new Uint8Array(s),l=0,c=0;c<t;c++)for(var u=n[c],d=0,h=u.length;d<h;d++)o[l++]=u[d];return o},JG=function(r){for(var e=0,t=0,n=r.length;t<n;t++)e+=r[t].length;for(var i=new Uint8Array(e),a=0,t=0,n=r.length;t<n;t++){var s=r[t];i.set(s,a),a+=s.length}return i},Y7=function(r){for(var e="",t=0,n=r.length;t<n;t++)e+=hu(r[t]);return e},QG=function(r,e){return r.id-e.id},$G=function(r,e){for(var t=[],n=0,i=r.length;n<i;n++){var a=r[n],s=r[n-1];(n===0||e(a)!==e(s))&&t.push(a)}return t},C0=function(r){for(var e=r.length,t=0,n=Math.floor(e/2);t<n;t++){var i=t,a=e-t-1,s=r[t];r[i]=r[a],r[a]=s}return r},eW=function(r){for(var e=0,t=0,n=r.length;t<n;t++)e+=r[t];return e},tW=function(r,e){for(var t=new Array(e-r),n=0,i=t.length;n<i;n++)t[n]=r+n;return t},nW=function(r,e){for(var t=new Array(e.length),n=0,i=e.length;n<i;n++)t[n]=r[e[n]];return t},rW=function(r){return r instanceof Uint8Array||r instanceof ArrayBuffer||typeof r=="string"},Em=function(r){if(typeof r=="string")return qG(r);if(r instanceof ArrayBuffer)return new Uint8Array(r);if(r instanceof Uint8Array)return r;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},B1=function(){return new Promise(function(r){setTimeout(function(){return r()},0)})},iW=function(r,e){e===void 0&&(e=!0);var t=[];e&&t.push(65279);for(var n=0,i=r.length;n<i;){var a=r.codePointAt(n);if(a<65536)t.push(a),n+=1;else if(a<1114112)t.push(Z7(a),J7(a)),n+=2;else throw new Error("Invalid code point: 0x"+Wx(a))}return new Uint16Array(t)},aW=function(r){return r>=0&&r<=65535},sW=function(r){return r>=65536&&r<=1114111},Z7=function(r){return Math.floor((r-65536)/1024)+55296},J7=function(r){return(r-65536)%1024+56320},Vd;(function(r){r.BigEndian="BigEndian",r.LittleEndian="LittleEndian"})(Vd||(Vd={}));var Cm="".codePointAt(0),Q7=function(r,e){if(e===void 0&&(e=!0),r.length<=1)return String.fromCodePoint(Cm);for(var t=e?lW(r):Vd.BigEndian,n=e?2:0,i=[];r.length-n>=2;){var a=Xk(r[n++],r[n++],t);if(oW(a))if(r.length-n<2)i.push(Cm);else{var s=Xk(r[n++],r[n++],t);Wk(s)?i.push(a,s):i.push(Cm)}else Wk(a)?(n+=2,i.push(Cm)):i.push(a)}return n<r.length&&i.push(Cm),String.fromCodePoint.apply(String,i)},oW=function(r){return r>=55296&&r<=56319},Wk=function(r){return r>=56320&&r<=57343},Xk=function(r,e,t){if(t===Vd.LittleEndian)return e<<8|r;if(t===Vd.BigEndian)return r<<8|e;throw new Error("Invalid byteOrder: "+t)},lW=function(r){return $7(r)?Vd.BigEndian:eI(r)?Vd.LittleEndian:Vd.BigEndian},$7=function(r){return r[0]===254&&r[1]===255},eI=function(r){return r[0]===255&&r[1]===254},tI=function(r){return $7(r)||eI(r)},cW=function(r){var e=String(r);if(Math.abs(r)<1){var t=parseInt(r.toString().split("e-")[1]);if(t){var n=r<0;n&&(r*=-1),r*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+r.toString().substring(2),n&&(e="-"+e)}}else{var t=parseInt(r.toString().split("+")[1]);t>20&&(t-=20,r/=Math.pow(10,t),e=r.toString()+new Array(t+1).join("0"))}return e},ky=function(r){return Math.ceil(r.toString(2).length/8)},T0=function(r){for(var e=new Uint8Array(ky(r)),t=1;t<=e.length;t++)e[t-1]=r>>(e.length-t)*8;return e},N2=function(r){throw new Error(r)},hw={},Kk;function th(){return Kk||(Kk=1,(function(r){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(a,s){return Object.prototype.hasOwnProperty.call(a,s)}r.assign=function(a){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var l in o)t(o,l)&&(a[l]=o[l])}}return a},r.shrinkBuf=function(a,s){return a.length===s?a:a.subarray?a.subarray(0,s):(a.length=s,a)};var n={arraySet:function(a,s,o,l,c){if(s.subarray&&a.subarray){a.set(s.subarray(o,o+l),c);return}for(var u=0;u<l;u++)a[c+u]=s[o+u]},flattenChunks:function(a){var s,o,l,c,u,d;for(l=0,s=0,o=a.length;s<o;s++)l+=a[s].length;for(d=new Uint8Array(l),c=0,s=0,o=a.length;s<o;s++)u=a[s],d.set(u,c),c+=u.length;return d}},i={arraySet:function(a,s,o,l,c){for(var u=0;u<l;u++)a[c+u]=s[o+u]},flattenChunks:function(a){return[].concat.apply([],a)}};r.setTyped=function(a){a?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(e)})(hw)),hw}var N0={},Go={},yh={},Yk;function uW(){if(Yk)return yh;Yk=1;var r=th(),e=4,t=0,n=1,i=2;function a(N){for(var _e=N.length;--_e>=0;)N[_e]=0}var s=0,o=1,l=2,c=3,u=258,d=29,h=256,f=h+1+d,g=30,y=19,w=2*f+1,x=15,T=16,v=7,R=256,M=16,B=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,ee=new Array((f+2)*2);a(ee);var J=new Array(g*2);a(J);var re=new Array(D);a(re);var q=new Array(u-c+1);a(q);var W=new Array(d);a(W);var le=new Array(g);a(le);function ue(N,_e,ke,Le,Y){this.static_tree=N,this.extra_bits=_e,this.extra_base=ke,this.elems=Le,this.max_length=Y,this.has_stree=N&&N.length}var oe,F,C;function I(N,_e){this.dyn_tree=N,this.max_code=0,this.stat_desc=_e}function O(N){return N<256?re[N]:re[256+(N>>>7)]}function X(N,_e){N.pending_buf[N.pending++]=_e&255,N.pending_buf[N.pending++]=_e>>>8&255}function te(N,_e,ke){N.bi_valid>T-ke?(N.bi_buf|=_e<<N.bi_valid&65535,X(N,N.bi_buf),N.bi_buf=_e>>T-N.bi_valid,N.bi_valid+=ke-T):(N.bi_buf|=_e<<N.bi_valid&65535,N.bi_valid+=ke)}function ie(N,_e,ke){te(N,ke[_e*2],ke[_e*2+1])}function ne(N,_e){var ke=0;do ke|=N&1,N>>>=1,ke<<=1;while(--_e>0);return ke>>>1}function we(N){N.bi_valid===16?(X(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function Ee(N,_e){var ke=_e.dyn_tree,Le=_e.max_code,Y=_e.stat_desc.static_tree,ge=_e.stat_desc.has_stree,S=_e.stat_desc.extra_bits,Ae=_e.stat_desc.extra_base,Xe=_e.stat_desc.max_length,m,pe,he,k,G,j,se=0;for(k=0;k<=x;k++)N.bl_count[k]=0;for(ke[N.heap[N.heap_max]*2+1]=0,m=N.heap_max+1;m<w;m++)pe=N.heap[m],k=ke[ke[pe*2+1]*2+1]+1,k>Xe&&(k=Xe,se++),ke[pe*2+1]=k,!(pe>Le)&&(N.bl_count[k]++,G=0,pe>=Ae&&(G=S[pe-Ae]),j=ke[pe*2],N.opt_len+=j*(k+G),ge&&(N.static_len+=j*(Y[pe*2+1]+G)));if(se!==0){do{for(k=Xe-1;N.bl_count[k]===0;)k--;N.bl_count[k]--,N.bl_count[k+1]+=2,N.bl_count[Xe]--,se-=2}while(se>0);for(k=Xe;k!==0;k--)for(pe=N.bl_count[k];pe!==0;)he=N.heap[--m],!(he>Le)&&(ke[he*2+1]!==k&&(N.opt_len+=(k-ke[he*2+1])*ke[he*2],ke[he*2+1]=k),pe--)}}function He(N,_e,ke){var Le=new Array(x+1),Y=0,ge,S;for(ge=1;ge<=x;ge++)Le[ge]=Y=Y+ke[ge-1]<<1;for(S=0;S<=_e;S++){var Ae=N[S*2+1];Ae!==0&&(N[S*2]=ne(Le[Ae]++,Ae))}}function Ue(){var N,_e,ke,Le,Y,ge=new Array(x+1);for(ke=0,Le=0;Le<d-1;Le++)for(W[Le]=ke,N=0;N<1<<z[Le];N++)q[ke++]=Le;for(q[ke-1]=Le,Y=0,Le=0;Le<16;Le++)for(le[Le]=Y,N=0;N<1<<H[Le];N++)re[Y++]=Le;for(Y>>=7;Le<g;Le++)for(le[Le]=Y<<7,N=0;N<1<<H[Le]-7;N++)re[256+Y++]=Le;for(_e=0;_e<=x;_e++)ge[_e]=0;for(N=0;N<=143;)ee[N*2+1]=8,N++,ge[8]++;for(;N<=255;)ee[N*2+1]=9,N++,ge[9]++;for(;N<=279;)ee[N*2+1]=7,N++,ge[7]++;for(;N<=287;)ee[N*2+1]=8,N++,ge[8]++;for(He(ee,f+1,ge),N=0;N<g;N++)J[N*2+1]=5,J[N*2]=ne(N,5);oe=new ue(ee,z,h+1,f,x),F=new ue(J,H,0,g,x),C=new ue(new Array(0),$,0,y,v)}function We(N){var _e;for(_e=0;_e<f;_e++)N.dyn_ltree[_e*2]=0;for(_e=0;_e<g;_e++)N.dyn_dtree[_e*2]=0;for(_e=0;_e<y;_e++)N.bl_tree[_e*2]=0;N.dyn_ltree[R*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function it(N){N.bi_valid>8?X(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function xe(N,_e,ke,Le){it(N),X(N,ke),X(N,~ke),r.arraySet(N.pending_buf,N.window,_e,ke,N.pending),N.pending+=ke}function nt(N,_e,ke,Le){var Y=_e*2,ge=ke*2;return N[Y]<N[ge]||N[Y]===N[ge]&&Le[_e]<=Le[ke]}function pt(N,_e,ke){for(var Le=N.heap[ke],Y=ke<<1;Y<=N.heap_len&&(Y<N.heap_len&&nt(_e,N.heap[Y+1],N.heap[Y],N.depth)&&Y++,!nt(_e,Le,N.heap[Y],N.depth));)N.heap[ke]=N.heap[Y],ke=Y,Y<<=1;N.heap[ke]=Le}function Z(N,_e,ke){var Le,Y,ge=0,S,Ae;if(N.last_lit!==0)do Le=N.pending_buf[N.d_buf+ge*2]<<8|N.pending_buf[N.d_buf+ge*2+1],Y=N.pending_buf[N.l_buf+ge],ge++,Le===0?ie(N,Y,_e):(S=q[Y],ie(N,S+h+1,_e),Ae=z[S],Ae!==0&&(Y-=W[S],te(N,Y,Ae)),Le--,S=O(Le),ie(N,S,ke),Ae=H[S],Ae!==0&&(Le-=le[S],te(N,Le,Ae)));while(ge<N.last_lit);ie(N,R,_e)}function ce(N,_e){var ke=_e.dyn_tree,Le=_e.stat_desc.static_tree,Y=_e.stat_desc.has_stree,ge=_e.stat_desc.elems,S,Ae,Xe=-1,m;for(N.heap_len=0,N.heap_max=w,S=0;S<ge;S++)ke[S*2]!==0?(N.heap[++N.heap_len]=Xe=S,N.depth[S]=0):ke[S*2+1]=0;for(;N.heap_len<2;)m=N.heap[++N.heap_len]=Xe<2?++Xe:0,ke[m*2]=1,N.depth[m]=0,N.opt_len--,Y&&(N.static_len-=Le[m*2+1]);for(_e.max_code=Xe,S=N.heap_len>>1;S>=1;S--)pt(N,ke,S);m=ge;do S=N.heap[1],N.heap[1]=N.heap[N.heap_len--],pt(N,ke,1),Ae=N.heap[1],N.heap[--N.heap_max]=S,N.heap[--N.heap_max]=Ae,ke[m*2]=ke[S*2]+ke[Ae*2],N.depth[m]=(N.depth[S]>=N.depth[Ae]?N.depth[S]:N.depth[Ae])+1,ke[S*2+1]=ke[Ae*2+1]=m,N.heap[1]=m++,pt(N,ke,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],Ee(N,_e),He(ke,Xe,N.bl_count)}function ut(N,_e,ke){var Le,Y=-1,ge,S=_e[1],Ae=0,Xe=7,m=4;for(S===0&&(Xe=138,m=3),_e[(ke+1)*2+1]=65535,Le=0;Le<=ke;Le++)ge=S,S=_e[(Le+1)*2+1],!(++Ae<Xe&&ge===S)&&(Ae<m?N.bl_tree[ge*2]+=Ae:ge!==0?(ge!==Y&&N.bl_tree[ge*2]++,N.bl_tree[M*2]++):Ae<=10?N.bl_tree[B*2]++:N.bl_tree[L*2]++,Ae=0,Y=ge,S===0?(Xe=138,m=3):ge===S?(Xe=6,m=3):(Xe=7,m=4))}function rt(N,_e,ke){var Le,Y=-1,ge,S=_e[1],Ae=0,Xe=7,m=4;for(S===0&&(Xe=138,m=3),Le=0;Le<=ke;Le++)if(ge=S,S=_e[(Le+1)*2+1],!(++Ae<Xe&&ge===S)){if(Ae<m)do ie(N,ge,N.bl_tree);while(--Ae!==0);else ge!==0?(ge!==Y&&(ie(N,ge,N.bl_tree),Ae--),ie(N,M,N.bl_tree),te(N,Ae-3,2)):Ae<=10?(ie(N,B,N.bl_tree),te(N,Ae-3,3)):(ie(N,L,N.bl_tree),te(N,Ae-11,7));Ae=0,Y=ge,S===0?(Xe=138,m=3):ge===S?(Xe=6,m=3):(Xe=7,m=4)}}function ht(N){var _e;for(ut(N,N.dyn_ltree,N.l_desc.max_code),ut(N,N.dyn_dtree,N.d_desc.max_code),ce(N,N.bl_desc),_e=y-1;_e>=3&&N.bl_tree[U[_e]*2+1]===0;_e--);return N.opt_len+=3*(_e+1)+5+5+4,_e}function mt(N,_e,ke,Le){var Y;for(te(N,_e-257,5),te(N,ke-1,5),te(N,Le-4,4),Y=0;Y<Le;Y++)te(N,N.bl_tree[U[Y]*2+1],3);rt(N,N.dyn_ltree,_e-1),rt(N,N.dyn_dtree,ke-1)}function wt(N){var _e=4093624447,ke;for(ke=0;ke<=31;ke++,_e>>>=1)if(_e&1&&N.dyn_ltree[ke*2]!==0)return t;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return n;for(ke=32;ke<h;ke++)if(N.dyn_ltree[ke*2]!==0)return n;return t}var ft=!1;function Tt(N){ft||(Ue(),ft=!0),N.l_desc=new I(N.dyn_ltree,oe),N.d_desc=new I(N.dyn_dtree,F),N.bl_desc=new I(N.bl_tree,C),N.bi_buf=0,N.bi_valid=0,We(N)}function De(N,_e,ke,Le){te(N,(s<<1)+(Le?1:0),3),xe(N,_e,ke)}function Ve(N){te(N,o<<1,3),ie(N,R,ee),we(N)}function Ke(N,_e,ke,Le){var Y,ge,S=0;N.level>0?(N.strm.data_type===i&&(N.strm.data_type=wt(N)),ce(N,N.l_desc),ce(N,N.d_desc),S=ht(N),Y=N.opt_len+3+7>>>3,ge=N.static_len+3+7>>>3,ge<=Y&&(Y=ge)):Y=ge=ke+5,ke+4<=Y&&_e!==-1?De(N,_e,ke,Le):N.strategy===e||ge===Y?(te(N,(o<<1)+(Le?1:0),3),Z(N,ee,J)):(te(N,(l<<1)+(Le?1:0),3),mt(N,N.l_desc.max_code+1,N.d_desc.max_code+1,S+1),Z(N,N.dyn_ltree,N.dyn_dtree)),We(N),Le&&it(N)}function gt(N,_e,ke){return N.pending_buf[N.d_buf+N.last_lit*2]=_e>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=_e&255,N.pending_buf[N.l_buf+N.last_lit]=ke&255,N.last_lit++,_e===0?N.dyn_ltree[ke*2]++:(N.matches++,_e--,N.dyn_ltree[(q[ke]+h+1)*2]++,N.dyn_dtree[O(_e)*2]++),N.last_lit===N.lit_bufsize-1}return yh._tr_init=Tt,yh._tr_stored_block=De,yh._tr_flush_block=Ke,yh._tr_tally=gt,yh._tr_align=Ve,yh}var fw,Zk;function nI(){if(Zk)return fw;Zk=1;function r(e,t,n,i){for(var a=e&65535|0,s=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[i++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0}return fw=r,fw}var pw,Jk;function rI(){if(Jk)return pw;Jk=1;function r(){for(var n,i=[],a=0;a<256;a++){n=a;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=r();function t(n,i,a,s){var o=e,l=s+a;n^=-1;for(var c=s;c<l;c++)n=n>>>8^o[(n^i[c])&255];return n^-1}return pw=t,pw}var mw,Qk;function dS(){return Qk||(Qk=1,mw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),mw}var $k;function dW(){if($k)return Go;$k=1;var r=th(),e=uW(),t=nI(),n=rI(),i=dS(),a=0,s=1,o=3,l=4,c=5,u=0,d=1,h=-2,f=-3,g=-5,y=-1,w=1,x=2,T=3,v=4,R=0,M=2,B=8,L=9,z=15,H=8,$=29,U=256,D=U+1+$,ee=30,J=19,re=2*D+1,q=15,W=3,le=258,ue=le+W+1,oe=32,F=42,C=69,I=73,O=91,X=103,te=113,ie=666,ne=1,we=2,Ee=3,He=4,Ue=3;function We(m,pe){return m.msg=i[pe],pe}function it(m){return(m<<1)-(m>4?9:0)}function xe(m){for(var pe=m.length;--pe>=0;)m[pe]=0}function nt(m){var pe=m.state,he=pe.pending;he>m.avail_out&&(he=m.avail_out),he!==0&&(r.arraySet(m.output,pe.pending_buf,pe.pending_out,he,m.next_out),m.next_out+=he,pe.pending_out+=he,m.total_out+=he,m.avail_out-=he,pe.pending-=he,pe.pending===0&&(pe.pending_out=0))}function pt(m,pe){e._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,pe),m.block_start=m.strstart,nt(m.strm)}function Z(m,pe){m.pending_buf[m.pending++]=pe}function ce(m,pe){m.pending_buf[m.pending++]=pe>>>8&255,m.pending_buf[m.pending++]=pe&255}function ut(m,pe,he,k){var G=m.avail_in;return G>k&&(G=k),G===0?0:(m.avail_in-=G,r.arraySet(pe,m.input,m.next_in,G,he),m.state.wrap===1?m.adler=t(m.adler,pe,G,he):m.state.wrap===2&&(m.adler=n(m.adler,pe,G,he)),m.next_in+=G,m.total_in+=G,G)}function rt(m,pe){var he=m.max_chain_length,k=m.strstart,G,j,se=m.prev_length,fe=m.nice_match,me=m.strstart>m.w_size-ue?m.strstart-(m.w_size-ue):0,Te=m.window,Ne=m.w_mask,Pe=m.prev,Fe=m.strstart+le,ze=Te[k+se-1],Ze=Te[k+se];m.prev_length>=m.good_match&&(he>>=2),fe>m.lookahead&&(fe=m.lookahead);do if(G=pe,!(Te[G+se]!==Ze||Te[G+se-1]!==ze||Te[G]!==Te[k]||Te[++G]!==Te[k+1])){k+=2,G++;do;while(Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&k<Fe);if(j=le-(Fe-k),k=Fe-le,j>se){if(m.match_start=pe,se=j,j>=fe)break;ze=Te[k+se-1],Ze=Te[k+se]}}while((pe=Pe[pe&Ne])>me&&--he!==0);return se<=m.lookahead?se:m.lookahead}function ht(m){var pe=m.w_size,he,k,G,j,se;do{if(j=m.window_size-m.lookahead-m.strstart,m.strstart>=pe+(pe-ue)){r.arraySet(m.window,m.window,pe,pe,0),m.match_start-=pe,m.strstart-=pe,m.block_start-=pe,k=m.hash_size,he=k;do G=m.head[--he],m.head[he]=G>=pe?G-pe:0;while(--k);k=pe,he=k;do G=m.prev[--he],m.prev[he]=G>=pe?G-pe:0;while(--k);j+=pe}if(m.strm.avail_in===0)break;if(k=ut(m.strm,m.window,m.strstart+m.lookahead,j),m.lookahead+=k,m.lookahead+m.insert>=W)for(se=m.strstart-m.insert,m.ins_h=m.window[se],m.ins_h=(m.ins_h<<m.hash_shift^m.window[se+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[se+W-1])&m.hash_mask,m.prev[se&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=se,se++,m.insert--,!(m.lookahead+m.insert<W)););}while(m.lookahead<ue&&m.strm.avail_in!==0)}function mt(m,pe){var he=65535;for(he>m.pending_buf_size-5&&(he=m.pending_buf_size-5);;){if(m.lookahead<=1){if(ht(m),m.lookahead===0&&pe===a)return ne;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var k=m.block_start+he;if((m.strstart===0||m.strstart>=k)&&(m.lookahead=m.strstart-k,m.strstart=k,pt(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-ue&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):(m.strstart>m.block_start&&(pt(m,!1),m.strm.avail_out===0),ne)}function wt(m,pe){for(var he,k;;){if(m.lookahead<ue){if(ht(m),m.lookahead<ue&&pe===a)return ne;if(m.lookahead===0)break}if(he=0,m.lookahead>=W&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),he!==0&&m.strstart-he<=m.w_size-ue&&(m.match_length=rt(m,he)),m.match_length>=W)if(k=e._tr_tally(m,m.strstart-m.match_start,m.match_length-W),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=W){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else k=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(k&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=m.strstart<W-1?m.strstart:W-1,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function ft(m,pe){for(var he,k,G;;){if(m.lookahead<ue){if(ht(m),m.lookahead<ue&&pe===a)return ne;if(m.lookahead===0)break}if(he=0,m.lookahead>=W&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=W-1,he!==0&&m.prev_length<m.max_lazy_match&&m.strstart-he<=m.w_size-ue&&(m.match_length=rt(m,he),m.match_length<=5&&(m.strategy===w||m.match_length===W&&m.strstart-m.match_start>4096)&&(m.match_length=W-1)),m.prev_length>=W&&m.match_length<=m.prev_length){G=m.strstart+m.lookahead-W,k=e._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-W),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=G&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=W-1,m.strstart++,k&&(pt(m,!1),m.strm.avail_out===0))return ne}else if(m.match_available){if(k=e._tr_tally(m,0,m.window[m.strstart-1]),k&&pt(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ne}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(k=e._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<W-1?m.strstart:W-1,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function Tt(m,pe){for(var he,k,G,j,se=m.window;;){if(m.lookahead<=le){if(ht(m),m.lookahead<=le&&pe===a)return ne;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=W&&m.strstart>0&&(G=m.strstart-1,k=se[G],k===se[++G]&&k===se[++G]&&k===se[++G])){j=m.strstart+le;do;while(k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&G<j);m.match_length=le-(j-G),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=W?(he=e._tr_tally(m,1,m.match_length-W),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(he=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),he&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function De(m,pe){for(var he;;){if(m.lookahead===0&&(ht(m),m.lookahead===0)){if(pe===a)return ne;break}if(m.match_length=0,he=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,he&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function Ve(m,pe,he,k,G){this.good_length=m,this.max_lazy=pe,this.nice_length=he,this.max_chain=k,this.func=G}var Ke;Ke=[new Ve(0,0,0,0,mt),new Ve(4,4,8,4,wt),new Ve(4,5,16,8,wt),new Ve(4,6,32,32,wt),new Ve(4,4,16,16,ft),new Ve(8,16,32,32,ft),new Ve(8,16,128,128,ft),new Ve(8,32,128,256,ft),new Ve(32,128,258,1024,ft),new Ve(32,258,258,4096,ft)];function gt(m){m.window_size=2*m.w_size,xe(m.head),m.max_lazy_match=Ke[m.level].max_lazy,m.good_match=Ke[m.level].good_length,m.nice_match=Ke[m.level].nice_length,m.max_chain_length=Ke[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=W-1,m.match_available=0,m.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(re*2),this.dyn_dtree=new r.Buf16((2*ee+1)*2),this.bl_tree=new r.Buf16((2*J+1)*2),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(q+1),this.heap=new r.Buf16(2*D+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*D+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(m){var pe;return!m||!m.state?We(m,h):(m.total_in=m.total_out=0,m.data_type=M,pe=m.state,pe.pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?F:te,m.adler=pe.wrap===2?0:1,pe.last_flush=a,e._tr_init(pe),u)}function ke(m){var pe=_e(m);return pe===u&&gt(m.state),pe}function Le(m,pe){return!m||!m.state||m.state.wrap!==2?h:(m.state.gzhead=pe,u)}function Y(m,pe,he,k,G,j){if(!m)return h;var se=1;if(pe===y&&(pe=6),k<0?(se=0,k=-k):k>15&&(se=2,k-=16),G<1||G>L||he!==B||k<8||k>15||pe<0||pe>9||j<0||j>v)return We(m,h);k===8&&(k=9);var fe=new N;return m.state=fe,fe.strm=m,fe.wrap=se,fe.gzhead=null,fe.w_bits=k,fe.w_size=1<<fe.w_bits,fe.w_mask=fe.w_size-1,fe.hash_bits=G+7,fe.hash_size=1<<fe.hash_bits,fe.hash_mask=fe.hash_size-1,fe.hash_shift=~~((fe.hash_bits+W-1)/W),fe.window=new r.Buf8(fe.w_size*2),fe.head=new r.Buf16(fe.hash_size),fe.prev=new r.Buf16(fe.w_size),fe.lit_bufsize=1<<G+6,fe.pending_buf_size=fe.lit_bufsize*4,fe.pending_buf=new r.Buf8(fe.pending_buf_size),fe.d_buf=1*fe.lit_bufsize,fe.l_buf=3*fe.lit_bufsize,fe.level=pe,fe.strategy=j,fe.method=he,ke(m)}function ge(m,pe){return Y(m,pe,B,z,H,R)}function S(m,pe){var he,k,G,j;if(!m||!m.state||pe>c||pe<0)return m?We(m,h):h;if(k=m.state,!m.output||!m.input&&m.avail_in!==0||k.status===ie&&pe!==l)return We(m,m.avail_out===0?g:h);if(k.strm=m,he=k.last_flush,k.last_flush=pe,k.status===F)if(k.wrap===2)m.adler=0,Z(k,31),Z(k,139),Z(k,8),k.gzhead?(Z(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Z(k,k.gzhead.time&255),Z(k,k.gzhead.time>>8&255),Z(k,k.gzhead.time>>16&255),Z(k,k.gzhead.time>>24&255),Z(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Z(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Z(k,k.gzhead.extra.length&255),Z(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(m.adler=n(m.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=C):(Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Z(k,Ue),k.status=te);else{var se=B+(k.w_bits-8<<4)<<8,fe=-1;k.strategy>=x||k.level<2?fe=0:k.level<6?fe=1:k.level===6?fe=2:fe=3,se|=fe<<6,k.strstart!==0&&(se|=oe),se+=31-se%31,k.status=te,ce(k,se),k.strstart!==0&&(ce(k,m.adler>>>16),ce(k,m.adler&65535)),m.adler=1}if(k.status===C)if(k.gzhead.extra){for(G=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size));)Z(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=I)}else k.status=I;if(k.status===I)if(k.gzhead.name){G=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size)){j=1;break}k.gzindex<k.gzhead.name.length?j=k.gzhead.name.charCodeAt(k.gzindex++)&255:j=0,Z(k,j)}while(j!==0);k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),j===0&&(k.gzindex=0,k.status=O)}else k.status=O;if(k.status===O)if(k.gzhead.comment){G=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size)){j=1;break}k.gzindex<k.gzhead.comment.length?j=k.gzhead.comment.charCodeAt(k.gzindex++)&255:j=0,Z(k,j)}while(j!==0);k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),j===0&&(k.status=X)}else k.status=X;if(k.status===X&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&nt(m),k.pending+2<=k.pending_buf_size&&(Z(k,m.adler&255),Z(k,m.adler>>8&255),m.adler=0,k.status=te)):k.status=te),k.pending!==0){if(nt(m),m.avail_out===0)return k.last_flush=-1,u}else if(m.avail_in===0&&it(pe)<=it(he)&&pe!==l)return We(m,g);if(k.status===ie&&m.avail_in!==0)return We(m,g);if(m.avail_in!==0||k.lookahead!==0||pe!==a&&k.status!==ie){var me=k.strategy===x?De(k,pe):k.strategy===T?Tt(k,pe):Ke[k.level].func(k,pe);if((me===Ee||me===He)&&(k.status=ie),me===ne||me===Ee)return m.avail_out===0&&(k.last_flush=-1),u;if(me===we&&(pe===s?e._tr_align(k):pe!==c&&(e._tr_stored_block(k,0,0,!1),pe===o&&(xe(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),nt(m),m.avail_out===0))return k.last_flush=-1,u}return pe!==l?u:k.wrap<=0?d:(k.wrap===2?(Z(k,m.adler&255),Z(k,m.adler>>8&255),Z(k,m.adler>>16&255),Z(k,m.adler>>24&255),Z(k,m.total_in&255),Z(k,m.total_in>>8&255),Z(k,m.total_in>>16&255),Z(k,m.total_in>>24&255)):(ce(k,m.adler>>>16),ce(k,m.adler&65535)),nt(m),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?u:d)}function Ae(m){var pe;return!m||!m.state?h:(pe=m.state.status,pe!==F&&pe!==C&&pe!==I&&pe!==O&&pe!==X&&pe!==te&&pe!==ie?We(m,h):(m.state=null,pe===te?We(m,f):u))}function Xe(m,pe){var he=pe.length,k,G,j,se,fe,me,Te,Ne;if(!m||!m.state||(k=m.state,se=k.wrap,se===2||se===1&&k.status!==F||k.lookahead))return h;for(se===1&&(m.adler=t(m.adler,pe,he,0)),k.wrap=0,he>=k.w_size&&(se===0&&(xe(k.head),k.strstart=0,k.block_start=0,k.insert=0),Ne=new r.Buf8(k.w_size),r.arraySet(Ne,pe,he-k.w_size,k.w_size,0),pe=Ne,he=k.w_size),fe=m.avail_in,me=m.next_in,Te=m.input,m.avail_in=he,m.next_in=0,m.input=pe,ht(k);k.lookahead>=W;){G=k.strstart,j=k.lookahead-(W-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+W-1])&k.hash_mask,k.prev[G&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=G,G++;while(--j);k.strstart=G,k.lookahead=W-1,ht(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=W-1,k.match_available=0,m.next_in=me,m.input=Te,m.avail_in=fe,k.wrap=se,u}return Go.deflateInit=ge,Go.deflateInit2=Y,Go.deflateReset=ke,Go.deflateResetKeep=_e,Go.deflateSetHeader=Le,Go.deflate=S,Go.deflateEnd=Ae,Go.deflateSetDictionary=Xe,Go.deflateInfo="pako deflate (from Nodeca project)",Go}var xh={},eE;function iI(){if(eE)return xh;eE=1;var r=th(),e=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var n=new r.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,xh.string2buf=function(s){var o,l,c,u,d,h=s.length,f=0;for(u=0;u<h;u++)l=s.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=s.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),f+=l<128?1:l<2048?2:l<65536?3:4;for(o=new r.Buf8(f),d=0,u=0;d<f;u++)l=s.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=s.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),l<128?o[d++]=l:l<2048?(o[d++]=192|l>>>6,o[d++]=128|l&63):l<65536?(o[d++]=224|l>>>12,o[d++]=128|l>>>6&63,o[d++]=128|l&63):(o[d++]=240|l>>>18,o[d++]=128|l>>>12&63,o[d++]=128|l>>>6&63,o[d++]=128|l&63);return o};function a(s,o){if(o<65534&&(s.subarray&&t||!s.subarray&&e))return String.fromCharCode.apply(null,r.shrinkBuf(s,o));for(var l="",c=0;c<o;c++)l+=String.fromCharCode(s[c]);return l}return xh.buf2binstring=function(s){return a(s,s.length)},xh.binstring2buf=function(s){for(var o=new r.Buf8(s.length),l=0,c=o.length;l<c;l++)o[l]=s.charCodeAt(l);return o},xh.buf2string=function(s,o){var l,c,u,d,h=o||s.length,f=new Array(h*2);for(c=0,l=0;l<h;){if(u=s[l++],u<128){f[c++]=u;continue}if(d=n[u],d>4){f[c++]=65533,l+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&l<h;)u=u<<6|s[l++]&63,d--;if(d>1){f[c++]=65533;continue}u<65536?f[c++]=u:(u-=65536,f[c++]=55296|u>>10&1023,f[c++]=56320|u&1023)}return a(f,c)},xh.utf8border=function(s,o){var l;for(o=o||s.length,o>s.length&&(o=s.length),l=o-1;l>=0&&(s[l]&192)===128;)l--;return l<0||l===0?o:l+n[s[l]]>o?l:o},xh}var gw,tE;function aI(){if(tE)return gw;tE=1;function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return gw=r,gw}var nE;function hW(){if(nE)return N0;nE=1;var r=dW(),e=th(),t=iI(),n=dS(),i=aI(),a=Object.prototype.toString,s=0,o=4,l=0,c=1,u=2,d=-1,h=0,f=8;function g(T){if(!(this instanceof g))return new g(T);this.options=e.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},T||{});var v=this.options;v.raw&&v.windowBits>0?v.windowBits=-v.windowBits:v.gzip&&v.windowBits>0&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var R=r.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(R!==l)throw new Error(n[R]);if(v.header&&r.deflateSetHeader(this.strm,v.header),v.dictionary){var M;if(typeof v.dictionary=="string"?M=t.string2buf(v.dictionary):a.call(v.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(v.dictionary):M=v.dictionary,R=r.deflateSetDictionary(this.strm,M),R!==l)throw new Error(n[R]);this._dict_set=!0}}g.prototype.push=function(T,v){var R=this.strm,M=this.options.chunkSize,B,L;if(this.ended)return!1;L=v===~~v?v:v===!0?o:s,typeof T=="string"?R.input=t.string2buf(T):a.call(T)==="[object ArrayBuffer]"?R.input=new Uint8Array(T):R.input=T,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new e.Buf8(M),R.next_out=0,R.avail_out=M),B=r.deflate(R,L),B!==c&&B!==l)return this.onEnd(B),this.ended=!0,!1;(R.avail_out===0||R.avail_in===0&&(L===o||L===u))&&(this.options.to==="string"?this.onData(t.buf2binstring(e.shrinkBuf(R.output,R.next_out))):this.onData(e.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&B!==c);return L===o?(B=r.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===l):(L===u&&(this.onEnd(l),R.avail_out=0),!0)},g.prototype.onData=function(T){this.chunks.push(T)},g.prototype.onEnd=function(T){T===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function y(T,v){var R=new g(v);if(R.push(T,!0),R.err)throw R.msg||n[R.err];return R.result}function w(T,v){return v=v||{},v.raw=!0,y(T,v)}function x(T,v){return v=v||{},v.gzip=!0,y(T,v)}return N0.Deflate=g,N0.deflate=y,N0.deflateRaw=w,N0.gzip=x,N0}var R0={},co={},vw,rE;function fW(){if(rE)return vw;rE=1;var r=30,e=12;return vw=function(n,i){var a,s,o,l,c,u,d,h,f,g,y,w,x,T,v,R,M,B,L,z,H,$,U,D,ee;a=n.state,s=n.next_in,D=n.input,o=s+(n.avail_in-5),l=n.next_out,ee=n.output,c=l-(i-n.avail_out),u=l+(n.avail_out-257),d=a.dmax,h=a.wsize,f=a.whave,g=a.wnext,y=a.window,w=a.hold,x=a.bits,T=a.lencode,v=a.distcode,R=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;e:do{x<15&&(w+=D[s++]<<x,x+=8,w+=D[s++]<<x,x+=8),B=T[w&R];t:for(;;){if(L=B>>>24,w>>>=L,x-=L,L=B>>>16&255,L===0)ee[l++]=B&65535;else if(L&16){z=B&65535,L&=15,L&&(x<L&&(w+=D[s++]<<x,x+=8),z+=w&(1<<L)-1,w>>>=L,x-=L),x<15&&(w+=D[s++]<<x,x+=8,w+=D[s++]<<x,x+=8),B=v[w&M];n:for(;;){if(L=B>>>24,w>>>=L,x-=L,L=B>>>16&255,L&16){if(H=B&65535,L&=15,x<L&&(w+=D[s++]<<x,x+=8,x<L&&(w+=D[s++]<<x,x+=8)),H+=w&(1<<L)-1,H>d){n.msg="invalid distance too far back",a.mode=r;break e}if(w>>>=L,x-=L,L=l-c,H>L){if(L=H-L,L>f&&a.sane){n.msg="invalid distance too far back",a.mode=r;break e}if($=0,U=y,g===0){if($+=h-L,L<z){z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}}else if(g<L){if($+=h+g-L,L-=g,L<z){z-=L;do ee[l++]=y[$++];while(--L);if($=0,g<z){L=g,z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}}}else if($+=g-L,L<z){z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}for(;z>2;)ee[l++]=U[$++],ee[l++]=U[$++],ee[l++]=U[$++],z-=3;z&&(ee[l++]=U[$++],z>1&&(ee[l++]=U[$++]))}else{$=l-H;do ee[l++]=ee[$++],ee[l++]=ee[$++],ee[l++]=ee[$++],z-=3;while(z>2);z&&(ee[l++]=ee[$++],z>1&&(ee[l++]=ee[$++]))}}else if((L&64)===0){B=v[(B&65535)+(w&(1<<L)-1)];continue n}else{n.msg="invalid distance code",a.mode=r;break e}break}}else if((L&64)===0){B=T[(B&65535)+(w&(1<<L)-1)];continue t}else if(L&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=r;break e}break}}while(s<o&&l<u);z=x>>3,s-=z,x-=z<<3,w&=(1<<x)-1,n.next_in=s,n.next_out=l,n.avail_in=s<o?5+(o-s):5-(s-o),n.avail_out=l<u?257+(u-l):257-(l-u),a.hold=w,a.bits=x},vw}var bw,iE;function pW(){if(iE)return bw;iE=1;var r=th(),e=15,t=852,n=592,i=0,a=1,s=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return bw=function(h,f,g,y,w,x,T,v){var R=v.bits,M=0,B=0,L=0,z=0,H=0,$=0,U=0,D=0,ee=0,J=0,re,q,W,le,ue,oe=null,F=0,C,I=new r.Buf16(e+1),O=new r.Buf16(e+1),X=null,te=0,ie,ne,we;for(M=0;M<=e;M++)I[M]=0;for(B=0;B<y;B++)I[f[g+B]]++;for(H=R,z=e;z>=1&&I[z]===0;z--);if(H>z&&(H=z),z===0)return w[x++]=1<<24|64<<16|0,w[x++]=1<<24|64<<16|0,v.bits=1,0;for(L=1;L<z&&I[L]===0;L++);for(H<L&&(H=L),D=1,M=1;M<=e;M++)if(D<<=1,D-=I[M],D<0)return-1;if(D>0&&(h===i||z!==1))return-1;for(O[1]=0,M=1;M<e;M++)O[M+1]=O[M]+I[M];for(B=0;B<y;B++)f[g+B]!==0&&(T[O[f[g+B]]++]=B);if(h===i?(oe=X=T,C=19):h===a?(oe=o,F-=257,X=l,te-=257,C=256):(oe=c,X=u,C=-1),J=0,B=0,M=L,ue=x,$=H,U=0,W=-1,ee=1<<H,le=ee-1,h===a&&ee>t||h===s&&ee>n)return 1;for(;;){ie=M-U,T[B]<C?(ne=0,we=T[B]):T[B]>C?(ne=X[te+T[B]],we=oe[F+T[B]]):(ne=96,we=0),re=1<<M-U,q=1<<$,L=q;do q-=re,w[ue+(J>>U)+q]=ie<<24|ne<<16|we|0;while(q!==0);for(re=1<<M-1;J&re;)re>>=1;if(re!==0?(J&=re-1,J+=re):J=0,B++,--I[M]===0){if(M===z)break;M=f[g+T[B]]}if(M>H&&(J&le)!==W){for(U===0&&(U=H),ue+=L,$=M-U,D=1<<$;$+U<z&&(D-=I[$+U],!(D<=0));)$++,D<<=1;if(ee+=1<<$,h===a&&ee>t||h===s&&ee>n)return 1;W=J&le,w[W]=H<<24|$<<16|ue-x|0}}return J!==0&&(w[ue+J]=M-U<<24|64<<16|0),v.bits=H,0},bw}var aE;function mW(){if(aE)return co;aE=1;var r=th(),e=nI(),t=rI(),n=fW(),i=pW(),a=0,s=1,o=2,l=4,c=5,u=6,d=0,h=1,f=2,g=-2,y=-3,w=-4,x=-5,T=8,v=1,R=2,M=3,B=4,L=5,z=6,H=7,$=8,U=9,D=10,ee=11,J=12,re=13,q=14,W=15,le=16,ue=17,oe=18,F=19,C=20,I=21,O=22,X=23,te=24,ie=25,ne=26,we=27,Ee=28,He=29,Ue=30,We=31,it=32,xe=852,nt=592,pt=15,Z=pt;function ce(Y){return(Y>>>24&255)+(Y>>>8&65280)+((Y&65280)<<8)+((Y&255)<<24)}function ut(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function rt(Y){var ge;return!Y||!Y.state?g:(ge=Y.state,Y.total_in=Y.total_out=ge.total=0,Y.msg="",ge.wrap&&(Y.adler=ge.wrap&1),ge.mode=v,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new r.Buf32(xe),ge.distcode=ge.distdyn=new r.Buf32(nt),ge.sane=1,ge.back=-1,d)}function ht(Y){var ge;return!Y||!Y.state?g:(ge=Y.state,ge.wsize=0,ge.whave=0,ge.wnext=0,rt(Y))}function mt(Y,ge){var S,Ae;return!Y||!Y.state||(Ae=Y.state,ge<0?(S=0,ge=-ge):(S=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?g:(Ae.window!==null&&Ae.wbits!==ge&&(Ae.window=null),Ae.wrap=S,Ae.wbits=ge,ht(Y))}function wt(Y,ge){var S,Ae;return Y?(Ae=new ut,Y.state=Ae,Ae.window=null,S=mt(Y,ge),S!==d&&(Y.state=null),S):g}function ft(Y){return wt(Y,Z)}var Tt=!0,De,Ve;function Ke(Y){if(Tt){var ge;for(De=new r.Buf32(512),Ve=new r.Buf32(32),ge=0;ge<144;)Y.lens[ge++]=8;for(;ge<256;)Y.lens[ge++]=9;for(;ge<280;)Y.lens[ge++]=7;for(;ge<288;)Y.lens[ge++]=8;for(i(s,Y.lens,0,288,De,0,Y.work,{bits:9}),ge=0;ge<32;)Y.lens[ge++]=5;i(o,Y.lens,0,32,Ve,0,Y.work,{bits:5}),Tt=!1}Y.lencode=De,Y.lenbits=9,Y.distcode=Ve,Y.distbits=5}function gt(Y,ge,S,Ae){var Xe,m=Y.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new r.Buf8(m.wsize)),Ae>=m.wsize?(r.arraySet(m.window,ge,S-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(Xe=m.wsize-m.wnext,Xe>Ae&&(Xe=Ae),r.arraySet(m.window,ge,S-Ae,Xe,m.wnext),Ae-=Xe,Ae?(r.arraySet(m.window,ge,S-Ae,Ae,0),m.wnext=Ae,m.whave=m.wsize):(m.wnext+=Xe,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=Xe))),0}function N(Y,ge){var S,Ae,Xe,m,pe,he,k,G,j,se,fe,me,Te,Ne,Pe=0,Fe,ze,Ze,Ge,at,Nt,vt,lt,bt=new r.Buf8(4),et,kt,zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return g;S=Y.state,S.mode===J&&(S.mode=re),pe=Y.next_out,Xe=Y.output,k=Y.avail_out,m=Y.next_in,Ae=Y.input,he=Y.avail_in,G=S.hold,j=S.bits,se=he,fe=k,lt=d;e:for(;;)switch(S.mode){case v:if(S.wrap===0){S.mode=re;break}for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.wrap&2&&G===35615){S.check=0,bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0),G=0,j=0,S.mode=R;break}if(S.flags=0,S.head&&(S.head.done=!1),!(S.wrap&1)||(((G&255)<<8)+(G>>8))%31){Y.msg="incorrect header check",S.mode=Ue;break}if((G&15)!==T){Y.msg="unknown compression method",S.mode=Ue;break}if(G>>>=4,j-=4,vt=(G&15)+8,S.wbits===0)S.wbits=vt;else if(vt>S.wbits){Y.msg="invalid window size",S.mode=Ue;break}S.dmax=1<<vt,Y.adler=S.check=1,S.mode=G&512?D:J,G=0,j=0;break;case R:for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.flags=G,(S.flags&255)!==T){Y.msg="unknown compression method",S.mode=Ue;break}if(S.flags&57344){Y.msg="unknown header flags set",S.mode=Ue;break}S.head&&(S.head.text=G>>8&1),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0,S.mode=M;case M:for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.head&&(S.head.time=G),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,bt[2]=G>>>16&255,bt[3]=G>>>24&255,S.check=t(S.check,bt,4,0)),G=0,j=0,S.mode=B;case B:for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.head&&(S.head.xflags=G&255,S.head.os=G>>8),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0,S.mode=L;case L:if(S.flags&1024){for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.length=G,S.head&&(S.head.extra_len=G),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0}else S.head&&(S.head.extra=null);S.mode=z;case z:if(S.flags&1024&&(me=S.length,me>he&&(me=he),me&&(S.head&&(vt=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),r.arraySet(S.head.extra,Ae,m,me,vt)),S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,S.length-=me),S.length))break e;S.length=0,S.mode=H;case H:if(S.flags&2048){if(he===0)break e;me=0;do vt=Ae[m+me++],S.head&&vt&&S.length<65536&&(S.head.name+=String.fromCharCode(vt));while(vt&&me<he);if(S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,vt)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=$;case $:if(S.flags&4096){if(he===0)break e;me=0;do vt=Ae[m+me++],S.head&&vt&&S.length<65536&&(S.head.comment+=String.fromCharCode(vt));while(vt&&me<he);if(S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,vt)break e}else S.head&&(S.head.comment=null);S.mode=U;case U:if(S.flags&512){for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G!==(S.check&65535)){Y.msg="header crc mismatch",S.mode=Ue;break}G=0,j=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),Y.adler=S.check=0,S.mode=J;break;case D:for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}Y.adler=S.check=ce(G),G=0,j=0,S.mode=ee;case ee:if(S.havedict===0)return Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,f;Y.adler=S.check=1,S.mode=J;case J:if(ge===c||ge===u)break e;case re:if(S.last){G>>>=j&7,j-=j&7,S.mode=we;break}for(;j<3;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}switch(S.last=G&1,G>>>=1,j-=1,G&3){case 0:S.mode=q;break;case 1:if(Ke(S),S.mode=C,ge===u){G>>>=2,j-=2;break e}break;case 2:S.mode=ue;break;case 3:Y.msg="invalid block type",S.mode=Ue}G>>>=2,j-=2;break;case q:for(G>>>=j&7,j-=j&7;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if((G&65535)!==(G>>>16^65535)){Y.msg="invalid stored block lengths",S.mode=Ue;break}if(S.length=G&65535,G=0,j=0,S.mode=W,ge===u)break e;case W:S.mode=le;case le:if(me=S.length,me){if(me>he&&(me=he),me>k&&(me=k),me===0)break e;r.arraySet(Xe,Ae,m,me,pe),he-=me,m+=me,k-=me,pe+=me,S.length-=me;break}S.mode=J;break;case ue:for(;j<14;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.nlen=(G&31)+257,G>>>=5,j-=5,S.ndist=(G&31)+1,G>>>=5,j-=5,S.ncode=(G&15)+4,G>>>=4,j-=4,S.nlen>286||S.ndist>30){Y.msg="too many length or distance symbols",S.mode=Ue;break}S.have=0,S.mode=oe;case oe:for(;S.have<S.ncode;){for(;j<3;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.lens[zt[S.have++]]=G&7,G>>>=3,j-=3}for(;S.have<19;)S.lens[zt[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,et={bits:S.lenbits},lt=i(a,S.lens,0,19,S.lencode,0,S.work,et),S.lenbits=et.bits,lt){Y.msg="invalid code lengths set",S.mode=Ue;break}S.have=0,S.mode=F;case F:for(;S.have<S.nlen+S.ndist;){for(;Pe=S.lencode[G&(1<<S.lenbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(Ze<16)G>>>=Fe,j-=Fe,S.lens[S.have++]=Ze;else{if(Ze===16){for(kt=Fe+2;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G>>>=Fe,j-=Fe,S.have===0){Y.msg="invalid bit length repeat",S.mode=Ue;break}vt=S.lens[S.have-1],me=3+(G&3),G>>>=2,j-=2}else if(Ze===17){for(kt=Fe+3;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Fe,j-=Fe,vt=0,me=3+(G&7),G>>>=3,j-=3}else{for(kt=Fe+7;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Fe,j-=Fe,vt=0,me=11+(G&127),G>>>=7,j-=7}if(S.have+me>S.nlen+S.ndist){Y.msg="invalid bit length repeat",S.mode=Ue;break}for(;me--;)S.lens[S.have++]=vt}}if(S.mode===Ue)break;if(S.lens[256]===0){Y.msg="invalid code -- missing end-of-block",S.mode=Ue;break}if(S.lenbits=9,et={bits:S.lenbits},lt=i(s,S.lens,0,S.nlen,S.lencode,0,S.work,et),S.lenbits=et.bits,lt){Y.msg="invalid literal/lengths set",S.mode=Ue;break}if(S.distbits=6,S.distcode=S.distdyn,et={bits:S.distbits},lt=i(o,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,et),S.distbits=et.bits,lt){Y.msg="invalid distances set",S.mode=Ue;break}if(S.mode=C,ge===u)break e;case C:S.mode=I;case I:if(he>=6&&k>=258){Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,n(Y,fe),pe=Y.next_out,Xe=Y.output,k=Y.avail_out,m=Y.next_in,Ae=Y.input,he=Y.avail_in,G=S.hold,j=S.bits,S.mode===J&&(S.back=-1);break}for(S.back=0;Pe=S.lencode[G&(1<<S.lenbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(ze&&(ze&240)===0){for(Ge=Fe,at=ze,Nt=Ze;Pe=S.lencode[Nt+((G&(1<<Ge+at)-1)>>Ge)],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Ge+Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Ge,j-=Ge,S.back+=Ge}if(G>>>=Fe,j-=Fe,S.back+=Fe,S.length=Ze,ze===0){S.mode=ne;break}if(ze&32){S.back=-1,S.mode=J;break}if(ze&64){Y.msg="invalid literal/length code",S.mode=Ue;break}S.extra=ze&15,S.mode=O;case O:if(S.extra){for(kt=S.extra;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.length+=G&(1<<S.extra)-1,G>>>=S.extra,j-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=X;case X:for(;Pe=S.distcode[G&(1<<S.distbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if((ze&240)===0){for(Ge=Fe,at=ze,Nt=Ze;Pe=S.distcode[Nt+((G&(1<<Ge+at)-1)>>Ge)],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Ge+Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Ge,j-=Ge,S.back+=Ge}if(G>>>=Fe,j-=Fe,S.back+=Fe,ze&64){Y.msg="invalid distance code",S.mode=Ue;break}S.offset=Ze,S.extra=ze&15,S.mode=te;case te:if(S.extra){for(kt=S.extra;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.offset+=G&(1<<S.extra)-1,G>>>=S.extra,j-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){Y.msg="invalid distance too far back",S.mode=Ue;break}S.mode=ie;case ie:if(k===0)break e;if(me=fe-k,S.offset>me){if(me=S.offset-me,me>S.whave&&S.sane){Y.msg="invalid distance too far back",S.mode=Ue;break}me>S.wnext?(me-=S.wnext,Te=S.wsize-me):Te=S.wnext-me,me>S.length&&(me=S.length),Ne=S.window}else Ne=Xe,Te=pe-S.offset,me=S.length;me>k&&(me=k),k-=me,S.length-=me;do Xe[pe++]=Ne[Te++];while(--me);S.length===0&&(S.mode=I);break;case ne:if(k===0)break e;Xe[pe++]=S.length,k--,S.mode=I;break;case we:if(S.wrap){for(;j<32;){if(he===0)break e;he--,G|=Ae[m++]<<j,j+=8}if(fe-=k,Y.total_out+=fe,S.total+=fe,fe&&(Y.adler=S.check=S.flags?t(S.check,Xe,fe,pe-fe):e(S.check,Xe,fe,pe-fe)),fe=k,(S.flags?G:ce(G))!==S.check){Y.msg="incorrect data check",S.mode=Ue;break}G=0,j=0}S.mode=Ee;case Ee:if(S.wrap&&S.flags){for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G!==(S.total&4294967295)){Y.msg="incorrect length check",S.mode=Ue;break}G=0,j=0}S.mode=He;case He:lt=h;break e;case Ue:lt=y;break e;case We:return w;case it:default:return g}return Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,(S.wsize||fe!==Y.avail_out&&S.mode<Ue&&(S.mode<we||ge!==l))&&gt(Y,Y.output,Y.next_out,fe-Y.avail_out),se-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=se,Y.total_out+=fe,S.total+=fe,S.wrap&&fe&&(Y.adler=S.check=S.flags?t(S.check,Xe,fe,Y.next_out-fe):e(S.check,Xe,fe,Y.next_out-fe)),Y.data_type=S.bits+(S.last?64:0)+(S.mode===J?128:0)+(S.mode===C||S.mode===W?256:0),(se===0&&fe===0||ge===l)&&lt===d&&(lt=x),lt}function _e(Y){if(!Y||!Y.state)return g;var ge=Y.state;return ge.window&&(ge.window=null),Y.state=null,d}function ke(Y,ge){var S;return!Y||!Y.state||(S=Y.state,(S.wrap&2)===0)?g:(S.head=ge,ge.done=!1,d)}function Le(Y,ge){var S=ge.length,Ae,Xe,m;return!Y||!Y.state||(Ae=Y.state,Ae.wrap!==0&&Ae.mode!==ee)?g:Ae.mode===ee&&(Xe=1,Xe=e(Xe,ge,S,0),Xe!==Ae.check)?y:(m=gt(Y,ge,S,S),m?(Ae.mode=We,w):(Ae.havedict=1,d))}return co.inflateReset=ht,co.inflateReset2=mt,co.inflateResetKeep=rt,co.inflateInit=ft,co.inflateInit2=wt,co.inflate=N,co.inflateEnd=_e,co.inflateGetHeader=ke,co.inflateSetDictionary=Le,co.inflateInfo="pako inflate (from Nodeca project)",co}var yw,sE;function sI(){return sE||(sE=1,yw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),yw}var xw,oE;function gW(){if(oE)return xw;oE=1;function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return xw=r,xw}var lE;function vW(){if(lE)return R0;lE=1;var r=mW(),e=th(),t=iI(),n=sI(),i=dS(),a=aI(),s=gW(),o=Object.prototype.toString;function l(d){if(!(this instanceof l))return new l(d);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},d||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(d&&d.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15)===0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,h.windowBits);if(f!==n.Z_OK)throw new Error(i[f]);if(this.header=new s,r.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=t.string2buf(h.dictionary):o.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(f=r.inflateSetDictionary(this.strm,h.dictionary),f!==n.Z_OK)))throw new Error(i[f])}l.prototype.push=function(d,h){var f=this.strm,g=this.options.chunkSize,y=this.options.dictionary,w,x,T,v,R,M=!1;if(this.ended)return!1;x=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof d=="string"?f.input=t.binstring2buf(d):o.call(d)==="[object ArrayBuffer]"?f.input=new Uint8Array(d):f.input=d,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new e.Buf8(g),f.next_out=0,f.avail_out=g),w=r.inflate(f,n.Z_NO_FLUSH),w===n.Z_NEED_DICT&&y&&(w=r.inflateSetDictionary(this.strm,y)),w===n.Z_BUF_ERROR&&M===!0&&(w=n.Z_OK,M=!1),w!==n.Z_STREAM_END&&w!==n.Z_OK)return this.onEnd(w),this.ended=!0,!1;f.next_out&&(f.avail_out===0||w===n.Z_STREAM_END||f.avail_in===0&&(x===n.Z_FINISH||x===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(T=t.utf8border(f.output,f.next_out),v=f.next_out-T,R=t.buf2string(f.output,T),f.next_out=v,f.avail_out=g-v,v&&e.arraySet(f.output,f.output,T,v,0),this.onData(R)):this.onData(e.shrinkBuf(f.output,f.next_out))),f.avail_in===0&&f.avail_out===0&&(M=!0)}while((f.avail_in>0||f.avail_out===0)&&w!==n.Z_STREAM_END);return w===n.Z_STREAM_END&&(x=n.Z_FINISH),x===n.Z_FINISH?(w=r.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===n.Z_OK):(x===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),f.avail_out=0),!0)},l.prototype.onData=function(d){this.chunks.push(d)},l.prototype.onEnd=function(d){d===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function c(d,h){var f=new l(h);if(f.push(d,!0),f.err)throw f.msg||i[f.err];return f.result}function u(d,h){return h=h||{},h.raw=!0,c(d,h)}return R0.Inflate=l,R0.inflate=c,R0.inflateRaw=u,R0.ungzip=c,R0}var ww,cE;function bW(){if(cE)return ww;cE=1;var r=th().assign,e=hW(),t=vW(),n=sI(),i={};return r(i,e,t,n),ww=i,ww}var yW=bW();const xW=Rx(yW);var uE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ng=new Uint8Array(256);for(var Ab=0;Ab<uE.length;Ab++)ng[uE.charCodeAt(Ab)]=Ab;var wW=function(r){var e=r.length*.75,t=r.length,n,i=0,a,s,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=new Uint8Array(e);for(n=0;n<t;n+=4)a=ng[r.charCodeAt(n)],s=ng[r.charCodeAt(n+1)],o=ng[r.charCodeAt(n+2)],l=ng[r.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return c},_W=function(r){for(var e="",t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},oI=function(r){return _W(xW.inflate(wW(r)))},SW=function(r,e,t){for(var n="",i=0,a=e-r.length;i<a;i++)n+=t;return n+r};const AW="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",kW="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",EW="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",CW="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",TW=JSON.parse('"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"'),NW=JSON.parse('"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"'),RW=JSON.parse('"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"'),IW=JSON.parse('"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"'),MW=JSON.parse('"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"'),PW=JSON.parse('"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"'),FW=JSON.parse('"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"'),LW=JSON.parse('"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"'),DW="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",BW="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var OW={Courier:CW,"Courier-Bold":AW,"Courier-Oblique":EW,"Courier-BoldOblique":kW,Helvetica:IW,"Helvetica-Bold":TW,"Helvetica-Oblique":RW,"Helvetica-BoldOblique":NW,"Times-Roman":LW,"Times-Bold":MW,"Times-Italic":FW,"Times-BoldItalic":PW,Symbol:DW,ZapfDingbats:BW},Sg;(function(r){r.Courier="Courier",r.CourierBold="Courier-Bold",r.CourierOblique="Courier-Oblique",r.CourierBoldOblique="Courier-BoldOblique",r.Helvetica="Helvetica",r.HelveticaBold="Helvetica-Bold",r.HelveticaOblique="Helvetica-Oblique",r.HelveticaBoldOblique="Helvetica-BoldOblique",r.TimesRoman="Times-Roman",r.TimesRomanBold="Times-Bold",r.TimesRomanItalic="Times-Italic",r.TimesRomanBoldItalic="Times-BoldItalic",r.Symbol="Symbol",r.ZapfDingbats="ZapfDingbats"})(Sg||(Sg={}));var dE={},jW=(function(){function r(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,n){return(e.KernPairXAmounts[t]||{})[n]}}return r.load=function(e){var t=dE[e];if(t)return t;var n=oI(OW[e]),i=Object.assign(new r,JSON.parse(n));return i.CharWidths=i.CharMetrics.reduce(function(a,s){return a[s.N]=s.WX,a},{}),i.KernPairXAmounts=i.KernPairs.reduce(function(a,s){var o=s[0],l=s[1],c=s[2];return a[o]||(a[o]={}),a[o][l]=c,a},{}),dE[e]=i,i},r})();const UW="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";var qW=oI(UW),_w=JSON.parse(qW),Sw=(function(){function r(e,t){var n=this;this.canEncodeUnicodeCodePoint=function(i){return i in n.unicodeMappings},this.encodeUnicodeCodePoint=function(i){var a=n.unicodeMappings[i];if(!a){var s=String.fromCharCode(i),o="0x"+SW(i.toString(16),4,"0"),l=n.name+' cannot encode "'+s+'" ('+o+")";throw new Error(l)}return{code:a[0],name:a[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort(function(i,a){return i-a}),this.unicodeMappings=t}return r})(),kb={Symbol:new Sw("Symbol",_w.symbol),ZapfDingbats:new Sw("ZapfDingbats",_w.zapfdingbats),WinAnsi:new Sw("WinAnsi",_w.win1252)},Xx=function(r){return Object.keys(r).map(function(e){return r[e]})},HW=Xx(Sg),hE=function(r){return HW.includes(r)},Eb=function(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height},Li=function(r){return"`"+r+"`"},zW=function(r){return"'"+r+"'"},fE=function(r){var e=typeof r;return e==="string"?zW(r):e==="undefined"?Li(r):r},VW=function(r,e,t){for(var n=new Array(t.length),i=0,a=t.length;i<a;i++){var s=t[i];n[i]=fE(s)}var o=n.join(" or ");return Li(e)+" must be one of "+o+", but was actually "+fE(r)},Hd=function(r,e,t){Array.isArray(t)||(t=Xx(t));for(var n=0,i=t.length;n<i;n++)if(r===t[n])return;throw new TypeError(VW(r,e,t))},fo=function(r,e,t){Array.isArray(t)||(t=Xx(t)),Hd(r,e,t.concat(void 0))},GW=function(r,e,t){Array.isArray(t)||(t=Xx(t));for(var n=0,i=r.length;n<i;n++)Hd(r[n],e,t)},WW=function(r){return r===null?"null":r===void 0?"undefined":typeof r=="string"?"string":isNaN(r)?"NaN":typeof r=="number"?"number":typeof r=="boolean"?"boolean":typeof r=="symbol"?"symbol":typeof r=="bigint"?"bigint":r.constructor&&r.constructor.name?r.constructor.name:r.name?r.name:r.constructor?String(r.constructor):String(r)},XW=function(r,e){return e==="null"?r===null:e==="undefined"?r===void 0:e==="string"?typeof r=="string":e==="number"?typeof r=="number"&&!isNaN(r):e==="boolean"?typeof r=="boolean":e==="symbol"?typeof r=="symbol":e==="bigint"?typeof r=="bigint":e===Date?r instanceof Date:e===Array?r instanceof Array:e===Uint8Array?r instanceof Uint8Array:e===ArrayBuffer?r instanceof ArrayBuffer:e===Function?r instanceof Function:r instanceof e[0]},KW=function(r,e,t){for(var n=new Array(t.length),i=0,a=t.length;i<a;i++){var s=t[i];s==="null"&&(n[i]=Li("null")),s==="undefined"&&(n[i]=Li("undefined")),s==="string"?n[i]=Li("string"):s==="number"?n[i]=Li("number"):s==="boolean"?n[i]=Li("boolean"):s==="symbol"?n[i]=Li("symbol"):s==="bigint"?n[i]=Li("bigint"):s===Array?n[i]=Li("Array"):s===Uint8Array?n[i]=Li("Uint8Array"):s===ArrayBuffer?n[i]=Li("ArrayBuffer"):n[i]=Li(s[1])}var o=n.join(" or ");return Li(e)+" must be of type "+o+", but was actually of type "+Li(WW(r))},ot=function(r,e,t){for(var n=0,i=t.length;n<i;n++)if(XW(r,t[n]))return;throw new TypeError(KW(r,e,t))},Lt=function(r,e,t){ot(r,e,t.concat("undefined"))},lI=function(r,e,t){for(var n=0,i=r.length;n<i;n++)ot(r[n],e,t)},Ks=function(r,e,t,n){if(ot(r,e,["number"]),ot(t,"min",["number"]),ot(n,"max",["number"]),n=Math.max(t,n),r<t||r>n)throw new Error(Li(e)+" must be at least "+t+" and at most "+n+", but was actually "+r)},Yo=function(r,e,t,n){ot(r,e,["number","undefined"]),typeof r=="number"&&Ks(r,e,t,n)},cI=function(r,e,t){if(ot(r,e,["number"]),r%t!==0)throw new Error(Li(e)+" must be a multiple of "+t+", but was actually "+r)},YW=function(r,e){if(!Number.isInteger(r))throw new Error(Li(e)+" must be an integer, but was actually "+r)},Kx=function(r,e){if(![1,0].includes(Math.sign(r)))throw new Error(Li(e)+" must be a positive number or 0, but was actually "+r)},gn=new Uint16Array(256);for(var Cb=0;Cb<256;Cb++)gn[Cb]=Cb;gn[22]=fn("");gn[24]=fn("");gn[25]=fn("");gn[26]=fn("");gn[27]=fn("");gn[28]=fn("");gn[29]=fn("");gn[30]=fn("");gn[31]=fn("");gn[127]=fn("");gn[128]=fn("");gn[129]=fn("");gn[130]=fn("");gn[131]=fn("");gn[132]=fn("");gn[133]=fn("");gn[134]=fn("");gn[135]=fn("");gn[136]=fn("");gn[137]=fn("");gn[138]=fn("");gn[139]=fn("");gn[140]=fn("");gn[141]=fn("");gn[142]=fn("");gn[143]=fn("");gn[144]=fn("");gn[145]=fn("");gn[146]=fn("");gn[147]=fn("");gn[148]=fn("");gn[149]=fn("");gn[150]=fn("");gn[151]=fn("");gn[152]=fn("");gn[153]=fn("");gn[154]=fn("");gn[155]=fn("");gn[156]=fn("");gn[157]=fn("");gn[158]=fn("");gn[159]=fn("");gn[160]=fn("");gn[173]=fn("");var uI=function(r){for(var e=new Array(r.length),t=0,n=r.length;t<n;t++)e[t]=gn[r[t]];return String.fromCodePoint.apply(String,e)},fu=(function(){function r(e){this.populate=e,this.value=void 0}return r.prototype.getValue=function(){return this.value},r.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},r.prototype.invalidate=function(){this.value=void 0},r.populatedBy=function(e){return new r(e)},r})(),No=(function(r){Dt(e,r);function e(t,n){var i=this,a="Method "+t+"."+n+"() not implemented";return i=r.call(this,a)||this,i}return e})(Error),hS=(function(r){Dt(e,r);function e(t){var n=this,i="Cannot construct "+t+" - it has a private constructor";return n=r.call(this,i)||this,n}return e})(Error),ex=(function(r){Dt(e,r);function e(t,n){var i=this,a=function(l){var c,u;return(c=l==null?void 0:l.name)!==null&&c!==void 0?c:(u=l==null?void 0:l.constructor)===null||u===void 0?void 0:u.name},s=Array.isArray(t)?t.map(a):[a(t)],o="Expected instance of "+s.join(" or ")+", "+("but got instance of "+(n&&a(n)));return i=r.call(this,o)||this,i}return e})(Error),ZW=(function(r){Dt(e,r);function e(t){var n=this,i=t+" stream encoding not supported";return n=r.call(this,i)||this,n}return e})(Error),fS=(function(r){Dt(e,r);function e(t,n){var i=this,a="Cannot call "+t+"."+n+"() more than once";return i=r.call(this,a)||this,i}return e})(Error);(function(r){Dt(e,r);function e(t){var n=this,i="Missing catalog (ref="+t+")";return n=r.call(this,i)||this,n}return e})(Error);var JW=(function(r){Dt(e,r);function e(){var t=this,n="Can't embed page with missing Contents";return t=r.call(this,n)||this,t}return e})(Error),QW=(function(r){Dt(e,r);function e(t){var n,i,a,s=this,o=(a=(i=(n=t==null?void 0:t.contructor)===null||n===void 0?void 0:n.name)!==null&&i!==void 0?i:t==null?void 0:t.name)!==null&&a!==void 0?a:t,l="Unrecognized stream type: "+o;return s=r.call(this,l)||this,s}return e})(Error),$W=(function(r){Dt(e,r);function e(){var t=this,n="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return t=r.call(this,n)||this,t}return e})(Error),eX=(function(r){Dt(e,r);function e(t){var n=this,i="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return n=r.call(this,i)||this,n}return e})(Error),dI=(function(r){Dt(e,r);function e(t){var n=this,i='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return n=r.call(this,i)||this,n}return e})(Error),pE=(function(r){Dt(e,r);function e(t,n){var i=this,a="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+n;return i=r.call(this,a)||this,i}return e})(Error),mE=(function(r){Dt(e,r);function e(t,n){var i=this,a="Failed to "+n+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return i=r.call(this,a)||this,i}return e})(Error),tx=(function(r){Dt(e,r);function e(t,n,i){var a=this,s="index should be at least "+n+" and at most "+i+", but was actually "+t;return a=r.call(this,s)||this,a}return e})(Error),pS=(function(r){Dt(e,r);function e(){var t=this,n="Attempted to set invalid field value";return t=r.call(this,n)||this,t}return e})(Error),tX=(function(r){Dt(e,r);function e(){var t=this,n="Attempted to select multiple values for single-select field";return t=r.call(this,n)||this,t}return e})(Error),nX=(function(r){Dt(e,r);function e(t){var n=this,i="No /DA (default appearance) entry found for field: "+t;return n=r.call(this,i)||this,n}return e})(Error),rX=(function(r){Dt(e,r);function e(t){var n=this,i="No Tf operator found for DA of field: "+t;return n=r.call(this,i)||this,n}return e})(Error),gE=(function(r){Dt(e,r);function e(t,n){var i=this,a="Failed to parse number "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+n+'"');return i=r.call(this,a)||this,i}return e})(Error),nh=(function(r){Dt(e,r);function e(t,n){var i=this,a="Failed to parse PDF document "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+n);return i=r.call(this,a)||this,i}return e})(Error),iX=(function(r){Dt(e,r);function e(t,n,i){var a=this,s="Expected next byte to be "+n+" but it was actually "+i;return a=r.call(this,t,s)||this,a}return e})(nh),aX=(function(r){Dt(e,r);function e(t,n){var i=this,a="Failed to parse PDF object starting with the following byte: "+n;return i=r.call(this,t,a)||this,i}return e})(nh),sX=(function(r){Dt(e,r);function e(t){var n=this,i="Failed to parse invalid PDF object";return n=r.call(this,t,i)||this,n}return e})(nh),oX=(function(r){Dt(e,r);function e(t){var n=this,i="Failed to parse PDF stream";return n=r.call(this,t,i)||this,n}return e})(nh),lX=(function(r){Dt(e,r);function e(t){var n=this,i="Failed to parse PDF literal string due to unbalanced parenthesis";return n=r.call(this,t,i)||this,n}return e})(nh),cX=(function(r){Dt(e,r);function e(t){var n=this,i="Parser stalled";return n=r.call(this,t,i)||this,n}return e})(nh),uX=(function(r){Dt(e,r);function e(t){var n=this,i="No PDF header found";return n=r.call(this,t,i)||this,n}return e})(nh),dX=(function(r){Dt(e,r);function e(t,n){var i=this,a="Did not find expected keyword '"+Y7(n)+"'";return i=r.call(this,t,a)||this,i}return e})(nh),Be;(function(r){r[r.Null=0]="Null",r[r.Backspace=8]="Backspace",r[r.Tab=9]="Tab",r[r.Newline=10]="Newline",r[r.FormFeed=12]="FormFeed",r[r.CarriageReturn=13]="CarriageReturn",r[r.Space=32]="Space",r[r.ExclamationPoint=33]="ExclamationPoint",r[r.Hash=35]="Hash",r[r.Percent=37]="Percent",r[r.LeftParen=40]="LeftParen",r[r.RightParen=41]="RightParen",r[r.Plus=43]="Plus",r[r.Minus=45]="Minus",r[r.Dash=45]="Dash",r[r.Period=46]="Period",r[r.ForwardSlash=47]="ForwardSlash",r[r.Zero=48]="Zero",r[r.One=49]="One",r[r.Two=50]="Two",r[r.Three=51]="Three",r[r.Four=52]="Four",r[r.Five=53]="Five",r[r.Six=54]="Six",r[r.Seven=55]="Seven",r[r.Eight=56]="Eight",r[r.Nine=57]="Nine",r[r.LessThan=60]="LessThan",r[r.GreaterThan=62]="GreaterThan",r[r.A=65]="A",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.O=79]="O",r[r.P=80]="P",r[r.R=82]="R",r[r.LeftSquareBracket=91]="LeftSquareBracket",r[r.BackSlash=92]="BackSlash",r[r.RightSquareBracket=93]="RightSquareBracket",r[r.a=97]="a",r[r.b=98]="b",r[r.d=100]="d",r[r.e=101]="e",r[r.f=102]="f",r[r.i=105]="i",r[r.j=106]="j",r[r.l=108]="l",r[r.m=109]="m",r[r.n=110]="n",r[r.o=111]="o",r[r.r=114]="r",r[r.s=115]="s",r[r.t=116]="t",r[r.u=117]="u",r[r.x=120]="x",r[r.LeftCurly=123]="LeftCurly",r[r.RightCurly=125]="RightCurly",r[r.Tilde=126]="Tilde"})(Be||(Be={}));var Aw={},vE;function rh(){return vE||(vE=1,(function(r){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(a,s){return Object.prototype.hasOwnProperty.call(a,s)}r.assign=function(a){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var l in o)t(o,l)&&(a[l]=o[l])}}return a},r.shrinkBuf=function(a,s){return a.length===s?a:a.subarray?a.subarray(0,s):(a.length=s,a)};var n={arraySet:function(a,s,o,l,c){if(s.subarray&&a.subarray){a.set(s.subarray(o,o+l),c);return}for(var u=0;u<l;u++)a[c+u]=s[o+u]},flattenChunks:function(a){var s,o,l,c,u,d;for(l=0,s=0,o=a.length;s<o;s++)l+=a[s].length;for(d=new Uint8Array(l),c=0,s=0,o=a.length;s<o;s++)u=a[s],d.set(u,c),c+=u.length;return d}},i={arraySet:function(a,s,o,l,c){for(var u=0;u<l;u++)a[c+u]=s[o+u]},flattenChunks:function(a){return[].concat.apply([],a)}};r.setTyped=function(a){a?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(e)})(Aw)),Aw}var I0={},Wo={},wh={},bE;function hX(){if(bE)return wh;bE=1;var r=rh(),e=4,t=0,n=1,i=2;function a(N){for(var _e=N.length;--_e>=0;)N[_e]=0}var s=0,o=1,l=2,c=3,u=258,d=29,h=256,f=h+1+d,g=30,y=19,w=2*f+1,x=15,T=16,v=7,R=256,M=16,B=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,ee=new Array((f+2)*2);a(ee);var J=new Array(g*2);a(J);var re=new Array(D);a(re);var q=new Array(u-c+1);a(q);var W=new Array(d);a(W);var le=new Array(g);a(le);function ue(N,_e,ke,Le,Y){this.static_tree=N,this.extra_bits=_e,this.extra_base=ke,this.elems=Le,this.max_length=Y,this.has_stree=N&&N.length}var oe,F,C;function I(N,_e){this.dyn_tree=N,this.max_code=0,this.stat_desc=_e}function O(N){return N<256?re[N]:re[256+(N>>>7)]}function X(N,_e){N.pending_buf[N.pending++]=_e&255,N.pending_buf[N.pending++]=_e>>>8&255}function te(N,_e,ke){N.bi_valid>T-ke?(N.bi_buf|=_e<<N.bi_valid&65535,X(N,N.bi_buf),N.bi_buf=_e>>T-N.bi_valid,N.bi_valid+=ke-T):(N.bi_buf|=_e<<N.bi_valid&65535,N.bi_valid+=ke)}function ie(N,_e,ke){te(N,ke[_e*2],ke[_e*2+1])}function ne(N,_e){var ke=0;do ke|=N&1,N>>>=1,ke<<=1;while(--_e>0);return ke>>>1}function we(N){N.bi_valid===16?(X(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function Ee(N,_e){var ke=_e.dyn_tree,Le=_e.max_code,Y=_e.stat_desc.static_tree,ge=_e.stat_desc.has_stree,S=_e.stat_desc.extra_bits,Ae=_e.stat_desc.extra_base,Xe=_e.stat_desc.max_length,m,pe,he,k,G,j,se=0;for(k=0;k<=x;k++)N.bl_count[k]=0;for(ke[N.heap[N.heap_max]*2+1]=0,m=N.heap_max+1;m<w;m++)pe=N.heap[m],k=ke[ke[pe*2+1]*2+1]+1,k>Xe&&(k=Xe,se++),ke[pe*2+1]=k,!(pe>Le)&&(N.bl_count[k]++,G=0,pe>=Ae&&(G=S[pe-Ae]),j=ke[pe*2],N.opt_len+=j*(k+G),ge&&(N.static_len+=j*(Y[pe*2+1]+G)));if(se!==0){do{for(k=Xe-1;N.bl_count[k]===0;)k--;N.bl_count[k]--,N.bl_count[k+1]+=2,N.bl_count[Xe]--,se-=2}while(se>0);for(k=Xe;k!==0;k--)for(pe=N.bl_count[k];pe!==0;)he=N.heap[--m],!(he>Le)&&(ke[he*2+1]!==k&&(N.opt_len+=(k-ke[he*2+1])*ke[he*2],ke[he*2+1]=k),pe--)}}function He(N,_e,ke){var Le=new Array(x+1),Y=0,ge,S;for(ge=1;ge<=x;ge++)Le[ge]=Y=Y+ke[ge-1]<<1;for(S=0;S<=_e;S++){var Ae=N[S*2+1];Ae!==0&&(N[S*2]=ne(Le[Ae]++,Ae))}}function Ue(){var N,_e,ke,Le,Y,ge=new Array(x+1);for(ke=0,Le=0;Le<d-1;Le++)for(W[Le]=ke,N=0;N<1<<z[Le];N++)q[ke++]=Le;for(q[ke-1]=Le,Y=0,Le=0;Le<16;Le++)for(le[Le]=Y,N=0;N<1<<H[Le];N++)re[Y++]=Le;for(Y>>=7;Le<g;Le++)for(le[Le]=Y<<7,N=0;N<1<<H[Le]-7;N++)re[256+Y++]=Le;for(_e=0;_e<=x;_e++)ge[_e]=0;for(N=0;N<=143;)ee[N*2+1]=8,N++,ge[8]++;for(;N<=255;)ee[N*2+1]=9,N++,ge[9]++;for(;N<=279;)ee[N*2+1]=7,N++,ge[7]++;for(;N<=287;)ee[N*2+1]=8,N++,ge[8]++;for(He(ee,f+1,ge),N=0;N<g;N++)J[N*2+1]=5,J[N*2]=ne(N,5);oe=new ue(ee,z,h+1,f,x),F=new ue(J,H,0,g,x),C=new ue(new Array(0),$,0,y,v)}function We(N){var _e;for(_e=0;_e<f;_e++)N.dyn_ltree[_e*2]=0;for(_e=0;_e<g;_e++)N.dyn_dtree[_e*2]=0;for(_e=0;_e<y;_e++)N.bl_tree[_e*2]=0;N.dyn_ltree[R*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function it(N){N.bi_valid>8?X(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function xe(N,_e,ke,Le){it(N),X(N,ke),X(N,~ke),r.arraySet(N.pending_buf,N.window,_e,ke,N.pending),N.pending+=ke}function nt(N,_e,ke,Le){var Y=_e*2,ge=ke*2;return N[Y]<N[ge]||N[Y]===N[ge]&&Le[_e]<=Le[ke]}function pt(N,_e,ke){for(var Le=N.heap[ke],Y=ke<<1;Y<=N.heap_len&&(Y<N.heap_len&&nt(_e,N.heap[Y+1],N.heap[Y],N.depth)&&Y++,!nt(_e,Le,N.heap[Y],N.depth));)N.heap[ke]=N.heap[Y],ke=Y,Y<<=1;N.heap[ke]=Le}function Z(N,_e,ke){var Le,Y,ge=0,S,Ae;if(N.last_lit!==0)do Le=N.pending_buf[N.d_buf+ge*2]<<8|N.pending_buf[N.d_buf+ge*2+1],Y=N.pending_buf[N.l_buf+ge],ge++,Le===0?ie(N,Y,_e):(S=q[Y],ie(N,S+h+1,_e),Ae=z[S],Ae!==0&&(Y-=W[S],te(N,Y,Ae)),Le--,S=O(Le),ie(N,S,ke),Ae=H[S],Ae!==0&&(Le-=le[S],te(N,Le,Ae)));while(ge<N.last_lit);ie(N,R,_e)}function ce(N,_e){var ke=_e.dyn_tree,Le=_e.stat_desc.static_tree,Y=_e.stat_desc.has_stree,ge=_e.stat_desc.elems,S,Ae,Xe=-1,m;for(N.heap_len=0,N.heap_max=w,S=0;S<ge;S++)ke[S*2]!==0?(N.heap[++N.heap_len]=Xe=S,N.depth[S]=0):ke[S*2+1]=0;for(;N.heap_len<2;)m=N.heap[++N.heap_len]=Xe<2?++Xe:0,ke[m*2]=1,N.depth[m]=0,N.opt_len--,Y&&(N.static_len-=Le[m*2+1]);for(_e.max_code=Xe,S=N.heap_len>>1;S>=1;S--)pt(N,ke,S);m=ge;do S=N.heap[1],N.heap[1]=N.heap[N.heap_len--],pt(N,ke,1),Ae=N.heap[1],N.heap[--N.heap_max]=S,N.heap[--N.heap_max]=Ae,ke[m*2]=ke[S*2]+ke[Ae*2],N.depth[m]=(N.depth[S]>=N.depth[Ae]?N.depth[S]:N.depth[Ae])+1,ke[S*2+1]=ke[Ae*2+1]=m,N.heap[1]=m++,pt(N,ke,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],Ee(N,_e),He(ke,Xe,N.bl_count)}function ut(N,_e,ke){var Le,Y=-1,ge,S=_e[1],Ae=0,Xe=7,m=4;for(S===0&&(Xe=138,m=3),_e[(ke+1)*2+1]=65535,Le=0;Le<=ke;Le++)ge=S,S=_e[(Le+1)*2+1],!(++Ae<Xe&&ge===S)&&(Ae<m?N.bl_tree[ge*2]+=Ae:ge!==0?(ge!==Y&&N.bl_tree[ge*2]++,N.bl_tree[M*2]++):Ae<=10?N.bl_tree[B*2]++:N.bl_tree[L*2]++,Ae=0,Y=ge,S===0?(Xe=138,m=3):ge===S?(Xe=6,m=3):(Xe=7,m=4))}function rt(N,_e,ke){var Le,Y=-1,ge,S=_e[1],Ae=0,Xe=7,m=4;for(S===0&&(Xe=138,m=3),Le=0;Le<=ke;Le++)if(ge=S,S=_e[(Le+1)*2+1],!(++Ae<Xe&&ge===S)){if(Ae<m)do ie(N,ge,N.bl_tree);while(--Ae!==0);else ge!==0?(ge!==Y&&(ie(N,ge,N.bl_tree),Ae--),ie(N,M,N.bl_tree),te(N,Ae-3,2)):Ae<=10?(ie(N,B,N.bl_tree),te(N,Ae-3,3)):(ie(N,L,N.bl_tree),te(N,Ae-11,7));Ae=0,Y=ge,S===0?(Xe=138,m=3):ge===S?(Xe=6,m=3):(Xe=7,m=4)}}function ht(N){var _e;for(ut(N,N.dyn_ltree,N.l_desc.max_code),ut(N,N.dyn_dtree,N.d_desc.max_code),ce(N,N.bl_desc),_e=y-1;_e>=3&&N.bl_tree[U[_e]*2+1]===0;_e--);return N.opt_len+=3*(_e+1)+5+5+4,_e}function mt(N,_e,ke,Le){var Y;for(te(N,_e-257,5),te(N,ke-1,5),te(N,Le-4,4),Y=0;Y<Le;Y++)te(N,N.bl_tree[U[Y]*2+1],3);rt(N,N.dyn_ltree,_e-1),rt(N,N.dyn_dtree,ke-1)}function wt(N){var _e=4093624447,ke;for(ke=0;ke<=31;ke++,_e>>>=1)if(_e&1&&N.dyn_ltree[ke*2]!==0)return t;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return n;for(ke=32;ke<h;ke++)if(N.dyn_ltree[ke*2]!==0)return n;return t}var ft=!1;function Tt(N){ft||(Ue(),ft=!0),N.l_desc=new I(N.dyn_ltree,oe),N.d_desc=new I(N.dyn_dtree,F),N.bl_desc=new I(N.bl_tree,C),N.bi_buf=0,N.bi_valid=0,We(N)}function De(N,_e,ke,Le){te(N,(s<<1)+(Le?1:0),3),xe(N,_e,ke)}function Ve(N){te(N,o<<1,3),ie(N,R,ee),we(N)}function Ke(N,_e,ke,Le){var Y,ge,S=0;N.level>0?(N.strm.data_type===i&&(N.strm.data_type=wt(N)),ce(N,N.l_desc),ce(N,N.d_desc),S=ht(N),Y=N.opt_len+3+7>>>3,ge=N.static_len+3+7>>>3,ge<=Y&&(Y=ge)):Y=ge=ke+5,ke+4<=Y&&_e!==-1?De(N,_e,ke,Le):N.strategy===e||ge===Y?(te(N,(o<<1)+(Le?1:0),3),Z(N,ee,J)):(te(N,(l<<1)+(Le?1:0),3),mt(N,N.l_desc.max_code+1,N.d_desc.max_code+1,S+1),Z(N,N.dyn_ltree,N.dyn_dtree)),We(N),Le&&it(N)}function gt(N,_e,ke){return N.pending_buf[N.d_buf+N.last_lit*2]=_e>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=_e&255,N.pending_buf[N.l_buf+N.last_lit]=ke&255,N.last_lit++,_e===0?N.dyn_ltree[ke*2]++:(N.matches++,_e--,N.dyn_ltree[(q[ke]+h+1)*2]++,N.dyn_dtree[O(_e)*2]++),N.last_lit===N.lit_bufsize-1}return wh._tr_init=Tt,wh._tr_stored_block=De,wh._tr_flush_block=Ke,wh._tr_tally=gt,wh._tr_align=Ve,wh}var kw,yE;function hI(){if(yE)return kw;yE=1;function r(e,t,n,i){for(var a=e&65535|0,s=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[i++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0}return kw=r,kw}var Ew,xE;function fI(){if(xE)return Ew;xE=1;function r(){for(var n,i=[],a=0;a<256;a++){n=a;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=r();function t(n,i,a,s){var o=e,l=s+a;n^=-1;for(var c=s;c<l;c++)n=n>>>8^o[(n^i[c])&255];return n^-1}return Ew=t,Ew}var Cw,wE;function mS(){return wE||(wE=1,Cw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Cw}var _E;function fX(){if(_E)return Wo;_E=1;var r=rh(),e=hX(),t=hI(),n=fI(),i=mS(),a=0,s=1,o=3,l=4,c=5,u=0,d=1,h=-2,f=-3,g=-5,y=-1,w=1,x=2,T=3,v=4,R=0,M=2,B=8,L=9,z=15,H=8,$=29,U=256,D=U+1+$,ee=30,J=19,re=2*D+1,q=15,W=3,le=258,ue=le+W+1,oe=32,F=42,C=69,I=73,O=91,X=103,te=113,ie=666,ne=1,we=2,Ee=3,He=4,Ue=3;function We(m,pe){return m.msg=i[pe],pe}function it(m){return(m<<1)-(m>4?9:0)}function xe(m){for(var pe=m.length;--pe>=0;)m[pe]=0}function nt(m){var pe=m.state,he=pe.pending;he>m.avail_out&&(he=m.avail_out),he!==0&&(r.arraySet(m.output,pe.pending_buf,pe.pending_out,he,m.next_out),m.next_out+=he,pe.pending_out+=he,m.total_out+=he,m.avail_out-=he,pe.pending-=he,pe.pending===0&&(pe.pending_out=0))}function pt(m,pe){e._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,pe),m.block_start=m.strstart,nt(m.strm)}function Z(m,pe){m.pending_buf[m.pending++]=pe}function ce(m,pe){m.pending_buf[m.pending++]=pe>>>8&255,m.pending_buf[m.pending++]=pe&255}function ut(m,pe,he,k){var G=m.avail_in;return G>k&&(G=k),G===0?0:(m.avail_in-=G,r.arraySet(pe,m.input,m.next_in,G,he),m.state.wrap===1?m.adler=t(m.adler,pe,G,he):m.state.wrap===2&&(m.adler=n(m.adler,pe,G,he)),m.next_in+=G,m.total_in+=G,G)}function rt(m,pe){var he=m.max_chain_length,k=m.strstart,G,j,se=m.prev_length,fe=m.nice_match,me=m.strstart>m.w_size-ue?m.strstart-(m.w_size-ue):0,Te=m.window,Ne=m.w_mask,Pe=m.prev,Fe=m.strstart+le,ze=Te[k+se-1],Ze=Te[k+se];m.prev_length>=m.good_match&&(he>>=2),fe>m.lookahead&&(fe=m.lookahead);do if(G=pe,!(Te[G+se]!==Ze||Te[G+se-1]!==ze||Te[G]!==Te[k]||Te[++G]!==Te[k+1])){k+=2,G++;do;while(Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&k<Fe);if(j=le-(Fe-k),k=Fe-le,j>se){if(m.match_start=pe,se=j,j>=fe)break;ze=Te[k+se-1],Ze=Te[k+se]}}while((pe=Pe[pe&Ne])>me&&--he!==0);return se<=m.lookahead?se:m.lookahead}function ht(m){var pe=m.w_size,he,k,G,j,se;do{if(j=m.window_size-m.lookahead-m.strstart,m.strstart>=pe+(pe-ue)){r.arraySet(m.window,m.window,pe,pe,0),m.match_start-=pe,m.strstart-=pe,m.block_start-=pe,k=m.hash_size,he=k;do G=m.head[--he],m.head[he]=G>=pe?G-pe:0;while(--k);k=pe,he=k;do G=m.prev[--he],m.prev[he]=G>=pe?G-pe:0;while(--k);j+=pe}if(m.strm.avail_in===0)break;if(k=ut(m.strm,m.window,m.strstart+m.lookahead,j),m.lookahead+=k,m.lookahead+m.insert>=W)for(se=m.strstart-m.insert,m.ins_h=m.window[se],m.ins_h=(m.ins_h<<m.hash_shift^m.window[se+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[se+W-1])&m.hash_mask,m.prev[se&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=se,se++,m.insert--,!(m.lookahead+m.insert<W)););}while(m.lookahead<ue&&m.strm.avail_in!==0)}function mt(m,pe){var he=65535;for(he>m.pending_buf_size-5&&(he=m.pending_buf_size-5);;){if(m.lookahead<=1){if(ht(m),m.lookahead===0&&pe===a)return ne;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var k=m.block_start+he;if((m.strstart===0||m.strstart>=k)&&(m.lookahead=m.strstart-k,m.strstart=k,pt(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-ue&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):(m.strstart>m.block_start&&(pt(m,!1),m.strm.avail_out===0),ne)}function wt(m,pe){for(var he,k;;){if(m.lookahead<ue){if(ht(m),m.lookahead<ue&&pe===a)return ne;if(m.lookahead===0)break}if(he=0,m.lookahead>=W&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),he!==0&&m.strstart-he<=m.w_size-ue&&(m.match_length=rt(m,he)),m.match_length>=W)if(k=e._tr_tally(m,m.strstart-m.match_start,m.match_length-W),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=W){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else k=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(k&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=m.strstart<W-1?m.strstart:W-1,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function ft(m,pe){for(var he,k,G;;){if(m.lookahead<ue){if(ht(m),m.lookahead<ue&&pe===a)return ne;if(m.lookahead===0)break}if(he=0,m.lookahead>=W&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=W-1,he!==0&&m.prev_length<m.max_lazy_match&&m.strstart-he<=m.w_size-ue&&(m.match_length=rt(m,he),m.match_length<=5&&(m.strategy===w||m.match_length===W&&m.strstart-m.match_start>4096)&&(m.match_length=W-1)),m.prev_length>=W&&m.match_length<=m.prev_length){G=m.strstart+m.lookahead-W,k=e._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-W),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=G&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=W-1,m.strstart++,k&&(pt(m,!1),m.strm.avail_out===0))return ne}else if(m.match_available){if(k=e._tr_tally(m,0,m.window[m.strstart-1]),k&&pt(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ne}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(k=e._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<W-1?m.strstart:W-1,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function Tt(m,pe){for(var he,k,G,j,se=m.window;;){if(m.lookahead<=le){if(ht(m),m.lookahead<=le&&pe===a)return ne;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=W&&m.strstart>0&&(G=m.strstart-1,k=se[G],k===se[++G]&&k===se[++G]&&k===se[++G])){j=m.strstart+le;do;while(k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&G<j);m.match_length=le-(j-G),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=W?(he=e._tr_tally(m,1,m.match_length-W),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(he=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),he&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function De(m,pe){for(var he;;){if(m.lookahead===0&&(ht(m),m.lookahead===0)){if(pe===a)return ne;break}if(m.match_length=0,he=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,he&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function Ve(m,pe,he,k,G){this.good_length=m,this.max_lazy=pe,this.nice_length=he,this.max_chain=k,this.func=G}var Ke;Ke=[new Ve(0,0,0,0,mt),new Ve(4,4,8,4,wt),new Ve(4,5,16,8,wt),new Ve(4,6,32,32,wt),new Ve(4,4,16,16,ft),new Ve(8,16,32,32,ft),new Ve(8,16,128,128,ft),new Ve(8,32,128,256,ft),new Ve(32,128,258,1024,ft),new Ve(32,258,258,4096,ft)];function gt(m){m.window_size=2*m.w_size,xe(m.head),m.max_lazy_match=Ke[m.level].max_lazy,m.good_match=Ke[m.level].good_length,m.nice_match=Ke[m.level].nice_length,m.max_chain_length=Ke[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=W-1,m.match_available=0,m.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(re*2),this.dyn_dtree=new r.Buf16((2*ee+1)*2),this.bl_tree=new r.Buf16((2*J+1)*2),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(q+1),this.heap=new r.Buf16(2*D+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*D+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(m){var pe;return!m||!m.state?We(m,h):(m.total_in=m.total_out=0,m.data_type=M,pe=m.state,pe.pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?F:te,m.adler=pe.wrap===2?0:1,pe.last_flush=a,e._tr_init(pe),u)}function ke(m){var pe=_e(m);return pe===u&&gt(m.state),pe}function Le(m,pe){return!m||!m.state||m.state.wrap!==2?h:(m.state.gzhead=pe,u)}function Y(m,pe,he,k,G,j){if(!m)return h;var se=1;if(pe===y&&(pe=6),k<0?(se=0,k=-k):k>15&&(se=2,k-=16),G<1||G>L||he!==B||k<8||k>15||pe<0||pe>9||j<0||j>v)return We(m,h);k===8&&(k=9);var fe=new N;return m.state=fe,fe.strm=m,fe.wrap=se,fe.gzhead=null,fe.w_bits=k,fe.w_size=1<<fe.w_bits,fe.w_mask=fe.w_size-1,fe.hash_bits=G+7,fe.hash_size=1<<fe.hash_bits,fe.hash_mask=fe.hash_size-1,fe.hash_shift=~~((fe.hash_bits+W-1)/W),fe.window=new r.Buf8(fe.w_size*2),fe.head=new r.Buf16(fe.hash_size),fe.prev=new r.Buf16(fe.w_size),fe.lit_bufsize=1<<G+6,fe.pending_buf_size=fe.lit_bufsize*4,fe.pending_buf=new r.Buf8(fe.pending_buf_size),fe.d_buf=1*fe.lit_bufsize,fe.l_buf=3*fe.lit_bufsize,fe.level=pe,fe.strategy=j,fe.method=he,ke(m)}function ge(m,pe){return Y(m,pe,B,z,H,R)}function S(m,pe){var he,k,G,j;if(!m||!m.state||pe>c||pe<0)return m?We(m,h):h;if(k=m.state,!m.output||!m.input&&m.avail_in!==0||k.status===ie&&pe!==l)return We(m,m.avail_out===0?g:h);if(k.strm=m,he=k.last_flush,k.last_flush=pe,k.status===F)if(k.wrap===2)m.adler=0,Z(k,31),Z(k,139),Z(k,8),k.gzhead?(Z(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Z(k,k.gzhead.time&255),Z(k,k.gzhead.time>>8&255),Z(k,k.gzhead.time>>16&255),Z(k,k.gzhead.time>>24&255),Z(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Z(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Z(k,k.gzhead.extra.length&255),Z(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(m.adler=n(m.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=C):(Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Z(k,Ue),k.status=te);else{var se=B+(k.w_bits-8<<4)<<8,fe=-1;k.strategy>=x||k.level<2?fe=0:k.level<6?fe=1:k.level===6?fe=2:fe=3,se|=fe<<6,k.strstart!==0&&(se|=oe),se+=31-se%31,k.status=te,ce(k,se),k.strstart!==0&&(ce(k,m.adler>>>16),ce(k,m.adler&65535)),m.adler=1}if(k.status===C)if(k.gzhead.extra){for(G=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size));)Z(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=I)}else k.status=I;if(k.status===I)if(k.gzhead.name){G=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size)){j=1;break}k.gzindex<k.gzhead.name.length?j=k.gzhead.name.charCodeAt(k.gzindex++)&255:j=0,Z(k,j)}while(j!==0);k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),j===0&&(k.gzindex=0,k.status=O)}else k.status=O;if(k.status===O)if(k.gzhead.comment){G=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size)){j=1;break}k.gzindex<k.gzhead.comment.length?j=k.gzhead.comment.charCodeAt(k.gzindex++)&255:j=0,Z(k,j)}while(j!==0);k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),j===0&&(k.status=X)}else k.status=X;if(k.status===X&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&nt(m),k.pending+2<=k.pending_buf_size&&(Z(k,m.adler&255),Z(k,m.adler>>8&255),m.adler=0,k.status=te)):k.status=te),k.pending!==0){if(nt(m),m.avail_out===0)return k.last_flush=-1,u}else if(m.avail_in===0&&it(pe)<=it(he)&&pe!==l)return We(m,g);if(k.status===ie&&m.avail_in!==0)return We(m,g);if(m.avail_in!==0||k.lookahead!==0||pe!==a&&k.status!==ie){var me=k.strategy===x?De(k,pe):k.strategy===T?Tt(k,pe):Ke[k.level].func(k,pe);if((me===Ee||me===He)&&(k.status=ie),me===ne||me===Ee)return m.avail_out===0&&(k.last_flush=-1),u;if(me===we&&(pe===s?e._tr_align(k):pe!==c&&(e._tr_stored_block(k,0,0,!1),pe===o&&(xe(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),nt(m),m.avail_out===0))return k.last_flush=-1,u}return pe!==l?u:k.wrap<=0?d:(k.wrap===2?(Z(k,m.adler&255),Z(k,m.adler>>8&255),Z(k,m.adler>>16&255),Z(k,m.adler>>24&255),Z(k,m.total_in&255),Z(k,m.total_in>>8&255),Z(k,m.total_in>>16&255),Z(k,m.total_in>>24&255)):(ce(k,m.adler>>>16),ce(k,m.adler&65535)),nt(m),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?u:d)}function Ae(m){var pe;return!m||!m.state?h:(pe=m.state.status,pe!==F&&pe!==C&&pe!==I&&pe!==O&&pe!==X&&pe!==te&&pe!==ie?We(m,h):(m.state=null,pe===te?We(m,f):u))}function Xe(m,pe){var he=pe.length,k,G,j,se,fe,me,Te,Ne;if(!m||!m.state||(k=m.state,se=k.wrap,se===2||se===1&&k.status!==F||k.lookahead))return h;for(se===1&&(m.adler=t(m.adler,pe,he,0)),k.wrap=0,he>=k.w_size&&(se===0&&(xe(k.head),k.strstart=0,k.block_start=0,k.insert=0),Ne=new r.Buf8(k.w_size),r.arraySet(Ne,pe,he-k.w_size,k.w_size,0),pe=Ne,he=k.w_size),fe=m.avail_in,me=m.next_in,Te=m.input,m.avail_in=he,m.next_in=0,m.input=pe,ht(k);k.lookahead>=W;){G=k.strstart,j=k.lookahead-(W-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+W-1])&k.hash_mask,k.prev[G&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=G,G++;while(--j);k.strstart=G,k.lookahead=W-1,ht(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=W-1,k.match_available=0,m.next_in=me,m.input=Te,m.avail_in=fe,k.wrap=se,u}return Wo.deflateInit=ge,Wo.deflateInit2=Y,Wo.deflateReset=ke,Wo.deflateResetKeep=_e,Wo.deflateSetHeader=Le,Wo.deflate=S,Wo.deflateEnd=Ae,Wo.deflateSetDictionary=Xe,Wo.deflateInfo="pako deflate (from Nodeca project)",Wo}var _h={},SE;function pI(){if(SE)return _h;SE=1;var r=rh(),e=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var n=new r.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,_h.string2buf=function(s){var o,l,c,u,d,h=s.length,f=0;for(u=0;u<h;u++)l=s.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=s.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),f+=l<128?1:l<2048?2:l<65536?3:4;for(o=new r.Buf8(f),d=0,u=0;d<f;u++)l=s.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=s.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),l<128?o[d++]=l:l<2048?(o[d++]=192|l>>>6,o[d++]=128|l&63):l<65536?(o[d++]=224|l>>>12,o[d++]=128|l>>>6&63,o[d++]=128|l&63):(o[d++]=240|l>>>18,o[d++]=128|l>>>12&63,o[d++]=128|l>>>6&63,o[d++]=128|l&63);return o};function a(s,o){if(o<65534&&(s.subarray&&t||!s.subarray&&e))return String.fromCharCode.apply(null,r.shrinkBuf(s,o));for(var l="",c=0;c<o;c++)l+=String.fromCharCode(s[c]);return l}return _h.buf2binstring=function(s){return a(s,s.length)},_h.binstring2buf=function(s){for(var o=new r.Buf8(s.length),l=0,c=o.length;l<c;l++)o[l]=s.charCodeAt(l);return o},_h.buf2string=function(s,o){var l,c,u,d,h=o||s.length,f=new Array(h*2);for(c=0,l=0;l<h;){if(u=s[l++],u<128){f[c++]=u;continue}if(d=n[u],d>4){f[c++]=65533,l+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&l<h;)u=u<<6|s[l++]&63,d--;if(d>1){f[c++]=65533;continue}u<65536?f[c++]=u:(u-=65536,f[c++]=55296|u>>10&1023,f[c++]=56320|u&1023)}return a(f,c)},_h.utf8border=function(s,o){var l;for(o=o||s.length,o>s.length&&(o=s.length),l=o-1;l>=0&&(s[l]&192)===128;)l--;return l<0||l===0?o:l+n[s[l]]>o?l:o},_h}var Tw,AE;function mI(){if(AE)return Tw;AE=1;function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Tw=r,Tw}var kE;function pX(){if(kE)return I0;kE=1;var r=fX(),e=rh(),t=pI(),n=mS(),i=mI(),a=Object.prototype.toString,s=0,o=4,l=0,c=1,u=2,d=-1,h=0,f=8;function g(T){if(!(this instanceof g))return new g(T);this.options=e.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},T||{});var v=this.options;v.raw&&v.windowBits>0?v.windowBits=-v.windowBits:v.gzip&&v.windowBits>0&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var R=r.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(R!==l)throw new Error(n[R]);if(v.header&&r.deflateSetHeader(this.strm,v.header),v.dictionary){var M;if(typeof v.dictionary=="string"?M=t.string2buf(v.dictionary):a.call(v.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(v.dictionary):M=v.dictionary,R=r.deflateSetDictionary(this.strm,M),R!==l)throw new Error(n[R]);this._dict_set=!0}}g.prototype.push=function(T,v){var R=this.strm,M=this.options.chunkSize,B,L;if(this.ended)return!1;L=v===~~v?v:v===!0?o:s,typeof T=="string"?R.input=t.string2buf(T):a.call(T)==="[object ArrayBuffer]"?R.input=new Uint8Array(T):R.input=T,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new e.Buf8(M),R.next_out=0,R.avail_out=M),B=r.deflate(R,L),B!==c&&B!==l)return this.onEnd(B),this.ended=!0,!1;(R.avail_out===0||R.avail_in===0&&(L===o||L===u))&&(this.options.to==="string"?this.onData(t.buf2binstring(e.shrinkBuf(R.output,R.next_out))):this.onData(e.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&B!==c);return L===o?(B=r.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===l):(L===u&&(this.onEnd(l),R.avail_out=0),!0)},g.prototype.onData=function(T){this.chunks.push(T)},g.prototype.onEnd=function(T){T===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function y(T,v){var R=new g(v);if(R.push(T,!0),R.err)throw R.msg||n[R.err];return R.result}function w(T,v){return v=v||{},v.raw=!0,y(T,v)}function x(T,v){return v=v||{},v.gzip=!0,y(T,v)}return I0.Deflate=g,I0.deflate=y,I0.deflateRaw=w,I0.gzip=x,I0}var M0={},uo={},Nw,EE;function mX(){if(EE)return Nw;EE=1;var r=30,e=12;return Nw=function(n,i){var a,s,o,l,c,u,d,h,f,g,y,w,x,T,v,R,M,B,L,z,H,$,U,D,ee;a=n.state,s=n.next_in,D=n.input,o=s+(n.avail_in-5),l=n.next_out,ee=n.output,c=l-(i-n.avail_out),u=l+(n.avail_out-257),d=a.dmax,h=a.wsize,f=a.whave,g=a.wnext,y=a.window,w=a.hold,x=a.bits,T=a.lencode,v=a.distcode,R=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;e:do{x<15&&(w+=D[s++]<<x,x+=8,w+=D[s++]<<x,x+=8),B=T[w&R];t:for(;;){if(L=B>>>24,w>>>=L,x-=L,L=B>>>16&255,L===0)ee[l++]=B&65535;else if(L&16){z=B&65535,L&=15,L&&(x<L&&(w+=D[s++]<<x,x+=8),z+=w&(1<<L)-1,w>>>=L,x-=L),x<15&&(w+=D[s++]<<x,x+=8,w+=D[s++]<<x,x+=8),B=v[w&M];n:for(;;){if(L=B>>>24,w>>>=L,x-=L,L=B>>>16&255,L&16){if(H=B&65535,L&=15,x<L&&(w+=D[s++]<<x,x+=8,x<L&&(w+=D[s++]<<x,x+=8)),H+=w&(1<<L)-1,H>d){n.msg="invalid distance too far back",a.mode=r;break e}if(w>>>=L,x-=L,L=l-c,H>L){if(L=H-L,L>f&&a.sane){n.msg="invalid distance too far back",a.mode=r;break e}if($=0,U=y,g===0){if($+=h-L,L<z){z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}}else if(g<L){if($+=h+g-L,L-=g,L<z){z-=L;do ee[l++]=y[$++];while(--L);if($=0,g<z){L=g,z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}}}else if($+=g-L,L<z){z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}for(;z>2;)ee[l++]=U[$++],ee[l++]=U[$++],ee[l++]=U[$++],z-=3;z&&(ee[l++]=U[$++],z>1&&(ee[l++]=U[$++]))}else{$=l-H;do ee[l++]=ee[$++],ee[l++]=ee[$++],ee[l++]=ee[$++],z-=3;while(z>2);z&&(ee[l++]=ee[$++],z>1&&(ee[l++]=ee[$++]))}}else if((L&64)===0){B=v[(B&65535)+(w&(1<<L)-1)];continue n}else{n.msg="invalid distance code",a.mode=r;break e}break}}else if((L&64)===0){B=T[(B&65535)+(w&(1<<L)-1)];continue t}else if(L&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=r;break e}break}}while(s<o&&l<u);z=x>>3,s-=z,x-=z<<3,w&=(1<<x)-1,n.next_in=s,n.next_out=l,n.avail_in=s<o?5+(o-s):5-(s-o),n.avail_out=l<u?257+(u-l):257-(l-u),a.hold=w,a.bits=x},Nw}var Rw,CE;function gX(){if(CE)return Rw;CE=1;var r=rh(),e=15,t=852,n=592,i=0,a=1,s=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Rw=function(h,f,g,y,w,x,T,v){var R=v.bits,M=0,B=0,L=0,z=0,H=0,$=0,U=0,D=0,ee=0,J=0,re,q,W,le,ue,oe=null,F=0,C,I=new r.Buf16(e+1),O=new r.Buf16(e+1),X=null,te=0,ie,ne,we;for(M=0;M<=e;M++)I[M]=0;for(B=0;B<y;B++)I[f[g+B]]++;for(H=R,z=e;z>=1&&I[z]===0;z--);if(H>z&&(H=z),z===0)return w[x++]=1<<24|64<<16|0,w[x++]=1<<24|64<<16|0,v.bits=1,0;for(L=1;L<z&&I[L]===0;L++);for(H<L&&(H=L),D=1,M=1;M<=e;M++)if(D<<=1,D-=I[M],D<0)return-1;if(D>0&&(h===i||z!==1))return-1;for(O[1]=0,M=1;M<e;M++)O[M+1]=O[M]+I[M];for(B=0;B<y;B++)f[g+B]!==0&&(T[O[f[g+B]]++]=B);if(h===i?(oe=X=T,C=19):h===a?(oe=o,F-=257,X=l,te-=257,C=256):(oe=c,X=u,C=-1),J=0,B=0,M=L,ue=x,$=H,U=0,W=-1,ee=1<<H,le=ee-1,h===a&&ee>t||h===s&&ee>n)return 1;for(;;){ie=M-U,T[B]<C?(ne=0,we=T[B]):T[B]>C?(ne=X[te+T[B]],we=oe[F+T[B]]):(ne=96,we=0),re=1<<M-U,q=1<<$,L=q;do q-=re,w[ue+(J>>U)+q]=ie<<24|ne<<16|we|0;while(q!==0);for(re=1<<M-1;J&re;)re>>=1;if(re!==0?(J&=re-1,J+=re):J=0,B++,--I[M]===0){if(M===z)break;M=f[g+T[B]]}if(M>H&&(J&le)!==W){for(U===0&&(U=H),ue+=L,$=M-U,D=1<<$;$+U<z&&(D-=I[$+U],!(D<=0));)$++,D<<=1;if(ee+=1<<$,h===a&&ee>t||h===s&&ee>n)return 1;W=J&le,w[W]=H<<24|$<<16|ue-x|0}}return J!==0&&(w[ue+J]=M-U<<24|64<<16|0),v.bits=H,0},Rw}var TE;function vX(){if(TE)return uo;TE=1;var r=rh(),e=hI(),t=fI(),n=mX(),i=gX(),a=0,s=1,o=2,l=4,c=5,u=6,d=0,h=1,f=2,g=-2,y=-3,w=-4,x=-5,T=8,v=1,R=2,M=3,B=4,L=5,z=6,H=7,$=8,U=9,D=10,ee=11,J=12,re=13,q=14,W=15,le=16,ue=17,oe=18,F=19,C=20,I=21,O=22,X=23,te=24,ie=25,ne=26,we=27,Ee=28,He=29,Ue=30,We=31,it=32,xe=852,nt=592,pt=15,Z=pt;function ce(Y){return(Y>>>24&255)+(Y>>>8&65280)+((Y&65280)<<8)+((Y&255)<<24)}function ut(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function rt(Y){var ge;return!Y||!Y.state?g:(ge=Y.state,Y.total_in=Y.total_out=ge.total=0,Y.msg="",ge.wrap&&(Y.adler=ge.wrap&1),ge.mode=v,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new r.Buf32(xe),ge.distcode=ge.distdyn=new r.Buf32(nt),ge.sane=1,ge.back=-1,d)}function ht(Y){var ge;return!Y||!Y.state?g:(ge=Y.state,ge.wsize=0,ge.whave=0,ge.wnext=0,rt(Y))}function mt(Y,ge){var S,Ae;return!Y||!Y.state||(Ae=Y.state,ge<0?(S=0,ge=-ge):(S=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?g:(Ae.window!==null&&Ae.wbits!==ge&&(Ae.window=null),Ae.wrap=S,Ae.wbits=ge,ht(Y))}function wt(Y,ge){var S,Ae;return Y?(Ae=new ut,Y.state=Ae,Ae.window=null,S=mt(Y,ge),S!==d&&(Y.state=null),S):g}function ft(Y){return wt(Y,Z)}var Tt=!0,De,Ve;function Ke(Y){if(Tt){var ge;for(De=new r.Buf32(512),Ve=new r.Buf32(32),ge=0;ge<144;)Y.lens[ge++]=8;for(;ge<256;)Y.lens[ge++]=9;for(;ge<280;)Y.lens[ge++]=7;for(;ge<288;)Y.lens[ge++]=8;for(i(s,Y.lens,0,288,De,0,Y.work,{bits:9}),ge=0;ge<32;)Y.lens[ge++]=5;i(o,Y.lens,0,32,Ve,0,Y.work,{bits:5}),Tt=!1}Y.lencode=De,Y.lenbits=9,Y.distcode=Ve,Y.distbits=5}function gt(Y,ge,S,Ae){var Xe,m=Y.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new r.Buf8(m.wsize)),Ae>=m.wsize?(r.arraySet(m.window,ge,S-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(Xe=m.wsize-m.wnext,Xe>Ae&&(Xe=Ae),r.arraySet(m.window,ge,S-Ae,Xe,m.wnext),Ae-=Xe,Ae?(r.arraySet(m.window,ge,S-Ae,Ae,0),m.wnext=Ae,m.whave=m.wsize):(m.wnext+=Xe,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=Xe))),0}function N(Y,ge){var S,Ae,Xe,m,pe,he,k,G,j,se,fe,me,Te,Ne,Pe=0,Fe,ze,Ze,Ge,at,Nt,vt,lt,bt=new r.Buf8(4),et,kt,zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return g;S=Y.state,S.mode===J&&(S.mode=re),pe=Y.next_out,Xe=Y.output,k=Y.avail_out,m=Y.next_in,Ae=Y.input,he=Y.avail_in,G=S.hold,j=S.bits,se=he,fe=k,lt=d;e:for(;;)switch(S.mode){case v:if(S.wrap===0){S.mode=re;break}for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.wrap&2&&G===35615){S.check=0,bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0),G=0,j=0,S.mode=R;break}if(S.flags=0,S.head&&(S.head.done=!1),!(S.wrap&1)||(((G&255)<<8)+(G>>8))%31){Y.msg="incorrect header check",S.mode=Ue;break}if((G&15)!==T){Y.msg="unknown compression method",S.mode=Ue;break}if(G>>>=4,j-=4,vt=(G&15)+8,S.wbits===0)S.wbits=vt;else if(vt>S.wbits){Y.msg="invalid window size",S.mode=Ue;break}S.dmax=1<<vt,Y.adler=S.check=1,S.mode=G&512?D:J,G=0,j=0;break;case R:for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.flags=G,(S.flags&255)!==T){Y.msg="unknown compression method",S.mode=Ue;break}if(S.flags&57344){Y.msg="unknown header flags set",S.mode=Ue;break}S.head&&(S.head.text=G>>8&1),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0,S.mode=M;case M:for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.head&&(S.head.time=G),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,bt[2]=G>>>16&255,bt[3]=G>>>24&255,S.check=t(S.check,bt,4,0)),G=0,j=0,S.mode=B;case B:for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.head&&(S.head.xflags=G&255,S.head.os=G>>8),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0,S.mode=L;case L:if(S.flags&1024){for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.length=G,S.head&&(S.head.extra_len=G),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0}else S.head&&(S.head.extra=null);S.mode=z;case z:if(S.flags&1024&&(me=S.length,me>he&&(me=he),me&&(S.head&&(vt=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),r.arraySet(S.head.extra,Ae,m,me,vt)),S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,S.length-=me),S.length))break e;S.length=0,S.mode=H;case H:if(S.flags&2048){if(he===0)break e;me=0;do vt=Ae[m+me++],S.head&&vt&&S.length<65536&&(S.head.name+=String.fromCharCode(vt));while(vt&&me<he);if(S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,vt)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=$;case $:if(S.flags&4096){if(he===0)break e;me=0;do vt=Ae[m+me++],S.head&&vt&&S.length<65536&&(S.head.comment+=String.fromCharCode(vt));while(vt&&me<he);if(S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,vt)break e}else S.head&&(S.head.comment=null);S.mode=U;case U:if(S.flags&512){for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G!==(S.check&65535)){Y.msg="header crc mismatch",S.mode=Ue;break}G=0,j=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),Y.adler=S.check=0,S.mode=J;break;case D:for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}Y.adler=S.check=ce(G),G=0,j=0,S.mode=ee;case ee:if(S.havedict===0)return Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,f;Y.adler=S.check=1,S.mode=J;case J:if(ge===c||ge===u)break e;case re:if(S.last){G>>>=j&7,j-=j&7,S.mode=we;break}for(;j<3;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}switch(S.last=G&1,G>>>=1,j-=1,G&3){case 0:S.mode=q;break;case 1:if(Ke(S),S.mode=C,ge===u){G>>>=2,j-=2;break e}break;case 2:S.mode=ue;break;case 3:Y.msg="invalid block type",S.mode=Ue}G>>>=2,j-=2;break;case q:for(G>>>=j&7,j-=j&7;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if((G&65535)!==(G>>>16^65535)){Y.msg="invalid stored block lengths",S.mode=Ue;break}if(S.length=G&65535,G=0,j=0,S.mode=W,ge===u)break e;case W:S.mode=le;case le:if(me=S.length,me){if(me>he&&(me=he),me>k&&(me=k),me===0)break e;r.arraySet(Xe,Ae,m,me,pe),he-=me,m+=me,k-=me,pe+=me,S.length-=me;break}S.mode=J;break;case ue:for(;j<14;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.nlen=(G&31)+257,G>>>=5,j-=5,S.ndist=(G&31)+1,G>>>=5,j-=5,S.ncode=(G&15)+4,G>>>=4,j-=4,S.nlen>286||S.ndist>30){Y.msg="too many length or distance symbols",S.mode=Ue;break}S.have=0,S.mode=oe;case oe:for(;S.have<S.ncode;){for(;j<3;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.lens[zt[S.have++]]=G&7,G>>>=3,j-=3}for(;S.have<19;)S.lens[zt[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,et={bits:S.lenbits},lt=i(a,S.lens,0,19,S.lencode,0,S.work,et),S.lenbits=et.bits,lt){Y.msg="invalid code lengths set",S.mode=Ue;break}S.have=0,S.mode=F;case F:for(;S.have<S.nlen+S.ndist;){for(;Pe=S.lencode[G&(1<<S.lenbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(Ze<16)G>>>=Fe,j-=Fe,S.lens[S.have++]=Ze;else{if(Ze===16){for(kt=Fe+2;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G>>>=Fe,j-=Fe,S.have===0){Y.msg="invalid bit length repeat",S.mode=Ue;break}vt=S.lens[S.have-1],me=3+(G&3),G>>>=2,j-=2}else if(Ze===17){for(kt=Fe+3;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Fe,j-=Fe,vt=0,me=3+(G&7),G>>>=3,j-=3}else{for(kt=Fe+7;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Fe,j-=Fe,vt=0,me=11+(G&127),G>>>=7,j-=7}if(S.have+me>S.nlen+S.ndist){Y.msg="invalid bit length repeat",S.mode=Ue;break}for(;me--;)S.lens[S.have++]=vt}}if(S.mode===Ue)break;if(S.lens[256]===0){Y.msg="invalid code -- missing end-of-block",S.mode=Ue;break}if(S.lenbits=9,et={bits:S.lenbits},lt=i(s,S.lens,0,S.nlen,S.lencode,0,S.work,et),S.lenbits=et.bits,lt){Y.msg="invalid literal/lengths set",S.mode=Ue;break}if(S.distbits=6,S.distcode=S.distdyn,et={bits:S.distbits},lt=i(o,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,et),S.distbits=et.bits,lt){Y.msg="invalid distances set",S.mode=Ue;break}if(S.mode=C,ge===u)break e;case C:S.mode=I;case I:if(he>=6&&k>=258){Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,n(Y,fe),pe=Y.next_out,Xe=Y.output,k=Y.avail_out,m=Y.next_in,Ae=Y.input,he=Y.avail_in,G=S.hold,j=S.bits,S.mode===J&&(S.back=-1);break}for(S.back=0;Pe=S.lencode[G&(1<<S.lenbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(ze&&(ze&240)===0){for(Ge=Fe,at=ze,Nt=Ze;Pe=S.lencode[Nt+((G&(1<<Ge+at)-1)>>Ge)],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Ge+Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Ge,j-=Ge,S.back+=Ge}if(G>>>=Fe,j-=Fe,S.back+=Fe,S.length=Ze,ze===0){S.mode=ne;break}if(ze&32){S.back=-1,S.mode=J;break}if(ze&64){Y.msg="invalid literal/length code",S.mode=Ue;break}S.extra=ze&15,S.mode=O;case O:if(S.extra){for(kt=S.extra;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.length+=G&(1<<S.extra)-1,G>>>=S.extra,j-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=X;case X:for(;Pe=S.distcode[G&(1<<S.distbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if((ze&240)===0){for(Ge=Fe,at=ze,Nt=Ze;Pe=S.distcode[Nt+((G&(1<<Ge+at)-1)>>Ge)],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Ge+Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Ge,j-=Ge,S.back+=Ge}if(G>>>=Fe,j-=Fe,S.back+=Fe,ze&64){Y.msg="invalid distance code",S.mode=Ue;break}S.offset=Ze,S.extra=ze&15,S.mode=te;case te:if(S.extra){for(kt=S.extra;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.offset+=G&(1<<S.extra)-1,G>>>=S.extra,j-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){Y.msg="invalid distance too far back",S.mode=Ue;break}S.mode=ie;case ie:if(k===0)break e;if(me=fe-k,S.offset>me){if(me=S.offset-me,me>S.whave&&S.sane){Y.msg="invalid distance too far back",S.mode=Ue;break}me>S.wnext?(me-=S.wnext,Te=S.wsize-me):Te=S.wnext-me,me>S.length&&(me=S.length),Ne=S.window}else Ne=Xe,Te=pe-S.offset,me=S.length;me>k&&(me=k),k-=me,S.length-=me;do Xe[pe++]=Ne[Te++];while(--me);S.length===0&&(S.mode=I);break;case ne:if(k===0)break e;Xe[pe++]=S.length,k--,S.mode=I;break;case we:if(S.wrap){for(;j<32;){if(he===0)break e;he--,G|=Ae[m++]<<j,j+=8}if(fe-=k,Y.total_out+=fe,S.total+=fe,fe&&(Y.adler=S.check=S.flags?t(S.check,Xe,fe,pe-fe):e(S.check,Xe,fe,pe-fe)),fe=k,(S.flags?G:ce(G))!==S.check){Y.msg="incorrect data check",S.mode=Ue;break}G=0,j=0}S.mode=Ee;case Ee:if(S.wrap&&S.flags){for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G!==(S.total&4294967295)){Y.msg="incorrect length check",S.mode=Ue;break}G=0,j=0}S.mode=He;case He:lt=h;break e;case Ue:lt=y;break e;case We:return w;case it:default:return g}return Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,(S.wsize||fe!==Y.avail_out&&S.mode<Ue&&(S.mode<we||ge!==l))&&gt(Y,Y.output,Y.next_out,fe-Y.avail_out),se-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=se,Y.total_out+=fe,S.total+=fe,S.wrap&&fe&&(Y.adler=S.check=S.flags?t(S.check,Xe,fe,Y.next_out-fe):e(S.check,Xe,fe,Y.next_out-fe)),Y.data_type=S.bits+(S.last?64:0)+(S.mode===J?128:0)+(S.mode===C||S.mode===W?256:0),(se===0&&fe===0||ge===l)&&lt===d&&(lt=x),lt}function _e(Y){if(!Y||!Y.state)return g;var ge=Y.state;return ge.window&&(ge.window=null),Y.state=null,d}function ke(Y,ge){var S;return!Y||!Y.state||(S=Y.state,(S.wrap&2)===0)?g:(S.head=ge,ge.done=!1,d)}function Le(Y,ge){var S=ge.length,Ae,Xe,m;return!Y||!Y.state||(Ae=Y.state,Ae.wrap!==0&&Ae.mode!==ee)?g:Ae.mode===ee&&(Xe=1,Xe=e(Xe,ge,S,0),Xe!==Ae.check)?y:(m=gt(Y,ge,S,S),m?(Ae.mode=We,w):(Ae.havedict=1,d))}return uo.inflateReset=ht,uo.inflateReset2=mt,uo.inflateResetKeep=rt,uo.inflateInit=ft,uo.inflateInit2=wt,uo.inflate=N,uo.inflateEnd=_e,uo.inflateGetHeader=ke,uo.inflateSetDictionary=Le,uo.inflateInfo="pako inflate (from Nodeca project)",uo}var Iw,NE;function gI(){return NE||(NE=1,Iw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Iw}var Mw,RE;function bX(){if(RE)return Mw;RE=1;function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Mw=r,Mw}var IE;function yX(){if(IE)return M0;IE=1;var r=vX(),e=rh(),t=pI(),n=gI(),i=mS(),a=mI(),s=bX(),o=Object.prototype.toString;function l(d){if(!(this instanceof l))return new l(d);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},d||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(d&&d.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15)===0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,h.windowBits);if(f!==n.Z_OK)throw new Error(i[f]);if(this.header=new s,r.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=t.string2buf(h.dictionary):o.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(f=r.inflateSetDictionary(this.strm,h.dictionary),f!==n.Z_OK)))throw new Error(i[f])}l.prototype.push=function(d,h){var f=this.strm,g=this.options.chunkSize,y=this.options.dictionary,w,x,T,v,R,M=!1;if(this.ended)return!1;x=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof d=="string"?f.input=t.binstring2buf(d):o.call(d)==="[object ArrayBuffer]"?f.input=new Uint8Array(d):f.input=d,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new e.Buf8(g),f.next_out=0,f.avail_out=g),w=r.inflate(f,n.Z_NO_FLUSH),w===n.Z_NEED_DICT&&y&&(w=r.inflateSetDictionary(this.strm,y)),w===n.Z_BUF_ERROR&&M===!0&&(w=n.Z_OK,M=!1),w!==n.Z_STREAM_END&&w!==n.Z_OK)return this.onEnd(w),this.ended=!0,!1;f.next_out&&(f.avail_out===0||w===n.Z_STREAM_END||f.avail_in===0&&(x===n.Z_FINISH||x===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(T=t.utf8border(f.output,f.next_out),v=f.next_out-T,R=t.buf2string(f.output,T),f.next_out=v,f.avail_out=g-v,v&&e.arraySet(f.output,f.output,T,v,0),this.onData(R)):this.onData(e.shrinkBuf(f.output,f.next_out))),f.avail_in===0&&f.avail_out===0&&(M=!0)}while((f.avail_in>0||f.avail_out===0)&&w!==n.Z_STREAM_END);return w===n.Z_STREAM_END&&(x=n.Z_FINISH),x===n.Z_FINISH?(w=r.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===n.Z_OK):(x===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),f.avail_out=0),!0)},l.prototype.onData=function(d){this.chunks.push(d)},l.prototype.onEnd=function(d){d===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function c(d,h){var f=new l(h);if(f.push(d,!0),f.err)throw f.msg||i[f.err];return f.result}function u(d,h){return h=h||{},h.raw=!0,c(d,h)}return M0.Inflate=l,M0.inflate=c,M0.inflateRaw=u,M0.ungzip=c,M0}var Pw,ME;function xX(){if(ME)return Pw;ME=1;var r=rh().assign,e=pX(),t=yX(),n=gI(),i={};return r(i,e,t,n),Pw=i,Pw}var wX=xX();const vI=Rx(wX);var Yx=(function(){function r(e,t){this.major=String(e),this.minor=String(t)}return r.prototype.toString=function(){var e=hu(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},r.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},r.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Be.Percent,e[t++]=Be.P,e[t++]=Be.D,e[t++]=Be.F,e[t++]=Be.Dash,t+=pa(this.major,e,t),e[t++]=Be.Period,t+=pa(this.minor,e,t),e[t++]=Be.Newline,e[t++]=Be.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-n},r.forVersion=function(e,t){return new r(e,t)},r})(),Ya=(function(){function r(){}return r.prototype.clone=function(e){throw new No(this.constructor.name,"clone")},r.prototype.toString=function(){throw new No(this.constructor.name,"toString")},r.prototype.sizeInBytes=function(){throw new No(this.constructor.name,"sizeInBytes")},r.prototype.copyBytesInto=function(e,t){throw new No(this.constructor.name,"copyBytesInto")},r})(),un=(function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.numberValue=t,n.stringValue=cW(t),n}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(t,n){return n+=pa(this.stringValue,t,n),this.stringValue.length},e.of=function(t){return new e(t)},e})(Ya),Yn=(function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.array=[],n.context=t,n}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(t){this.array.push(t)},e.prototype.insert=function(t,n){this.array.splice(t,0,n)},e.prototype.indexOf=function(t){var n=this.array.indexOf(t);return n===-1?void 0:n},e.prototype.remove=function(t){this.array.splice(t,1)},e.prototype.set=function(t,n){this.array[t]=n},e.prototype.get=function(t){return this.array[t]},e.prototype.lookupMaybe=function(t){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return(n=this.context).lookupMaybe.apply(n,zn([this.get(t)],i))},e.prototype.lookup=function(t){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return(n=this.context).lookup.apply(n,zn([this.get(t)],i))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new eX(this.size());var t=this.lookup(0,un).asNumber(),n=this.lookup(1,un).asNumber(),i=this.lookup(2,un).asNumber(),a=this.lookup(3,un).asNumber(),s=t,o=n,l=i-t,c=a-n;return{x:s,y:o,width:l,height:c}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(t){for(var n=e.withContext(t||this.context),i=0,a=this.size();i<a;i++)n.push(this.array[i]);return n},e.prototype.toString=function(){for(var t="[ ",n=0,i=this.size();n<i;n++)t+=this.get(n).toString(),t+=" ";return t+="]",t},e.prototype.sizeInBytes=function(){for(var t=3,n=0,i=this.size();n<i;n++)t+=this.get(n).sizeInBytes()+1;return t},e.prototype.copyBytesInto=function(t,n){var i=n;t[n++]=Be.LeftSquareBracket,t[n++]=Be.Space;for(var a=0,s=this.size();a<s;a++)n+=this.get(a).copyBytesInto(t,n),t[n++]=Be.Space;return t[n++]=Be.RightSquareBracket,n-i},e.prototype.scalePDFNumbers=function(t,n){for(var i=0,a=this.size();i<a;i++){var s=this.lookup(i);if(s instanceof un){var o=i%2===0?t:n;this.set(i,un.of(s.asNumber()*o))}}},e.withContext=function(t){return new e(t)},e})(Ya),Fw={},Ag=(function(r){Dt(e,r);function e(t,n){var i=this;if(t!==Fw)throw new hS("PDFBool");return i=r.call(this)||this,i.value=n,i}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(t,n){return this.value?(t[n++]=Be.t,t[n++]=Be.r,t[n++]=Be.u,t[n++]=Be.e,4):(t[n++]=Be.f,t[n++]=Be.a,t[n++]=Be.l,t[n++]=Be.s,t[n++]=Be.e,5)},e.True=new e(Fw,!0),e.False=new e(Fw,!1),e})(Ya),Bo=new Uint8Array(256);Bo[Be.LeftParen]=1;Bo[Be.RightParen]=1;Bo[Be.LessThan]=1;Bo[Be.GreaterThan]=1;Bo[Be.LeftSquareBracket]=1;Bo[Be.RightSquareBracket]=1;Bo[Be.LeftCurly]=1;Bo[Be.RightCurly]=1;Bo[Be.ForwardSlash]=1;Bo[Be.Percent]=1;var Su=new Uint8Array(256);Su[Be.Null]=1;Su[Be.Tab]=1;Su[Be.Newline]=1;Su[Be.FormFeed]=1;Su[Be.CarriageReturn]=1;Su[Be.Space]=1;var gS=new Uint8Array(256);for(var Tm=0,_X=256;Tm<_X;Tm++)gS[Tm]=Su[Tm]||Bo[Tm]?1:0;gS[Be.Hash]=1;var SX=function(r){return r.replace(/#([\dABCDEF]{2})/g,function(e,t){return zG(t)})},AX=function(r){return r>=Be.ExclamationPoint&&r<=Be.Tilde&&!gS[r]},PE={},FE=new Map,Me=(function(r){Dt(e,r);function e(t,n){var i=this;if(t!==PE)throw new hS("PDFName");i=r.call(this)||this;for(var a="/",s=0,o=n.length;s<o;s++){var l=n[s],c=fn(l);a+=AX(c)?l:"#"+Wx(c)}return i.encodedName=a,i}return e.prototype.asBytes=function(){for(var t=[],n="",i=!1,a=function(d){d!==void 0&&t.push(d),i=!1},s=1,o=this.encodedName.length;s<o;s++){var l=this.encodedName[s],c=fn(l),u=this.encodedName[s+1];i?c>=Be.Zero&&c<=Be.Nine||c>=Be.a&&c<=Be.f||c>=Be.A&&c<=Be.F?(n+=l,(n.length===2||!(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F"))&&(a(parseInt(n,16)),n="")):a(c):c===Be.Hash?i=!0:a(c)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return String.fromCharCode.apply(String,Array.from(t))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(t,n){return n+=pa(this.encodedName,t,n),this.encodedName.length},e.of=function(t){var n=SX(t),i=FE.get(n);return i||(i=new e(PE,n),FE.set(n,i)),i},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e})(Ya),kX=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(t,n){return t[n++]=Be.n,t[n++]=Be.u,t[n++]=Be.l,t[n++]=Be.l,4},e})(Ya);const ds=new kX;var yn=(function(r){Dt(e,r);function e(t,n){var i=r.call(this)||this;return i.dict=t,i.context=n,i}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(t,n){this.dict.set(t,n)},e.prototype.get=function(t,n){n===void 0&&(n=!1);var i=this.dict.get(t);if(!(i===ds&&!n))return i},e.prototype.has=function(t){var n=this.dict.get(t);return n!==void 0&&n!==ds},e.prototype.lookupMaybe=function(t){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var s=i.includes(ds),o=(n=this.context).lookupMaybe.apply(n,zn([this.get(t,s)],i));if(!(o===ds&&!s))return o},e.prototype.lookup=function(t){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var s=i.includes(ds),o=(n=this.context).lookup.apply(n,zn([this.get(t,s)],i));if(!(o===ds&&!s))return o},e.prototype.delete=function(t){return this.dict.delete(t)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(t){t===void 0&&(t="");for(var n=this.keys(),i=Me.of(this.context.addRandomSuffix(t,10));n.includes(i);)i=Me.of(this.context.addRandomSuffix(t,10));return i},e.prototype.clone=function(t){for(var n=e.withContext(t||this.context),i=this.entries(),a=0,s=i.length;a<s;a++){var o=i[a],l=o[0],c=o[1];n.set(l,c)}return n},e.prototype.toString=function(){for(var t=`<<
`,n=this.entries(),i=0,a=n.length;i<a;i++){var s=n[i],o=s[0],l=s[1];t+=o.toString()+" "+l.toString()+`
`}return t+=">>",t},e.prototype.sizeInBytes=function(){for(var t=5,n=this.entries(),i=0,a=n.length;i<a;i++){var s=n[i],o=s[0],l=s[1];t+=o.sizeInBytes()+l.sizeInBytes()+2}return t},e.prototype.copyBytesInto=function(t,n){var i=n;t[n++]=Be.LessThan,t[n++]=Be.LessThan,t[n++]=Be.Newline;for(var a=this.entries(),s=0,o=a.length;s<o;s++){var l=a[s],c=l[0],u=l[1];n+=c.copyBytesInto(t,n),t[n++]=Be.Space,n+=u.copyBytesInto(t,n),t[n++]=Be.Newline}return t[n++]=Be.GreaterThan,t[n++]=Be.GreaterThan,n-i},e.withContext=function(t){return new e(new Map,t)},e.fromMapWithContext=function(t,n){return new e(t,n)},e})(Ya),Zs=(function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.dict=t,n}return e.prototype.clone=function(t){throw new No(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new No(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new No(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new No(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var t=this.getContentsSize();this.dict.set(Me.Length,un.of(t))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var t=this.dict.toString();return t+=`
stream
`,t+=this.getContentsString(),t+=`
endstream`,t},e.prototype.copyBytesInto=function(t,n){this.updateDict();var i=n;n+=this.dict.copyBytesInto(t,n),t[n++]=Be.Newline,t[n++]=Be.s,t[n++]=Be.t,t[n++]=Be.r,t[n++]=Be.e,t[n++]=Be.a,t[n++]=Be.m,t[n++]=Be.Newline;for(var a=this.getContents(),s=0,o=a.length;s<o;s++)t[n++]=a[s];return t[n++]=Be.Newline,t[n++]=Be.e,t[n++]=Be.n,t[n++]=Be.d,t[n++]=Be.s,t[n++]=Be.t,t[n++]=Be.r,t[n++]=Be.e,t[n++]=Be.a,t[n++]=Be.m,n-i},e})(Ya),kg=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.contents=n,i}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(t){return e.of(this.dict.clone(t),this.contents.slice())},e.prototype.getContentsString=function(){return Y7(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(t,n){return new e(t,n)},e})(Zs),LE={},DE=new Map,ir=(function(r){Dt(e,r);function e(t,n,i){var a=this;if(t!==LE)throw new hS("PDFRef");return a=r.call(this)||this,a.objectNumber=n,a.generationNumber=i,a.tag=n+" "+i+" R",a}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(t,n){return n+=pa(this.tag,t,n),this.tag.length},e.of=function(t,n){n===void 0&&(n=0);var i=t+" "+n+" R",a=DE.get(i);return a||(a=new e(LE,t,n),DE.set(i,a)),a},e})(Ya),jn=(function(){function r(e,t){this.name=e,this.args=t||[]}return r.prototype.clone=function(e){for(var t=new Array(this.args.length),n=0,i=t.length;n<i;n++){var a=this.args[n];t[n]=a instanceof Ya?a.clone(e):a}return r.of(this.name,t)},r.prototype.toString=function(){for(var e="",t=0,n=this.args.length;t<n;t++)e+=String(this.args[t])+" ";return e+=this.name,e},r.prototype.sizeInBytes=function(){for(var e=0,t=0,n=this.args.length;t<n;t++){var i=this.args[t];e+=(i instanceof Ya?i.sizeInBytes():i.length)+1}return e+=this.name.length,e},r.prototype.copyBytesInto=function(e,t){for(var n=t,i=0,a=this.args.length;i<a;i++){var s=this.args[i];s instanceof Ya?t+=s.copyBytesInto(e,t):t+=pa(s,e,t),e[t++]=Be.Space}return t+=pa(this.name,e,t),t-n},r.of=function(e,t){return new r(e,t)},r})(),Ln;(function(r){r.NonStrokingColor="sc",r.NonStrokingColorN="scn",r.NonStrokingColorRgb="rg",r.NonStrokingColorGray="g",r.NonStrokingColorCmyk="k",r.NonStrokingColorspace="cs",r.StrokingColor="SC",r.StrokingColorN="SCN",r.StrokingColorRgb="RG",r.StrokingColorGray="G",r.StrokingColorCmyk="K",r.StrokingColorspace="CS",r.BeginMarkedContentSequence="BDC",r.BeginMarkedContent="BMC",r.EndMarkedContent="EMC",r.MarkedContentPointWithProps="DP",r.MarkedContentPoint="MP",r.DrawObject="Do",r.ConcatTransformationMatrix="cm",r.PopGraphicsState="Q",r.PushGraphicsState="q",r.SetFlatness="i",r.SetGraphicsStateParams="gs",r.SetLineCapStyle="J",r.SetLineDashPattern="d",r.SetLineJoinStyle="j",r.SetLineMiterLimit="M",r.SetLineWidth="w",r.SetTextMatrix="Tm",r.SetRenderingIntent="ri",r.AppendRectangle="re",r.BeginInlineImage="BI",r.BeginInlineImageData="ID",r.EndInlineImage="EI",r.ClipEvenOdd="W*",r.ClipNonZero="W",r.CloseAndStroke="s",r.CloseFillEvenOddAndStroke="b*",r.CloseFillNonZeroAndStroke="b",r.ClosePath="h",r.AppendBezierCurve="c",r.CurveToReplicateFinalPoint="y",r.CurveToReplicateInitialPoint="v",r.EndPath="n",r.FillEvenOddAndStroke="B*",r.FillEvenOdd="f*",r.FillNonZeroAndStroke="B",r.FillNonZero="f",r.LegacyFillNonZero="F",r.LineTo="l",r.MoveTo="m",r.ShadingFill="sh",r.StrokePath="S",r.BeginText="BT",r.EndText="ET",r.MoveText="Td",r.MoveTextSetLeading="TD",r.NextLine="T*",r.SetCharacterSpacing="Tc",r.SetFontAndSize="Tf",r.SetTextHorizontalScaling="Tz",r.SetTextLineHeight="TL",r.SetTextRenderingMode="Tr",r.SetTextRise="Ts",r.SetWordSpacing="Tw",r.ShowText="Tj",r.ShowTextAdjusted="TJ",r.ShowTextLine="'",r.ShowTextLineAndSpace='"',r.Type3D0="d0",r.Type3D1="d1",r.BeginCompatibilitySection="BX",r.EndCompatibilitySection="EX"})(Ln||(Ln={}));var vS=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.computeContents=function(){var a=i.getUnencodedContents();return i.encode?vI.deflate(a):a},i.encode=n,n&&t.set(Me.of("Filter"),Me.of("FlateDecode")),i.contentsCache=fu.populatedBy(i.computeContents),i}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new No(this.constructor.name,"getUnencodedContents")},e})(Zs),ug=(function(r){Dt(e,r);function e(t,n,i){i===void 0&&(i=!0);var a=r.call(this,t,i)||this;return a.operators=n,a}return e.prototype.push=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=this.operators).push.apply(t,n)},e.prototype.clone=function(t){for(var n=new Array(this.operators.length),i=0,a=this.operators.length;i<a;i++)n[i]=this.operators[i].clone(t);var s=this,o=s.dict,l=s.encode;return e.of(o.clone(t),n,l)},e.prototype.getContentsString=function(){for(var t="",n=0,i=this.operators.length;n<i;n++)t+=this.operators[n]+`
`;return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),n=0,i=0,a=this.operators.length;i<a;i++)n+=this.operators[i].copyBytesInto(t,n),t[n++]=Be.Newline;return t},e.prototype.getUnencodedContentsSize=function(){for(var t=0,n=0,i=this.operators.length;n<i;n++)t+=this.operators[n].sizeInBytes()+1;return t},e.of=function(t,n,i){return i===void 0&&(i=!0),new e(t,n,i)},e})(vS),EX=(function(){function r(e){this.seed=e}return r.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},r.withSeed=function(e){return new r(e)},r})(),CX=function(r,e){var t=r[0],n=e[0];return t.objectNumber-n.objectNumber},N4=(function(){function r(){this.largestObjectNumber=0,this.header=Yx.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=EX.withSeed(1)}return r.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},r.prototype.nextRef=function(){return this.largestObjectNumber+=1,ir.of(this.largestObjectNumber)},r.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},r.prototype.delete=function(e){return this.indirectObjects.delete(e)},r.prototype.lookupMaybe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t.includes(ds),a=e instanceof ir?this.indirectObjects.get(e):e;if(!(!a||a===ds&&!i)){for(var s=0,o=t.length;s<o;s++){var l=t[s];if(l===ds){if(a===ds)return a}else if(a instanceof l)return a}throw new ex(t,a)}},r.prototype.lookup=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e instanceof ir?this.indirectObjects.get(e):e;if(t.length===0)return i;for(var a=0,s=t.length;a<s;a++){var o=t[a];if(o===ds){if(i===ds)return i}else if(i instanceof o)return i}throw new ex(t,i)},r.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),n=0,i=t.length;n<i;n++){var a=t[n],s=a[0],o=a[1];if(o===e)return s}},r.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(CX)},r.prototype.obj=function(e){if(e instanceof Ya)return e;if(e==null)return ds;if(typeof e=="string")return Me.of(e);if(typeof e=="number")return un.of(e);if(typeof e=="boolean")return e?Ag.True:Ag.False;if(Array.isArray(e)){for(var t=Yn.withContext(this),n=0,i=e.length;n<i;n++)t.push(this.obj(e[n]));return t}else{for(var a=yn.withContext(this),s=Object.keys(e),n=0,i=s.length;n<i;n++){var o=s[n],l=e[o];l!==void 0&&a.set(Me.of(o),this.obj(l))}return a}},r.prototype.stream=function(e,t){return t===void 0&&(t={}),kg.of(this.obj(t),T4(e))},r.prototype.flateStream=function(e,t){return t===void 0&&(t={}),this.stream(vI.deflate(T4(e)),mn(mn({},t),{Filter:"FlateDecode"}))},r.prototype.contentStream=function(e,t){return t===void 0&&(t={}),ug.of(this.obj(t),e)},r.prototype.formXObject=function(e,t){return t===void 0&&(t={}),this.contentStream(e,mn(mn({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},r.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=jn.of(Ln.PushGraphicsState),n=ug.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},r.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=jn.of(Ln.PopGraphicsState),n=ug.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},r.prototype.addRandomSuffix=function(e,t){return t===void 0&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},r.create=function(){return new r},r})(),pu=(function(r){Dt(e,r);function e(t,n,i){i===void 0&&(i=!0);var a=r.call(this,t,n)||this;return a.normalized=!1,a.autoNormalizeCTM=i,a}return e.prototype.clone=function(t){for(var n=e.fromMapWithContext(new Map,t||this.context,this.autoNormalizeCTM),i=this.entries(),a=0,s=i.length;a<s;a++){var o=i[a],l=o[0],c=o[1];n.set(l,c)}return n},e.prototype.Parent=function(){return this.lookupMaybe(Me.Parent,yn)},e.prototype.Contents=function(){return this.lookup(Me.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(Me.Annots,Yn)},e.prototype.BleedBox=function(){return this.lookupMaybe(Me.BleedBox,Yn)},e.prototype.TrimBox=function(){return this.lookupMaybe(Me.TrimBox,Yn)},e.prototype.ArtBox=function(){return this.lookupMaybe(Me.ArtBox,Yn)},e.prototype.Resources=function(){var t=this.getInheritableAttribute(Me.Resources);return this.context.lookupMaybe(t,yn)},e.prototype.MediaBox=function(){var t=this.getInheritableAttribute(Me.MediaBox);return this.context.lookup(t,Yn)},e.prototype.CropBox=function(){var t=this.getInheritableAttribute(Me.CropBox);return this.context.lookupMaybe(t,Yn)},e.prototype.Rotate=function(){var t=this.getInheritableAttribute(Me.Rotate);return this.context.lookupMaybe(t,un)},e.prototype.getInheritableAttribute=function(t){var n;return this.ascend(function(i){n||(n=i.get(t))}),n},e.prototype.setParent=function(t){this.set(Me.Parent,t)},e.prototype.addContentStream=function(t){var n=this.normalizedEntries().Contents||this.context.obj([]);this.set(Me.Contents,n),n.push(t)},e.prototype.wrapContentStreams=function(t,n){var i=this.Contents();return i instanceof Yn?(i.insert(0,t),i.push(n),!0):!1},e.prototype.addAnnot=function(t){var n=this.normalizedEntries().Annots;n.push(t)},e.prototype.removeAnnot=function(t){var n=this.normalizedEntries().Annots,i=n.indexOf(t);i!==void 0&&n.remove(i)},e.prototype.setFontDictionary=function(t,n){var i=this.normalizedEntries().Font;i.set(t,n)},e.prototype.newFontDictionaryKey=function(t){var n=this.normalizedEntries().Font;return n.uniqueKey(t)},e.prototype.newFontDictionary=function(t,n){var i=this.newFontDictionaryKey(t);return this.setFontDictionary(i,n),i},e.prototype.setXObject=function(t,n){var i=this.normalizedEntries().XObject;i.set(t,n)},e.prototype.newXObjectKey=function(t){var n=this.normalizedEntries().XObject;return n.uniqueKey(t)},e.prototype.newXObject=function(t,n){var i=this.newXObjectKey(t);return this.setXObject(i,n),i},e.prototype.setExtGState=function(t,n){var i=this.normalizedEntries().ExtGState;i.set(t,n)},e.prototype.newExtGStateKey=function(t){var n=this.normalizedEntries().ExtGState;return n.uniqueKey(t)},e.prototype.newExtGState=function(t,n){var i=this.newExtGStateKey(t);return this.setExtGState(i,n),i},e.prototype.ascend=function(t){t(this);var n=this.Parent();n&&n.ascend(t)},e.prototype.normalize=function(){if(!this.normalized){var t=this.context,n=this.get(Me.Contents),i=this.context.lookup(n);i instanceof Zs&&this.set(Me.Contents,t.obj([n])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var a=this.getInheritableAttribute(Me.Resources),s=t.lookupMaybe(a,yn)||t.obj({});this.set(Me.Resources,s);var o=s.lookupMaybe(Me.Font,yn)||t.obj({});s.set(Me.Font,o);var l=s.lookupMaybe(Me.XObject,yn)||t.obj({});s.set(Me.XObject,l);var c=s.lookupMaybe(Me.ExtGState,yn)||t.obj({});s.set(Me.ExtGState,c);var u=this.Annots()||t.obj([]);this.set(Me.Annots,u),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var t=this.Annots(),n=this.Resources(),i=this.Contents();return{Annots:t,Resources:n,Contents:i,Font:n.lookup(Me.Font,yn),XObject:n.lookup(Me.XObject,yn),ExtGState:n.lookup(Me.ExtGState,yn)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(t,n){var i=new Map;return i.set(Me.Type,Me.Page),i.set(Me.Parent,n),i.set(Me.Resources,t.obj({})),i.set(Me.MediaBox,t.obj([0,0,612,792])),new e(i,t,!1)},e.fromMapWithContext=function(t,n,i){return i===void 0&&(i=!0),new e(t,n,i)},e})(yn),BE=(function(){function r(e,t){var n=this;this.traversedObjects=new Map,this.copy=function(i){return i instanceof pu?n.copyPDFPage(i):i instanceof yn?n.copyPDFDict(i):i instanceof Yn?n.copyPDFArray(i):i instanceof Zs?n.copyPDFStream(i):i instanceof ir?n.copyPDFIndirectObject(i):i.clone()},this.copyPDFPage=function(i){for(var a=i.clone(),s=pu.InheritableEntries,o=0,l=s.length;o<l;o++){var c=Me.of(s[o]),u=a.getInheritableAttribute(c);!a.get(c)&&u&&a.set(c,u)}return a.delete(Me.of("Parent")),n.copyPDFDict(a)},this.copyPDFDict=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var a=i.clone(n.dest);n.traversedObjects.set(i,a);for(var s=i.entries(),o=0,l=s.length;o<l;o++){var c=s[o],u=c[0],d=c[1];a.set(u,n.copy(d))}return a},this.copyPDFArray=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var a=i.clone(n.dest);n.traversedObjects.set(i,a);for(var s=0,o=i.size();s<o;s++){var l=i.get(s);a.set(s,n.copy(l))}return a},this.copyPDFStream=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var a=i.clone(n.dest);n.traversedObjects.set(i,a);for(var s=i.dict.entries(),o=0,l=s.length;o<l;o++){var c=s[o],u=c[0],d=c[1];a.dict.set(u,n.copy(d))}return a},this.copyPDFIndirectObject=function(i){var a=n.traversedObjects.has(i);if(!a){var s=n.dest.nextRef();n.traversedObjects.set(i,s);var o=n.src.lookup(i);if(o){var l=n.copy(o);n.dest.assign(s,l)}}return n.traversedObjects.get(i)},this.src=e,this.dest=t}return r.for=function(e,t){return new r(e,t)},r})(),bI=(function(){function r(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return r.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},r.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},r.prototype.toString=function(){for(var e=`xref
`,t=0,n=this.subsections.length;t<n;t++){var i=this.subsections[t];e+=i[0].ref.objectNumber+" "+i.length+`
`;for(var a=0,s=i.length;a<s;a++){var o=i[a];e+=ul(String(o.offset),10,"0"),e+=" ",e+=ul(String(o.ref.generationNumber),5,"0"),e+=" ",e+=o.deleted?"f":"n",e+=` 
`}}return e},r.prototype.sizeInBytes=function(){for(var e=5,t=0,n=this.subsections.length;t<n;t++){var i=this.subsections[t],a=i.length,s=i[0];e+=2,e+=String(s.ref.objectNumber).length,e+=String(a).length,e+=20*a}return e},r.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Be.x,e[t++]=Be.r,e[t++]=Be.e,e[t++]=Be.f,e[t++]=Be.Newline,t+=this.copySubsectionsIntoBuffer(this.subsections,e,t),t-n},r.prototype.copySubsectionsIntoBuffer=function(e,t,n){for(var i=n,a=e.length,s=0;s<a;s++){var o=this.subsections[s],l=String(o[0].ref.objectNumber);n+=pa(l,t,n),t[n++]=Be.Space;var c=String(o.length);n+=pa(c,t,n),t[n++]=Be.Newline,n+=this.copyEntriesIntoBuffer(o,t,n)}return n-i},r.prototype.copyEntriesIntoBuffer=function(e,t,n){for(var i=e.length,a=0;a<i;a++){var s=e[a],o=ul(String(s.offset),10,"0");n+=pa(o,t,n),t[n++]=Be.Space;var l=ul(String(s.ref.generationNumber),5,"0");n+=pa(l,t,n),t[n++]=Be.Space,t[n++]=s.deleted?Be.f:Be.n,t[n++]=Be.Space,t[n++]=Be.Newline}return 20*i},r.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var t=this.subsections[this.chunkIdx],n=t[this.chunkLength-1];e.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},r.create=function(){return new r({ref:ir.of(0,65535),offset:0,deleted:!0})},r.createEmpty=function(){return new r},r})(),bS=(function(){function r(e){this.lastXRefOffset=String(e)}return r.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},r.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},r.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Be.s,e[t++]=Be.t,e[t++]=Be.a,e[t++]=Be.r,e[t++]=Be.t,e[t++]=Be.x,e[t++]=Be.r,e[t++]=Be.e,e[t++]=Be.f,e[t++]=Be.Newline,t+=pa(this.lastXRefOffset,e,t),e[t++]=Be.Newline,e[t++]=Be.Percent,e[t++]=Be.Percent,e[t++]=Be.E,e[t++]=Be.O,e[t++]=Be.F,t-n},r.forLastCrossRefSectionOffset=function(e){return new r(e)},r})(),TX=(function(){function r(e){this.dict=e}return r.prototype.toString=function(){return`trailer
`+this.dict.toString()},r.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},r.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Be.t,e[t++]=Be.r,e[t++]=Be.a,e[t++]=Be.i,e[t++]=Be.l,e[t++]=Be.e,e[t++]=Be.r,e[t++]=Be.Newline,t+=this.dict.copyBytesInto(e,t),t-n},r.of=function(e){return new r(e)},r})(),yI=(function(r){Dt(e,r);function e(t,n,i){i===void 0&&(i=!0);var a=r.call(this,t.obj({}),i)||this;return a.objects=n,a.offsets=a.computeObjectOffsets(),a.offsetsString=a.computeOffsetsString(),a.dict.set(Me.of("Type"),Me.of("ObjStm")),a.dict.set(Me.of("N"),un.of(a.objects.length)),a.dict.set(Me.of("First"),un.of(a.offsetsString.length)),a}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(t){return e.withContextAndObjects(t||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var t=this.offsetsString,n=0,i=this.objects.length;n<i;n++){var a=this.objects[n],s=a[1];t+=s+`
`}return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),n=pa(this.offsetsString,t,0),i=0,a=this.objects.length;i<a;i++){var s=this.objects[i],o=s[1];n+=o.copyBytesInto(t,n),t[n++]=Be.Newline}return t},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+$y(this.offsets)[1]+$y(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var t="",n=0,i=this.offsets.length;n<i;n++){var a=this.offsets[n],s=a[0],o=a[1];t+=s+" "+o+" "}return t},e.prototype.computeObjectOffsets=function(){for(var t=0,n=new Array(this.objects.length),i=0,a=this.objects.length;i<a;i++){var s=this.objects[i],o=s[0],l=s[1];n[i]=[o.objectNumber,t],t+=l.sizeInBytes()+1}return n},e.withContextAndObjects=function(t,n,i){return i===void 0&&(i=!0),new e(t,n,i)},e})(vS),xI=(function(){function r(e,t){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(i){return n.parsedObjects+=i,n.parsedObjects%n.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return r.prototype.serializeToBuffer=function(){return kn(this,void 0,void 0,function(){var e,t,n,i,a,s,o,l,c,u,d,h,f,g,y,w,x;return En(this,function(T){switch(T.label){case 0:return[4,this.computeBufferSize()];case 1:e=T.sent(),t=e.size,n=e.header,i=e.indirectObjects,a=e.xref,s=e.trailerDict,o=e.trailer,l=0,c=new Uint8Array(t),l+=n.copyBytesInto(c,l),c[l++]=Be.Newline,c[l++]=Be.Newline,u=0,d=i.length,T.label=2;case 2:return u<d?(h=i[u],f=h[0],g=h[1],y=String(f.objectNumber),l+=pa(y,c,l),c[l++]=Be.Space,w=String(f.generationNumber),l+=pa(w,c,l),c[l++]=Be.Space,c[l++]=Be.o,c[l++]=Be.b,c[l++]=Be.j,c[l++]=Be.Newline,l+=g.copyBytesInto(c,l),c[l++]=Be.Newline,c[l++]=Be.e,c[l++]=Be.n,c[l++]=Be.d,c[l++]=Be.o,c[l++]=Be.b,c[l++]=Be.j,c[l++]=Be.Newline,c[l++]=Be.Newline,x=g instanceof yI?g.getObjectsCount():1,this.shouldWaitForTick(x)?[4,B1()]:[3,4]):[3,5];case 3:T.sent(),T.label=4;case 4:return u++,[3,2];case 5:return a&&(l+=a.copyBytesInto(c,l),c[l++]=Be.Newline),s&&(l+=s.copyBytesInto(c,l),c[l++]=Be.Newline,c[l++]=Be.Newline),l+=o.copyBytesInto(c,l),[2,c]}})})},r.prototype.computeIndirectObjectSize=function(e){var t=e[0],n=e[1],i=t.sizeInBytes()+3,a=n.sizeInBytes()+9;return i+a},r.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},r.prototype.computeBufferSize=function(){return kn(this,void 0,void 0,function(){var e,t,n,i,a,s,o,l,c,u,d;return En(this,function(h){switch(h.label){case 0:e=Yx.forVersion(1,7),t=e.sizeInBytes()+2,n=bI.create(),i=this.context.enumerateIndirectObjects(),a=0,s=i.length,h.label=1;case 1:return a<s?(o=i[a],l=o[0],n.addEntry(l,t),t+=this.computeIndirectObjectSize(o),this.shouldWaitForTick(1)?[4,B1()]:[3,3]):[3,4];case 2:h.sent(),h.label=3;case 3:return a++,[3,1];case 4:return c=t,t+=n.sizeInBytes()+1,u=TX.of(this.createTrailerDict()),t+=u.sizeInBytes()+2,d=bS.forLastCrossRefSectionOffset(c),t+=d.sizeInBytes(),[2,{size:t,header:e,indirectObjects:i,xref:n,trailerDict:u,trailer:d}]}})})},r.forContext=function(e,t){return new r(e,t)},r})(),wI=(function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.data=t,n}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(t,n){for(var i=this.data.length,a=0;a<i;a++)t[n++]=this.data[a];return i},e.of=function(t){return new e(t)},e})(Ya),Xu;(function(r){r[r.Deleted=0]="Deleted",r[r.Uncompressed=1]="Uncompressed",r[r.Compressed=2]="Compressed"})(Xu||(Xu={}));var NX=(function(r){Dt(e,r);function e(t,n,i){i===void 0&&(i=!0);var a=r.call(this,t,i)||this;return a.computeIndex=function(){for(var s=[],o=0,l=0,c=a.entries.length;l<c;l++){var u=a.entries[l],d=a.entries[l-1];l===0?s.push(u.ref.objectNumber):u.ref.objectNumber-d.ref.objectNumber>1&&(s.push(o),s.push(u.ref.objectNumber),o=0),o+=1}return s.push(o),s},a.computeEntryTuples=function(){for(var s=new Array(a.entries.length),o=0,l=a.entries.length;o<l;o++){var c=a.entries[o];if(c.type===Xu.Deleted){var u=c.type,d=c.nextFreeObjectNumber,h=c.ref;s[o]=[u,d,h.generationNumber]}if(c.type===Xu.Uncompressed){var u=c.type,f=c.offset,h=c.ref;s[o]=[u,f,h.generationNumber]}if(c.type===Xu.Compressed){var u=c.type,g=c.objectStreamRef,y=c.index;s[o]=[u,g.objectNumber,y]}}return s},a.computeMaxEntryByteWidths=function(){for(var s=a.entryTuplesCache.access(),o=[0,0,0],l=0,c=s.length;l<c;l++){var u=s[l],d=u[0],h=u[1],f=u[2],g=ky(d),y=ky(h),w=ky(f);g>o[0]&&(o[0]=g),y>o[1]&&(o[1]=y),w>o[2]&&(o[2]=w)}return o},a.entries=n||[],a.entryTuplesCache=fu.populatedBy(a.computeEntryTuples),a.maxByteWidthsCache=fu.populatedBy(a.computeMaxEntryByteWidths),a.indexCache=fu.populatedBy(a.computeIndex),t.set(Me.of("Type"),Me.of("XRef")),a}return e.prototype.addDeletedEntry=function(t,n){var i=Xu.Deleted;this.entries.push({type:i,ref:t,nextFreeObjectNumber:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(t,n){var i=Xu.Uncompressed;this.entries.push({type:i,ref:t,offset:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(t,n,i){var a=Xu.Compressed;this.entries.push({type:a,ref:t,objectStreamRef:n,index:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(t){var n=this,i=n.dict,a=n.entries,s=n.encode;return e.of(i.clone(t),a.slice(),s)},e.prototype.getContentsString=function(){for(var t=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),i="",a=0,s=t.length;a<s;a++){for(var o=t[a],l=o[0],c=o[1],u=o[2],d=C0(T0(l)),h=C0(T0(c)),f=C0(T0(u)),g=n[0]-1;g>=0;g--)i+=(d[g]||0).toString(2);for(var g=n[1]-1;g>=0;g--)i+=(h[g]||0).toString(2);for(var g=n[2]-1;g>=0;g--)i+=(f[g]||0).toString(2)}return i},e.prototype.getUnencodedContents=function(){for(var t=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),i=new Uint8Array(this.getUnencodedContentsSize()),a=0,s=0,o=t.length;s<o;s++){for(var l=t[s],c=l[0],u=l[1],d=l[2],h=C0(T0(c)),f=C0(T0(u)),g=C0(T0(d)),y=n[0]-1;y>=0;y--)i[a++]=h[y]||0;for(var y=n[1]-1;y>=0;y--)i[a++]=f[y]||0;for(var y=n[2]-1;y>=0;y--)i[a++]=g[y]||0}return i},e.prototype.getUnencodedContentsSize=function(){var t=this.maxByteWidthsCache.access(),n=eW(t);return n*this.entries.length},e.prototype.updateDict=function(){r.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),n=this.indexCache.access(),i=this.dict.context;this.dict.set(Me.of("W"),i.obj(t)),this.dict.set(Me.of("Index"),i.obj(n))},e.create=function(t,n){n===void 0&&(n=!0);var i=new e(t,[],n);return i.addDeletedEntry(ir.of(0,65535),0),i},e.of=function(t,n,i){return i===void 0&&(i=!0),new e(t,n,i)},e})(vS),RX=(function(r){Dt(e,r);function e(t,n,i,a){var s=r.call(this,t,n)||this;return s.encodeStreams=i,s.objectsPerStream=a,s}return e.prototype.computeBufferSize=function(){return kn(this,void 0,void 0,function(){var t,n,i,a,s,o,l,c,g,y,u,x,d,h,w,f,g,y,w,x,T,v,R,M;return En(this,function(B){switch(B.label){case 0:t=this.context.largestObjectNumber+1,n=Yx.forVersion(1,7),i=n.sizeInBytes()+2,a=NX.create(this.createTrailerDict(),this.encodeStreams),s=[],o=[],l=[],c=this.context.enumerateIndirectObjects(),g=0,y=c.length,B.label=1;case 1:return g<y?(u=c[g],x=u[0],d=u[1],h=x===this.context.trailerInfo.Encrypt||d instanceof Zs||d instanceof wI||x.generationNumber!==0,h?(s.push(u),a.addUncompressedEntry(x,i),i+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,B1()]:[3,3]):[3,4]):[3,6];case 2:B.sent(),B.label=3;case 3:return[3,5];case 4:w=$y(o),f=$y(l),(!w||w.length%this.objectsPerStream===0)&&(w=[],o.push(w),f=ir.of(t++),l.push(f)),a.addCompressedEntry(x,f,w.length),w.push(u),B.label=5;case 5:return g++,[3,1];case 6:g=0,y=o.length,B.label=7;case 7:return g<y?(w=o[g],x=l[g],T=yI.withContextAndObjects(this.context,w,this.encodeStreams),a.addUncompressedEntry(x,i),i+=this.computeIndirectObjectSize([x,T]),s.push([x,T]),this.shouldWaitForTick(w.length)?[4,B1()]:[3,9]):[3,10];case 8:B.sent(),B.label=9;case 9:return g++,[3,7];case 10:return v=ir.of(t++),a.dict.set(Me.of("Size"),un.of(t)),a.addUncompressedEntry(v,i),R=i,i+=this.computeIndirectObjectSize([v,a]),s.push([v,a]),M=bS.forLastCrossRefSectionOffset(R),i+=M.sizeInBytes(),[2,{size:i,header:n,indirectObjects:s,trailer:M}]}})})},e.forContext=function(t,n,i,a){return i===void 0&&(i=!0),a===void 0&&(a=50),new e(t,n,i,a)},e})(xI),on=(function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.value=t,n}return e.prototype.asBytes=function(){for(var t=this.value+(this.value.length%2===1?"0":""),n=t.length,i=new Uint8Array(t.length/2),a=0,s=0;a<n;){var o=parseInt(t.substring(a,a+2),16);i[s]=o,a+=2,s+=1}return i},e.prototype.decodeText=function(){var t=this.asBytes();return tI(t)?Q7(t):uI(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),n=K7(t);if(!n)throw new dI(t);return n},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,n){return t[n++]=Be.LessThan,n+=pa(this.value,t,n),t[n++]=Be.GreaterThan,this.value.length+2},e.of=function(t){return new e(t)},e.fromText=function(t){for(var n=iW(t),i="",a=0,s=n.length;a<s;a++)i+=C2(n[a],4);return new e(i)},e})(Ya),nx=(function(){function r(e,t){this.encoding=e===Sg.ZapfDingbats?kb.ZapfDingbats:e===Sg.Symbol?kb.Symbol:kb.WinAnsi,this.font=jW.load(e),this.fontName=this.font.FontName,this.customName=t}return r.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=Wx(t[i].code);return on.of(n.join(""))},r.prototype.widthOfTextAtSize=function(e,t){for(var n=this.encodeTextAsGlyphs(e),i=0,a=0,s=n.length;a<s;a++){var o=n[a].name,l=(n[a+1]||{}).name,c=this.font.getXAxisKerningForPair(o,l)||0;i+=this.widthOfGlyph(o)+c}var u=t/1e3;return i*u},r.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var n=t.descender,i=n===void 0?!0:n,a=this.font,s=a.Ascender,o=a.Descender,l=a.FontBBox,c=s||l[3],u=o||l[1],d=c-u;return i||(d+=o||0),d/1e3*e},r.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.Ascender,i=t.Descender,a=t.FontBBox,s=n||a[3],o=i||a[1];return 1e3*e/(s-o)},r.prototype.embedIntoContext=function(e,t){var n=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===kb.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,n),t):e.register(n)},r.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},r.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),n=new Array(t.length),i=0,a=t.length;i<a;i++){var s=HG(t[i]);n[i]=this.encoding.encodeUnicodeCodePoint(s)}return n},r.for=function(e,t){return new r(e,t)},r})(),IX=function(r,e){for(var t=new Array(r.length),n=0,i=r.length;n<i;n++){var a=r[n],s=OE(Ey(e(a))),o=OE.apply(void 0,a.codePoints.map(PX));t[n]=[s,o]}return MX(t)},MX=function(r){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+r.length+` beginbfchar
`+r.map(function(e){var t=e[0],n=e[1];return t+" "+n}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},OE=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return"<"+r.join("")+">"},Ey=function(r){return C2(r,4)},PX=function(r){if(aW(r))return Ey(r);if(sW(r)){var e=Z7(r),t=J7(r);return""+Ey(e)+Ey(t)}var n=Wx(r),i="0x"+n+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(i)},FX=function(r){var e=0,t=function(n){e|=1<<n-1};return r.fixedPitch&&t(1),r.serif&&t(2),t(3),r.script&&t(4),r.nonsymbolic&&t(6),r.italic&&t(7),r.allCap&&t(17),r.smallCap&&t(18),r.forceBold&&t(19),e},LX=function(r){var e=r["OS/2"]?r["OS/2"].sFamilyClass:0,t=FX({fixedPitch:r.post.isFixedPitch,serif:1<=e&&e<=7,script:e===10,italic:r.head.macStyle.italic});return t},rr=(function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.value=t,n}return e.prototype.asBytes=function(){for(var t=[],n="",i=!1,a=function(d){d!==void 0&&t.push(d),i=!1},s=0,o=this.value.length;s<o;s++){var l=this.value[s],c=fn(l),u=this.value[s+1];i?c===Be.Newline||c===Be.CarriageReturn?a():c===Be.n?a(Be.Newline):c===Be.r?a(Be.CarriageReturn):c===Be.t?a(Be.Tab):c===Be.b?a(Be.Backspace):c===Be.f?a(Be.FormFeed):c===Be.LeftParen?a(Be.LeftParen):c===Be.RightParen?a(Be.RightParen):c===Be.Backspace?a(Be.BackSlash):c>=Be.Zero&&c<=Be.Seven?(n+=l,(n.length===3||!(u>="0"&&u<="7"))&&(a(parseInt(n,8)),n="")):a(c):c===Be.BackSlash?i=!0:a(c)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return tI(t)?Q7(t):uI(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),n=K7(t);if(!n)throw new dI(t);return n},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,n){return t[n++]=Be.LeftParen,n+=pa(this.value,t,n),t[n++]=Be.RightParen,this.value.length+2},e.of=function(t){return new e(t)},e.fromDate=function(t){var n=ul(String(t.getUTCFullYear()),4,"0"),i=ul(String(t.getUTCMonth()+1),2,"0"),a=ul(String(t.getUTCDate()),2,"0"),s=ul(String(t.getUTCHours()),2,"0"),o=ul(String(t.getUTCMinutes()),2,"0"),l=ul(String(t.getUTCSeconds()),2,"0");return new e("D:"+n+i+a+s+o+l+"Z")},e})(Ya),yS=(function(){function r(e,t,n,i){var a=this;this.allGlyphsInFontSortedById=function(){for(var s=new Array(a.font.characterSet.length),o=0,l=s.length;o<l;o++){var c=a.font.characterSet[o];s[o]=a.font.glyphForCodePoint(c)}return $G(s.sort(QG),function(u){return u.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=i,this.baseFontName="",this.glyphCache=fu.populatedBy(this.allGlyphsInFontSortedById)}return r.for=function(e,t,n,i){return kn(this,void 0,void 0,function(){var a;return En(this,function(s){switch(s.label){case 0:return[4,e.create(t)];case 1:return a=s.sent(),[2,new r(a,t,n,i)]}})})},r.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=C2(t[i].id,4);return on.of(n.join(""))},r.prototype.widthOfTextAtSize=function(e,t){for(var n=this.font.layout(e,this.fontFeatures).glyphs,i=0,a=0,s=n.length;a<s;a++)i+=n[a].advanceWidth*this.scale;var o=t/1e3;return i*o},r.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var n=t.descender,i=n===void 0?!0:n,a=this.font,s=a.ascent,o=a.descent,l=a.bbox,c=(s||l.maxY)*this.scale,u=(o||l.minY)*this.scale,d=c-u;return i||(d-=Math.abs(o)||0),d/1e3*e},r.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.ascent,i=t.descent,a=t.bbox,s=(n||a.maxY)*this.scale,o=(i||a.minY)*this.scale;return 1e3*e/(s-o)},r.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},r.prototype.embedFontDict=function(e,t){return kn(this,void 0,void 0,function(){var n,i,a;return En(this,function(s){switch(s.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return n=s.sent(),i=this.embedUnicodeCmap(e),a=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:i}),t?(e.assign(t,a),[2,t]):[2,e.register(a)]}})})},r.prototype.isCFF=function(){return this.font.cff},r.prototype.embedCIDFontDict=function(e){return kn(this,void 0,void 0,function(){var t,n;return En(this,function(i){switch(i.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=i.sent(),n=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:rr.of("Adobe"),Ordering:rr.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(n)]}})})},r.prototype.embedFontDescriptor=function(e){return kn(this,void 0,void 0,function(){var t,n,i,a,s,o,l,c,u,d,h,f,g,y,w;return En(this,function(x){switch(x.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=x.sent(),n=this.scale,i=this.font,a=i.italicAngle,s=i.ascent,o=i.descent,l=i.capHeight,c=i.xHeight,u=this.font.bbox,d=u.minX,h=u.minY,f=u.maxX,g=u.maxY,y=e.obj((w={Type:"FontDescriptor",FontName:this.baseFontName,Flags:LX(this.font),FontBBox:[d*n,h*n,f*n,g*n],ItalicAngle:a,Ascent:s*n,Descent:o*n,CapHeight:(l||s)*n,XHeight:(c||0)*n,StemV:0},w[this.isCFF()?"FontFile3":"FontFile2"]=t,w)),[2,e.register(y)]}})})},r.prototype.serializeFont=function(){return kn(this,void 0,void 0,function(){return En(this,function(e){return[2,this.fontData]})})},r.prototype.embedFontStream=function(e){return kn(this,void 0,void 0,function(){var t,n,i;return En(this,function(a){switch(a.label){case 0:return i=(n=e).flateStream,[4,this.serializeFont()];case 1:return t=i.apply(n,[a.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}})})},r.prototype.embedUnicodeCmap=function(e){var t=IX(this.glyphCache.access(),this.glyphId.bind(this)),n=e.flateStream(t);return e.register(n)},r.prototype.glyphId=function(e){return e?e.id:-1},r.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],n=[],i=0,a=e.length;i<a;i++){var s=e[i],o=e[i-1],l=this.glyphId(s),c=this.glyphId(o);i===0?t.push(l):l-c!==1&&(t.push(n),t.push(l),n=[]),n.push(s.advanceWidth*this.scale)}return t.push(n),t},r})(),DX=(function(r){Dt(e,r);function e(t,n,i,a){var s=r.call(this,t,n,i,a)||this;return s.subset=s.font.createSubset(),s.glyphs=[],s.glyphCache=fu.populatedBy(function(){return s.glyphs}),s.glyphIdMap=new Map,s}return e.for=function(t,n,i,a){return kn(this,void 0,void 0,function(){var s;return En(this,function(o){switch(o.label){case 0:return[4,t.create(n)];case 1:return s=o.sent(),[2,new e(s,n,i,a)]}})})},e.prototype.encodeText=function(t){for(var n=this.font.layout(t,this.fontFeatures).glyphs,i=new Array(n.length),a=0,s=n.length;a<s;a++){var o=n[a],l=this.subset.includeGlyph(o);this.glyphs[l-1]=o,this.glyphIdMap.set(o.id,l),i[a]=C2(l,4)}return this.glyphCache.invalidate(),on.of(i.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(t){return t?this.glyphIdMap.get(t.id):-1},e.prototype.serializeFont=function(){var t=this;return new Promise(function(n,i){var a=[];t.subset.encodeStream().on("data",function(s){return a.push(s)}).on("end",function(){return n(JG(a))}).on("error",function(s){return i(s)})})},e})(yS),R4;(function(r){r.Source="Source",r.Data="Data",r.Alternative="Alternative",r.Supplement="Supplement",r.EncryptedPayload="EncryptedPayload",r.FormData="EncryptedPayload",r.Schema="Schema",r.Unspecified="Unspecified"})(R4||(R4={}));var BX=(function(){function r(e,t,n){n===void 0&&(n={}),this.fileData=e,this.fileName=t,this.options=n}return r.for=function(e,t,n){return n===void 0&&(n={}),new r(e,t,n)},r.prototype.embedIntoContext=function(e,t){return kn(this,void 0,void 0,function(){var n,i,a,s,o,l,c,u,d;return En(this,function(h){return n=this.options,i=n.mimeType,a=n.description,s=n.creationDate,o=n.modificationDate,l=n.afRelationship,c=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:i??void 0,Params:{Size:this.fileData.length,CreationDate:s?rr.fromDate(s):void 0,ModDate:o?rr.fromDate(o):void 0}}),u=e.register(c),d=e.obj({Type:"Filespec",F:rr.of(this.fileName),UF:on.fromText(this.fileName),EF:{F:u},Desc:a?on.fromText(a):void 0,AFRelationship:l??void 0}),t?(e.assign(t,d),[2,t]):[2,e.register(d)]})})},r})(),jE=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],dp;(function(r){r.DeviceGray="DeviceGray",r.DeviceRGB="DeviceRGB",r.DeviceCMYK="DeviceCMYK"})(dp||(dp={}));var OX={1:dp.DeviceGray,3:dp.DeviceRGB,4:dp.DeviceCMYK},_I=(function(){function r(e,t,n,i,a){this.imageData=e,this.bitsPerComponent=t,this.width=n,this.height=i,this.colorSpace=a}return r.for=function(e){return kn(this,void 0,void 0,function(){var t,n,i,a,s,o,l,c,u,d;return En(this,function(h){if(t=new DataView(e.buffer),n=t.getUint16(0),n!==65496)throw new Error("SOI not found in JPEG");for(i=2;i<t.byteLength&&(a=t.getUint16(i),i+=2,!jE.includes(a));)i+=t.getUint16(i);if(!jE.includes(a))throw new Error("Invalid JPEG");if(i+=2,s=t.getUint8(i++),o=t.getUint16(i),i+=2,l=t.getUint16(i),i+=2,c=t.getUint8(i++),u=OX[c],!u)throw new Error("Unknown JPEG channel.");return d=u,[2,new r(e,s,l,o,d)]})})},r.prototype.embedIntoContext=function(e,t){return kn(this,void 0,void 0,function(){var n;return En(this,function(i){return n=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===dp.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]})})},r})(),Lw={},UE;function ih(){return UE||(UE=1,(function(r){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(a,s){return Object.prototype.hasOwnProperty.call(a,s)}r.assign=function(a){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var l in o)t(o,l)&&(a[l]=o[l])}}return a},r.shrinkBuf=function(a,s){return a.length===s?a:a.subarray?a.subarray(0,s):(a.length=s,a)};var n={arraySet:function(a,s,o,l,c){if(s.subarray&&a.subarray){a.set(s.subarray(o,o+l),c);return}for(var u=0;u<l;u++)a[c+u]=s[o+u]},flattenChunks:function(a){var s,o,l,c,u,d;for(l=0,s=0,o=a.length;s<o;s++)l+=a[s].length;for(d=new Uint8Array(l),c=0,s=0,o=a.length;s<o;s++)u=a[s],d.set(u,c),c+=u.length;return d}},i={arraySet:function(a,s,o,l,c){for(var u=0;u<l;u++)a[c+u]=s[o+u]},flattenChunks:function(a){return[].concat.apply([],a)}};r.setTyped=function(a){a?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(e)})(Lw)),Lw}var P0={},Xo={},Sh={},qE;function jX(){if(qE)return Sh;qE=1;var r=ih(),e=4,t=0,n=1,i=2;function a(N){for(var _e=N.length;--_e>=0;)N[_e]=0}var s=0,o=1,l=2,c=3,u=258,d=29,h=256,f=h+1+d,g=30,y=19,w=2*f+1,x=15,T=16,v=7,R=256,M=16,B=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,ee=new Array((f+2)*2);a(ee);var J=new Array(g*2);a(J);var re=new Array(D);a(re);var q=new Array(u-c+1);a(q);var W=new Array(d);a(W);var le=new Array(g);a(le);function ue(N,_e,ke,Le,Y){this.static_tree=N,this.extra_bits=_e,this.extra_base=ke,this.elems=Le,this.max_length=Y,this.has_stree=N&&N.length}var oe,F,C;function I(N,_e){this.dyn_tree=N,this.max_code=0,this.stat_desc=_e}function O(N){return N<256?re[N]:re[256+(N>>>7)]}function X(N,_e){N.pending_buf[N.pending++]=_e&255,N.pending_buf[N.pending++]=_e>>>8&255}function te(N,_e,ke){N.bi_valid>T-ke?(N.bi_buf|=_e<<N.bi_valid&65535,X(N,N.bi_buf),N.bi_buf=_e>>T-N.bi_valid,N.bi_valid+=ke-T):(N.bi_buf|=_e<<N.bi_valid&65535,N.bi_valid+=ke)}function ie(N,_e,ke){te(N,ke[_e*2],ke[_e*2+1])}function ne(N,_e){var ke=0;do ke|=N&1,N>>>=1,ke<<=1;while(--_e>0);return ke>>>1}function we(N){N.bi_valid===16?(X(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function Ee(N,_e){var ke=_e.dyn_tree,Le=_e.max_code,Y=_e.stat_desc.static_tree,ge=_e.stat_desc.has_stree,S=_e.stat_desc.extra_bits,Ae=_e.stat_desc.extra_base,Xe=_e.stat_desc.max_length,m,pe,he,k,G,j,se=0;for(k=0;k<=x;k++)N.bl_count[k]=0;for(ke[N.heap[N.heap_max]*2+1]=0,m=N.heap_max+1;m<w;m++)pe=N.heap[m],k=ke[ke[pe*2+1]*2+1]+1,k>Xe&&(k=Xe,se++),ke[pe*2+1]=k,!(pe>Le)&&(N.bl_count[k]++,G=0,pe>=Ae&&(G=S[pe-Ae]),j=ke[pe*2],N.opt_len+=j*(k+G),ge&&(N.static_len+=j*(Y[pe*2+1]+G)));if(se!==0){do{for(k=Xe-1;N.bl_count[k]===0;)k--;N.bl_count[k]--,N.bl_count[k+1]+=2,N.bl_count[Xe]--,se-=2}while(se>0);for(k=Xe;k!==0;k--)for(pe=N.bl_count[k];pe!==0;)he=N.heap[--m],!(he>Le)&&(ke[he*2+1]!==k&&(N.opt_len+=(k-ke[he*2+1])*ke[he*2],ke[he*2+1]=k),pe--)}}function He(N,_e,ke){var Le=new Array(x+1),Y=0,ge,S;for(ge=1;ge<=x;ge++)Le[ge]=Y=Y+ke[ge-1]<<1;for(S=0;S<=_e;S++){var Ae=N[S*2+1];Ae!==0&&(N[S*2]=ne(Le[Ae]++,Ae))}}function Ue(){var N,_e,ke,Le,Y,ge=new Array(x+1);for(ke=0,Le=0;Le<d-1;Le++)for(W[Le]=ke,N=0;N<1<<z[Le];N++)q[ke++]=Le;for(q[ke-1]=Le,Y=0,Le=0;Le<16;Le++)for(le[Le]=Y,N=0;N<1<<H[Le];N++)re[Y++]=Le;for(Y>>=7;Le<g;Le++)for(le[Le]=Y<<7,N=0;N<1<<H[Le]-7;N++)re[256+Y++]=Le;for(_e=0;_e<=x;_e++)ge[_e]=0;for(N=0;N<=143;)ee[N*2+1]=8,N++,ge[8]++;for(;N<=255;)ee[N*2+1]=9,N++,ge[9]++;for(;N<=279;)ee[N*2+1]=7,N++,ge[7]++;for(;N<=287;)ee[N*2+1]=8,N++,ge[8]++;for(He(ee,f+1,ge),N=0;N<g;N++)J[N*2+1]=5,J[N*2]=ne(N,5);oe=new ue(ee,z,h+1,f,x),F=new ue(J,H,0,g,x),C=new ue(new Array(0),$,0,y,v)}function We(N){var _e;for(_e=0;_e<f;_e++)N.dyn_ltree[_e*2]=0;for(_e=0;_e<g;_e++)N.dyn_dtree[_e*2]=0;for(_e=0;_e<y;_e++)N.bl_tree[_e*2]=0;N.dyn_ltree[R*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function it(N){N.bi_valid>8?X(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function xe(N,_e,ke,Le){it(N),X(N,ke),X(N,~ke),r.arraySet(N.pending_buf,N.window,_e,ke,N.pending),N.pending+=ke}function nt(N,_e,ke,Le){var Y=_e*2,ge=ke*2;return N[Y]<N[ge]||N[Y]===N[ge]&&Le[_e]<=Le[ke]}function pt(N,_e,ke){for(var Le=N.heap[ke],Y=ke<<1;Y<=N.heap_len&&(Y<N.heap_len&&nt(_e,N.heap[Y+1],N.heap[Y],N.depth)&&Y++,!nt(_e,Le,N.heap[Y],N.depth));)N.heap[ke]=N.heap[Y],ke=Y,Y<<=1;N.heap[ke]=Le}function Z(N,_e,ke){var Le,Y,ge=0,S,Ae;if(N.last_lit!==0)do Le=N.pending_buf[N.d_buf+ge*2]<<8|N.pending_buf[N.d_buf+ge*2+1],Y=N.pending_buf[N.l_buf+ge],ge++,Le===0?ie(N,Y,_e):(S=q[Y],ie(N,S+h+1,_e),Ae=z[S],Ae!==0&&(Y-=W[S],te(N,Y,Ae)),Le--,S=O(Le),ie(N,S,ke),Ae=H[S],Ae!==0&&(Le-=le[S],te(N,Le,Ae)));while(ge<N.last_lit);ie(N,R,_e)}function ce(N,_e){var ke=_e.dyn_tree,Le=_e.stat_desc.static_tree,Y=_e.stat_desc.has_stree,ge=_e.stat_desc.elems,S,Ae,Xe=-1,m;for(N.heap_len=0,N.heap_max=w,S=0;S<ge;S++)ke[S*2]!==0?(N.heap[++N.heap_len]=Xe=S,N.depth[S]=0):ke[S*2+1]=0;for(;N.heap_len<2;)m=N.heap[++N.heap_len]=Xe<2?++Xe:0,ke[m*2]=1,N.depth[m]=0,N.opt_len--,Y&&(N.static_len-=Le[m*2+1]);for(_e.max_code=Xe,S=N.heap_len>>1;S>=1;S--)pt(N,ke,S);m=ge;do S=N.heap[1],N.heap[1]=N.heap[N.heap_len--],pt(N,ke,1),Ae=N.heap[1],N.heap[--N.heap_max]=S,N.heap[--N.heap_max]=Ae,ke[m*2]=ke[S*2]+ke[Ae*2],N.depth[m]=(N.depth[S]>=N.depth[Ae]?N.depth[S]:N.depth[Ae])+1,ke[S*2+1]=ke[Ae*2+1]=m,N.heap[1]=m++,pt(N,ke,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],Ee(N,_e),He(ke,Xe,N.bl_count)}function ut(N,_e,ke){var Le,Y=-1,ge,S=_e[1],Ae=0,Xe=7,m=4;for(S===0&&(Xe=138,m=3),_e[(ke+1)*2+1]=65535,Le=0;Le<=ke;Le++)ge=S,S=_e[(Le+1)*2+1],!(++Ae<Xe&&ge===S)&&(Ae<m?N.bl_tree[ge*2]+=Ae:ge!==0?(ge!==Y&&N.bl_tree[ge*2]++,N.bl_tree[M*2]++):Ae<=10?N.bl_tree[B*2]++:N.bl_tree[L*2]++,Ae=0,Y=ge,S===0?(Xe=138,m=3):ge===S?(Xe=6,m=3):(Xe=7,m=4))}function rt(N,_e,ke){var Le,Y=-1,ge,S=_e[1],Ae=0,Xe=7,m=4;for(S===0&&(Xe=138,m=3),Le=0;Le<=ke;Le++)if(ge=S,S=_e[(Le+1)*2+1],!(++Ae<Xe&&ge===S)){if(Ae<m)do ie(N,ge,N.bl_tree);while(--Ae!==0);else ge!==0?(ge!==Y&&(ie(N,ge,N.bl_tree),Ae--),ie(N,M,N.bl_tree),te(N,Ae-3,2)):Ae<=10?(ie(N,B,N.bl_tree),te(N,Ae-3,3)):(ie(N,L,N.bl_tree),te(N,Ae-11,7));Ae=0,Y=ge,S===0?(Xe=138,m=3):ge===S?(Xe=6,m=3):(Xe=7,m=4)}}function ht(N){var _e;for(ut(N,N.dyn_ltree,N.l_desc.max_code),ut(N,N.dyn_dtree,N.d_desc.max_code),ce(N,N.bl_desc),_e=y-1;_e>=3&&N.bl_tree[U[_e]*2+1]===0;_e--);return N.opt_len+=3*(_e+1)+5+5+4,_e}function mt(N,_e,ke,Le){var Y;for(te(N,_e-257,5),te(N,ke-1,5),te(N,Le-4,4),Y=0;Y<Le;Y++)te(N,N.bl_tree[U[Y]*2+1],3);rt(N,N.dyn_ltree,_e-1),rt(N,N.dyn_dtree,ke-1)}function wt(N){var _e=4093624447,ke;for(ke=0;ke<=31;ke++,_e>>>=1)if(_e&1&&N.dyn_ltree[ke*2]!==0)return t;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return n;for(ke=32;ke<h;ke++)if(N.dyn_ltree[ke*2]!==0)return n;return t}var ft=!1;function Tt(N){ft||(Ue(),ft=!0),N.l_desc=new I(N.dyn_ltree,oe),N.d_desc=new I(N.dyn_dtree,F),N.bl_desc=new I(N.bl_tree,C),N.bi_buf=0,N.bi_valid=0,We(N)}function De(N,_e,ke,Le){te(N,(s<<1)+(Le?1:0),3),xe(N,_e,ke)}function Ve(N){te(N,o<<1,3),ie(N,R,ee),we(N)}function Ke(N,_e,ke,Le){var Y,ge,S=0;N.level>0?(N.strm.data_type===i&&(N.strm.data_type=wt(N)),ce(N,N.l_desc),ce(N,N.d_desc),S=ht(N),Y=N.opt_len+3+7>>>3,ge=N.static_len+3+7>>>3,ge<=Y&&(Y=ge)):Y=ge=ke+5,ke+4<=Y&&_e!==-1?De(N,_e,ke,Le):N.strategy===e||ge===Y?(te(N,(o<<1)+(Le?1:0),3),Z(N,ee,J)):(te(N,(l<<1)+(Le?1:0),3),mt(N,N.l_desc.max_code+1,N.d_desc.max_code+1,S+1),Z(N,N.dyn_ltree,N.dyn_dtree)),We(N),Le&&it(N)}function gt(N,_e,ke){return N.pending_buf[N.d_buf+N.last_lit*2]=_e>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=_e&255,N.pending_buf[N.l_buf+N.last_lit]=ke&255,N.last_lit++,_e===0?N.dyn_ltree[ke*2]++:(N.matches++,_e--,N.dyn_ltree[(q[ke]+h+1)*2]++,N.dyn_dtree[O(_e)*2]++),N.last_lit===N.lit_bufsize-1}return Sh._tr_init=Tt,Sh._tr_stored_block=De,Sh._tr_flush_block=Ke,Sh._tr_tally=gt,Sh._tr_align=Ve,Sh}var Dw,HE;function SI(){if(HE)return Dw;HE=1;function r(e,t,n,i){for(var a=e&65535|0,s=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[i++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0}return Dw=r,Dw}var Bw,zE;function AI(){if(zE)return Bw;zE=1;function r(){for(var n,i=[],a=0;a<256;a++){n=a;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=r();function t(n,i,a,s){var o=e,l=s+a;n^=-1;for(var c=s;c<l;c++)n=n>>>8^o[(n^i[c])&255];return n^-1}return Bw=t,Bw}var Ow,VE;function xS(){return VE||(VE=1,Ow={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Ow}var GE;function UX(){if(GE)return Xo;GE=1;var r=ih(),e=jX(),t=SI(),n=AI(),i=xS(),a=0,s=1,o=3,l=4,c=5,u=0,d=1,h=-2,f=-3,g=-5,y=-1,w=1,x=2,T=3,v=4,R=0,M=2,B=8,L=9,z=15,H=8,$=29,U=256,D=U+1+$,ee=30,J=19,re=2*D+1,q=15,W=3,le=258,ue=le+W+1,oe=32,F=42,C=69,I=73,O=91,X=103,te=113,ie=666,ne=1,we=2,Ee=3,He=4,Ue=3;function We(m,pe){return m.msg=i[pe],pe}function it(m){return(m<<1)-(m>4?9:0)}function xe(m){for(var pe=m.length;--pe>=0;)m[pe]=0}function nt(m){var pe=m.state,he=pe.pending;he>m.avail_out&&(he=m.avail_out),he!==0&&(r.arraySet(m.output,pe.pending_buf,pe.pending_out,he,m.next_out),m.next_out+=he,pe.pending_out+=he,m.total_out+=he,m.avail_out-=he,pe.pending-=he,pe.pending===0&&(pe.pending_out=0))}function pt(m,pe){e._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,pe),m.block_start=m.strstart,nt(m.strm)}function Z(m,pe){m.pending_buf[m.pending++]=pe}function ce(m,pe){m.pending_buf[m.pending++]=pe>>>8&255,m.pending_buf[m.pending++]=pe&255}function ut(m,pe,he,k){var G=m.avail_in;return G>k&&(G=k),G===0?0:(m.avail_in-=G,r.arraySet(pe,m.input,m.next_in,G,he),m.state.wrap===1?m.adler=t(m.adler,pe,G,he):m.state.wrap===2&&(m.adler=n(m.adler,pe,G,he)),m.next_in+=G,m.total_in+=G,G)}function rt(m,pe){var he=m.max_chain_length,k=m.strstart,G,j,se=m.prev_length,fe=m.nice_match,me=m.strstart>m.w_size-ue?m.strstart-(m.w_size-ue):0,Te=m.window,Ne=m.w_mask,Pe=m.prev,Fe=m.strstart+le,ze=Te[k+se-1],Ze=Te[k+se];m.prev_length>=m.good_match&&(he>>=2),fe>m.lookahead&&(fe=m.lookahead);do if(G=pe,!(Te[G+se]!==Ze||Te[G+se-1]!==ze||Te[G]!==Te[k]||Te[++G]!==Te[k+1])){k+=2,G++;do;while(Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&Te[++k]===Te[++G]&&k<Fe);if(j=le-(Fe-k),k=Fe-le,j>se){if(m.match_start=pe,se=j,j>=fe)break;ze=Te[k+se-1],Ze=Te[k+se]}}while((pe=Pe[pe&Ne])>me&&--he!==0);return se<=m.lookahead?se:m.lookahead}function ht(m){var pe=m.w_size,he,k,G,j,se;do{if(j=m.window_size-m.lookahead-m.strstart,m.strstart>=pe+(pe-ue)){r.arraySet(m.window,m.window,pe,pe,0),m.match_start-=pe,m.strstart-=pe,m.block_start-=pe,k=m.hash_size,he=k;do G=m.head[--he],m.head[he]=G>=pe?G-pe:0;while(--k);k=pe,he=k;do G=m.prev[--he],m.prev[he]=G>=pe?G-pe:0;while(--k);j+=pe}if(m.strm.avail_in===0)break;if(k=ut(m.strm,m.window,m.strstart+m.lookahead,j),m.lookahead+=k,m.lookahead+m.insert>=W)for(se=m.strstart-m.insert,m.ins_h=m.window[se],m.ins_h=(m.ins_h<<m.hash_shift^m.window[se+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[se+W-1])&m.hash_mask,m.prev[se&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=se,se++,m.insert--,!(m.lookahead+m.insert<W)););}while(m.lookahead<ue&&m.strm.avail_in!==0)}function mt(m,pe){var he=65535;for(he>m.pending_buf_size-5&&(he=m.pending_buf_size-5);;){if(m.lookahead<=1){if(ht(m),m.lookahead===0&&pe===a)return ne;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var k=m.block_start+he;if((m.strstart===0||m.strstart>=k)&&(m.lookahead=m.strstart-k,m.strstart=k,pt(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-ue&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):(m.strstart>m.block_start&&(pt(m,!1),m.strm.avail_out===0),ne)}function wt(m,pe){for(var he,k;;){if(m.lookahead<ue){if(ht(m),m.lookahead<ue&&pe===a)return ne;if(m.lookahead===0)break}if(he=0,m.lookahead>=W&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),he!==0&&m.strstart-he<=m.w_size-ue&&(m.match_length=rt(m,he)),m.match_length>=W)if(k=e._tr_tally(m,m.strstart-m.match_start,m.match_length-W),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=W){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else k=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(k&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=m.strstart<W-1?m.strstart:W-1,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function ft(m,pe){for(var he,k,G;;){if(m.lookahead<ue){if(ht(m),m.lookahead<ue&&pe===a)return ne;if(m.lookahead===0)break}if(he=0,m.lookahead>=W&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=W-1,he!==0&&m.prev_length<m.max_lazy_match&&m.strstart-he<=m.w_size-ue&&(m.match_length=rt(m,he),m.match_length<=5&&(m.strategy===w||m.match_length===W&&m.strstart-m.match_start>4096)&&(m.match_length=W-1)),m.prev_length>=W&&m.match_length<=m.prev_length){G=m.strstart+m.lookahead-W,k=e._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-W),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=G&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+W-1])&m.hash_mask,he=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=W-1,m.strstart++,k&&(pt(m,!1),m.strm.avail_out===0))return ne}else if(m.match_available){if(k=e._tr_tally(m,0,m.window[m.strstart-1]),k&&pt(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ne}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(k=e._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<W-1?m.strstart:W-1,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function Tt(m,pe){for(var he,k,G,j,se=m.window;;){if(m.lookahead<=le){if(ht(m),m.lookahead<=le&&pe===a)return ne;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=W&&m.strstart>0&&(G=m.strstart-1,k=se[G],k===se[++G]&&k===se[++G]&&k===se[++G])){j=m.strstart+le;do;while(k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&k===se[++G]&&G<j);m.match_length=le-(j-G),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=W?(he=e._tr_tally(m,1,m.match_length-W),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(he=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),he&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function De(m,pe){for(var he;;){if(m.lookahead===0&&(ht(m),m.lookahead===0)){if(pe===a)return ne;break}if(m.match_length=0,he=e._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,he&&(pt(m,!1),m.strm.avail_out===0))return ne}return m.insert=0,pe===l?(pt(m,!0),m.strm.avail_out===0?Ee:He):m.last_lit&&(pt(m,!1),m.strm.avail_out===0)?ne:we}function Ve(m,pe,he,k,G){this.good_length=m,this.max_lazy=pe,this.nice_length=he,this.max_chain=k,this.func=G}var Ke;Ke=[new Ve(0,0,0,0,mt),new Ve(4,4,8,4,wt),new Ve(4,5,16,8,wt),new Ve(4,6,32,32,wt),new Ve(4,4,16,16,ft),new Ve(8,16,32,32,ft),new Ve(8,16,128,128,ft),new Ve(8,32,128,256,ft),new Ve(32,128,258,1024,ft),new Ve(32,258,258,4096,ft)];function gt(m){m.window_size=2*m.w_size,xe(m.head),m.max_lazy_match=Ke[m.level].max_lazy,m.good_match=Ke[m.level].good_length,m.nice_match=Ke[m.level].nice_length,m.max_chain_length=Ke[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=W-1,m.match_available=0,m.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(re*2),this.dyn_dtree=new r.Buf16((2*ee+1)*2),this.bl_tree=new r.Buf16((2*J+1)*2),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(q+1),this.heap=new r.Buf16(2*D+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*D+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(m){var pe;return!m||!m.state?We(m,h):(m.total_in=m.total_out=0,m.data_type=M,pe=m.state,pe.pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?F:te,m.adler=pe.wrap===2?0:1,pe.last_flush=a,e._tr_init(pe),u)}function ke(m){var pe=_e(m);return pe===u&&gt(m.state),pe}function Le(m,pe){return!m||!m.state||m.state.wrap!==2?h:(m.state.gzhead=pe,u)}function Y(m,pe,he,k,G,j){if(!m)return h;var se=1;if(pe===y&&(pe=6),k<0?(se=0,k=-k):k>15&&(se=2,k-=16),G<1||G>L||he!==B||k<8||k>15||pe<0||pe>9||j<0||j>v)return We(m,h);k===8&&(k=9);var fe=new N;return m.state=fe,fe.strm=m,fe.wrap=se,fe.gzhead=null,fe.w_bits=k,fe.w_size=1<<fe.w_bits,fe.w_mask=fe.w_size-1,fe.hash_bits=G+7,fe.hash_size=1<<fe.hash_bits,fe.hash_mask=fe.hash_size-1,fe.hash_shift=~~((fe.hash_bits+W-1)/W),fe.window=new r.Buf8(fe.w_size*2),fe.head=new r.Buf16(fe.hash_size),fe.prev=new r.Buf16(fe.w_size),fe.lit_bufsize=1<<G+6,fe.pending_buf_size=fe.lit_bufsize*4,fe.pending_buf=new r.Buf8(fe.pending_buf_size),fe.d_buf=1*fe.lit_bufsize,fe.l_buf=3*fe.lit_bufsize,fe.level=pe,fe.strategy=j,fe.method=he,ke(m)}function ge(m,pe){return Y(m,pe,B,z,H,R)}function S(m,pe){var he,k,G,j;if(!m||!m.state||pe>c||pe<0)return m?We(m,h):h;if(k=m.state,!m.output||!m.input&&m.avail_in!==0||k.status===ie&&pe!==l)return We(m,m.avail_out===0?g:h);if(k.strm=m,he=k.last_flush,k.last_flush=pe,k.status===F)if(k.wrap===2)m.adler=0,Z(k,31),Z(k,139),Z(k,8),k.gzhead?(Z(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Z(k,k.gzhead.time&255),Z(k,k.gzhead.time>>8&255),Z(k,k.gzhead.time>>16&255),Z(k,k.gzhead.time>>24&255),Z(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Z(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Z(k,k.gzhead.extra.length&255),Z(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(m.adler=n(m.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=C):(Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Z(k,Ue),k.status=te);else{var se=B+(k.w_bits-8<<4)<<8,fe=-1;k.strategy>=x||k.level<2?fe=0:k.level<6?fe=1:k.level===6?fe=2:fe=3,se|=fe<<6,k.strstart!==0&&(se|=oe),se+=31-se%31,k.status=te,ce(k,se),k.strstart!==0&&(ce(k,m.adler>>>16),ce(k,m.adler&65535)),m.adler=1}if(k.status===C)if(k.gzhead.extra){for(G=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size));)Z(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=I)}else k.status=I;if(k.status===I)if(k.gzhead.name){G=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size)){j=1;break}k.gzindex<k.gzhead.name.length?j=k.gzhead.name.charCodeAt(k.gzindex++)&255:j=0,Z(k,j)}while(j!==0);k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),j===0&&(k.gzindex=0,k.status=O)}else k.status=O;if(k.status===O)if(k.gzhead.comment){G=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),nt(m),G=k.pending,k.pending===k.pending_buf_size)){j=1;break}k.gzindex<k.gzhead.comment.length?j=k.gzhead.comment.charCodeAt(k.gzindex++)&255:j=0,Z(k,j)}while(j!==0);k.gzhead.hcrc&&k.pending>G&&(m.adler=n(m.adler,k.pending_buf,k.pending-G,G)),j===0&&(k.status=X)}else k.status=X;if(k.status===X&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&nt(m),k.pending+2<=k.pending_buf_size&&(Z(k,m.adler&255),Z(k,m.adler>>8&255),m.adler=0,k.status=te)):k.status=te),k.pending!==0){if(nt(m),m.avail_out===0)return k.last_flush=-1,u}else if(m.avail_in===0&&it(pe)<=it(he)&&pe!==l)return We(m,g);if(k.status===ie&&m.avail_in!==0)return We(m,g);if(m.avail_in!==0||k.lookahead!==0||pe!==a&&k.status!==ie){var me=k.strategy===x?De(k,pe):k.strategy===T?Tt(k,pe):Ke[k.level].func(k,pe);if((me===Ee||me===He)&&(k.status=ie),me===ne||me===Ee)return m.avail_out===0&&(k.last_flush=-1),u;if(me===we&&(pe===s?e._tr_align(k):pe!==c&&(e._tr_stored_block(k,0,0,!1),pe===o&&(xe(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),nt(m),m.avail_out===0))return k.last_flush=-1,u}return pe!==l?u:k.wrap<=0?d:(k.wrap===2?(Z(k,m.adler&255),Z(k,m.adler>>8&255),Z(k,m.adler>>16&255),Z(k,m.adler>>24&255),Z(k,m.total_in&255),Z(k,m.total_in>>8&255),Z(k,m.total_in>>16&255),Z(k,m.total_in>>24&255)):(ce(k,m.adler>>>16),ce(k,m.adler&65535)),nt(m),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?u:d)}function Ae(m){var pe;return!m||!m.state?h:(pe=m.state.status,pe!==F&&pe!==C&&pe!==I&&pe!==O&&pe!==X&&pe!==te&&pe!==ie?We(m,h):(m.state=null,pe===te?We(m,f):u))}function Xe(m,pe){var he=pe.length,k,G,j,se,fe,me,Te,Ne;if(!m||!m.state||(k=m.state,se=k.wrap,se===2||se===1&&k.status!==F||k.lookahead))return h;for(se===1&&(m.adler=t(m.adler,pe,he,0)),k.wrap=0,he>=k.w_size&&(se===0&&(xe(k.head),k.strstart=0,k.block_start=0,k.insert=0),Ne=new r.Buf8(k.w_size),r.arraySet(Ne,pe,he-k.w_size,k.w_size,0),pe=Ne,he=k.w_size),fe=m.avail_in,me=m.next_in,Te=m.input,m.avail_in=he,m.next_in=0,m.input=pe,ht(k);k.lookahead>=W;){G=k.strstart,j=k.lookahead-(W-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+W-1])&k.hash_mask,k.prev[G&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=G,G++;while(--j);k.strstart=G,k.lookahead=W-1,ht(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=W-1,k.match_available=0,m.next_in=me,m.input=Te,m.avail_in=fe,k.wrap=se,u}return Xo.deflateInit=ge,Xo.deflateInit2=Y,Xo.deflateReset=ke,Xo.deflateResetKeep=_e,Xo.deflateSetHeader=Le,Xo.deflate=S,Xo.deflateEnd=Ae,Xo.deflateSetDictionary=Xe,Xo.deflateInfo="pako deflate (from Nodeca project)",Xo}var Ah={},WE;function kI(){if(WE)return Ah;WE=1;var r=ih(),e=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var n=new r.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,Ah.string2buf=function(s){var o,l,c,u,d,h=s.length,f=0;for(u=0;u<h;u++)l=s.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=s.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),f+=l<128?1:l<2048?2:l<65536?3:4;for(o=new r.Buf8(f),d=0,u=0;d<f;u++)l=s.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=s.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),l<128?o[d++]=l:l<2048?(o[d++]=192|l>>>6,o[d++]=128|l&63):l<65536?(o[d++]=224|l>>>12,o[d++]=128|l>>>6&63,o[d++]=128|l&63):(o[d++]=240|l>>>18,o[d++]=128|l>>>12&63,o[d++]=128|l>>>6&63,o[d++]=128|l&63);return o};function a(s,o){if(o<65534&&(s.subarray&&t||!s.subarray&&e))return String.fromCharCode.apply(null,r.shrinkBuf(s,o));for(var l="",c=0;c<o;c++)l+=String.fromCharCode(s[c]);return l}return Ah.buf2binstring=function(s){return a(s,s.length)},Ah.binstring2buf=function(s){for(var o=new r.Buf8(s.length),l=0,c=o.length;l<c;l++)o[l]=s.charCodeAt(l);return o},Ah.buf2string=function(s,o){var l,c,u,d,h=o||s.length,f=new Array(h*2);for(c=0,l=0;l<h;){if(u=s[l++],u<128){f[c++]=u;continue}if(d=n[u],d>4){f[c++]=65533,l+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&l<h;)u=u<<6|s[l++]&63,d--;if(d>1){f[c++]=65533;continue}u<65536?f[c++]=u:(u-=65536,f[c++]=55296|u>>10&1023,f[c++]=56320|u&1023)}return a(f,c)},Ah.utf8border=function(s,o){var l;for(o=o||s.length,o>s.length&&(o=s.length),l=o-1;l>=0&&(s[l]&192)===128;)l--;return l<0||l===0?o:l+n[s[l]]>o?l:o},Ah}var jw,XE;function EI(){if(XE)return jw;XE=1;function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return jw=r,jw}var KE;function qX(){if(KE)return P0;KE=1;var r=UX(),e=ih(),t=kI(),n=xS(),i=EI(),a=Object.prototype.toString,s=0,o=4,l=0,c=1,u=2,d=-1,h=0,f=8;function g(T){if(!(this instanceof g))return new g(T);this.options=e.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},T||{});var v=this.options;v.raw&&v.windowBits>0?v.windowBits=-v.windowBits:v.gzip&&v.windowBits>0&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var R=r.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(R!==l)throw new Error(n[R]);if(v.header&&r.deflateSetHeader(this.strm,v.header),v.dictionary){var M;if(typeof v.dictionary=="string"?M=t.string2buf(v.dictionary):a.call(v.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(v.dictionary):M=v.dictionary,R=r.deflateSetDictionary(this.strm,M),R!==l)throw new Error(n[R]);this._dict_set=!0}}g.prototype.push=function(T,v){var R=this.strm,M=this.options.chunkSize,B,L;if(this.ended)return!1;L=v===~~v?v:v===!0?o:s,typeof T=="string"?R.input=t.string2buf(T):a.call(T)==="[object ArrayBuffer]"?R.input=new Uint8Array(T):R.input=T,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new e.Buf8(M),R.next_out=0,R.avail_out=M),B=r.deflate(R,L),B!==c&&B!==l)return this.onEnd(B),this.ended=!0,!1;(R.avail_out===0||R.avail_in===0&&(L===o||L===u))&&(this.options.to==="string"?this.onData(t.buf2binstring(e.shrinkBuf(R.output,R.next_out))):this.onData(e.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&B!==c);return L===o?(B=r.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===l):(L===u&&(this.onEnd(l),R.avail_out=0),!0)},g.prototype.onData=function(T){this.chunks.push(T)},g.prototype.onEnd=function(T){T===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function y(T,v){var R=new g(v);if(R.push(T,!0),R.err)throw R.msg||n[R.err];return R.result}function w(T,v){return v=v||{},v.raw=!0,y(T,v)}function x(T,v){return v=v||{},v.gzip=!0,y(T,v)}return P0.Deflate=g,P0.deflate=y,P0.deflateRaw=w,P0.gzip=x,P0}var F0={},ho={},Uw,YE;function HX(){if(YE)return Uw;YE=1;var r=30,e=12;return Uw=function(n,i){var a,s,o,l,c,u,d,h,f,g,y,w,x,T,v,R,M,B,L,z,H,$,U,D,ee;a=n.state,s=n.next_in,D=n.input,o=s+(n.avail_in-5),l=n.next_out,ee=n.output,c=l-(i-n.avail_out),u=l+(n.avail_out-257),d=a.dmax,h=a.wsize,f=a.whave,g=a.wnext,y=a.window,w=a.hold,x=a.bits,T=a.lencode,v=a.distcode,R=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;e:do{x<15&&(w+=D[s++]<<x,x+=8,w+=D[s++]<<x,x+=8),B=T[w&R];t:for(;;){if(L=B>>>24,w>>>=L,x-=L,L=B>>>16&255,L===0)ee[l++]=B&65535;else if(L&16){z=B&65535,L&=15,L&&(x<L&&(w+=D[s++]<<x,x+=8),z+=w&(1<<L)-1,w>>>=L,x-=L),x<15&&(w+=D[s++]<<x,x+=8,w+=D[s++]<<x,x+=8),B=v[w&M];n:for(;;){if(L=B>>>24,w>>>=L,x-=L,L=B>>>16&255,L&16){if(H=B&65535,L&=15,x<L&&(w+=D[s++]<<x,x+=8,x<L&&(w+=D[s++]<<x,x+=8)),H+=w&(1<<L)-1,H>d){n.msg="invalid distance too far back",a.mode=r;break e}if(w>>>=L,x-=L,L=l-c,H>L){if(L=H-L,L>f&&a.sane){n.msg="invalid distance too far back",a.mode=r;break e}if($=0,U=y,g===0){if($+=h-L,L<z){z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}}else if(g<L){if($+=h+g-L,L-=g,L<z){z-=L;do ee[l++]=y[$++];while(--L);if($=0,g<z){L=g,z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}}}else if($+=g-L,L<z){z-=L;do ee[l++]=y[$++];while(--L);$=l-H,U=ee}for(;z>2;)ee[l++]=U[$++],ee[l++]=U[$++],ee[l++]=U[$++],z-=3;z&&(ee[l++]=U[$++],z>1&&(ee[l++]=U[$++]))}else{$=l-H;do ee[l++]=ee[$++],ee[l++]=ee[$++],ee[l++]=ee[$++],z-=3;while(z>2);z&&(ee[l++]=ee[$++],z>1&&(ee[l++]=ee[$++]))}}else if((L&64)===0){B=v[(B&65535)+(w&(1<<L)-1)];continue n}else{n.msg="invalid distance code",a.mode=r;break e}break}}else if((L&64)===0){B=T[(B&65535)+(w&(1<<L)-1)];continue t}else if(L&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=r;break e}break}}while(s<o&&l<u);z=x>>3,s-=z,x-=z<<3,w&=(1<<x)-1,n.next_in=s,n.next_out=l,n.avail_in=s<o?5+(o-s):5-(s-o),n.avail_out=l<u?257+(u-l):257-(l-u),a.hold=w,a.bits=x},Uw}var qw,ZE;function zX(){if(ZE)return qw;ZE=1;var r=ih(),e=15,t=852,n=592,i=0,a=1,s=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return qw=function(h,f,g,y,w,x,T,v){var R=v.bits,M=0,B=0,L=0,z=0,H=0,$=0,U=0,D=0,ee=0,J=0,re,q,W,le,ue,oe=null,F=0,C,I=new r.Buf16(e+1),O=new r.Buf16(e+1),X=null,te=0,ie,ne,we;for(M=0;M<=e;M++)I[M]=0;for(B=0;B<y;B++)I[f[g+B]]++;for(H=R,z=e;z>=1&&I[z]===0;z--);if(H>z&&(H=z),z===0)return w[x++]=1<<24|64<<16|0,w[x++]=1<<24|64<<16|0,v.bits=1,0;for(L=1;L<z&&I[L]===0;L++);for(H<L&&(H=L),D=1,M=1;M<=e;M++)if(D<<=1,D-=I[M],D<0)return-1;if(D>0&&(h===i||z!==1))return-1;for(O[1]=0,M=1;M<e;M++)O[M+1]=O[M]+I[M];for(B=0;B<y;B++)f[g+B]!==0&&(T[O[f[g+B]]++]=B);if(h===i?(oe=X=T,C=19):h===a?(oe=o,F-=257,X=l,te-=257,C=256):(oe=c,X=u,C=-1),J=0,B=0,M=L,ue=x,$=H,U=0,W=-1,ee=1<<H,le=ee-1,h===a&&ee>t||h===s&&ee>n)return 1;for(;;){ie=M-U,T[B]<C?(ne=0,we=T[B]):T[B]>C?(ne=X[te+T[B]],we=oe[F+T[B]]):(ne=96,we=0),re=1<<M-U,q=1<<$,L=q;do q-=re,w[ue+(J>>U)+q]=ie<<24|ne<<16|we|0;while(q!==0);for(re=1<<M-1;J&re;)re>>=1;if(re!==0?(J&=re-1,J+=re):J=0,B++,--I[M]===0){if(M===z)break;M=f[g+T[B]]}if(M>H&&(J&le)!==W){for(U===0&&(U=H),ue+=L,$=M-U,D=1<<$;$+U<z&&(D-=I[$+U],!(D<=0));)$++,D<<=1;if(ee+=1<<$,h===a&&ee>t||h===s&&ee>n)return 1;W=J&le,w[W]=H<<24|$<<16|ue-x|0}}return J!==0&&(w[ue+J]=M-U<<24|64<<16|0),v.bits=H,0},qw}var JE;function VX(){if(JE)return ho;JE=1;var r=ih(),e=SI(),t=AI(),n=HX(),i=zX(),a=0,s=1,o=2,l=4,c=5,u=6,d=0,h=1,f=2,g=-2,y=-3,w=-4,x=-5,T=8,v=1,R=2,M=3,B=4,L=5,z=6,H=7,$=8,U=9,D=10,ee=11,J=12,re=13,q=14,W=15,le=16,ue=17,oe=18,F=19,C=20,I=21,O=22,X=23,te=24,ie=25,ne=26,we=27,Ee=28,He=29,Ue=30,We=31,it=32,xe=852,nt=592,pt=15,Z=pt;function ce(Y){return(Y>>>24&255)+(Y>>>8&65280)+((Y&65280)<<8)+((Y&255)<<24)}function ut(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function rt(Y){var ge;return!Y||!Y.state?g:(ge=Y.state,Y.total_in=Y.total_out=ge.total=0,Y.msg="",ge.wrap&&(Y.adler=ge.wrap&1),ge.mode=v,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new r.Buf32(xe),ge.distcode=ge.distdyn=new r.Buf32(nt),ge.sane=1,ge.back=-1,d)}function ht(Y){var ge;return!Y||!Y.state?g:(ge=Y.state,ge.wsize=0,ge.whave=0,ge.wnext=0,rt(Y))}function mt(Y,ge){var S,Ae;return!Y||!Y.state||(Ae=Y.state,ge<0?(S=0,ge=-ge):(S=(ge>>4)+1,ge<48&&(ge&=15)),ge&&(ge<8||ge>15))?g:(Ae.window!==null&&Ae.wbits!==ge&&(Ae.window=null),Ae.wrap=S,Ae.wbits=ge,ht(Y))}function wt(Y,ge){var S,Ae;return Y?(Ae=new ut,Y.state=Ae,Ae.window=null,S=mt(Y,ge),S!==d&&(Y.state=null),S):g}function ft(Y){return wt(Y,Z)}var Tt=!0,De,Ve;function Ke(Y){if(Tt){var ge;for(De=new r.Buf32(512),Ve=new r.Buf32(32),ge=0;ge<144;)Y.lens[ge++]=8;for(;ge<256;)Y.lens[ge++]=9;for(;ge<280;)Y.lens[ge++]=7;for(;ge<288;)Y.lens[ge++]=8;for(i(s,Y.lens,0,288,De,0,Y.work,{bits:9}),ge=0;ge<32;)Y.lens[ge++]=5;i(o,Y.lens,0,32,Ve,0,Y.work,{bits:5}),Tt=!1}Y.lencode=De,Y.lenbits=9,Y.distcode=Ve,Y.distbits=5}function gt(Y,ge,S,Ae){var Xe,m=Y.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new r.Buf8(m.wsize)),Ae>=m.wsize?(r.arraySet(m.window,ge,S-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(Xe=m.wsize-m.wnext,Xe>Ae&&(Xe=Ae),r.arraySet(m.window,ge,S-Ae,Xe,m.wnext),Ae-=Xe,Ae?(r.arraySet(m.window,ge,S-Ae,Ae,0),m.wnext=Ae,m.whave=m.wsize):(m.wnext+=Xe,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=Xe))),0}function N(Y,ge){var S,Ae,Xe,m,pe,he,k,G,j,se,fe,me,Te,Ne,Pe=0,Fe,ze,Ze,Ge,at,Nt,vt,lt,bt=new r.Buf8(4),et,kt,zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return g;S=Y.state,S.mode===J&&(S.mode=re),pe=Y.next_out,Xe=Y.output,k=Y.avail_out,m=Y.next_in,Ae=Y.input,he=Y.avail_in,G=S.hold,j=S.bits,se=he,fe=k,lt=d;e:for(;;)switch(S.mode){case v:if(S.wrap===0){S.mode=re;break}for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.wrap&2&&G===35615){S.check=0,bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0),G=0,j=0,S.mode=R;break}if(S.flags=0,S.head&&(S.head.done=!1),!(S.wrap&1)||(((G&255)<<8)+(G>>8))%31){Y.msg="incorrect header check",S.mode=Ue;break}if((G&15)!==T){Y.msg="unknown compression method",S.mode=Ue;break}if(G>>>=4,j-=4,vt=(G&15)+8,S.wbits===0)S.wbits=vt;else if(vt>S.wbits){Y.msg="invalid window size",S.mode=Ue;break}S.dmax=1<<vt,Y.adler=S.check=1,S.mode=G&512?D:J,G=0,j=0;break;case R:for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.flags=G,(S.flags&255)!==T){Y.msg="unknown compression method",S.mode=Ue;break}if(S.flags&57344){Y.msg="unknown header flags set",S.mode=Ue;break}S.head&&(S.head.text=G>>8&1),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0,S.mode=M;case M:for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.head&&(S.head.time=G),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,bt[2]=G>>>16&255,bt[3]=G>>>24&255,S.check=t(S.check,bt,4,0)),G=0,j=0,S.mode=B;case B:for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.head&&(S.head.xflags=G&255,S.head.os=G>>8),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0,S.mode=L;case L:if(S.flags&1024){for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.length=G,S.head&&(S.head.extra_len=G),S.flags&512&&(bt[0]=G&255,bt[1]=G>>>8&255,S.check=t(S.check,bt,2,0)),G=0,j=0}else S.head&&(S.head.extra=null);S.mode=z;case z:if(S.flags&1024&&(me=S.length,me>he&&(me=he),me&&(S.head&&(vt=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),r.arraySet(S.head.extra,Ae,m,me,vt)),S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,S.length-=me),S.length))break e;S.length=0,S.mode=H;case H:if(S.flags&2048){if(he===0)break e;me=0;do vt=Ae[m+me++],S.head&&vt&&S.length<65536&&(S.head.name+=String.fromCharCode(vt));while(vt&&me<he);if(S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,vt)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=$;case $:if(S.flags&4096){if(he===0)break e;me=0;do vt=Ae[m+me++],S.head&&vt&&S.length<65536&&(S.head.comment+=String.fromCharCode(vt));while(vt&&me<he);if(S.flags&512&&(S.check=t(S.check,Ae,me,m)),he-=me,m+=me,vt)break e}else S.head&&(S.head.comment=null);S.mode=U;case U:if(S.flags&512){for(;j<16;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G!==(S.check&65535)){Y.msg="header crc mismatch",S.mode=Ue;break}G=0,j=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),Y.adler=S.check=0,S.mode=J;break;case D:for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}Y.adler=S.check=ce(G),G=0,j=0,S.mode=ee;case ee:if(S.havedict===0)return Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,f;Y.adler=S.check=1,S.mode=J;case J:if(ge===c||ge===u)break e;case re:if(S.last){G>>>=j&7,j-=j&7,S.mode=we;break}for(;j<3;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}switch(S.last=G&1,G>>>=1,j-=1,G&3){case 0:S.mode=q;break;case 1:if(Ke(S),S.mode=C,ge===u){G>>>=2,j-=2;break e}break;case 2:S.mode=ue;break;case 3:Y.msg="invalid block type",S.mode=Ue}G>>>=2,j-=2;break;case q:for(G>>>=j&7,j-=j&7;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if((G&65535)!==(G>>>16^65535)){Y.msg="invalid stored block lengths",S.mode=Ue;break}if(S.length=G&65535,G=0,j=0,S.mode=W,ge===u)break e;case W:S.mode=le;case le:if(me=S.length,me){if(me>he&&(me=he),me>k&&(me=k),me===0)break e;r.arraySet(Xe,Ae,m,me,pe),he-=me,m+=me,k-=me,pe+=me,S.length-=me;break}S.mode=J;break;case ue:for(;j<14;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(S.nlen=(G&31)+257,G>>>=5,j-=5,S.ndist=(G&31)+1,G>>>=5,j-=5,S.ncode=(G&15)+4,G>>>=4,j-=4,S.nlen>286||S.ndist>30){Y.msg="too many length or distance symbols",S.mode=Ue;break}S.have=0,S.mode=oe;case oe:for(;S.have<S.ncode;){for(;j<3;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.lens[zt[S.have++]]=G&7,G>>>=3,j-=3}for(;S.have<19;)S.lens[zt[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,et={bits:S.lenbits},lt=i(a,S.lens,0,19,S.lencode,0,S.work,et),S.lenbits=et.bits,lt){Y.msg="invalid code lengths set",S.mode=Ue;break}S.have=0,S.mode=F;case F:for(;S.have<S.nlen+S.ndist;){for(;Pe=S.lencode[G&(1<<S.lenbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(Ze<16)G>>>=Fe,j-=Fe,S.lens[S.have++]=Ze;else{if(Ze===16){for(kt=Fe+2;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G>>>=Fe,j-=Fe,S.have===0){Y.msg="invalid bit length repeat",S.mode=Ue;break}vt=S.lens[S.have-1],me=3+(G&3),G>>>=2,j-=2}else if(Ze===17){for(kt=Fe+3;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Fe,j-=Fe,vt=0,me=3+(G&7),G>>>=3,j-=3}else{for(kt=Fe+7;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Fe,j-=Fe,vt=0,me=11+(G&127),G>>>=7,j-=7}if(S.have+me>S.nlen+S.ndist){Y.msg="invalid bit length repeat",S.mode=Ue;break}for(;me--;)S.lens[S.have++]=vt}}if(S.mode===Ue)break;if(S.lens[256]===0){Y.msg="invalid code -- missing end-of-block",S.mode=Ue;break}if(S.lenbits=9,et={bits:S.lenbits},lt=i(s,S.lens,0,S.nlen,S.lencode,0,S.work,et),S.lenbits=et.bits,lt){Y.msg="invalid literal/lengths set",S.mode=Ue;break}if(S.distbits=6,S.distcode=S.distdyn,et={bits:S.distbits},lt=i(o,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,et),S.distbits=et.bits,lt){Y.msg="invalid distances set",S.mode=Ue;break}if(S.mode=C,ge===u)break e;case C:S.mode=I;case I:if(he>=6&&k>=258){Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,n(Y,fe),pe=Y.next_out,Xe=Y.output,k=Y.avail_out,m=Y.next_in,Ae=Y.input,he=Y.avail_in,G=S.hold,j=S.bits,S.mode===J&&(S.back=-1);break}for(S.back=0;Pe=S.lencode[G&(1<<S.lenbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(ze&&(ze&240)===0){for(Ge=Fe,at=ze,Nt=Ze;Pe=S.lencode[Nt+((G&(1<<Ge+at)-1)>>Ge)],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Ge+Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Ge,j-=Ge,S.back+=Ge}if(G>>>=Fe,j-=Fe,S.back+=Fe,S.length=Ze,ze===0){S.mode=ne;break}if(ze&32){S.back=-1,S.mode=J;break}if(ze&64){Y.msg="invalid literal/length code",S.mode=Ue;break}S.extra=ze&15,S.mode=O;case O:if(S.extra){for(kt=S.extra;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.length+=G&(1<<S.extra)-1,G>>>=S.extra,j-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=X;case X:for(;Pe=S.distcode[G&(1<<S.distbits)-1],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if((ze&240)===0){for(Ge=Fe,at=ze,Nt=Ze;Pe=S.distcode[Nt+((G&(1<<Ge+at)-1)>>Ge)],Fe=Pe>>>24,ze=Pe>>>16&255,Ze=Pe&65535,!(Ge+Fe<=j);){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}G>>>=Ge,j-=Ge,S.back+=Ge}if(G>>>=Fe,j-=Fe,S.back+=Fe,ze&64){Y.msg="invalid distance code",S.mode=Ue;break}S.offset=Ze,S.extra=ze&15,S.mode=te;case te:if(S.extra){for(kt=S.extra;j<kt;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}S.offset+=G&(1<<S.extra)-1,G>>>=S.extra,j-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){Y.msg="invalid distance too far back",S.mode=Ue;break}S.mode=ie;case ie:if(k===0)break e;if(me=fe-k,S.offset>me){if(me=S.offset-me,me>S.whave&&S.sane){Y.msg="invalid distance too far back",S.mode=Ue;break}me>S.wnext?(me-=S.wnext,Te=S.wsize-me):Te=S.wnext-me,me>S.length&&(me=S.length),Ne=S.window}else Ne=Xe,Te=pe-S.offset,me=S.length;me>k&&(me=k),k-=me,S.length-=me;do Xe[pe++]=Ne[Te++];while(--me);S.length===0&&(S.mode=I);break;case ne:if(k===0)break e;Xe[pe++]=S.length,k--,S.mode=I;break;case we:if(S.wrap){for(;j<32;){if(he===0)break e;he--,G|=Ae[m++]<<j,j+=8}if(fe-=k,Y.total_out+=fe,S.total+=fe,fe&&(Y.adler=S.check=S.flags?t(S.check,Xe,fe,pe-fe):e(S.check,Xe,fe,pe-fe)),fe=k,(S.flags?G:ce(G))!==S.check){Y.msg="incorrect data check",S.mode=Ue;break}G=0,j=0}S.mode=Ee;case Ee:if(S.wrap&&S.flags){for(;j<32;){if(he===0)break e;he--,G+=Ae[m++]<<j,j+=8}if(G!==(S.total&4294967295)){Y.msg="incorrect length check",S.mode=Ue;break}G=0,j=0}S.mode=He;case He:lt=h;break e;case Ue:lt=y;break e;case We:return w;case it:default:return g}return Y.next_out=pe,Y.avail_out=k,Y.next_in=m,Y.avail_in=he,S.hold=G,S.bits=j,(S.wsize||fe!==Y.avail_out&&S.mode<Ue&&(S.mode<we||ge!==l))&&gt(Y,Y.output,Y.next_out,fe-Y.avail_out),se-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=se,Y.total_out+=fe,S.total+=fe,S.wrap&&fe&&(Y.adler=S.check=S.flags?t(S.check,Xe,fe,Y.next_out-fe):e(S.check,Xe,fe,Y.next_out-fe)),Y.data_type=S.bits+(S.last?64:0)+(S.mode===J?128:0)+(S.mode===C||S.mode===W?256:0),(se===0&&fe===0||ge===l)&&lt===d&&(lt=x),lt}function _e(Y){if(!Y||!Y.state)return g;var ge=Y.state;return ge.window&&(ge.window=null),Y.state=null,d}function ke(Y,ge){var S;return!Y||!Y.state||(S=Y.state,(S.wrap&2)===0)?g:(S.head=ge,ge.done=!1,d)}function Le(Y,ge){var S=ge.length,Ae,Xe,m;return!Y||!Y.state||(Ae=Y.state,Ae.wrap!==0&&Ae.mode!==ee)?g:Ae.mode===ee&&(Xe=1,Xe=e(Xe,ge,S,0),Xe!==Ae.check)?y:(m=gt(Y,ge,S,S),m?(Ae.mode=We,w):(Ae.havedict=1,d))}return ho.inflateReset=ht,ho.inflateReset2=mt,ho.inflateResetKeep=rt,ho.inflateInit=ft,ho.inflateInit2=wt,ho.inflate=N,ho.inflateEnd=_e,ho.inflateGetHeader=ke,ho.inflateSetDictionary=Le,ho.inflateInfo="pako inflate (from Nodeca project)",ho}var Hw,QE;function CI(){return QE||(QE=1,Hw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Hw}var zw,$E;function GX(){if($E)return zw;$E=1;function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return zw=r,zw}var eC;function WX(){if(eC)return F0;eC=1;var r=VX(),e=ih(),t=kI(),n=CI(),i=xS(),a=EI(),s=GX(),o=Object.prototype.toString;function l(d){if(!(this instanceof l))return new l(d);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},d||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(d&&d.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15)===0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,h.windowBits);if(f!==n.Z_OK)throw new Error(i[f]);if(this.header=new s,r.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=t.string2buf(h.dictionary):o.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(f=r.inflateSetDictionary(this.strm,h.dictionary),f!==n.Z_OK)))throw new Error(i[f])}l.prototype.push=function(d,h){var f=this.strm,g=this.options.chunkSize,y=this.options.dictionary,w,x,T,v,R,M=!1;if(this.ended)return!1;x=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof d=="string"?f.input=t.binstring2buf(d):o.call(d)==="[object ArrayBuffer]"?f.input=new Uint8Array(d):f.input=d,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new e.Buf8(g),f.next_out=0,f.avail_out=g),w=r.inflate(f,n.Z_NO_FLUSH),w===n.Z_NEED_DICT&&y&&(w=r.inflateSetDictionary(this.strm,y)),w===n.Z_BUF_ERROR&&M===!0&&(w=n.Z_OK,M=!1),w!==n.Z_STREAM_END&&w!==n.Z_OK)return this.onEnd(w),this.ended=!0,!1;f.next_out&&(f.avail_out===0||w===n.Z_STREAM_END||f.avail_in===0&&(x===n.Z_FINISH||x===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(T=t.utf8border(f.output,f.next_out),v=f.next_out-T,R=t.buf2string(f.output,T),f.next_out=v,f.avail_out=g-v,v&&e.arraySet(f.output,f.output,T,v,0),this.onData(R)):this.onData(e.shrinkBuf(f.output,f.next_out))),f.avail_in===0&&f.avail_out===0&&(M=!0)}while((f.avail_in>0||f.avail_out===0)&&w!==n.Z_STREAM_END);return w===n.Z_STREAM_END&&(x=n.Z_FINISH),x===n.Z_FINISH?(w=r.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===n.Z_OK):(x===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),f.avail_out=0),!0)},l.prototype.onData=function(d){this.chunks.push(d)},l.prototype.onEnd=function(d){d===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function c(d,h){var f=new l(h);if(f.push(d,!0),f.err)throw f.msg||i[f.err];return f.result}function u(d,h){return h=h||{},h.raw=!0,c(d,h)}return F0.Inflate=l,F0.inflate=c,F0.inflateRaw=u,F0.ungzip=c,F0}var Vw,tC;function XX(){if(tC)return Vw;tC=1;var r=ih().assign,e=qX(),t=WX(),n=CI(),i={};return r(i,e,t,n),Vw=i,Vw}var KX=XX();const YX=Rx(KX);var Mt={};Mt.toRGBA8=function(r){var e=r.width,t=r.height;if(r.tabs.acTL==null)return[Mt.toRGBA8.decodeImage(r.data,e,t,r).buffer];var n=[];r.frames[0].data==null&&(r.frames[0].data=r.data);for(var i=e*t*4,a=new Uint8Array(i),s=new Uint8Array(i),o=new Uint8Array(i),l=0;l<r.frames.length;l++){var c=r.frames[l],u=c.rect.x,d=c.rect.y,h=c.rect.width,f=c.rect.height,g=Mt.toRGBA8.decodeImage(c.data,h,f,r);if(l!=0)for(var y=0;y<i;y++)o[y]=a[y];if(c.blend==0?Mt._copyTile(g,h,f,a,e,t,u,d,0):c.blend==1&&Mt._copyTile(g,h,f,a,e,t,u,d,1),n.push(a.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)Mt._copyTile(s,h,f,a,e,t,u,d,0);else if(c.dispose==2)for(var y=0;y<i;y++)a[y]=o[y]}}return n};Mt.toRGBA8.decodeImage=function(r,e,t,n){var i=e*t,a=Mt.decode._getBPP(n),s=Math.ceil(e*a/8),o=new Uint8Array(i*4),l=new Uint32Array(o.buffer),c=n.ctype,u=n.depth,d=Mt._bin.readUshort;if(c==6){var h=i<<2;if(u==8)for(var f=0;f<h;f+=4)o[f]=r[f],o[f+1]=r[f+1],o[f+2]=r[f+2],o[f+3]=r[f+3];if(u==16)for(var f=0;f<h;f++)o[f]=r[f<<1]}else if(c==2){var g=n.tabs.tRNS;if(g==null){if(u==8)for(var f=0;f<i;f++){var y=f*3;l[f]=255<<24|r[y+2]<<16|r[y+1]<<8|r[y]}if(u==16)for(var f=0;f<i;f++){var y=f*6;l[f]=255<<24|r[y+4]<<16|r[y+2]<<8|r[y]}}else{var w=g[0],x=g[1],T=g[2];if(u==8)for(var f=0;f<i;f++){var v=f<<2,y=f*3;l[f]=255<<24|r[y+2]<<16|r[y+1]<<8|r[y],r[y]==w&&r[y+1]==x&&r[y+2]==T&&(o[v+3]=0)}if(u==16)for(var f=0;f<i;f++){var v=f<<2,y=f*6;l[f]=255<<24|r[y+4]<<16|r[y+2]<<8|r[y],d(r,y)==w&&d(r,y+2)==x&&d(r,y+4)==T&&(o[v+3]=0)}}}else if(c==3){var R=n.tabs.PLTE,M=n.tabs.tRNS,B=M?M.length:0;if(u==1)for(var L=0;L<t;L++)for(var z=L*s,H=L*e,f=0;f<e;f++){var v=H+f<<2,$=r[z+(f>>3)]>>7-((f&7)<<0)&1,U=3*$;o[v]=R[U],o[v+1]=R[U+1],o[v+2]=R[U+2],o[v+3]=$<B?M[$]:255}if(u==2)for(var L=0;L<t;L++)for(var z=L*s,H=L*e,f=0;f<e;f++){var v=H+f<<2,$=r[z+(f>>2)]>>6-((f&3)<<1)&3,U=3*$;o[v]=R[U],o[v+1]=R[U+1],o[v+2]=R[U+2],o[v+3]=$<B?M[$]:255}if(u==4)for(var L=0;L<t;L++)for(var z=L*s,H=L*e,f=0;f<e;f++){var v=H+f<<2,$=r[z+(f>>1)]>>4-((f&1)<<2)&15,U=3*$;o[v]=R[U],o[v+1]=R[U+1],o[v+2]=R[U+2],o[v+3]=$<B?M[$]:255}if(u==8)for(var f=0;f<i;f++){var v=f<<2,$=r[f],U=3*$;o[v]=R[U],o[v+1]=R[U+1],o[v+2]=R[U+2],o[v+3]=$<B?M[$]:255}}else if(c==4){if(u==8)for(var f=0;f<i;f++){var v=f<<2,D=f<<1,ee=r[D];o[v]=ee,o[v+1]=ee,o[v+2]=ee,o[v+3]=r[D+1]}if(u==16)for(var f=0;f<i;f++){var v=f<<2,D=f<<2,ee=r[D];o[v]=ee,o[v+1]=ee,o[v+2]=ee,o[v+3]=r[D+2]}}else if(c==0)for(var w=n.tabs.tRNS?n.tabs.tRNS:-1,L=0;L<t;L++){var J=L*s,re=L*e;if(u==1)for(var q=0;q<e;q++){var ee=255*(r[J+(q>>>3)]>>>7-(q&7)&1),W=ee==w*255?0:255;l[re+q]=W<<24|ee<<16|ee<<8|ee}else if(u==2)for(var q=0;q<e;q++){var ee=85*(r[J+(q>>>2)]>>>6-((q&3)<<1)&3),W=ee==w*85?0:255;l[re+q]=W<<24|ee<<16|ee<<8|ee}else if(u==4)for(var q=0;q<e;q++){var ee=17*(r[J+(q>>>1)]>>>4-((q&1)<<2)&15),W=ee==w*17?0:255;l[re+q]=W<<24|ee<<16|ee<<8|ee}else if(u==8)for(var q=0;q<e;q++){var ee=r[J+q],W=ee==w?0:255;l[re+q]=W<<24|ee<<16|ee<<8|ee}else if(u==16)for(var q=0;q<e;q++){var ee=r[J+(q<<1)],W=d(r,J+(q<<f))==w?0:255;l[re+q]=W<<24|ee<<16|ee<<8|ee}}return o};Mt.decode=function(r){for(var e=new Uint8Array(r),t=8,n=Mt._bin,i=n.readUshort,a=n.readUint,s={tabs:{},frames:[]},o=new Uint8Array(e.length),l=0,c,u=0,d=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(e[h]!=d[h])throw"The input is not a PNG file!";for(;t<e.length;){var f=n.readUint(e,t);t+=4;var g=n.readASCII(e,t,4);if(t+=4,g=="IHDR")Mt.decode._IHDR(e,t,s);else if(g=="IDAT"){for(var h=0;h<f;h++)o[l+h]=e[t+h];l+=f}else if(g=="acTL")s.tabs[g]={num_frames:a(e,t),num_plays:a(e,t+4)},c=new Uint8Array(e.length);else if(g=="fcTL"){if(u!=0){var y=s.frames[s.frames.length-1];y.data=Mt.decode._decompress(s,c.slice(0,u),y.rect.width,y.rect.height),u=0}var w={x:a(e,t+12),y:a(e,t+16),width:a(e,t+4),height:a(e,t+8)},x=i(e,t+22);x=i(e,t+20)/(x==0?100:x);var T={rect:w,delay:Math.round(x*1e3),dispose:e[t+24],blend:e[t+25]};s.frames.push(T)}else if(g=="fdAT"){for(var h=0;h<f-4;h++)c[u+h]=e[t+h+4];u+=f-4}else if(g=="pHYs")s.tabs[g]=[n.readUint(e,t),n.readUint(e,t+4),e[t+8]];else if(g=="cHRM"){s.tabs[g]=[];for(var h=0;h<8;h++)s.tabs[g].push(n.readUint(e,t+h*4))}else if(g=="tEXt"){s.tabs[g]==null&&(s.tabs[g]={});var v=n.nextZero(e,t),R=n.readASCII(e,t,v-t),M=n.readASCII(e,v+1,t+f-v-1);s.tabs[g][R]=M}else if(g=="iTXt"){s.tabs[g]==null&&(s.tabs[g]={});var v=0,B=t;v=n.nextZero(e,B);var R=n.readASCII(e,B,v-B);B=v+1,e[B],e[B+1],B+=2,v=n.nextZero(e,B),n.readASCII(e,B,v-B),B=v+1,v=n.nextZero(e,B),n.readUTF8(e,B,v-B),B=v+1;var M=n.readUTF8(e,B,f-(B-t));s.tabs[g][R]=M}else if(g=="PLTE")s.tabs[g]=n.readBytes(e,t,f);else if(g=="hIST"){var L=s.tabs.PLTE.length/3;s.tabs[g]=[];for(var h=0;h<L;h++)s.tabs[g].push(i(e,t+h*2))}else if(g=="tRNS")s.ctype==3?s.tabs[g]=n.readBytes(e,t,f):s.ctype==0?s.tabs[g]=i(e,t):s.ctype==2&&(s.tabs[g]=[i(e,t),i(e,t+2),i(e,t+4)]);else if(g=="gAMA")s.tabs[g]=n.readUint(e,t)/1e5;else if(g=="sRGB")s.tabs[g]=e[t];else if(g=="bKGD")s.ctype==0||s.ctype==4?s.tabs[g]=[i(e,t)]:s.ctype==2||s.ctype==6?s.tabs[g]=[i(e,t),i(e,t+2),i(e,t+4)]:s.ctype==3&&(s.tabs[g]=e[t]);else if(g=="IEND")break;t+=f,n.readUint(e,t),t+=4}if(u!=0){var y=s.frames[s.frames.length-1];y.data=Mt.decode._decompress(s,c.slice(0,u),y.rect.width,y.rect.height),u=0}return s.data=Mt.decode._decompress(s,o,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s};Mt.decode._decompress=function(r,e,t,n){var i=Mt.decode._getBPP(r),a=Math.ceil(t*i/8),s=new Uint8Array((a+1+r.interlace)*n);return e=Mt.decode._inflate(e,s),r.interlace==0?e=Mt.decode._filterZero(e,r,0,t,n):r.interlace==1&&(e=Mt.decode._readInterlace(e,r)),e};Mt.decode._inflate=function(r,e){var t=Mt.inflateRaw(new Uint8Array(r.buffer,2,r.length-6),e);return t};Mt.inflateRaw=(function(){var r={};return r.H={},r.H.N=function(e,t){var n=Uint8Array,i=0,a=0,s=0,o=0,l=0,c=0,u=0,d=0,h=0,f,g;if(e[0]==3&&e[1]==0)return t||new n(0);var y=r.H,w=y.b,x=y.e,T=y.R,v=y.n,R=y.A,M=y.Z,B=y.m,L=t==null;for(L&&(t=new n(e.length>>>2<<3));i==0;){if(i=w(e,h,1),a=w(e,h+1,2),h+=3,a==0){(h&7)!=0&&(h+=8-(h&7));var z=(h>>>3)+4,H=e[z-4]|e[z-3]<<8;L&&(t=r.H.W(t,d+H)),t.set(new n(e.buffer,e.byteOffset+z,H),d),h=z+H<<3,d+=H;continue}if(L&&(t=r.H.W(t,d+(1<<17))),a==1&&(f=B.J,g=B.h,c=511,u=31),a==2){s=x(e,h,5)+257,o=x(e,h+5,5)+1,l=x(e,h+10,4)+4,h+=14;for(var $=1,U=0;U<38;U+=2)B.Q[U]=0,B.Q[U+1]=0;for(var U=0;U<l;U++){var D=x(e,h+U*3,3);B.Q[(B.X[U]<<1)+1]=D,D>$&&($=D)}h+=3*l,v(B.Q,$),R(B.Q,$,B.u),f=B.w,g=B.d,h=T(B.u,(1<<$)-1,s+o,e,h,B.v);var ee=y.V(B.v,0,s,B.C);c=(1<<ee)-1;var J=y.V(B.v,s,o,B.D);u=(1<<J)-1,v(B.C,ee),R(B.C,ee,f),v(B.D,J),R(B.D,J,g)}for(;;){var re=f[M(e,h)&c];h+=re&15;var q=re>>>4;if(!(q>>>8))t[d++]=q;else{if(q==256)break;var W=d+q-254;if(q>264){var le=B.q[q-257];W=d+(le>>>3)+x(e,h,le&7),h+=le&7}var ue=g[M(e,h)&u];h+=ue&15;var oe=ue>>>4,F=B.c[oe],C=(F>>>4)+w(e,h,F&15);for(h+=F&15;d<W;)t[d]=t[d++-C],t[d]=t[d++-C],t[d]=t[d++-C],t[d]=t[d++-C];d=W}}}return t.length==d?t:t.slice(0,d)},r.H.W=function(e,t){var n=e.length;if(t<=n)return e;var i=new Uint8Array(n<<1);return i.set(e,0),i},r.H.R=function(e,t,n,i,a,s){for(var o=r.H.e,l=r.H.Z,c=0;c<n;){var u=e[l(i,a)&t];a+=u&15;var d=u>>>4;if(d<=15)s[c]=d,c++;else{var h=0,f=0;d==16?(f=3+o(i,a,2),a+=2,h=s[c-1]):d==17?(f=3+o(i,a,3),a+=3):d==18&&(f=11+o(i,a,7),a+=7);for(var g=c+f;c<g;)s[c]=h,c++}}return a},r.H.V=function(e,t,n,i){for(var a=0,s=0,o=i.length>>>1;s<n;){var l=e[s+t];i[s<<1]=0,i[(s<<1)+1]=l,l>a&&(a=l),s++}for(;s<o;)i[s<<1]=0,i[(s<<1)+1]=0,s++;return a},r.H.n=function(e,t){for(var n=r.H.m,i=e.length,a,s,o,l,c,u=n.j,l=0;l<=t;l++)u[l]=0;for(l=1;l<i;l+=2)u[e[l]]++;var d=n.K;for(a=0,u[0]=0,s=1;s<=t;s++)a=a+u[s-1]<<1,d[s]=a;for(o=0;o<i;o+=2)c=e[o+1],c!=0&&(e[o]=d[c],d[c]++)},r.H.A=function(e,t,n){for(var i=e.length,a=r.H.m,s=a.r,o=0;o<i;o+=2)if(e[o+1]!=0)for(var l=o>>1,c=e[o+1],u=l<<4|c,d=t-c,h=e[o]<<d,f=h+(1<<d);h!=f;){var g=s[h]>>>15-t;n[g]=u,h++}},r.H.l=function(e,t){for(var n=r.H.m.r,i=15-t,a=0;a<e.length;a+=2){var s=e[a]<<t-e[a+1];e[a]=n[s]>>>i}},r.H.M=function(e,t,n){n=n<<(t&7);var i=t>>>3;e[i]|=n,e[i+1]|=n>>>8},r.H.I=function(e,t,n){n=n<<(t&7);var i=t>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},r.H.e=function(e,t,n){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(t&7)&(1<<n)-1},r.H.b=function(e,t,n){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)&(1<<n)-1},r.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)},r.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(t&7)},r.H.m=(function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}})(),(function(){for(var e=r.H.m,t=32768,n=0;n<t;n++){var i=n;i=(i&2863311530)>>>1|(i&1431655765)<<1,i=(i&3435973836)>>>2|(i&858993459)<<2,i=(i&4042322160)>>>4|(i&252645135)<<4,i=(i&4278255360)>>>8|(i&16711935)<<8,e.r[n]=(i>>>16|i<<16)>>>17}function a(s,o,l){for(;o--!=0;)s.push(0,l)}for(var n=0;n<32;n++)e.q[n]=e.S[n]<<3|e.T[n],e.c[n]=e.p[n]<<4|e.z[n];a(e._,144,8),a(e._,112,9),a(e._,24,7),a(e._,8,8),r.H.n(e._,9),r.H.A(e._,9,e.J),r.H.l(e._,9),a(e.$,32,5),r.H.n(e.$,5),r.H.A(e.$,5,e.h),r.H.l(e.$,5),a(e.Q,19,0),a(e.C,286,0),a(e.D,30,0),a(e.v,320,0)})(),r.H.N})();Mt.decode._readInterlace=function(r,e){for(var t=e.width,n=e.height,i=Mt.decode._getBPP(e),a=i>>3,s=Math.ceil(t*i/8),o=new Uint8Array(n*s),l=0,c=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],f=0;f<7;){for(var g=d[f],y=h[f],w=0,x=0,T=c[f];T<n;)T+=g,x++;for(var v=u[f];v<t;)v+=y,w++;var R=Math.ceil(w*i/8);Mt.decode._filterZero(r,e,l,w,x);for(var M=0,B=c[f];B<n;){for(var L=u[f],z=l+M*R<<3;L<t;){if(i==1){var H=r[z>>3];H=H>>7-(z&7)&1,o[B*s+(L>>3)]|=H<<7-((L&7)<<0)}if(i==2){var H=r[z>>3];H=H>>6-(z&7)&3,o[B*s+(L>>2)]|=H<<6-((L&3)<<1)}if(i==4){var H=r[z>>3];H=H>>4-(z&7)&15,o[B*s+(L>>1)]|=H<<4-((L&1)<<2)}if(i>=8)for(var $=B*s+L*a,U=0;U<a;U++)o[$+U]=r[(z>>3)+U];z+=i,L+=y}M++,B+=g}w*x!=0&&(l+=x*(1+R)),f=f+1}return o};Mt.decode._getBPP=function(r){var e=[1,null,3,1,2,null,4][r.ctype];return e*r.depth};Mt.decode._filterZero=function(r,e,t,n,i){var a=Mt.decode._getBPP(e),s=Math.ceil(n*a/8),o=Mt.decode._paeth;a=Math.ceil(a/8);var l=0,c=1,u=r[t],d=0;if(u>1&&(r[t]=[0,0,1][u-2]),u==3)for(d=a;d<s;d++)r[d+1]=r[d+1]+(r[d+1-a]>>>1)&255;for(var h=0;h<i;h++)if(l=t+h*s,c=l+h+1,u=r[c-1],d=0,u==0)for(;d<s;d++)r[l+d]=r[c+d];else if(u==1){for(;d<a;d++)r[l+d]=r[c+d];for(;d<s;d++)r[l+d]=r[c+d]+r[l+d-a]}else if(u==2)for(;d<s;d++)r[l+d]=r[c+d]+r[l+d-s];else if(u==3){for(;d<a;d++)r[l+d]=r[c+d]+(r[l+d-s]>>>1);for(;d<s;d++)r[l+d]=r[c+d]+(r[l+d-s]+r[l+d-a]>>>1)}else{for(;d<a;d++)r[l+d]=r[c+d]+o(0,r[l+d-s],0);for(;d<s;d++)r[l+d]=r[c+d]+o(r[l+d-a],r[l+d-s],r[l+d-a-s])}return r};Mt.decode._paeth=function(r,e,t){var n=r+e-t,i=n-r,a=n-e,s=n-t;return i*i<=a*a&&i*i<=s*s?r:a*a<=s*s?e:t};Mt.decode._IHDR=function(r,e,t){var n=Mt._bin;t.width=n.readUint(r,e),e+=4,t.height=n.readUint(r,e),e+=4,t.depth=r[e],e++,t.ctype=r[e],e++,t.compress=r[e],e++,t.filter=r[e],e++,t.interlace=r[e],e++};Mt._bin={nextZero:function(r,e){for(;r[e]!=0;)e++;return e},readUshort:function(r,e){return r[e]<<8|r[e+1]},writeUshort:function(r,e,t){r[e]=t>>8&255,r[e+1]=t&255},readUint:function(r,e){return r[e]*(256*256*256)+(r[e+1]<<16|r[e+2]<<8|r[e+3])},writeUint:function(r,e,t){r[e]=t>>24&255,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=t&255},readASCII:function(r,e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(r[e+i]);return n},writeASCII:function(r,e,t){for(var n=0;n<t.length;n++)r[e+n]=t.charCodeAt(n)},readBytes:function(r,e,t){for(var n=[],i=0;i<t;i++)n.push(r[e+i]);return n},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,e,t){for(var n="",i,a=0;a<t;a++)n+="%"+Mt._bin.pad(r[e+a].toString(16));try{i=decodeURIComponent(n)}catch{return Mt._bin.readASCII(r,e,t)}return i}};Mt._copyTile=function(r,e,t,n,i,a,s,o,l){for(var c=Math.min(e,i),u=Math.min(t,a),d=0,h=0,f=0;f<u;f++)for(var g=0;g<c;g++)if(s>=0&&o>=0?(d=f*e+g<<2,h=(o+f)*i+s+g<<2):(d=(-o+f)*e-s+g<<2,h=f*i+g<<2),l==0)n[h]=r[d],n[h+1]=r[d+1],n[h+2]=r[d+2],n[h+3]=r[d+3];else if(l==1){var y=r[d+3]*.00392156862745098,w=r[d]*y,x=r[d+1]*y,T=r[d+2]*y,v=n[h+3]*(1/255),R=n[h]*v,M=n[h+1]*v,B=n[h+2]*v,L=1-y,z=y+v*L,H=z==0?0:1/z;n[h+3]=255*z,n[h+0]=(w+R*L)*H,n[h+1]=(x+M*L)*H,n[h+2]=(T+B*L)*H}else if(l==2){var y=r[d+3],w=r[d],x=r[d+1],T=r[d+2],v=n[h+3],R=n[h],M=n[h+1],B=n[h+2];y==v&&w==R&&x==M&&T==B?(n[h]=0,n[h+1]=0,n[h+2]=0,n[h+3]=0):(n[h]=w,n[h+1]=x,n[h+2]=T,n[h+3]=y)}else if(l==3){var y=r[d+3],w=r[d],x=r[d+1],T=r[d+2],v=n[h+3],R=n[h],M=n[h+1],B=n[h+2];if(y==v&&w==R&&x==M&&T==B)continue;if(y<220&&v>20)return!1}return!0};Mt.encode=function(r,e,t,n,i,a,s){n==null&&(n=0),s==null&&(s=!1);var o=Mt.encode.compress(r,e,t,n,[!1,!1,!1,0,s]);return Mt.encode.compressPNG(o,-1),Mt.encode._main(o,e,t,i,a)};Mt.encodeLL=function(r,e,t,n,i,a,s,o){for(var l={ctype:0+(n==1?0:2)+(i==0?0:4),depth:a,frames:[]},c=(n+i)*a,u=c*e,d=0;d<r.length;d++)l.frames.push({rect:{x:0,y:0,width:e,height:t},img:new Uint8Array(r[d]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(u/8)});Mt.encode.compressPNG(l,0,!0);var h=Mt.encode._main(l,e,t,s,o);return h};Mt.encode._main=function(r,e,t,n,i){i==null&&(i={});var a=Mt.crc.crc,s=Mt._bin.writeUint,o=Mt._bin.writeUshort,l=Mt._bin.writeASCII,c=8,u=r.frames.length>1,d=!1,h=33+(u?20:0);if(i.sRGB!=null&&(h+=13),i.pHYs!=null&&(h+=21),r.ctype==3){for(var f=r.plte.length,g=0;g<f;g++)r.plte[g]>>>24!=255&&(d=!0);h+=8+f*3+4+(d?8+f*1+4:0)}for(var y=0;y<r.frames.length;y++){var w=r.frames[y];u&&(h+=38),h+=w.cimg.length+12,y!=0&&(h+=4)}h+=12;for(var x=new Uint8Array(h),T=[137,80,78,71,13,10,26,10],g=0;g<8;g++)x[g]=T[g];if(s(x,c,13),c+=4,l(x,c,"IHDR"),c+=4,s(x,c,e),c+=4,s(x,c,t),c+=4,x[c]=r.depth,c++,x[c]=r.ctype,c++,x[c]=0,c++,x[c]=0,c++,x[c]=0,c++,s(x,c,a(x,c-17,17)),c+=4,i.sRGB!=null&&(s(x,c,1),c+=4,l(x,c,"sRGB"),c+=4,x[c]=i.sRGB,c++,s(x,c,a(x,c-5,5)),c+=4),i.pHYs!=null&&(s(x,c,9),c+=4,l(x,c,"pHYs"),c+=4,s(x,c,i.pHYs[0]),c+=4,s(x,c,i.pHYs[1]),c+=4,x[c]=i.pHYs[2],c++,s(x,c,a(x,c-13,13)),c+=4),u&&(s(x,c,8),c+=4,l(x,c,"acTL"),c+=4,s(x,c,r.frames.length),c+=4,s(x,c,i.loop!=null?i.loop:0),c+=4,s(x,c,a(x,c-12,12)),c+=4),r.ctype==3){var f=r.plte.length;s(x,c,f*3),c+=4,l(x,c,"PLTE"),c+=4;for(var g=0;g<f;g++){var v=g*3,R=r.plte[g],M=R&255,B=R>>>8&255,L=R>>>16&255;x[c+v+0]=M,x[c+v+1]=B,x[c+v+2]=L}if(c+=f*3,s(x,c,a(x,c-f*3-4,f*3+4)),c+=4,d){s(x,c,f),c+=4,l(x,c,"tRNS"),c+=4;for(var g=0;g<f;g++)x[c+g]=r.plte[g]>>>24&255;c+=f,s(x,c,a(x,c-f-4,f+4)),c+=4}}for(var z=0,y=0;y<r.frames.length;y++){var w=r.frames[y];u&&(s(x,c,26),c+=4,l(x,c,"fcTL"),c+=4,s(x,c,z++),c+=4,s(x,c,w.rect.width),c+=4,s(x,c,w.rect.height),c+=4,s(x,c,w.rect.x),c+=4,s(x,c,w.rect.y),c+=4,o(x,c,n[y]),c+=2,o(x,c,1e3),c+=2,x[c]=w.dispose,c++,x[c]=w.blend,c++,s(x,c,a(x,c-30,30)),c+=4);var H=w.cimg,f=H.length;s(x,c,f+(y==0?0:4)),c+=4;var $=c;l(x,c,y==0?"IDAT":"fdAT"),c+=4,y!=0&&(s(x,c,z++),c+=4),x.set(H,c),c+=f,s(x,c,a(x,$,c-$)),c+=4}return s(x,c,0),c+=4,l(x,c,"IEND"),c+=4,s(x,c,a(x,c-4,4)),c+=4,x.buffer};Mt.encode.compressPNG=function(r,e,t){for(var n=0;n<r.frames.length;n++){var i=r.frames[n];i.rect.width;var a=i.rect.height,s=new Uint8Array(a*i.bpl+a);i.cimg=Mt.encode._filterZero(i.img,a,i.bpp,i.bpl,s,e,t)}};Mt.encode.compress=function(r,e,t,n,i){for(var a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=6,d=8,h=255,f=0;f<r.length;f++)for(var g=new Uint8Array(r[f]),y=g.length,w=0;w<y;w+=4)h&=g[w+3];var x=h!=255,T=Mt.encode.framize(r,e,t,a,s,o),v={},R=[],M=[];if(n!=0){for(var B=[],w=0;w<T.length;w++)B.push(T[w].img.buffer);for(var L=Mt.encode.concatRGBA(B),z=Mt.quantize(L,n),H=0,$=new Uint8Array(z.abuf),w=0;w<T.length;w++){var U=T[w].img,D=U.length;M.push(new Uint8Array(z.inds.buffer,H>>2,D>>2));for(var f=0;f<D;f+=4)U[f]=$[H+f],U[f+1]=$[H+f+1],U[f+2]=$[H+f+2],U[f+3]=$[H+f+3];H+=D}for(var w=0;w<z.plte.length;w++)R.push(z.plte[w].est.rgba)}else for(var f=0;f<T.length;f++){var ee=T[f],J=new Uint32Array(ee.img.buffer),re=ee.rect.width,y=J.length,q=new Uint8Array(y);M.push(q);for(var w=0;w<y;w++){var W=J[w];if(w!=0&&W==J[w-1])q[w]=q[w-1];else if(w>re&&W==J[w-re])q[w]=q[w-re];else{var le=v[W];if(le==null&&(v[W]=le=R.length,R.push(W),R.length>=300))break;q[w]=le}}}var ue=R.length;ue<=256&&c==!1&&(ue<=2?d=1:ue<=4?d=2:ue<=16?d=4:d=8,d=Math.max(d,l));for(var f=0;f<T.length;f++){var ee=T[f];ee.rect.x,ee.rect.y;var re=ee.rect.width,oe=ee.rect.height,F=ee.img;new Uint32Array(F.buffer);var C=4*re,I=4;if(ue<=256&&c==!1){C=Math.ceil(d*re/8);for(var O=new Uint8Array(C*oe),X=M[f],te=0;te<oe;te++){var w=te*C,ie=te*re;if(d==8)for(var ne=0;ne<re;ne++)O[w+ne]=X[ie+ne];else if(d==4)for(var ne=0;ne<re;ne++)O[w+(ne>>1)]|=X[ie+ne]<<4-(ne&1)*4;else if(d==2)for(var ne=0;ne<re;ne++)O[w+(ne>>2)]|=X[ie+ne]<<6-(ne&3)*2;else if(d==1)for(var ne=0;ne<re;ne++)O[w+(ne>>3)]|=X[ie+ne]<<7-(ne&7)*1}F=O,u=3,I=1}else if(x==!1&&T.length==1){for(var O=new Uint8Array(re*oe*3),we=re*oe,w=0;w<we;w++){var U=w*3,Ee=w*4;O[U]=F[Ee],O[U+1]=F[Ee+1],O[U+2]=F[Ee+2]}F=O,u=2,I=3,C=3*re}ee.img=F,ee.bpl=C,ee.bpp=I}return{ctype:u,depth:d,plte:R,frames:T}};Mt.encode.framize=function(r,e,t,n,i,a){for(var s=[],o=0;o<r.length;o++){var l=new Uint8Array(r[o]),c=new Uint32Array(l.buffer),u,d=0,h=0,f=e,g=t,y=n?1:0;if(o!=0){for(var w=a||n||o==1||s[o-2].dispose!=0?1:2,x=0,T=1e9,v=0;v<w;v++){for(var ee=new Uint8Array(r[o-1-v]),R=new Uint32Array(r[o-1-v]),M=e,B=t,L=-1,z=-1,H=0;H<t;H++)for(var $=0;$<e;$++){var U=H*e+$;c[U]!=R[U]&&($<M&&(M=$),$>L&&(L=$),H<B&&(B=H),H>z&&(z=H))}L==-1&&(M=B=L=z=0),i&&((M&1)==1&&M--,(B&1)==1&&B--);var D=(L-M+1)*(z-B+1);D<T&&(T=D,x=v,d=M,h=B,f=L-M+1,g=z-B+1)}var ee=new Uint8Array(r[o-1-x]);x==1&&(s[o-1].dispose=2),u=new Uint8Array(f*g*4),Mt._copyTile(ee,e,t,u,f,g,-d,-h,0),y=Mt._copyTile(l,e,t,u,f,g,-d,-h,3)?1:0,y==1?Mt.encode._prepareDiff(l,e,t,u,{x:d,y:h,width:f,height:g}):Mt._copyTile(l,e,t,u,f,g,-d,-h,0)}else u=l.slice(0);s.push({rect:{x:d,y:h,width:f,height:g},img:u,blend:y,dispose:0})}if(n)for(var o=0;o<s.length;o++){var J=s[o];if(J.blend!=1){var re=J.rect,q=s[o-1].rect,W=Math.min(re.x,q.x),le=Math.min(re.y,q.y),ue=Math.max(re.x+re.width,q.x+q.width),oe=Math.max(re.y+re.height,q.y+q.height),F={x:W,y:le,width:ue-W,height:oe-le};s[o-1].dispose=1,o-1!=0&&Mt.encode._updateFrame(r,e,t,s,o-1,F,i),Mt.encode._updateFrame(r,e,t,s,o,F,i)}}var C=0;if(r.length!=1)for(var U=0;U<s.length;U++){var J=s[U];C+=J.rect.width*J.rect.height}return s};Mt.encode._updateFrame=function(r,e,t,n,i,a,s){for(var o=Uint8Array,l=Uint32Array,c=new o(r[i-1]),u=new l(r[i-1]),d=i+1<r.length?new o(r[i+1]):null,h=new o(r[i]),f=new l(h.buffer),g=e,y=t,w=-1,x=-1,T=0;T<a.height;T++)for(var v=0;v<a.width;v++){var R=a.x+v,M=a.y+T,B=M*e+R,L=f[B];L==0||n[i-1].dispose==0&&u[B]==L&&(d==null||d[B*4+3]!=0)||(R<g&&(g=R),R>w&&(w=R),M<y&&(y=M),M>x&&(x=M))}w==-1&&(g=y=w=x=0),s&&((g&1)==1&&g--,(y&1)==1&&y--),a={x:g,y,width:w-g+1,height:x-y+1};var z=n[i];z.rect=a,z.blend=1,z.img=new Uint8Array(a.width*a.height*4),n[i-1].dispose==0?(Mt._copyTile(c,e,t,z.img,a.width,a.height,-a.x,-a.y,0),Mt.encode._prepareDiff(h,e,t,z.img,a)):Mt._copyTile(h,e,t,z.img,a.width,a.height,-a.x,-a.y,0)};Mt.encode._prepareDiff=function(r,e,t,n,i){Mt._copyTile(r,e,t,n,i.width,i.height,-i.x,-i.y,2)};Mt.encode._filterZero=function(r,e,t,n,i,a,s){var o=[],l=[0,1,2,3,4];a!=-1?l=[a]:(e*n>5e5||t==1)&&(l=[0]);var c;s&&(c={level:0});for(var u=s&&UZIP!=null?UZIP:YX,d=0;d<l.length;d++){for(var h=0;h<e;h++)Mt.encode._filterLine(i,r,h,n,t,l[d]);o.push(u.deflate(i,c))}for(var f,g=1e9,d=0;d<o.length;d++)o[d].length<g&&(f=d,g=o[d].length);return o[f]};Mt.encode._filterLine=function(r,e,t,n,i,a){var s=t*n,o=s+t,l=Mt.decode._paeth;if(r[o]=a,o++,a==0)if(n<500)for(var c=0;c<n;c++)r[o+c]=e[s+c];else r.set(new Uint8Array(e.buffer,s,n),o);else if(a==1){for(var c=0;c<i;c++)r[o+c]=e[s+c];for(var c=i;c<n;c++)r[o+c]=e[s+c]-e[s+c-i]+256&255}else if(t==0){for(var c=0;c<i;c++)r[o+c]=e[s+c];if(a==2)for(var c=i;c<n;c++)r[o+c]=e[s+c];if(a==3)for(var c=i;c<n;c++)r[o+c]=e[s+c]-(e[s+c-i]>>1)+256&255;if(a==4)for(var c=i;c<n;c++)r[o+c]=e[s+c]-l(e[s+c-i],0,0)+256&255}else{if(a==2)for(var c=0;c<n;c++)r[o+c]=e[s+c]+256-e[s+c-n]&255;if(a==3){for(var c=0;c<i;c++)r[o+c]=e[s+c]+256-(e[s+c-n]>>1)&255;for(var c=i;c<n;c++)r[o+c]=e[s+c]+256-(e[s+c-n]+e[s+c-i]>>1)&255}if(a==4){for(var c=0;c<i;c++)r[o+c]=e[s+c]+256-l(0,e[s+c-n],0)&255;for(var c=i;c<n;c++)r[o+c]=e[s+c]+256-l(e[s+c-i],e[s+c-n],e[s+c-i-n])&255}}};Mt.crc={table:(function(){for(var r=new Uint32Array(256),e=0;e<256;e++){for(var t=e,n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;r[e]=t}return r})(),update:function(r,e,t,n){for(var i=0;i<n;i++)r=Mt.crc.table[(r^e[t+i])&255]^r>>>8;return r},crc:function(r,e,t){return Mt.crc.update(4294967295,r,e,t)^4294967295}};Mt.quantize=function(r,e){var t=new Uint8Array(r),n=t.slice(0),i=new Uint32Array(n.buffer),a=Mt.quantize.getKDtree(n,e),s=a[0],o=a[1];Mt.quantize.planeDst;for(var l=t,c=i,u=l.length,d=new Uint8Array(t.length>>2),h=0;h<u;h+=4){var f=l[h]*.00392156862745098,g=l[h+1]*(1/255),y=l[h+2]*(1/255),w=l[h+3]*(1/255),x=Mt.quantize.getNearest(s,f,g,y,w);d[h>>2]=x.ind,c[h>>2]=x.est.rgba}return{abuf:n.buffer,inds:d,plte:o}};Mt.quantize.getKDtree=function(r,e,t){t==null&&(t=1e-4);var n=new Uint32Array(r.buffer),i={i0:0,i1:r.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=Mt.quantize.stats(r,i.i0,i.i1),i.est=Mt.quantize.estats(i.bst);for(var a=[i];a.length<e;){for(var s=0,o=0,l=0;l<a.length;l++)a[l].est.L>s&&(s=a[l].est.L,o=l);if(s<t)break;var c=a[o],u=Mt.quantize.splitPixels(r,n,c.i0,c.i1,c.est.e,c.est.eMq255),d=c.i0>=u||c.i1<=u;if(d){c.est.L=0;continue}var h={i0:c.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};h.bst=Mt.quantize.stats(r,h.i0,h.i1),h.est=Mt.quantize.estats(h.bst);var f={i0:u,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};f.bst={R:[],m:[],N:c.bst.N-h.bst.N};for(var l=0;l<16;l++)f.bst.R[l]=c.bst.R[l]-h.bst.R[l];for(var l=0;l<4;l++)f.bst.m[l]=c.bst.m[l]-h.bst.m[l];f.est=Mt.quantize.estats(f.bst),c.left=h,c.right=f,a[o]=h,a.push(f)}a.sort(function(g,y){return y.bst.N-g.bst.N});for(var l=0;l<a.length;l++)a[l].ind=l;return[i,a]};Mt.quantize.getNearest=function(r,e,t,n,i){if(r.left==null)return r.tdst=Mt.quantize.dist(r.est.q,e,t,n,i),r;var a=Mt.quantize.planeDst(r.est,e,t,n,i),s=r.left,o=r.right;a>0&&(s=r.right,o=r.left);var l=Mt.quantize.getNearest(s,e,t,n,i);if(l.tdst<=a*a)return l;var c=Mt.quantize.getNearest(o,e,t,n,i);return c.tdst<l.tdst?c:l};Mt.quantize.planeDst=function(r,e,t,n,i){var a=r.e;return a[0]*e+a[1]*t+a[2]*n+a[3]*i-r.eMq};Mt.quantize.dist=function(r,e,t,n,i){var a=e-r[0],s=t-r[1],o=n-r[2],l=i-r[3];return a*a+s*s+o*o+l*l};Mt.quantize.splitPixels=function(r,e,t,n,i,a){var s=Mt.quantize.vecDot;for(n-=4;t<n;){for(;s(r,t,i)<=a;)t+=4;for(;s(r,n,i)>a;)n-=4;if(t>=n)break;var o=e[t>>2];e[t>>2]=e[n>>2],e[n>>2]=o,t+=4,n-=4}for(;s(r,t,i)>a;)t-=4;return t+4};Mt.quantize.vecDot=function(r,e,t){return r[e]*t[0]+r[e+1]*t[1]+r[e+2]*t[2]+r[e+3]*t[3]};Mt.quantize.stats=function(r,e,t){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],a=t-e>>2,s=e;s<t;s+=4){var o=r[s]*.00392156862745098,l=r[s+1]*(1/255),c=r[s+2]*(1/255),u=r[s+3]*(1/255);i[0]+=o,i[1]+=l,i[2]+=c,i[3]+=u,n[0]+=o*o,n[1]+=o*l,n[2]+=o*c,n[3]+=o*u,n[5]+=l*l,n[6]+=l*c,n[7]+=l*u,n[10]+=c*c,n[11]+=c*u,n[15]+=u*u}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:a}};Mt.quantize.estats=function(r){var e=r.R,t=r.m,n=r.N,i=t[0],a=t[1],s=t[2],o=t[3],l=n==0?0:1/n,c=[e[0]-i*i*l,e[1]-i*a*l,e[2]-i*s*l,e[3]-i*o*l,e[4]-a*i*l,e[5]-a*a*l,e[6]-a*s*l,e[7]-a*o*l,e[8]-s*i*l,e[9]-s*a*l,e[10]-s*s*l,e[11]-s*o*l,e[12]-o*i*l,e[13]-o*a*l,e[14]-o*s*l,e[15]-o*o*l],u=c,d=Mt.M4,h=[.5,.5,.5,.5],f=0,g=0;if(n!=0)for(var y=0;y<10&&(h=d.multVec(u,h),g=Math.sqrt(d.dot(h,h)),h=d.sml(1/g,h),!(Math.abs(g-f)<1e-9));y++)f=g;var w=[i*l,a*l,s*l,o*l],x=d.dot(d.sml(255,w),h);return{Cov:c,q:w,e:h,L:f,eMq255:x,eMq:d.dot(h,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2])<<16|Math.round(255*w[1])<<8|Math.round(255*w[0])<<0)>>>0}};Mt.M4={multVec:function(r,e){return[r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3],r[4]*e[0]+r[5]*e[1]+r[6]*e[2]+r[7]*e[3],r[8]*e[0]+r[9]*e[1]+r[10]*e[2]+r[11]*e[3],r[12]*e[0]+r[13]*e[1]+r[14]*e[2]+r[15]*e[3]]},dot:function(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]},sml:function(r,e){return[r*e[0],r*e[1],r*e[2],r*e[3]]}};Mt.encode.concatRGBA=function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t].byteLength;for(var n=new Uint8Array(e),i=0,t=0;t<r.length;t++){for(var a=new Uint8Array(r[t]),s=a.length,o=0;o<s;o+=4){var l=a[o],c=a[o+1],u=a[o+2],d=a[o+3];d==0&&(l=c=u=0),n[i+o]=l,n[i+o+1]=c,n[i+o+2]=u,n[i+o+3]=d}i+=s}return n.buffer};var ZX=function(r){if(r===0)return Ih.Greyscale;if(r===2)return Ih.Truecolour;if(r===3)return Ih.IndexedColour;if(r===4)return Ih.GreyscaleWithAlpha;if(r===6)return Ih.TruecolourWithAlpha;throw new Error("Unknown color type: "+r)},JX=function(r){for(var e=Math.floor(r.length/4),t=new Uint8Array(e*3),n=new Uint8Array(e*1),i=0,a=0,s=0;i<r.length;)t[a++]=r[i++],t[a++]=r[i++],t[a++]=r[i++],n[s++]=r[i++];return{rgbChannel:t,alphaChannel:n}},Ih;(function(r){r.Greyscale="Greyscale",r.Truecolour="Truecolour",r.IndexedColour="IndexedColour",r.GreyscaleWithAlpha="GreyscaleWithAlpha",r.TruecolourWithAlpha="TruecolourWithAlpha"})(Ih||(Ih={}));var QX=(function(){function r(e){var t=Mt.decode(e),n=Mt.toRGBA8(t);if(n.length>1)throw new Error("Animated PNGs are not supported");var i=new Uint8Array(n[0]),a=JX(i),s=a.rgbChannel,o=a.alphaChannel;this.rgbChannel=s;var l=o.some(function(c){return c<255});l&&(this.alphaChannel=o),this.type=ZX(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return r.load=function(e){return new r(e)},r})(),TI=(function(){function r(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return r.for=function(e){return kn(this,void 0,void 0,function(){var t;return En(this,function(n){return t=QX.load(e),[2,new r(t)]})})},r.prototype.embedIntoContext=function(e,t){return kn(this,void 0,void 0,function(){var n,i;return En(this,function(a){return n=this.embedAlphaChannel(e),i=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),t?(e.assign(t,i),[2,t]):[2,e.register(i)]})})},r.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},r})(),NI=(function(){function r(e,t,n){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&n?t+n:this.bytes.length}return Object.defineProperty(r.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),r.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},r.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},r.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),n=this.getByte(),i=this.getByte();return(e<<24)+(t<<16)+(n<<8)+i},r.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var n=this.bytes,i=this.pos,a=this.end;if(e){var o=i+e;o>a&&(o=a),this.pos=o;var s=n.subarray(i,o);return t?new Uint8ClampedArray(s):s}else{var s=n.subarray(i,a);return t?new Uint8ClampedArray(s):s}},r.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},r.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},r.prototype.skip=function(e){e||(e=1),this.pos+=e},r.prototype.reset=function(){this.pos=this.start},r.prototype.moveStart=function(){this.start=this.pos},r.prototype.makeSubStream=function(e,t){return new r(this.bytes,e,t)},r.prototype.decode=function(){return this.bytes},r})(),$X=new Uint8Array(0),R2=(function(){function r(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=$X,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),r.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},r.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},r.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),n=this.getByte(),i=this.getByte();return(e<<24)+(t<<16)+(n<<8)+i},r.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var n,i=this.pos;if(e){for(this.ensureBuffer(i+e),n=i+e;!this.eof&&this.bufferLength<n;)this.readBlock();var a=this.bufferLength;n>a&&(n=a)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var s=this.buffer.subarray(i,n);return t&&!(s instanceof Uint8ClampedArray)?new Uint8ClampedArray(s):s},r.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},r.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},r.prototype.skip=function(e){e||(e=1),this.pos+=e},r.prototype.reset=function(){this.pos=0},r.prototype.makeSubStream=function(e,t){for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new NI(this.buffer,e,t)},r.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},r.prototype.readBlock=function(){throw new No(this.constructor.name,"readBlock")},r.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var n=this.minBufferLength;n<e;)n*=2;var i=new Uint8Array(n);return i.set(t),this.buffer=i},r})(),nC=function(r){return r===32||r===9||r===13||r===10},eK=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,n)||this;return i.stream=t,i.input=new Uint8Array(5),n&&(n=.8*n),i}return e.prototype.readBlock=function(){for(var t=126,n=122,i=-1,a=this.stream,s=a.getByte();nC(s);)s=a.getByte();if(s===i||s===t){this.eof=!0;return}var o=this.bufferLength,l,c;if(s===n){for(l=this.ensureBuffer(o+4),c=0;c<4;++c)l[o+c]=0;this.bufferLength+=4}else{var u=this.input;for(u[0]=s,c=1;c<5;++c){for(s=a.getByte();nC(s);)s=a.getByte();if(u[c]=s,s===i||s===t)break}if(l=this.ensureBuffer(o+c-1),this.bufferLength+=c-1,c<5){for(;c<5;++c)u[c]=117;this.eof=!0}var d=0;for(c=0;c<5;++c)d=d*85+(u[c]-33);for(c=3;c>=0;--c)l[o+c]=d&255,d>>=8}},e})(R2),tK=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,n)||this;return i.stream=t,i.firstDigit=-1,n&&(n=.5*n),i}return e.prototype.readBlock=function(){var t=8e3,n=this.stream.getBytes(t);if(!n.length){this.eof=!0;return}for(var i=n.length+1>>1,a=this.ensureBuffer(this.bufferLength+i),s=this.bufferLength,o=this.firstDigit,l=0,c=n.length;l<c;l++){var u=n[l],d=void 0;if(u>=48&&u<=57)d=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)d=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;o<0?o=d:(a[s++]=o<<4|d,o=-1)}o>=0&&this.eof&&(a[s++]=o<<4,o=-1),this.firstDigit=o,this.bufferLength=s},e})(R2),rC=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nK=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),rK=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),iK=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],aK=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],sK=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,n)||this;i.stream=t;var a=t.getByte(),s=t.getByte();if(a===-1||s===-1)throw new Error("Invalid header in flate stream: "+a+", "+s);if((a&15)!==8)throw new Error("Unknown compression method in flate stream: "+a+", "+s);if(((a<<8)+s)%31!==0)throw new Error("Bad FCHECK in flate stream: "+a+", "+s);if(s&32)throw new Error("FDICT bit set in flate stream: "+a+", "+s);return i.codeSize=0,i.codeBuf=0,i}return e.prototype.readBlock=function(){var t,n,i=this.stream,a=this.getBits(3);if(a&1&&(this.eof=!0),a>>=1,a===0){var s=void 0;if((s=i.getByte())===-1)throw new Error("Bad block header in flate stream");var o=s;if((s=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(o|=s<<8,(s=i.getByte())===-1)throw new Error("Bad block header in flate stream");var l=s;if((s=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(l|=s<<8,l!==(~o&65535)&&(o!==0||l!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var c=this.bufferLength;t=this.ensureBuffer(c+o);var u=c+o;if(this.bufferLength=u,o===0)i.peekByte()===-1&&(this.eof=!0);else for(var d=c;d<u;++d){if((s=i.getByte())===-1){this.eof=!0;break}t[d]=s}return}var h,f;if(a===1)h=iK,f=aK;else if(a===2){var g=this.getBits(5)+257,y=this.getBits(5)+1,w=this.getBits(4)+4,x=new Uint8Array(rC.length),T=void 0;for(T=0;T<w;++T)x[rC[T]]=this.getBits(3);var v=this.generateHuffmanTable(x);n=0,T=0;for(var R=g+y,M=new Uint8Array(R),B=void 0,L=void 0,z=void 0;T<R;){var H=this.getCode(v);if(H===16)B=2,L=3,z=n;else if(H===17)B=3,L=3,z=n=0;else if(H===18)B=7,L=11,z=n=0;else{M[T++]=n=H;continue}for(var $=this.getBits(B)+L;$-- >0;)M[T++]=z}h=this.generateHuffmanTable(M.subarray(0,g)),f=this.generateHuffmanTable(M.subarray(g,R))}else throw new Error("Unknown block type in flate stream");t=this.buffer;for(var U=t?t.length:0,D=this.bufferLength;;){var ee=this.getCode(h);if(ee<256){D+1>=U&&(t=this.ensureBuffer(D+1),U=t.length),t[D++]=ee;continue}if(ee===256){this.bufferLength=D;return}ee-=257,ee=nK[ee];var J=ee>>16;J>0&&(J=this.getBits(J)),n=(ee&65535)+J,ee=this.getCode(f),ee=rK[ee],J=ee>>16,J>0&&(J=this.getBits(J));var re=(ee&65535)+J;D+n>=U&&(t=this.ensureBuffer(D+n),U=t.length);for(var q=0;q<n;++q,++D)t[D]=t[D-re]}},e.prototype.getBits=function(t){for(var n=this.stream,i=this.codeSize,a=this.codeBuf,s;i<t;){if((s=n.getByte())===-1)throw new Error("Bad encoding in flate stream");a|=s<<i,i+=8}return s=a&(1<<t)-1,this.codeBuf=a>>t,this.codeSize=i-=t,s},e.prototype.getCode=function(t){for(var n=this.stream,i=t[0],a=t[1],s=this.codeSize,o=this.codeBuf,l;s<a&&(l=n.getByte())!==-1;)o|=l<<s,s+=8;var c=i[o&(1<<a)-1];typeof i=="number"&&console.log("FLATE:",c);var u=c>>16,d=c&65535;if(u<1||s<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=o>>u,this.codeSize=s-u,d},e.prototype.generateHuffmanTable=function(t){var n=t.length,i=0,a;for(a=0;a<n;++a)t[a]>i&&(i=t[a]);for(var s=1<<i,o=new Int32Array(s),l=1,c=0,u=2;l<=i;++l,c<<=1,u<<=1)for(var d=0;d<n;++d)if(t[d]===l){var h=0,f=c;for(a=0;a<l;++a)h=h<<1|f&1,f>>=1;for(a=h;a<s;a+=u)o[a]=l<<16|d;++c}return[o,i]},e})(R2),oK=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,n)||this;a.stream=t,a.cachedData=0,a.bitsCached=0;for(var s=4096,o={earlyChange:i,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(s),dictionaryLengths:new Uint16Array(s),dictionaryPrevCodes:new Uint16Array(s),currentSequence:new Uint8Array(s),currentSequenceLength:0},l=0;l<256;++l)o.dictionaryValues[l]=l,o.dictionaryLengths[l]=1;return a.lzwState=o,a}return e.prototype.readBlock=function(){var t=512,n=t*2,i=t,a,s,o,l=this.lzwState;if(l){var c=l.earlyChange,u=l.nextCode,d=l.dictionaryValues,h=l.dictionaryLengths,f=l.dictionaryPrevCodes,g=l.codeLength,y=l.prevCode,w=l.currentSequence,x=l.currentSequenceLength,T=0,v=this.bufferLength,R=this.ensureBuffer(this.bufferLength+n);for(a=0;a<t;a++){var M=this.readBits(g),B=x>0;if(!M||M<256)w[0]=M,x=1;else if(M>=258)if(M<u)for(x=h[M],s=x-1,o=M;s>=0;s--)w[s]=d[o],o=f[o];else w[x++]=w[0];else if(M===256){g=9,u=258,x=0;continue}else{this.eof=!0,delete this.lzwState;break}if(B&&(f[u]=y,h[u]=h[y]+1,d[u]=w[0],u++,g=u+c&u+c-1?g:Math.min(Math.log(u+c)/.6931471805599453+1,12)|0),y=M,T+=x,n<T){do n+=i;while(n<T);R=this.ensureBuffer(this.bufferLength+n)}for(s=0;s<x;s++)R[v++]=w[s]}l.nextCode=u,l.codeLength=g,l.prevCode=y,l.currentSequenceLength=x,this.bufferLength=v}},e.prototype.readBits=function(t){for(var n=this.bitsCached,i=this.cachedData;n<t;){var a=this.stream.getByte();if(a===-1)return this.eof=!0,null;i=i<<8|a,n+=8}return this.bitsCached=n-=t,this.cachedData=i,i>>>n&(1<<t)-1},e})(R2),lK=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,n)||this;return i.stream=t,i}return e.prototype.readBlock=function(){var t=this.stream.getBytes(2);if(!t||t.length<2||t[0]===128){this.eof=!0;return}var n,i=this.bufferLength,a=t[0];if(a<128){if(n=this.ensureBuffer(i+a+1),n[i++]=t[1],a>0){var s=this.stream.getBytes(a);n.set(s,i),i+=a}}else{a=257-a;var o=t[1];n=this.ensureBuffer(i+a+1);for(var l=0;l<a;l++)n[i++]=o}this.bufferLength=i},e})(R2),iC=function(r,e,t){if(e===Me.of("FlateDecode"))return new sK(r);if(e===Me.of("LZWDecode")){var n=1;if(t instanceof yn){var i=t.lookup(Me.of("EarlyChange"));i instanceof un&&(n=i.asNumber())}return new oK(r,void 0,n)}if(e===Me.of("ASCII85Decode"))return new eK(r);if(e===Me.of("ASCIIHexDecode"))return new tK(r);if(e===Me.of("RunLengthDecode"))return new lK(r);throw new ZW(e.asString())},RI=function(r){var e=r.dict,t=r.contents,n=new NI(t),i=e.lookup(Me.of("Filter")),a=e.lookup(Me.of("DecodeParms"));if(i instanceof Me)n=iC(n,i,a);else if(i instanceof Yn)for(var s=0,o=i.size();s<o;s++)n=iC(n,i.lookup(s,Me),a&&a.lookupMaybe(s,yn));else if(i)throw new ex([Me,Yn],i);return n},cK=function(r){var e=r.MediaBox(),t=e.lookup(2,un).asNumber()-e.lookup(0,un).asNumber(),n=e.lookup(3,un).asNumber()-e.lookup(1,un).asNumber();return{left:0,bottom:0,right:t,top:n}},uK=function(r){return[1,0,0,1,-r.left,-r.bottom]},II=(function(){function r(e,t,n){this.page=e;var i=t??cK(e);this.width=i.right-i.left,this.height=i.top-i.bottom,this.boundingBox=i,this.transformationMatrix=n??uK(i)}return r.for=function(e,t,n){return kn(this,void 0,void 0,function(){return En(this,function(i){return[2,new r(e,t,n)]})})},r.prototype.embedIntoContext=function(e,t){return kn(this,void 0,void 0,function(){var n,i,a,s,o,l,c,u,d,h;return En(this,function(f){if(n=this.page.normalizedEntries(),i=n.Contents,a=n.Resources,!i)throw new JW;return s=this.decodeContents(i),o=this.boundingBox,l=o.left,c=o.bottom,u=o.right,d=o.top,h=e.flateStream(s,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[l,c,u,d],Matrix:this.transformationMatrix,Resources:a}),t?(e.assign(t,h),[2,t]):[2,e.register(h)]})})},r.prototype.decodeContents=function(e){for(var t=Uint8Array.of(Be.Newline),n=[],i=0,a=e.size();i<a;i++){var s=e.lookup(i,Zs),o=void 0;if(s instanceof kg)o=RI(s).decode();else if(s instanceof ug)o=s.getUnencodedContents();else throw new QW(s);n.push(o,t)}return ZG.apply(void 0,n)},r})(),Tb=function(r,e){if(r!==void 0)return e[r]},dg;(function(r){r.UseNone="UseNone",r.UseOutlines="UseOutlines",r.UseThumbs="UseThumbs",r.UseOC="UseOC"})(dg||(dg={}));var hg;(function(r){r.L2R="L2R",r.R2L="R2L"})(hg||(hg={}));var fg;(function(r){r.None="None",r.AppDefault="AppDefault"})(fg||(fg={}));var rx;(function(r){r.Simplex="Simplex",r.DuplexFlipShortEdge="DuplexFlipShortEdge",r.DuplexFlipLongEdge="DuplexFlipLongEdge"})(rx||(rx={}));var aC=(function(){function r(e){this.dict=e}return r.prototype.lookupBool=function(e){var t=this.dict.lookup(Me.of(e));if(t instanceof Ag)return t},r.prototype.lookupName=function(e){var t=this.dict.lookup(Me.of(e));if(t instanceof Me)return t},r.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},r.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},r.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},r.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},r.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},r.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},r.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},r.prototype.Direction=function(){return this.lookupName("Direction")},r.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},r.prototype.Duplex=function(){return this.lookupName("Duplex")},r.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},r.prototype.PrintPageRange=function(){var e=this.dict.lookup(Me.of("PrintPageRange"));if(e instanceof Yn)return e},r.prototype.NumCopies=function(){var e=this.dict.lookup(Me.of("NumCopies"));if(e instanceof un)return e},r.prototype.getHideToolbar=function(){var e,t;return(t=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getHideMenubar=function(){var e,t;return(t=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getHideWindowUI=function(){var e,t;return(t=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getFitWindow=function(){var e,t;return(t=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getCenterWindow=function(){var e,t;return(t=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getDisplayDocTitle=function(){var e,t;return(t=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getNonFullScreenPageMode=function(){var e,t,n=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(t=Tb(n,dg))!==null&&t!==void 0?t:dg.UseNone},r.prototype.getReadingDirection=function(){var e,t,n=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(t=Tb(n,hg))!==null&&t!==void 0?t:hg.L2R},r.prototype.getPrintScaling=function(){var e,t,n=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(t=Tb(n,fg))!==null&&t!==void 0?t:fg.AppDefault},r.prototype.getDuplex=function(){var e,t=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return Tb(t,rx)},r.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},r.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],n=0;n<e.size();n+=2){var i=e.lookup(n,un).asNumber(),a=e.lookup(n+1,un).asNumber();t.push({start:i,end:a})}return t},r.prototype.getNumCopies=function(){var e,t;return(t=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},r.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("HideToolbar"),t)},r.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("HideMenubar"),t)},r.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("HideWindowUI"),t)},r.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("FitWindow"),t)},r.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("CenterWindow"),t)},r.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("DisplayDocTitle"),t)},r.prototype.setNonFullScreenPageMode=function(e){Hd(e,"nonFullScreenPageMode",dg);var t=Me.of(e);this.dict.set(Me.of("NonFullScreenPageMode"),t)},r.prototype.setReadingDirection=function(e){Hd(e,"readingDirection",hg);var t=Me.of(e);this.dict.set(Me.of("Direction"),t)},r.prototype.setPrintScaling=function(e){Hd(e,"printScaling",fg);var t=Me.of(e);this.dict.set(Me.of("PrintScaling"),t)},r.prototype.setDuplex=function(e){Hd(e,"duplex",rx);var t=Me.of(e);this.dict.set(Me.of("Duplex"),t)},r.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("PickTrayByPDFSize"),t)},r.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n].start),t.push(e[n].end);lI(t,"printPageRange",["number"]);var a=this.dict.context.obj(t);this.dict.set(Me.of("PrintPageRange"),a)},r.prototype.setNumCopies=function(e){Ks(e,"numCopies",1,Number.MAX_VALUE),YW(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(Me.of("NumCopies"),t)},r.fromDict=function(e){return new r(e)},r.create=function(e){var t=e.obj({});return new r(t)},r})(),dK=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,MI=(function(){function r(e,t){this.dict=e,this.ref=t}return r.prototype.T=function(){return this.dict.lookupMaybe(Me.of("T"),rr,on)},r.prototype.Ff=function(){var e=this.getInheritableAttribute(Me.of("Ff"));return this.dict.context.lookupMaybe(e,un)},r.prototype.V=function(){var e=this.getInheritableAttribute(Me.of("V"));return this.dict.context.lookup(e)},r.prototype.Kids=function(){return this.dict.lookupMaybe(Me.of("Kids"),Yn)},r.prototype.DA=function(){var e=this.dict.lookup(Me.of("DA"));if(e instanceof rr||e instanceof on)return e},r.prototype.setKids=function(e){this.dict.set(Me.of("Kids"),this.dict.context.obj(e))},r.prototype.getParent=function(){var e=this.dict.get(Me.of("Parent"));if(e instanceof ir){var t=this.dict.lookup(Me.of("Parent"),yn);return new r(t,e)}},r.prototype.setParent=function(e){e?this.dict.set(Me.of("Parent"),e):this.dict.delete(Me.of("Parent"))},r.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},r.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},r.prototype.setPartialName=function(e){e?this.dict.set(Me.of("T"),on.fromText(e)):this.dict.delete(Me.of("T"))},r.prototype.setDefaultAppearance=function(e){this.dict.set(Me.of("DA"),rr.of(e))},r.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof on?e.decodeText():e==null?void 0:e.asString()},r.prototype.setFontSize=function(e){var t,n=(t=this.getFullyQualifiedName())!==null&&t!==void 0?t:"",i=this.getDefaultAppearance();if(!i)throw new nX(n);var a=uS(i,dK);if(!a.match)throw new rX(n);var s=i.slice(0,a.pos-a.match[0].length),o=a.pos<=i.length?i.slice(a.pos):"",l=a.match[1],c=s+" /"+l+" "+e+" Tf "+o;this.setDefaultAppearance(c)},r.prototype.getFlags=function(){var e,t;return(t=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},r.prototype.setFlags=function(e){this.dict.set(Me.of("Ff"),un.of(e))},r.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},r.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},r.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},r.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},r.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(n){t||(t=n.dict.get(e))}),t},r.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},r})(),Gw=(function(){function r(e){this.dict=e}return r.prototype.W=function(){var e=this.dict.lookup(Me.of("W"));if(e instanceof un)return e},r.prototype.getWidth=function(){var e,t;return(t=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},r.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("W"),t)},r.fromDict=function(e){return new r(e)},r})(),hK=(function(){function r(e){this.dict=e}return r.prototype.Rect=function(){return this.dict.lookup(Me.of("Rect"),Yn)},r.prototype.AP=function(){return this.dict.lookupMaybe(Me.of("AP"),yn)},r.prototype.F=function(){var e=this.dict.lookup(Me.of("F"));return this.dict.context.lookupMaybe(e,un)},r.prototype.getRectangle=function(){var e,t=this.Rect();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},r.prototype.setRectangle=function(e){var t=e.x,n=e.y,i=e.width,a=e.height,s=this.dict.context.obj([t,n,t+i,n+a]);this.dict.set(Me.of("Rect"),s)},r.prototype.getAppearanceState=function(){var e=this.dict.lookup(Me.of("AS"));if(e instanceof Me)return e},r.prototype.setAppearanceState=function(e){this.dict.set(Me.of("AS"),e)},r.prototype.setAppearances=function(e){this.dict.set(Me.of("AP"),e)},r.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(Me.of("AP"),e)),e},r.prototype.getNormalAppearance=function(){var e=this.ensureAP(),t=e.get(Me.of("N"));if(t instanceof ir||t instanceof yn)return t;throw new Error("Unexpected N type: "+(t==null?void 0:t.constructor.name))},r.prototype.setNormalAppearance=function(e){var t=this.ensureAP();t.set(Me.of("N"),e)},r.prototype.setRolloverAppearance=function(e){var t=this.ensureAP();t.set(Me.of("R"),e)},r.prototype.setDownAppearance=function(e){var t=this.ensureAP();t.set(Me.of("D"),e)},r.prototype.removeRolloverAppearance=function(){var e=this.AP();e==null||e.delete(Me.of("R"))},r.prototype.removeDownAppearance=function(){var e=this.AP();e==null||e.delete(Me.of("D"))},r.prototype.getAppearances=function(){var e=this.AP();if(e){var t=e.lookup(Me.of("N"),yn,Zs),n=e.lookupMaybe(Me.of("R"),yn,Zs),i=e.lookupMaybe(Me.of("D"),yn,Zs);return{normal:t,rollover:n,down:i}}},r.prototype.getFlags=function(){var e,t;return(t=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},r.prototype.setFlags=function(e){this.dict.set(Me.of("F"),un.of(e))},r.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},r.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},r.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},r.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},r.fromDict=function(e){return new r(e)},r})(),Ww=(function(){function r(e){this.dict=e}return r.prototype.R=function(){var e=this.dict.lookup(Me.of("R"));if(e instanceof un)return e},r.prototype.BC=function(){var e=this.dict.lookup(Me.of("BC"));if(e instanceof Yn)return e},r.prototype.BG=function(){var e=this.dict.lookup(Me.of("BG"));if(e instanceof Yn)return e},r.prototype.CA=function(){var e=this.dict.lookup(Me.of("CA"));if(e instanceof on||e instanceof rr)return e},r.prototype.RC=function(){var e=this.dict.lookup(Me.of("RC"));if(e instanceof on||e instanceof rr)return e},r.prototype.AC=function(){var e=this.dict.lookup(Me.of("AC"));if(e instanceof on||e instanceof rr)return e},r.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},r.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],n=0,i=e==null?void 0:e.size();n<i;n++){var a=e.get(n);a instanceof un&&t.push(a.asNumber())}return t}},r.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],n=0,i=e==null?void 0:e.size();n<i;n++){var a=e.get(n);a instanceof un&&t.push(a.asNumber())}return t}},r.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),n=this.AC();return{normal:e==null?void 0:e.decodeText(),rollover:t==null?void 0:t.decodeText(),down:n==null?void 0:n.decodeText()}},r.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("R"),t)},r.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("BC"),t)},r.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(Me.of("BG"),t)},r.prototype.setCaptions=function(e){var t=on.fromText(e.normal);if(this.dict.set(Me.of("CA"),t),e.rollover){var n=on.fromText(e.rollover);this.dict.set(Me.of("RC"),n)}else this.dict.delete(Me.of("RC"));if(e.down){var i=on.fromText(e.down);this.dict.set(Me.of("AC"),i)}else this.dict.delete(Me.of("AC"))},r.fromDict=function(e){return new r(e)},r})(),I4=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.MK=function(){var t=this.dict.lookup(Me.of("MK"));if(t instanceof yn)return t},e.prototype.BS=function(){var t=this.dict.lookup(Me.of("BS"));if(t instanceof yn)return t},e.prototype.DA=function(){var t=this.dict.lookup(Me.of("DA"));if(t instanceof rr||t instanceof on)return t},e.prototype.P=function(){var t=this.dict.get(Me.of("P"));if(t instanceof ir)return t},e.prototype.setP=function(t){this.dict.set(Me.of("P"),t)},e.prototype.setDefaultAppearance=function(t){this.dict.set(Me.of("DA"),rr.of(t))},e.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof on?t.decodeText():t==null?void 0:t.asString()},e.prototype.getAppearanceCharacteristics=function(){var t=this.MK();if(t)return Ww.fromDict(t)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var t=this.MK();if(t)return Ww.fromDict(t);var n=Ww.fromDict(this.dict.context.obj({}));return this.dict.set(Me.of("MK"),n.dict),n},e.prototype.getBorderStyle=function(){var t=this.BS();if(t)return Gw.fromDict(t)},e.prototype.getOrCreateBorderStyle=function(){var t=this.BS();if(t)return Gw.fromDict(t);var n=Gw.fromDict(this.dict.context.obj({}));return this.dict.set(Me.of("BS"),n.dict),n},e.prototype.getOnValue=function(){var t,n=(t=this.getAppearances())===null||t===void 0?void 0:t.normal;if(n instanceof yn)for(var i=n.keys(),a=0,s=i.length;a<s;a++){var o=i[a];if(o!==Me.of("Off"))return o}},e.fromDict=function(t){return new e(t)},e.create=function(t,n){var i=t.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n});return new e(i)},e})(hK),G1=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.FT=function(){var t=this.getInheritableAttribute(Me.of("FT"));return this.dict.context.lookup(t,Me)},e.prototype.getWidgets=function(){var t=this.Kids();if(!t)return[I4.fromDict(this.dict)];for(var n=new Array(t.size()),i=0,a=t.size();i<a;i++){var s=t.lookup(i,yn);n[i]=I4.fromDict(s)}return n},e.prototype.addWidget=function(t){var n=this.normalizedEntries().Kids;n.push(t)},e.prototype.removeWidget=function(t){var n=this.Kids();if(n){if(t<0||t>n.size())throw new tx(t,0,n.size());n.remove(t)}else{if(t!==0)throw new tx(t,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([this.ref]),this.dict.set(Me.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,n){return new e(t,n)},e})(MI),wS=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(Me.of("Opt"),rr,on,Yn)},e.prototype.setOpt=function(t){this.dict.set(Me.of("Opt"),this.dict.context.obj(t))},e.prototype.getExportValues=function(){var t=this.Opt();if(t){if(t instanceof rr||t instanceof on)return[t];for(var n=[],i=0,a=t.size();i<a;i++){var s=t.lookup(i);(s instanceof rr||s instanceof on)&&n.push(s)}return n}},e.prototype.removeExportValue=function(t){var n=this.Opt();if(n)if(n instanceof rr||n instanceof on){if(t!==0)throw new tx(t,0,0);this.setOpt([])}else{if(t<0||t>n.size())throw new tx(t,0,n.size());n.remove(t)}},e.prototype.normalizeExportValues=function(){for(var t,n,i,a,s=(t=this.getExportValues())!==null&&t!==void 0?t:[],o=[],l=this.getWidgets(),c=0,u=l.length;c<u;c++){var d=l[c],h=(n=s[c])!==null&&n!==void 0?n:on.fromText((a=(i=d.getOnValue())===null||i===void 0?void 0:i.decodeText())!==null&&a!==void 0?a:"");o.push(h)}this.setOpt(o)},e.prototype.addOpt=function(t,n){var i;this.normalizeExportValues();var a=t.decodeText(),s;if(n)for(var o=(i=this.getExportValues())!==null&&i!==void 0?i:[],l=0,c=o.length;l<c;l++){var u=o[l];u.decodeText()===a&&(s=l)}var d=this.Opt();return d.push(t),s??d.size()-1},e.prototype.addWidgetWithOpt=function(t,n,i){var a=this.addOpt(n,i),s=Me.of(String(a));return this.addWidget(t),s},e})(G1),Zx=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValue=function(t){var n,i=(n=this.getOnValue())!==null&&n!==void 0?n:Me.of("Yes");if(t!==i&&t!==Me.of("Off"))throw new pS;this.dict.set(Me.of("V"),t);for(var a=this.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],c=l.getOnValue()===t?t:Me.of("Off");l.setAppearanceState(c)}},e.prototype.getValue=function(){var t=this.V();return t instanceof Me?t:Me.of("Off")},e.prototype.getOnValue=function(){var t=this.getWidgets()[0];return t==null?void 0:t.getOnValue()},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Btn",Kids:[]}),i=t.register(n);return new e(n,i)},e})(wS),wi=function(r){return 1<<r},Zo;(function(r){r[r.ReadOnly=wi(0)]="ReadOnly",r[r.Required=wi(1)]="Required",r[r.NoExport=wi(2)]="NoExport"})(Zo||(Zo={}));var Eo;(function(r){r[r.NoToggleToOff=wi(14)]="NoToggleToOff",r[r.Radio=wi(15)]="Radio",r[r.PushButton=wi(16)]="PushButton",r[r.RadiosInUnison=wi(25)]="RadiosInUnison"})(Eo||(Eo={}));var Wr;(function(r){r[r.Multiline=wi(12)]="Multiline",r[r.Password=wi(13)]="Password",r[r.FileSelect=wi(20)]="FileSelect",r[r.DoNotSpellCheck=wi(22)]="DoNotSpellCheck",r[r.DoNotScroll=wi(23)]="DoNotScroll",r[r.Comb=wi(24)]="Comb",r[r.RichText=wi(25)]="RichText"})(Wr||(Wr={}));var nr;(function(r){r[r.Combo=wi(17)]="Combo",r[r.Edit=wi(18)]="Edit",r[r.Sort=wi(19)]="Sort",r[r.MultiSelect=wi(21)]="MultiSelect",r[r.DoNotSpellCheck=wi(22)]="DoNotSpellCheck",r[r.CommitOnSelChange=wi(26)]="CommitOnSelChange"})(nr||(nr={}));var PI=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValues=function(t){if(this.hasFlag(nr.Combo)&&!this.hasFlag(nr.Edit)&&!this.valuesAreValid(t))throw new pS;if(t.length===0&&this.dict.delete(Me.of("V")),t.length===1&&this.dict.set(Me.of("V"),t[0]),t.length>1){if(!this.hasFlag(nr.MultiSelect))throw new tX;this.dict.set(Me.of("V"),this.dict.context.obj(t))}this.updateSelectedIndices(t)},e.prototype.valuesAreValid=function(t){for(var n=this.getOptions(),i=function(l,c){var u=t[l].decodeText();if(!n.find(function(d){return u===(d.display||d.value).decodeText()}))return{value:!1}},a=0,s=t.length;a<s;a++){var o=i(a);if(typeof o=="object")return o.value}return!0},e.prototype.updateSelectedIndices=function(t){if(t.length>1){for(var n=new Array(t.length),i=this.getOptions(),a=function(l,c){var u=t[l].decodeText();n[l]=i.findIndex(function(d){return u===(d.display||d.value).decodeText()})},s=0,o=t.length;s<o;s++)a(s,o);this.dict.set(Me.of("I"),this.dict.context.obj(n.sort()))}else this.dict.delete(Me.of("I"))},e.prototype.getValues=function(){var t=this.V();if(t instanceof rr||t instanceof on)return[t];if(t instanceof Yn){for(var n=[],i=0,a=t.size();i<a;i++){var s=t.lookup(i);(s instanceof rr||s instanceof on)&&n.push(s)}return n}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(Me.of("Opt"),rr,on,Yn)},e.prototype.setOptions=function(t){for(var n=new Array(t.length),i=0,a=t.length;i<a;i++){var s=t[i],o=s.value,l=s.display;n[i]=this.dict.context.obj([o,l||o])}this.dict.set(Me.of("Opt"),this.dict.context.obj(n))},e.prototype.getOptions=function(){var t=this.Opt();if(t instanceof rr||t instanceof on)return[{value:t,display:t}];if(t instanceof Yn){for(var n=[],i=0,a=t.size();i<a;i++){var s=t.lookup(i);if((s instanceof rr||s instanceof on)&&n.push({value:s,display:s}),s instanceof Yn&&s.size()>0){var o=s.lookup(0,rr,on),l=s.lookupMaybe(1,rr,on);n.push({value:o,display:l||o})}}return n}return[]},e})(G1),Jx=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Ch",Ff:nr.Combo,Kids:[]}),i=t.register(n);return new e(n,i)},e})(PI),ix=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.addField=function(t){var n=this.normalizedEntries().Kids;n==null||n.push(t)},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([]),this.dict.set(Me.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({}),i=t.register(n);return new e(n,i)},e})(MI),_S=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,n){return new e(t,n)},e})(G1),Qx=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var t=this.dict.lookup(Me.of("MaxLen"));if(t instanceof un)return t},e.prototype.Q=function(){var t=this.dict.lookup(Me.of("Q"));if(t instanceof un)return t},e.prototype.setMaxLength=function(t){this.dict.set(Me.of("MaxLen"),un.of(t))},e.prototype.removeMaxLength=function(){this.dict.delete(Me.of("MaxLen"))},e.prototype.getMaxLength=function(){var t;return(t=this.MaxLen())===null||t===void 0?void 0:t.asNumber()},e.prototype.setQuadding=function(t){this.dict.set(Me.of("Q"),un.of(t))},e.prototype.getQuadding=function(){var t;return(t=this.Q())===null||t===void 0?void 0:t.asNumber()},e.prototype.setValue=function(t){this.dict.set(Me.of("V"),t)},e.prototype.removeValue=function(){this.dict.delete(Me.of("V"))},e.prototype.getValue=function(){var t=this.V();if(t instanceof rr||t instanceof on)return t},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Tx",Kids:[]}),i=t.register(n);return new e(n,i)},e})(G1),$x=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Btn",Ff:Eo.PushButton,Kids:[]}),i=t.register(n);return new e(n,i)},e})(wS),e5=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValue=function(t){var n=this.getOnValues();if(!n.includes(t)&&t!==Me.of("Off"))throw new pS;this.dict.set(Me.of("V"),t);for(var i=this.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a],l=o.getOnValue()===t?t:Me.of("Off");o.setAppearanceState(l)}},e.prototype.getValue=function(){var t=this.V();return t instanceof Me?t:Me.of("Off")},e.prototype.getOnValues=function(){for(var t=this.getWidgets(),n=[],i=0,a=t.length;i<a;i++){var s=t[i].getOnValue();s&&n.push(s)}return n},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Btn",Ff:Eo.Radio,Kids:[]}),i=t.register(n);return new e(n,i)},e})(wS),t5=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Ch",Kids:[]}),i=t.register(n);return new e(n,i)},e})(PI),SS=function(r){if(!r)return[];for(var e=[],t=0,n=r.size();t<n;t++){var i=r.get(t),a=r.lookup(t);i instanceof ir&&a instanceof yn&&e.push([FI(a,i),i])}return e},FI=function(r,e){var t=fK(r);return t?ix.fromDict(r,e):pK(r,e)},fK=function(r){var e=r.lookup(Me.of("Kids"));if(e instanceof Yn)for(var t=0,n=e.size();t<n;t++){var i=e.lookup(t),a=i instanceof yn&&i.has(Me.of("T"));if(a)return!0}return!1},pK=function(r,e){var t=AS(r,Me.of("FT")),n=r.context.lookup(t,Me);return n===Me.of("Btn")?mK(r,e):n===Me.of("Ch")?gK(r,e):n===Me.of("Tx")?Qx.fromDict(r,e):n===Me.of("Sig")?_S.fromDict(r,e):G1.fromDict(r,e)},mK=function(r,e){var t,n=AS(r,Me.of("Ff")),i=r.context.lookupMaybe(n,un),a=(t=i==null?void 0:i.asNumber())!==null&&t!==void 0?t:0;return M4(a,Eo.PushButton)?$x.fromDict(r,e):M4(a,Eo.Radio)?e5.fromDict(r,e):Zx.fromDict(r,e)},gK=function(r,e){var t,n=AS(r,Me.of("Ff")),i=r.context.lookupMaybe(n,un),a=(t=i==null?void 0:i.asNumber())!==null&&t!==void 0?t:0;return M4(a,nr.Combo)?Jx.fromDict(r,e):t5.fromDict(r,e)},M4=function(r,e){return(r&e)!==0},AS=function(r,e){var t;return LI(r,function(n){t||(t=n.get(e))}),t},LI=function(r,e){e(r);var t=r.lookupMaybe(Me.of("Parent"),yn);t&&LI(t,e)},ax=(function(){function r(e){this.dict=e}return r.prototype.Fields=function(){var e=this.dict.lookup(Me.of("Fields"));if(e instanceof Yn)return e},r.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),n=0,i=e.size();n<i;n++){var a=e.get(n),s=e.lookup(n,yn);t[n]=[FI(s,a),a]}return t},r.prototype.getAllFields=function(){var e=[],t=function(n){if(n)for(var i=0,a=n.length;i<a;i++){var s=n[i];e.push(s);var o=s[0];o instanceof ix&&t(SS(o.Kids()))}};return t(this.getFields()),e},r.prototype.addField=function(e){var t=this.normalizedEntries().Fields;t==null||t.push(e)},r.prototype.removeField=function(e){var t=e.getParent(),n=t===void 0?this.normalizedEntries().Fields:t.Kids(),i=n==null?void 0:n.indexOf(e.ref);if(n===void 0||i===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());n.remove(i),t!==void 0&&n.size()===0&&this.removeField(t)},r.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(Me.of("Fields"),e)),{Fields:e}},r.fromDict=function(e){return new r(e)},r.create=function(e){var t=e.obj({Fields:[]});return new r(t)},r})(),DI=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(Me.of("Pages"),yn)},e.prototype.AcroForm=function(){return this.lookupMaybe(Me.of("AcroForm"),yn)},e.prototype.getAcroForm=function(){var t=this.AcroForm();if(t)return ax.fromDict(t)},e.prototype.getOrCreateAcroForm=function(){var t=this.getAcroForm();if(!t){t=ax.create(this.context);var n=this.context.register(t.dict);this.set(Me.of("AcroForm"),n)}return t},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(Me.of("ViewerPreferences"),yn)},e.prototype.getViewerPreferences=function(){var t=this.ViewerPreferences();if(t)return aC.fromDict(t)},e.prototype.getOrCreateViewerPreferences=function(){var t=this.getViewerPreferences();if(!t){t=aC.create(this.context);var n=this.context.register(t.dict);this.set(Me.of("ViewerPreferences"),n)}return t},e.prototype.insertLeafNode=function(t,n){var i=this.get(Me.of("Pages")),a=this.Pages().insertLeafNode(t,n);return a||i},e.prototype.removeLeafNode=function(t){this.Pages().removeLeafNode(t)},e.withContextAndPages=function(t,n){var i=new Map;return i.set(Me.of("Type"),Me.of("Catalog")),i.set(Me.of("Pages"),n),new e(i,t)},e.fromMapWithContext=function(t,n){return new e(t,n)},e})(yn),BI=(function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(Me.of("Parent"))},e.prototype.Kids=function(){return this.lookup(Me.of("Kids"),Yn)},e.prototype.Count=function(){return this.lookup(Me.of("Count"),un)},e.prototype.pushTreeNode=function(t){var n=this.Kids();n.push(t)},e.prototype.pushLeafNode=function(t){var n=this.Kids();this.insertLeafKid(n.size(),t)},e.prototype.insertLeafNode=function(t,n){var i=this.Kids(),a=this.Count().asNumber();if(n>a)throw new pE(n,a);for(var s=n,o=0,l=i.size();o<l;o++){if(s===0){this.insertLeafKid(o,t);return}var c=i.get(o),u=this.context.lookup(c);if(u instanceof e){if(u.Count().asNumber()>s)return u.insertLeafNode(t,s)||c;s-=u.Count().asNumber()}u instanceof pu&&(s-=1)}if(s===0){this.insertLeafKid(i.size(),t);return}throw new mE(n,"insertLeafNode")},e.prototype.removeLeafNode=function(t,n){n===void 0&&(n=!0);var i=this.Kids(),a=this.Count().asNumber();if(t>=a)throw new pE(t,a);for(var s=t,o=0,l=i.size();o<l;o++){var c=i.get(o),u=this.context.lookup(c);if(u instanceof e)if(u.Count().asNumber()>s){u.removeLeafNode(s,n),n&&u.Kids().size()===0&&i.remove(o);return}else s-=u.Count().asNumber();if(u instanceof pu)if(s===0){this.removeKid(o);return}else s-=1}throw new mE(t,"removeLeafNode")},e.prototype.ascend=function(t){t(this);var n=this.Parent();n&&n.ascend(t)},e.prototype.traverse=function(t){for(var n=this.Kids(),i=0,a=n.size();i<a;i++){var s=n.get(i),o=this.context.lookup(s);o instanceof e&&o.traverse(t),t(o,s)}},e.prototype.insertLeafKid=function(t,n){var i=this.Kids();this.ascend(function(a){var s=a.Count().asNumber()+1;a.set(Me.of("Count"),un.of(s))}),i.insert(t,n)},e.prototype.removeKid=function(t){var n=this.Kids(),i=n.lookup(t);i instanceof pu&&this.ascend(function(a){var s=a.Count().asNumber()-1;a.set(Me.of("Count"),un.of(s))}),n.remove(t)},e.withContext=function(t,n){var i=new Map;return i.set(Me.of("Type"),Me.of("Pages")),i.set(Me.of("Kids"),t.obj([])),i.set(Me.of("Count"),t.obj(0)),n&&i.set(Me.of("Parent"),n),new e(i,t)},e.fromMapWithContext=function(t,n){return new e(t,n)},e})(yn),Pa=new Uint8Array(256);Pa[Be.Zero]=1;Pa[Be.One]=1;Pa[Be.Two]=1;Pa[Be.Three]=1;Pa[Be.Four]=1;Pa[Be.Five]=1;Pa[Be.Six]=1;Pa[Be.Seven]=1;Pa[Be.Eight]=1;Pa[Be.Nine]=1;var n5=new Uint8Array(256);n5[Be.Period]=1;n5[Be.Plus]=1;n5[Be.Minus]=1;var kS=new Uint8Array(256);for(var Nm=0,vK=256;Nm<vK;Nm++)kS[Nm]=Pa[Nm]||n5[Nm]?1:0;var sC=Be.Newline,oC=Be.CarriageReturn,bK=(function(){function r(e,t){t===void 0&&(t=!1),this.bytes=e,this.capNumbers=t}return r.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!Pa[t])break;e+=hu(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new gE(this.bytes.position(),e);return n},r.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!kS[t]||(e+=hu(this.bytes.next()),t===Be.Period))break}for(;!this.bytes.done();){var t=this.bytes.peek();if(!Pa[t])break;e+=hu(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new gE(this.bytes.position(),e);if(n>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var i="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(i),Number.MAX_SAFE_INTEGER}else{var i="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(i)}return n},r.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Su[this.bytes.peek()];)this.bytes.next()},r.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===sC||e===oC)return;this.bytes.next()}},r.prototype.skipComment=function(){if(this.bytes.peek()!==Be.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===sC||e===oC)return!0;this.bytes.next()}return!0},r.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},r.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),n=0,i=e.length;n<i;n++)if(this.bytes.done()||this.bytes.next()!==e[n])return this.bytes.moveTo(t),!1;return!0},r})(),r5=(function(){function r(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return r.prototype.moveTo=function(e){this.idx=e},r.prototype.next=function(){var e=this.bytes[this.idx++];return e===Be.Newline?(this.line+=1,this.column=0):this.column+=1,e},r.prototype.assertNext=function(e){if(this.peek()!==e)throw new iX(this.position(),e,this.peek());return this.next()},r.prototype.peek=function(){return this.bytes[this.idx]},r.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},r.prototype.peekAt=function(e){return this.bytes[e]},r.prototype.done=function(){return this.idx>=this.length},r.prototype.offset=function(){return this.idx},r.prototype.slice=function(e,t){return this.bytes.slice(e,t)},r.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},r.of=function(e){return new r(e)},r.fromPDFRawStream=function(e){return r.of(RI(e).decode())},r})(),yK=Be.Space,Rm=Be.CarriageReturn,Im=Be.Newline,Mm=[Be.s,Be.t,Be.r,Be.e,Be.a,Be.m],Nb=[Be.e,Be.n,Be.d,Be.s,Be.t,Be.r,Be.e,Be.a,Be.m],yr={header:[Be.Percent,Be.P,Be.D,Be.F,Be.Dash],eof:[Be.Percent,Be.Percent,Be.E,Be.O,Be.F],obj:[Be.o,Be.b,Be.j],endobj:[Be.e,Be.n,Be.d,Be.o,Be.b,Be.j],xref:[Be.x,Be.r,Be.e,Be.f],trailer:[Be.t,Be.r,Be.a,Be.i,Be.l,Be.e,Be.r],startxref:[Be.s,Be.t,Be.a,Be.r,Be.t,Be.x,Be.r,Be.e,Be.f],true:[Be.t,Be.r,Be.u,Be.e],false:[Be.f,Be.a,Be.l,Be.s,Be.e],null:[Be.n,Be.u,Be.l,Be.l],stream:Mm,streamEOF1:zn(Mm,[yK,Rm,Im]),streamEOF2:zn(Mm,[Rm,Im]),streamEOF3:zn(Mm,[Rm]),streamEOF4:zn(Mm,[Im]),endstream:Nb,EOF1endstream:zn([Rm,Im],Nb),EOF2endstream:zn([Rm],Nb),EOF3endstream:zn([Im],Nb)},OI=(function(r){Dt(e,r);function e(t,n,i){i===void 0&&(i=!1);var a=r.call(this,t,i)||this;return a.context=n,a}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(yr.true))return Ag.True;if(this.matchKeyword(yr.false))return Ag.False;if(this.matchKeyword(yr.null))return ds;var t=this.bytes.peek();if(t===Be.LessThan&&this.bytes.peekAhead(1)===Be.LessThan)return this.parseDictOrStream();if(t===Be.LessThan)return this.parseHexString();if(t===Be.LeftParen)return this.parseString();if(t===Be.ForwardSlash)return this.parseName();if(t===Be.LeftSquareBracket)return this.parseArray();if(kS[t])return this.parseNumberOrRef();throw new aX(this.bytes.position(),t)},e.prototype.parseNumberOrRef=function(){var t=this.parseRawNumber();this.skipWhitespaceAndComments();var n=this.bytes.offset();if(Pa[this.bytes.peek()]){var i=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===Be.R)return this.bytes.assertNext(Be.R),ir.of(t,i)}return this.bytes.moveTo(n),un.of(t)},e.prototype.parseHexString=function(){var t="";for(this.bytes.assertNext(Be.LessThan);!this.bytes.done()&&this.bytes.peek()!==Be.GreaterThan;)t+=hu(this.bytes.next());return this.bytes.assertNext(Be.GreaterThan),on.of(t)},e.prototype.parseString=function(){for(var t=0,n=!1,i="";!this.bytes.done();){var a=this.bytes.next();if(i+=hu(a),n||(a===Be.LeftParen&&(t+=1),a===Be.RightParen&&(t-=1)),a===Be.BackSlash?n=!n:n&&(n=!1),t===0)return rr.of(i.substring(1,i.length-1))}throw new lX(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(Be.ForwardSlash);for(var t="";!this.bytes.done();){var n=this.bytes.peek();if(Su[n]||Bo[n])break;t+=hu(n),this.bytes.next()}return Me.of(t)},e.prototype.parseArray=function(){this.bytes.assertNext(Be.LeftSquareBracket),this.skipWhitespaceAndComments();for(var t=Yn.withContext(this.context);this.bytes.peek()!==Be.RightSquareBracket;){var n=this.parseObject();t.push(n),this.skipWhitespaceAndComments()}return this.bytes.assertNext(Be.RightSquareBracket),t},e.prototype.parseDict=function(){this.bytes.assertNext(Be.LessThan),this.bytes.assertNext(Be.LessThan),this.skipWhitespaceAndComments();for(var t=new Map;!this.bytes.done()&&this.bytes.peek()!==Be.GreaterThan&&this.bytes.peekAhead(1)!==Be.GreaterThan;){var n=this.parseName(),i=this.parseObject();t.set(n,i),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(Be.GreaterThan),this.bytes.assertNext(Be.GreaterThan);var a=t.get(Me.of("Type"));return a===Me.of("Catalog")?DI.fromMapWithContext(t,this.context):a===Me.of("Pages")?BI.fromMapWithContext(t,this.context):a===Me.of("Page")?pu.fromMapWithContext(t,this.context):yn.fromMapWithContext(t,this.context)},e.prototype.parseDictOrStream=function(){var t=this.bytes.position(),n=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(yr.streamEOF1)&&!this.matchKeyword(yr.streamEOF2)&&!this.matchKeyword(yr.streamEOF3)&&!this.matchKeyword(yr.streamEOF4)&&!this.matchKeyword(yr.stream))return n;var i=this.bytes.offset(),a,s=n.get(Me.of("Length"));s instanceof un?(a=i+s.asNumber(),this.bytes.moveTo(a),this.skipWhitespaceAndComments(),this.matchKeyword(yr.endstream)||(this.bytes.moveTo(i),a=this.findEndOfStreamFallback(t))):a=this.findEndOfStreamFallback(t);var o=this.bytes.slice(i,a);return kg.of(n,o)},e.prototype.findEndOfStreamFallback=function(t){for(var n=1,i=this.bytes.offset();!this.bytes.done()&&(i=this.bytes.offset(),this.matchKeyword(yr.stream)?n+=1:this.matchKeyword(yr.EOF1endstream)||this.matchKeyword(yr.EOF2endstream)||this.matchKeyword(yr.EOF3endstream)||this.matchKeyword(yr.endstream)?n-=1:this.bytes.next(),n!==0););if(n!==0)throw new oX(t);return i},e.forBytes=function(t,n,i){return new e(r5.of(t),n,i)},e.forByteStream=function(t,n,i){return i===void 0&&(i=!1),new e(t,n,i)},e})(bK),xK=(function(r){Dt(e,r);function e(t,n){var i=r.call(this,r5.fromPDFRawStream(t),t.dict.context)||this,a=t.dict;return i.alreadyParsed=!1,i.shouldWaitForTick=n||(function(){return!1}),i.firstOffset=a.lookup(Me.of("First"),un).asNumber(),i.objectCount=a.lookup(Me.of("N"),un).asNumber(),i}return e.prototype.parseIntoContext=function(){return kn(this,void 0,void 0,function(){var t,n,i,a,s,o,l,c;return En(this,function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new fS("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,t=this.parseOffsetsAndObjectNumbers(),n=0,i=t.length,u.label=1;case 1:return n<i?(a=t[n],s=a.objectNumber,o=a.offset,this.bytes.moveTo(this.firstOffset+o),l=this.parseObject(),c=ir.of(s,0),this.context.assign(c,l),this.shouldWaitForTick()?[4,B1()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var t=[],n=0,i=this.objectCount;n<i;n++){this.skipWhitespaceAndComments();var a=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.parseRawInt();t.push({objectNumber:a,offset:s})}return t},e.forStream=function(t,n){return new e(t,n)},e})(OI),wK=(function(){function r(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=r5.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(Me.of("Size"),un),n=this.dict.lookup(Me.of("Index"));if(n instanceof Yn){this.subsections=[];for(var i=0,a=n.size();i<a;i+=2){var s=n.lookup(i+0,un).asNumber(),o=n.lookup(i+1,un).asNumber();this.subsections.push({firstObjectNumber:s,length:o})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var l=this.dict.lookup(Me.of("W"),Yn);this.byteWidths=[-1,-1,-1];for(var i=0,a=l.size();i<a;i++)this.byteWidths[i]=l.lookup(i,un).asNumber()}return r.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new fS("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(Me.of("Root")),Encrypt:this.dict.get(Me.of("Encrypt")),Info:this.dict.get(Me.of("Info")),ID:this.dict.get(Me.of("ID"))};var e=this.parseEntries();return e},r.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,n=t[0],i=t[1],a=t[2],s=0,o=this.subsections.length;s<o;s++)for(var l=this.subsections[s],c=l.firstObjectNumber,u=l.length,d=0;d<u;d++){for(var h=0,f=0,g=n;f<g;f++)h=h<<8|this.bytes.next();for(var y=0,f=0,g=i;f<g;f++)y=y<<8|this.bytes.next();for(var w=0,f=0,g=a;f<g;f++)w=w<<8|this.bytes.next();n===0&&(h=1);var x=c+d,T={ref:ir.of(x,w),offset:y,deleted:h===0,inObjectStream:h===2};e.push(T)}return e},r.forStream=function(e){return new r(e)},r})(),_K=(function(r){Dt(e,r);function e(t,n,i,a){n===void 0&&(n=1/0),i===void 0&&(i=!1),a===void 0&&(a=!1);var s=r.call(this,r5.of(t),N4.create(),a)||this;return s.alreadyParsed=!1,s.parsedObjects=0,s.shouldWaitForTick=function(){return s.parsedObjects+=1,s.parsedObjects%s.objectsPerTick===0},s.objectsPerTick=n,s.throwOnInvalidObject=i,s}return e.prototype.parseDocument=function(){return kn(this,void 0,void 0,function(){var t,n;return En(this,function(i){switch(i.label){case 0:if(this.alreadyParsed)throw new fS("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),i.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(i.sent(),n=this.bytes.offset(),n===t)throw new cX(this.bytes.position());return t=n,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(ir.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(ir.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var t=function(u){return u instanceof yn&&u.lookup(Me.of("Type"))===Me.of("Catalog")},n=this.context.lookup(this.context.trailerInfo.Root);if(!t(n))for(var i=this.context.enumerateIndirectObjects(),a=0,s=i.length;a<s;a++){var o=i[a],l=o[0],c=o[1];t(c)&&(this.context.trailerInfo.Root=l)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(yr.header)){var t=this.parseRawInt();this.bytes.assertNext(Be.Period);var n=this.parseRawInt(),i=Yx.forVersion(t,n);return this.skipBinaryHeaderComment(),i}this.bytes.next()}throw new uX(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var t=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(yr.obj))throw new dX(this.bytes.position(),yr.obj);return ir.of(t,n)},e.prototype.matchIndirectObjectHeader=function(){var t=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(t),!1}},e.prototype.parseIndirectObject=function(){return kn(this,void 0,void 0,function(){var t,n;return En(this,function(i){switch(i.label){case 0:return t=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),n=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(yr.endobj),n instanceof kg&&n.dict.lookup(Me.of("Type"))===Me.of("ObjStm")?[4,xK.forStream(n,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return i.sent(),[3,3];case 2:n instanceof kg&&n.dict.lookup(Me.of("Type"))===Me.of("XRef")?wK.forStream(n).parseIntoContext():this.context.assign(t,n),i.label=3;case 3:return[2,t]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var t=this.bytes.position(),n="Trying to parse invalid object: "+JSON.stringify(t)+")";if(this.throwOnInvalidObject)throw new Error(n);console.warn(n);var i=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+i),this.skipWhitespaceAndComments();for(var a=this.bytes.offset(),s=!0;!this.bytes.done()&&(this.matchKeyword(yr.endobj)&&(s=!1),!!s);)this.bytes.next();if(s)throw new sX(t);var o=this.bytes.offset()-yr.endobj.length,l=wI.of(this.bytes.slice(a,o));return this.context.assign(i,l),i},e.prototype.parseIndirectObjects=function(){return kn(this,void 0,void 0,function(){var t;return En(this,function(n){switch(n.label){case 0:this.skipWhitespaceAndComments(),n.label=1;case 1:if(!(!this.bytes.done()&&Pa[this.bytes.peek()]))return[3,8];t=this.bytes.offset(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return n.sent(),[3,5];case 4:return n.sent(),this.bytes.moveTo(t),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,B1()]:[3,7];case 6:n.sent(),n.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(yr.xref)){this.skipWhitespaceAndComments();for(var t=-1,n=bI.createEmpty();!this.bytes.done()&&Pa[this.bytes.peek()];){var i=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.bytes.peek();if(s===Be.n||s===Be.f){var o=ir.of(t,a);this.bytes.next()===Be.n?n.addEntry(o,i):n.addDeletedEntry(o,i),t+=1}else t=i;this.skipWhitespaceAndComments()}return n}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(yr.trailer)){this.skipWhitespaceAndComments();var t=this.parseDict(),n=this.context;n.trailerInfo={Root:t.get(Me.of("Root"))||n.trailerInfo.Root,Encrypt:t.get(Me.of("Encrypt"))||n.trailerInfo.Encrypt,Info:t.get(Me.of("Info"))||n.trailerInfo.Info,ID:t.get(Me.of("ID"))||n.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(yr.startxref)){this.skipWhitespaceAndComments();var t=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(yr.eof),this.skipWhitespaceAndComments(),this.matchKeyword(yr.eof),this.skipWhitespaceAndComments(),bS.forLastCrossRefSectionOffset(t)}},e.prototype.parseDocumentSection=function(){return kn(this,void 0,void 0,function(){return En(this,function(t){switch(t.label){case 0:return[4,this.parseIndirectObjects()];case 1:return t.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var t=this.bytes.offset(),n=this.bytes.peek(),i=n>=Be.Space&&n<=Be.Tilde;if(i&&(this.matchKeyword(yr.xref)||this.matchKeyword(yr.trailer)||this.matchKeyword(yr.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(t);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var t=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(t)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(t,n,i,a){return new e(t,n,i,a)},e})(OI),El=function(r){return 1<<r},pg;(function(r){r[r.Invisible=El(0)]="Invisible",r[r.Hidden=El(1)]="Hidden",r[r.Print=El(2)]="Print",r[r.NoZoom=El(3)]="NoZoom",r[r.NoRotate=El(4)]="NoRotate",r[r.NoView=El(5)]="NoView",r[r.ReadOnly=El(6)]="ReadOnly",r[r.Locked=El(7)]="Locked",r[r.ToggleNoView=El(8)]="ToggleNoView",r[r.LockedContents=El(9)]="LockedContents"})(pg||(pg={}));var i5=function(r){return r instanceof Me?r:Me.of(r)},dn=function(r){return r instanceof un?r:un.of(r)},Cn=function(r){return r instanceof un?r.asNumber():r},Eg;(function(r){r.Degrees="degrees",r.Radians="radians"})(Eg||(Eg={}));var ln=function(r){return ot(r,"degreeAngle",["number"]),{type:Eg.Degrees,angle:r}},jI=Eg.Radians,UI=Eg.Degrees,qI=function(r){return r*Math.PI/180},SK=function(r){return r*180/Math.PI},va=function(r){return r.type===jI?r.angle:r.type===UI?qI(r.angle):N2("Invalid rotation: "+JSON.stringify(r))},HI=function(r){return r.type===jI?SK(r.angle):r.type===UI?r.angle:N2("Invalid rotation: "+JSON.stringify(r))},Au=function(r){r===void 0&&(r=0);var e=r/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},d0=function(r,e){e===void 0&&(e=0);var t=Au(e);return t===90||t===270?{width:r.height,height:r.width}:{width:r.width,height:r.height}},AK=function(r,e,t){e===void 0&&(e=0),t===void 0&&(t=0);var n=r.x,i=r.y,a=r.width,s=r.height,o=Au(t),l=e/2;return o===0?{x:n-l,y:i-l,width:a,height:s}:o===90?{x:n-s+l,y:i-l,width:s,height:a}:o===180?{x:n-a+l,y:i-s+l,width:a,height:s}:o===270?{x:n-l,y:i-a+l,width:s,height:a}:{x:n-l,y:i-l,width:a,height:s}},zI=function(){return jn.of(Ln.ClipNonZero)},sx=Math.cos,ox=Math.sin,lx=Math.tan,a5=function(r,e,t,n,i,a){return jn.of(Ln.ConcatTransformationMatrix,[dn(r),dn(e),dn(t),dn(n),dn(i),dn(a)])},Ro=function(r,e){return a5(1,0,0,1,r,e)},Cg=function(r,e){return a5(r,0,0,e,0,0)},W1=function(r){return a5(sx(Cn(r)),ox(Cn(r)),-ox(Cn(r)),sx(Cn(r)),0,0)},Rb=function(r){return W1(qI(Cn(r)))},ES=function(r,e){return a5(1,lx(Cn(r)),lx(Cn(e)),1,0,0)},s5=function(r,e){return jn.of(Ln.SetLineDashPattern,["["+r.map(dn).join(" ")+"]",dn(e)])},Q0;(function(r){r[r.Butt=0]="Butt",r[r.Round=1]="Round",r[r.Projecting=2]="Projecting"})(Q0||(Q0={}));var o5=function(r){return jn.of(Ln.SetLineCapStyle,[dn(r)])},lC;(function(r){r[r.Miter=0]="Miter",r[r.Round=1]="Round",r[r.Bevel=2]="Bevel"})(lC||(lC={}));var h0=function(r){return jn.of(Ln.SetGraphicsStateParams,[i5(r)])},Oi=function(){return jn.of(Ln.PushGraphicsState)},ji=function(){return jn.of(Ln.PopGraphicsState)},I2=function(r){return jn.of(Ln.SetLineWidth,[dn(r)])},Ys=function(r,e,t,n,i,a){return jn.of(Ln.AppendBezierCurve,[dn(r),dn(e),dn(t),dn(n),dn(i),dn(a)])},Ib=function(r,e,t,n){return jn.of(Ln.CurveToReplicateInitialPoint,[dn(r),dn(e),dn(t),dn(n)])},Zd=function(){return jn.of(Ln.ClosePath)},ec=function(r,e){return jn.of(Ln.MoveTo,[dn(r),dn(e)])},Ji=function(r,e){return jn.of(Ln.LineTo,[dn(r),dn(e)])},M2=function(){return jn.of(Ln.StrokePath)},CS=function(){return jn.of(Ln.FillNonZero)},TS=function(){return jn.of(Ln.FillNonZeroAndStroke)},VI=function(){return jn.of(Ln.EndPath)},kK=function(){return jn.of(Ln.NextLine)},GI=function(r){return jn.of(Ln.ShowText,[r])},WI=function(){return jn.of(Ln.BeginText)},XI=function(){return jn.of(Ln.EndText)},NS=function(r,e){return jn.of(Ln.SetFontAndSize,[i5(r),dn(e)])},EK=function(r){return jn.of(Ln.SetTextLineHeight,[dn(r)])},cC;(function(r){r[r.Fill=0]="Fill",r[r.Outline=1]="Outline",r[r.FillAndOutline=2]="FillAndOutline",r[r.Invisible=3]="Invisible",r[r.FillAndClip=4]="FillAndClip",r[r.OutlineAndClip=5]="OutlineAndClip",r[r.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",r[r.Clip=7]="Clip"})(cC||(cC={}));var CK=function(r,e,t,n,i,a){return jn.of(Ln.SetTextMatrix,[dn(r),dn(e),dn(t),dn(n),dn(i),dn(a)])},KI=function(r,e,t,n,i){return CK(sx(Cn(r)),ox(Cn(r))+lx(Cn(e)),-ox(Cn(r))+lx(Cn(t)),sx(Cn(r)),n,i)},RS=function(r){return jn.of(Ln.DrawObject,[i5(r)])},TK=function(r){return jn.of(Ln.NonStrokingColorGray,[dn(r)])},NK=function(r){return jn.of(Ln.StrokingColorGray,[dn(r)])},RK=function(r,e,t){return jn.of(Ln.NonStrokingColorRgb,[dn(r),dn(e),dn(t)])},IK=function(r,e,t){return jn.of(Ln.StrokingColorRgb,[dn(r),dn(e),dn(t)])},MK=function(r,e,t,n){return jn.of(Ln.NonStrokingColorCmyk,[dn(r),dn(e),dn(t),dn(n)])},PK=function(r,e,t,n){return jn.of(Ln.StrokingColorCmyk,[dn(r),dn(e),dn(t),dn(n)])},YI=function(r){return jn.of(Ln.BeginMarkedContent,[i5(r)])},ZI=function(){return jn.of(Ln.EndMarkedContent)},Jd;(function(r){r.Grayscale="Grayscale",r.RGB="RGB",r.CMYK="CMYK"})(Jd||(Jd={}));var JI=function(r){return Ks(r,"gray",0,1),{type:Jd.Grayscale,gray:r}},Zn=function(r,e,t){return Ks(r,"red",0,1),Ks(e,"green",0,1),Ks(t,"blue",0,1),{type:Jd.RGB,red:r,green:e,blue:t}},QI=function(r,e,t,n){return Ks(r,"cyan",0,1),Ks(e,"magenta",0,1),Ks(t,"yellow",0,1),Ks(n,"key",0,1),{type:Jd.CMYK,cyan:r,magenta:e,yellow:t,key:n}},IS=Jd.Grayscale,MS=Jd.RGB,PS=Jd.CMYK,f0=function(r){return r.type===IS?TK(r.gray):r.type===MS?RK(r.red,r.green,r.blue):r.type===PS?MK(r.cyan,r.magenta,r.yellow,r.key):N2("Invalid color: "+JSON.stringify(r))},P2=function(r){return r.type===IS?NK(r.gray):r.type===MS?IK(r.red,r.green,r.blue):r.type===PS?PK(r.cyan,r.magenta,r.yellow,r.key):N2("Invalid color: "+JSON.stringify(r))},Za=function(r,e){return e===void 0&&(e=1),(r==null?void 0:r.length)===1?JI(r[0]*e):(r==null?void 0:r.length)===3?Zn(r[0]*e,r[1]*e,r[2]*e):(r==null?void 0:r.length)===4?QI(r[0]*e,r[1]*e,r[2]*e,r[3]*e):void 0},uC=function(r){return r.type===IS?[r.gray]:r.type===MS?[r.red,r.green,r.blue]:r.type===PS?[r.cyan,r.magenta,r.yellow,r.key]:N2("Invalid color: "+JSON.stringify(r))},nn=0,rn=0,Bn=0,On=0,rg=0,ig=0,dC=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),FK=function(r){for(var e,t=[],n=[],i="",a=!1,s=0,o=0,l=r;o<l.length;o++){var c=l[o];if(dC.has(c))s=dC.get(c),e&&(i.length>0&&(n[n.length]=+i),t[t.length]={cmd:e,args:n},n=[],i="",a=!1),e=c;else if([" ",","].includes(c)||c==="-"&&i.length>0&&i[i.length-1]!=="e"||c==="."&&a){if(i.length===0)continue;n.length===s?(t[t.length]={cmd:e,args:n},n=[+i],e==="M"&&(e="L"),e==="m"&&(e="l")):n[n.length]=+i,a=c===".",i=["-","."].includes(c)?c:""}else i+=c,c==="."&&(a=!0)}return i.length>0&&(n.length===s?(t[t.length]={cmd:e,args:n},n=[+i],e==="M"&&(e="L"),e==="m"&&(e="l")):n[n.length]=+i),t[t.length]={cmd:e,args:n},t},LK=function(r){nn=rn=Bn=On=rg=ig=0;for(var e=[],t=0;t<r.length;t++){var n=r[t];if(n.cmd&&typeof hC[n.cmd]=="function"){var i=hC[n.cmd](n.args);Array.isArray(i)?e=e.concat(i):e.push(i)}}return e},hC={M:function(r){return nn=r[0],rn=r[1],Bn=On=null,rg=nn,ig=rn,ec(nn,rn)},m:function(r){return nn+=r[0],rn+=r[1],Bn=On=null,rg=nn,ig=rn,ec(nn,rn)},C:function(r){return nn=r[4],rn=r[5],Bn=r[2],On=r[3],Ys(r[0],r[1],r[2],r[3],r[4],r[5])},c:function(r){var e=Ys(r[0]+nn,r[1]+rn,r[2]+nn,r[3]+rn,r[4]+nn,r[5]+rn);return Bn=nn+r[2],On=rn+r[3],nn+=r[4],rn+=r[5],e},S:function(r){(Bn===null||On===null)&&(Bn=nn,On=rn);var e=Ys(nn-(Bn-nn),rn-(On-rn),r[0],r[1],r[2],r[3]);return Bn=r[0],On=r[1],nn=r[2],rn=r[3],e},s:function(r){(Bn===null||On===null)&&(Bn=nn,On=rn);var e=Ys(nn-(Bn-nn),rn-(On-rn),nn+r[0],rn+r[1],nn+r[2],rn+r[3]);return Bn=nn+r[0],On=rn+r[1],nn+=r[2],rn+=r[3],e},Q:function(r){return Bn=r[0],On=r[1],nn=r[2],rn=r[3],Ib(r[0],r[1],nn,rn)},q:function(r){var e=Ib(r[0]+nn,r[1]+rn,r[2]+nn,r[3]+rn);return Bn=nn+r[0],On=rn+r[1],nn+=r[2],rn+=r[3],e},T:function(r){Bn===null||On===null?(Bn=nn,On=rn):(Bn=nn-(Bn-nn),On=rn-(On-rn));var e=Ib(Bn,On,r[0],r[1]);return Bn=nn-(Bn-nn),On=rn-(On-rn),nn=r[0],rn=r[1],e},t:function(r){Bn===null||On===null?(Bn=nn,On=rn):(Bn=nn-(Bn-nn),On=rn-(On-rn));var e=Ib(Bn,On,nn+r[0],rn+r[1]);return nn+=r[0],rn+=r[1],e},A:function(r){var e=fC(nn,rn,r);return nn=r[5],rn=r[6],e},a:function(r){r[5]+=nn,r[6]+=rn;var e=fC(nn,rn,r);return nn=r[5],rn=r[6],e},L:function(r){return nn=r[0],rn=r[1],Bn=On=null,Ji(nn,rn)},l:function(r){return nn+=r[0],rn+=r[1],Bn=On=null,Ji(nn,rn)},H:function(r){return nn=r[0],Bn=On=null,Ji(nn,rn)},h:function(r){return nn+=r[0],Bn=On=null,Ji(nn,rn)},V:function(r){return rn=r[0],Bn=On=null,Ji(nn,rn)},v:function(r){return rn+=r[0],Bn=On=null,Ji(nn,rn)},Z:function(){var r=Zd();return nn=rg,rn=ig,r},z:function(){var r=Zd();return nn=rg,rn=ig,r}},fC=function(r,e,t){for(var n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=DK(l,c,n,i,s,o,a,r,e),d=[],h=0,f=u;h<f.length;h++){var g=f[h],y=BK.apply(void 0,g);d.push(Ys.apply(void 0,y))}return d},DK=function(r,e,t,n,i,a,s,o,l){var c=s*(Math.PI/180),u=Math.sin(c),d=Math.cos(c);t=Math.abs(t),n=Math.abs(n),Bn=d*(o-r)*.5+u*(l-e)*.5,On=d*(l-e)*.5-u*(o-r)*.5;var h=Bn*Bn/(t*t)+On*On/(n*n);h>1&&(h=Math.sqrt(h),t*=h,n*=h);var f=d/t,g=u/t,y=-u/n,w=d/n,x=f*o+g*l,T=y*o+w*l,v=f*r+g*e,R=y*r+w*e,M=(v-x)*(v-x)+(R-T)*(R-T),B=1/M-.25;B<0&&(B=0);var L=Math.sqrt(B);a===i&&(L=-L);var z=.5*(x+v)-L*(R-T),H=.5*(T+R)+L*(v-x),$=Math.atan2(T-H,x-z),U=Math.atan2(R-H,v-z),D=U-$;D<0&&a===1?D+=2*Math.PI:D>0&&a===0&&(D-=2*Math.PI);for(var ee=Math.ceil(Math.abs(D/(Math.PI*.5+.001))),J=[],re=0;re<ee;re++){var q=$+re*D/ee,W=$+(re+1)*D/ee;J[re]=[z,H,q,W,t,n,u,d]}return J},BK=function(r,e,t,n,i,a,s,o){var l=o*i,c=-s*a,u=s*i,d=o*a,h=.5*(n-t),f=8/3*Math.sin(h*.5)*Math.sin(h*.5)/Math.sin(h),g=r+Math.cos(t)-f*Math.sin(t),y=e+Math.sin(t)+f*Math.cos(t),w=r+Math.cos(n),x=e+Math.sin(n),T=w+f*Math.sin(n),v=x-f*Math.cos(n),R=[l*g+c*y,u*g+d*y,l*T+c*v,u*T+d*v,l*w+c*x,u*w+d*x];return R},OK=function(r){return LK(FK(r))},jK=function(r,e){for(var t=[Oi(),e.graphicsState&&h0(e.graphicsState),WI(),f0(e.color),NS(e.font,e.size),EK(e.lineHeight),KI(va(e.rotate),va(e.xSkew),va(e.ySkew),e.x,e.y)].filter(Boolean),n=0,i=r.length;n<i;n++)t.push(GI(r[n]),kK());return t.push(XI(),ji()),t},$I=function(r,e){return[Oi(),e.graphicsState&&h0(e.graphicsState),Ro(e.x,e.y),W1(va(e.rotate)),Cg(e.width,e.height),ES(va(e.xSkew),va(e.ySkew)),RS(r),ji()].filter(Boolean)},UK=function(r,e){return[Oi(),e.graphicsState&&h0(e.graphicsState),Ro(e.x,e.y),W1(va(e.rotate)),Cg(e.xScale,e.yScale),ES(va(e.xSkew),va(e.ySkew)),RS(r),ji()].filter(Boolean)},qK=function(r){var e,t;return[Oi(),r.graphicsState&&h0(r.graphicsState),r.color&&P2(r.color),I2(r.thickness),s5((e=r.dashArray)!==null&&e!==void 0?e:[],(t=r.dashPhase)!==null&&t!==void 0?t:0),ec(r.start.x,r.start.y),r.lineCap&&o5(r.lineCap),ec(r.start.x,r.start.y),Ji(r.end.x,r.end.y),M2(),ji()].filter(Boolean)},O1=function(r){var e,t;return[Oi(),r.graphicsState&&h0(r.graphicsState),r.color&&f0(r.color),r.borderColor&&P2(r.borderColor),I2(r.borderWidth),r.borderLineCap&&o5(r.borderLineCap),s5((e=r.borderDashArray)!==null&&e!==void 0?e:[],(t=r.borderDashPhase)!==null&&t!==void 0?t:0),Ro(r.x,r.y),W1(va(r.rotate)),ES(va(r.xSkew),va(r.ySkew)),ec(0,0),Ji(0,r.height),Ji(r.width,r.height),Ji(r.width,0),Zd(),r.color&&r.borderWidth?TS():r.color?CS():r.borderColor?M2():Zd(),ji()].filter(Boolean)},cx=4*((Math.sqrt(2)-1)/3),HK=function(r){var e=Cn(r.x),t=Cn(r.y),n=Cn(r.xScale),i=Cn(r.yScale);e-=n,t-=i;var a=n*cx,s=i*cx,o=e+n*2,l=t+i*2,c=e+n,u=t+i;return[Oi(),ec(e,u),Ys(e,u-s,c-a,t,c,t),Ys(c+a,t,o,u-s,o,u),Ys(o,u+s,c+a,l,c,l),Ys(c-a,l,e,u+s,e,u),ji()]},zK=function(r){var e=Cn(r.x),t=Cn(r.y),n=Cn(r.xScale),i=Cn(r.yScale),a=-n,s=-i,o=n*cx,l=i*cx,c=a+n*2,u=s+i*2,d=a+n,h=s+i;return[Ro(e,t),W1(va(r.rotate)),ec(a,h),Ys(a,h-l,d-o,s,d,s),Ys(d+o,s,c,h-l,c,h),Ys(c,h+l,d+o,u,d,u),Ys(d-o,u,a,h+l,a,h)]},P4=function(r){var e,t,n;return zn([Oi(),r.graphicsState&&h0(r.graphicsState),r.color&&f0(r.color),r.borderColor&&P2(r.borderColor),I2(r.borderWidth),r.borderLineCap&&o5(r.borderLineCap),s5((e=r.borderDashArray)!==null&&e!==void 0?e:[],(t=r.borderDashPhase)!==null&&t!==void 0?t:0)],r.rotate===void 0?HK({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale}):zK({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale,rotate:(n=r.rotate)!==null&&n!==void 0?n:ln(0)}),[r.color&&r.borderWidth?TS():r.color?CS():r.borderColor?M2():Zd(),ji()]).filter(Boolean)},VK=function(r,e){var t,n,i;return zn([Oi(),e.graphicsState&&h0(e.graphicsState),Ro(e.x,e.y),W1(va((t=e.rotate)!==null&&t!==void 0?t:ln(0))),e.scale?Cg(e.scale,-e.scale):Cg(1,-1),e.color&&f0(e.color),e.borderColor&&P2(e.borderColor),e.borderWidth&&I2(e.borderWidth),e.borderLineCap&&o5(e.borderLineCap),s5((n=e.borderDashArray)!==null&&n!==void 0?n:[],(i=e.borderDashPhase)!==null&&i!==void 0?i:0)],OK(r),[e.color&&e.borderWidth?TS():e.color?CS():e.borderColor?M2():Zd(),ji()]).filter(Boolean)},GK=function(r){var e=Cn(r.size),t=-1+.75,n=-1+.51,i=1-.525,a=1-.31,s=-1+.325,o=.3995/(i-n)+n;return[Oi(),r.color&&P2(r.color),I2(r.thickness),Ro(r.x,r.y),ec(s*e,o*e),Ji(t*e,n*e),Ji(a*e,i*e),M2(),ji()].filter(Boolean)},ah=function(r){return r.rotation===0?[Ro(0,0),Rb(0)]:r.rotation===90?[Ro(r.width,0),Rb(90)]:r.rotation===180?[Ro(r.width,r.height),Rb(180)]:r.rotation===270?[Ro(0,r.height),Rb(270)]:[]},Mb=function(r){var e=O1({x:r.x,y:r.y,width:r.width,height:r.height,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)});if(!r.filled)return e;var t=Cn(r.width),n=Cn(r.height),i=Math.min(t,n)/2,a=GK({x:t/2,y:n/2,size:i,thickness:r.thickness,color:r.markColor});return zn([Oi()],e,a,[ji()])},Pb=function(r){var e=Cn(r.width),t=Cn(r.height),n=Math.min(e,t)/2,i=P4({x:r.x,y:r.y,xScale:n,yScale:n,color:r.color,borderColor:r.borderColor,borderWidth:r.borderWidth});if(!r.filled)return i;var a=P4({x:r.x,y:r.y,xScale:n*.45,yScale:n*.45,color:r.dotColor,borderColor:void 0,borderWidth:0});return zn([Oi()],i,a,[ji()])},pC=function(r){var e=Cn(r.x),t=Cn(r.y),n=Cn(r.width),i=Cn(r.height),a=O1({x:e,y:t,width:n,height:i,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)}),s=FS(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)});return zn([Oi()],a,s,[ji()])},FS=function(r,e){for(var t=[WI(),f0(e.color),NS(e.font,e.size)],n=0,i=r.length;n<i;n++){var a=r[n],s=a.encoded,o=a.x,l=a.y;t.push(KI(va(e.rotate),va(e.xSkew),va(e.ySkew),o,l),GI(s))}return t.push(XI()),t},eM=function(r){var e=Cn(r.x),t=Cn(r.y),n=Cn(r.width),i=Cn(r.height),a=Cn(r.borderWidth),s=Cn(r.padding),o=e+a/2+s,l=t+a/2+s,c=n-(a/2+s)*2,u=i-(a/2+s)*2,d=[ec(o,l),Ji(o,l+u),Ji(o+c,l+u),Ji(o+c,l),Zd(),zI(),VI()],h=O1({x:e,y:t,width:n,height:i,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)}),f=FS(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)}),g=zn([YI("Tx"),Oi()],f,[ji(),ZI()]);return zn([Oi()],h,d,g,[ji()])},WK=function(r){for(var e=Cn(r.x),t=Cn(r.y),n=Cn(r.width),i=Cn(r.height),a=Cn(r.lineHeight),s=Cn(r.borderWidth),o=Cn(r.padding),l=e+s/2+o,c=t+s/2+o,u=n-(s/2+o)*2,d=i-(s/2+o)*2,h=[ec(l,c),Ji(l,c+d),Ji(l+u,c+d),Ji(l+u,c),Zd(),zI(),VI()],f=O1({x:e,y:t,width:n,height:i,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)}),g=[],y=0,w=r.selectedLines.length;y<w;y++){var x=r.textLines[r.selectedLines[y]];g.push.apply(g,O1({x:x.x-o,y:x.y-(a-x.height)/2,width:n-s,height:x.height+(a-x.height)/2,borderWidth:0,color:r.selectedColor,borderColor:void 0,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)}))}var T=FS(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)}),v=zn([YI("Tx"),Oi()],T,[ji(),ZI()]);return zn([Oi()],f,g,h,v,[ji()])},XK=(function(r){Dt(e,r);function e(){var t=this,n="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return t=r.call(this,n)||this,t}return e})(Error),KK=(function(r){Dt(e,r);function e(){var t=this,n="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return t=r.call(this,n)||this,t}return e})(Error),YK=(function(r){Dt(e,r);function e(){var t=this,n="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return t=r.call(this,n)||this,t}return e})(Error),ZK=(function(r){Dt(e,r);function e(){var t=this,n="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return t=r.call(this,n)||this,t}return e})(Error),JK=(function(r){Dt(e,r);function e(t){var n=this,i='PDFDocument has no form field with the name "'+t+'"';return n=r.call(this,i)||this,n}return e})(Error),kh=(function(r){Dt(e,r);function e(t,n,i){var a,s,o=this,l=n==null?void 0:n.name,c=(s=(a=i==null?void 0:i.constructor)===null||a===void 0?void 0:a.name)!==null&&s!==void 0?s:i,u='Expected field "'+t+'" to be of type '+l+", "+("but it is actually of type "+c);return o=r.call(this,u)||this,o}return e})(Error);(function(r){Dt(e,r);function e(t){var n=this,i='Failed to select check box due to missing onValue: "'+t+'"';return n=r.call(this,i)||this,n}return e})(Error);var tM=(function(r){Dt(e,r);function e(t){var n=this,i='A field already exists with the specified name: "'+t+'"';return n=r.call(this,i)||this,n}return e})(Error),QK=(function(r){Dt(e,r);function e(t){var n=this,i='Field name contains invalid component: "'+t+'"';return n=r.call(this,i)||this,n}return e})(Error);(function(r){Dt(e,r);function e(t){var n=this,i='A non-terminal field already exists with the specified name: "'+t+'"';return n=r.call(this,i)||this,n}return e})(Error);var $K=(function(r){Dt(e,r);function e(t){var n=this,i="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return n=r.call(this,i)||this,n}return e})(Error),eY=(function(r){Dt(e,r);function e(t,n){var i=this,a="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+n;return i=r.call(this,a)||this,i}return e})(Error),tY=(function(r){Dt(e,r);function e(t,n,i){var a=this,s="Attempted to set text with length="+t+" for TextField with maxLength="+n+" and name="+i;return a=r.call(this,s)||this,a}return e})(Error),nY=(function(r){Dt(e,r);function e(t,n,i){var a=this,s="Attempted to set maxLength="+n+", which is less than "+t+", the length of this field's current value (name="+i+")";return a=r.call(this,s)||this,a}return e})(Error),Di;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(Di||(Di={}));var nM=4,rM=500,iM=function(r,e,t,n){n===void 0&&(n=!1);for(var i=nM;i<rM;){for(var a=0,s=0,o=r.length;s<o;s++){a+=1;for(var l=r[s],c=l.split(" "),u=t.width,d=0,h=c.length;d<h;d++){var f=d===h-1,g=f?c[d]:c[d]+" ",y=e.widthOfTextAtSize(g,i);u-=y,u<=0&&(a+=1,u=t.width-y)}}if(!n&&a>r.length)return i-1;var w=e.heightAtSize(i),x=w+w*.2,T=x*a;if(T>Math.abs(t.height))return i-1;i+=1}return i},rY=function(r,e,t,n){for(var i=t.width/n,a=t.height,s=nM,o=WG(r);s<rM;){for(var l=0,c=o.length;l<c;l++){var u=o[l],d=e.widthOfTextAtSize(u,s)>i*.75;if(d)return s-1}var h=e.heightAtSize(s,{descender:!1});if(h>a)return s-1;s+=1}return s},iY=function(r){for(var e=r.length;e>0;e--)if(/\s/.test(r[e]))return e},aY=function(r,e,t,n){for(var i,a=r.length;a>0;){var s=r.substring(0,a),o=t.encodeText(s),l=t.widthOfTextAtSize(s,n);if(l<e){var c=r.substring(a)||void 0;return{line:s,encoded:o,width:l,remainder:c}}a=(i=iY(s))!==null&&i!==void 0?i:0}return{line:r,encoded:t.encodeText(r),width:t.widthOfTextAtSize(r,n),remainder:void 0}},aM=function(r,e){var t=e.alignment,n=e.fontSize,i=e.font,a=e.bounds,s=G7(T2(r));(n===void 0||n===0)&&(n=iM(s,i,a,!0));for(var o=i.heightAtSize(n),l=o+o*.2,c=[],u=a.x,d=a.y,h=a.x+a.width,f=a.y+a.height,g=a.y+a.height,y=0,w=s.length;y<w;y++)for(var x=s[y];x!==void 0;){var T=aY(x,a.width,i,n),v=T.line,R=T.encoded,M=T.width,B=T.remainder,L=t===Di.Left?a.x:t===Di.Center?a.x+a.width/2-M/2:t===Di.Right?a.x+a.width-M:a.x;g-=l,L<u&&(u=L),g<d&&(d=g),L+M>h&&(h=L+M),g+o>f&&(f=g+o),c.push({text:v,encoded:R,width:M,height:o,x:L,y:g}),x=B==null?void 0:B.trim()}return{fontSize:n,lineHeight:l,lines:c,bounds:{x:u,y:d,width:h-u,height:f-d}}},sY=function(r,e){var t=e.fontSize,n=e.font,i=e.bounds,a=e.cellCount,s=W7(T2(r));if(s.length>a)throw new eY(s.length,a);(t===void 0||t===0)&&(t=rY(s,n,i,a));for(var o=i.width/a,l=n.heightAtSize(t,{descender:!1}),c=i.y+(i.height/2-l/2),u=[],d=i.x,h=i.y,f=i.x+i.width,g=i.y+i.height,y=0,w=0;y<a;){var x=X7(s,w),T=x[0],v=x[1],R=n.encodeText(T),M=n.widthOfTextAtSize(T,t),B=i.x+(o*y+o/2),L=B-M/2;L<d&&(d=L),c<h&&(h=c),L+M>f&&(f=L+M),c+l>g&&(g=c+l),u.push({text:s,encoded:R,width:M,height:l,x:L,y:c}),y+=1,w+=v}return{fontSize:t,cells:u,bounds:{x:d,y:h,width:f-d,height:g-h}}},ux=function(r,e){var t=e.alignment,n=e.fontSize,i=e.font,a=e.bounds,s=W7(T2(r));(n===void 0||n===0)&&(n=iM([s],i,a));var o=i.encodeText(s),l=i.widthOfTextAtSize(s,n),c=i.heightAtSize(n,{descender:!1}),u=t===Di.Left?a.x:t===Di.Center?a.x+a.width/2-l/2:t===Di.Right?a.x+a.width-l:a.x,d=a.y+(a.height/2-c/2);return{fontSize:n,line:{text:s,encoded:o,width:l,height:c,x:u,y:d},bounds:{x:u,y:d,width:l,height:c}}},X1=function(r){return"normal"in r?r:{normal:r}},oY=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,Qd=function(r){var e,t,n=(e=r.getDefaultAppearance())!==null&&e!==void 0?e:"",i=(t=uS(n,oY).match)!==null&&t!==void 0?t:[],a=Number(i[2]);return isFinite(a)?a:void 0},lY=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Lo=function(r){var e,t=(e=r.getDefaultAppearance())!==null&&e!==void 0?e:"",n=uS(t,lY).match,i=n??[],a=i[1],s=i[2],o=i[3],l=i[4],c=i[5];if(c==="g"&&a)return JI(Number(a));if(c==="rg"&&a&&s&&o)return Zn(Number(a),Number(s),Number(o));if(c==="k"&&a&&s&&o&&l)return QI(Number(a),Number(s),Number(o),Number(l))},Do=function(r,e,t,n){var i;n===void 0&&(n=0);var a=[f0(e).toString(),NS((i=t==null?void 0:t.name)!==null&&i!==void 0?i:"dummy__noop",n).toString()].join(`
`);r.setDefaultAppearance(a)},cY=function(r,e){var t,n,i,a=Lo(e),s=Lo(r.acroField),o=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),u=(t=c==null?void 0:c.getWidth())!==null&&t!==void 0?t:0,d=Au(l==null?void 0:l.getRotation()),h=d0(o,d),f=h.width,g=h.height,y=ah(mn(mn({},o),{rotation:d})),w=Zn(0,0,0),x=(n=Za(l==null?void 0:l.getBorderColor()))!==null&&n!==void 0?n:w,T=Za(l==null?void 0:l.getBackgroundColor()),v=Za(l==null?void 0:l.getBackgroundColor(),.8),R=(i=a??s)!==null&&i!==void 0?i:w;Do(a?e:r.acroField,R);var M={x:0+u/2,y:0+u/2,width:f-u,height:g-u,thickness:1.5,borderWidth:u,borderColor:x,markColor:R};return{normal:{on:zn(y,Mb(mn(mn({},M),{color:T,filled:!0}))),off:zn(y,Mb(mn(mn({},M),{color:T,filled:!1})))},down:{on:zn(y,Mb(mn(mn({},M),{color:v,filled:!0}))),off:zn(y,Mb(mn(mn({},M),{color:v,filled:!1})))}}},uY=function(r,e){var t,n,i,a=Lo(e),s=Lo(r.acroField),o=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),u=(t=c==null?void 0:c.getWidth())!==null&&t!==void 0?t:0,d=Au(l==null?void 0:l.getRotation()),h=d0(o,d),f=h.width,g=h.height,y=ah(mn(mn({},o),{rotation:d})),w=Zn(0,0,0),x=(n=Za(l==null?void 0:l.getBorderColor()))!==null&&n!==void 0?n:w,T=Za(l==null?void 0:l.getBackgroundColor()),v=Za(l==null?void 0:l.getBackgroundColor(),.8),R=(i=a??s)!==null&&i!==void 0?i:w;Do(a?e:r.acroField,R);var M={x:f/2,y:g/2,width:f-u,height:g-u,borderWidth:u,borderColor:x,dotColor:R};return{normal:{on:zn(y,Pb(mn(mn({},M),{color:T,filled:!0}))),off:zn(y,Pb(mn(mn({},M),{color:T,filled:!1})))},down:{on:zn(y,Pb(mn(mn({},M),{color:v,filled:!0}))),off:zn(y,Pb(mn(mn({},M),{color:v,filled:!1})))}}},dY=function(r,e,t){var n,i,a,s,o,l=Lo(e),c=Lo(r.acroField),u=Qd(e),d=Qd(r.acroField),h=e.getRectangle(),f=e.getAppearanceCharacteristics(),g=e.getBorderStyle(),y=f==null?void 0:f.getCaptions(),w=(n=y==null?void 0:y.normal)!==null&&n!==void 0?n:"",x=(a=(i=y==null?void 0:y.down)!==null&&i!==void 0?i:w)!==null&&a!==void 0?a:"",T=(s=g==null?void 0:g.getWidth())!==null&&s!==void 0?s:0,v=Au(f==null?void 0:f.getRotation()),R=d0(h,v),M=R.width,B=R.height,L=ah(mn(mn({},h),{rotation:v})),z=Zn(0,0,0),H=Za(f==null?void 0:f.getBorderColor()),$=Za(f==null?void 0:f.getBackgroundColor()),U=Za(f==null?void 0:f.getBackgroundColor(),.8),D={x:T,y:T,width:M-T*2,height:B-T*2},ee=ux(w,{alignment:Di.Center,fontSize:u??d,font:t,bounds:D}),J=ux(x,{alignment:Di.Center,fontSize:u??d,font:t,bounds:D}),re=Math.min(ee.fontSize,J.fontSize),q=(o=l??c)!==null&&o!==void 0?o:z;Do(l||u!==void 0?e:r.acroField,q,t,re);var W={x:0+T/2,y:0+T/2,width:M-T,height:B-T,borderWidth:T,borderColor:H,textColor:q,font:t.name,fontSize:re};return{normal:zn(L,pC(mn(mn({},W),{color:$,textLines:[ee.line]}))),down:zn(L,pC(mn(mn({},W),{color:U,textLines:[J.line]})))}},hY=function(r,e,t){var n,i,a,s,o=Lo(e),l=Lo(r.acroField),c=Qd(e),u=Qd(r.acroField),d=e.getRectangle(),h=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),g=(n=r.getText())!==null&&n!==void 0?n:"",y=(i=f==null?void 0:f.getWidth())!==null&&i!==void 0?i:0,w=Au(h==null?void 0:h.getRotation()),x=d0(d,w),T=x.width,v=x.height,R=ah(mn(mn({},d),{rotation:w})),M=Zn(0,0,0),B=Za(h==null?void 0:h.getBorderColor()),L=Za(h==null?void 0:h.getBackgroundColor()),z,H,$=r.isCombed()?0:1,U={x:y+$,y:y+$,width:T-(y+$)*2,height:v-(y+$)*2};if(r.isMultiline()){var D=aM(g,{alignment:r.getAlignment(),fontSize:c??u,font:t,bounds:U});z=D.lines,H=D.fontSize}else if(r.isCombed()){var D=sY(g,{fontSize:c??u,font:t,bounds:U,cellCount:(a=r.getMaxLength())!==null&&a!==void 0?a:0});z=D.cells,H=D.fontSize}else{var D=ux(g,{alignment:r.getAlignment(),fontSize:c??u,font:t,bounds:U});z=[D.line],H=D.fontSize}var ee=(s=o??l)!==null&&s!==void 0?s:M;Do(o||c!==void 0?e:r.acroField,ee,t,H);var J={x:0+y/2,y:0+y/2,width:T-y,height:v-y,borderWidth:y??0,borderColor:B,textColor:ee,font:t.name,fontSize:H,color:L,textLines:z,padding:$};return zn(R,eM(J))},fY=function(r,e,t){var n,i,a,s=Lo(e),o=Lo(r.acroField),l=Qd(e),c=Qd(r.acroField),u=e.getRectangle(),d=e.getAppearanceCharacteristics(),h=e.getBorderStyle(),f=(n=r.getSelected()[0])!==null&&n!==void 0?n:"",g=(i=h==null?void 0:h.getWidth())!==null&&i!==void 0?i:0,y=Au(d==null?void 0:d.getRotation()),w=d0(u,y),x=w.width,T=w.height,v=ah(mn(mn({},u),{rotation:y})),R=Zn(0,0,0),M=Za(d==null?void 0:d.getBorderColor()),B=Za(d==null?void 0:d.getBackgroundColor()),L=1,z={x:g+L,y:g+L,width:x-(g+L)*2,height:T-(g+L)*2},H=ux(f,{alignment:Di.Left,fontSize:l??c,font:t,bounds:z}),$=H.line,U=H.fontSize,D=(a=s??o)!==null&&a!==void 0?a:R;Do(s||l!==void 0?e:r.acroField,D,t,U);var ee={x:0+g/2,y:0+g/2,width:x-g,height:T-g,borderWidth:g??0,borderColor:M,textColor:D,font:t.name,fontSize:U,color:B,textLines:[$],padding:L};return zn(v,eM(ee))},pY=function(r,e,t){var n,i,a=Lo(e),s=Lo(r.acroField),o=Qd(e),l=Qd(r.acroField),c=e.getRectangle(),u=e.getAppearanceCharacteristics(),d=e.getBorderStyle(),h=(n=d==null?void 0:d.getWidth())!==null&&n!==void 0?n:0,f=Au(u==null?void 0:u.getRotation()),g=d0(c,f),y=g.width,w=g.height,x=ah(mn(mn({},c),{rotation:f})),T=Zn(0,0,0),v=Za(u==null?void 0:u.getBorderColor()),R=Za(u==null?void 0:u.getBackgroundColor()),M=r.getOptions(),B=r.getSelected();r.isSorted()&&M.sort();for(var L="",z=0,H=M.length;z<H;z++)L+=M[z],z<H-1&&(L+=`
`);for(var $=1,U={x:h+$,y:h+$,width:y-(h+$)*2,height:w-(h+$)*2},D=aM(L,{alignment:Di.Left,fontSize:o??l,font:t,bounds:U}),ee=D.lines,J=D.fontSize,re=D.lineHeight,q=[],z=0,H=ee.length;z<H;z++){var W=ee[z];B.includes(W.text)&&q.push(z)}var le=Zn(153/255,193/255,218/255),ue=(i=a??s)!==null&&i!==void 0?i:T;return Do(a||o!==void 0?e:r.acroField,ue,t,J),zn(x,WK({x:0+h/2,y:0+h/2,width:y-h,height:w-h,borderWidth:h??0,borderColor:v,textColor:ue,font:t.name,fontSize:J,color:R,textLines:ee,lineHeight:re,selectedColor:le,selectedLines:q,padding:$}))},sM=(function(){function r(e,t,n){this.alreadyEmbedded=!1,ot(e,"ref",[[ir,"PDFRef"]]),ot(t,"doc",[[eo,"PDFDocument"]]),ot(n,"embedder",[[II,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return r.prototype.scale=function(e){return ot(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return kn(this,void 0,void 0,function(){return En(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},r.of=function(e,t,n){return new r(e,t,n)},r})(),$s=(function(){function r(e,t,n){this.modified=!0,ot(e,"ref",[[ir,"PDFRef"]]),ot(t,"doc",[[eo,"PDFDocument"]]),ot(n,"embedder",[[yS,"CustomFontEmbedder"],[nx,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=n.fontName,this.embedder=n}return r.prototype.encodeText=function(e){return ot(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},r.prototype.widthOfTextAtSize=function(e,t){return ot(e,"text",["string"]),ot(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},r.prototype.heightAtSize=function(e,t){var n;return ot(e,"size",["number"]),Lt(t==null?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(n=t==null?void 0:t.descender)!==null&&n!==void 0?n:!0})},r.prototype.sizeAtHeight=function(e){return ot(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},r.prototype.getCharacterSet=function(){return this.embedder instanceof nx?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},r.prototype.embed=function(){return kn(this,void 0,void 0,function(){return En(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},r.of=function(e,t,n){return new r(e,t,n)},r})(),F4=(function(){function r(e,t,n){ot(e,"ref",[[ir,"PDFRef"]]),ot(t,"doc",[[eo,"PDFDocument"]]),ot(n,"embedder",[[_I,"JpegEmbedder"],[TI,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return r.prototype.scale=function(e){return ot(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},r.prototype.scaleToFit=function(e,t){ot(e,"width",["number"]),ot(t,"height",["number"]);var n=e/this.width,i=t/this.height,a=Math.min(n,i);return this.scale(a)},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return kn(this,void 0,void 0,function(){var e,t,n;return En(this,function(i){switch(i.label){case 0:return this.embedder?(this.embedTask||(e=this,t=e.doc,n=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,n)),[4,this.embedTask]):[2];case 1:return i.sent(),this.embedder=void 0,[2]}})})},r.of=function(e,t,n){return new r(e,t,n)},r})(),Gd;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(Gd||(Gd={}));var K1=function(r){Lt(r==null?void 0:r.x,"options.x",["number"]),Lt(r==null?void 0:r.y,"options.y",["number"]),Lt(r==null?void 0:r.width,"options.width",["number"]),Lt(r==null?void 0:r.height,"options.height",["number"]),Lt(r==null?void 0:r.textColor,"options.textColor",[[Object,"Color"]]),Lt(r==null?void 0:r.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Lt(r==null?void 0:r.borderColor,"options.borderColor",[[Object,"Color"]]),Lt(r==null?void 0:r.borderWidth,"options.borderWidth",["number"]),Lt(r==null?void 0:r.rotate,"options.rotate",[[Object,"Rotation"]])},p0=(function(){function r(e,t,n){ot(e,"acroField",[[G1,"PDFAcroTerminal"]]),ot(t,"ref",[[ir,"PDFRef"]]),ot(n,"doc",[[eo,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=n}return r.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},r.prototype.isReadOnly=function(){return this.acroField.hasFlag(Zo.ReadOnly)},r.prototype.enableReadOnly=function(){this.acroField.setFlagTo(Zo.ReadOnly,!0)},r.prototype.disableReadOnly=function(){this.acroField.setFlagTo(Zo.ReadOnly,!1)},r.prototype.isRequired=function(){return this.acroField.hasFlag(Zo.Required)},r.prototype.enableRequired=function(){this.acroField.setFlagTo(Zo.Required,!0)},r.prototype.disableRequired=function(){this.acroField.setFlagTo(Zo.Required,!1)},r.prototype.isExported=function(){return!this.acroField.hasFlag(Zo.NoExport)},r.prototype.enableExporting=function(){this.acroField.setFlagTo(Zo.NoExport,!1)},r.prototype.disableExporting=function(){this.acroField.setFlagTo(Zo.NoExport,!0)},r.prototype.needsAppearancesUpdate=function(){throw new No(this.constructor.name,"needsAppearancesUpdate")},r.prototype.defaultUpdateAppearances=function(e){throw new No(this.constructor.name,"defaultUpdateAppearances")},r.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},r.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},r.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},r.prototype.createWidget=function(e){var t,n=e.textColor,i=e.backgroundColor,a=e.borderColor,s=e.borderWidth,o=HI(e.rotate),l=e.caption,c=e.x,u=e.y,d=e.width+s,h=e.height+s,f=!!e.hidden,g=e.page;cI(o,"degreesAngle",90);var y=I4.create(this.doc.context,this.ref),w=AK({x:c,y:u,width:d,height:h},s,o);y.setRectangle(w),g&&y.setP(g);var x=y.getOrCreateAppearanceCharacteristics();i&&x.setBackgroundColor(uC(i)),x.setRotation(o),l&&x.setCaptions({normal:l}),a&&x.setBorderColor(uC(a));var T=y.getOrCreateBorderStyle();if(s!==void 0&&T.setWidth(s),y.setFlagTo(pg.Print,!0),y.setFlagTo(pg.Hidden,f),y.setFlagTo(pg.Invisible,!1),n){var v=(t=this.acroField.getDefaultAppearance())!==null&&t!==void 0?t:"",R=v+`
`+f0(n).toString();this.acroField.setDefaultAppearance(R)}return y},r.prototype.updateWidgetAppearanceWithFont=function(e,t,n){var i=n.normal,a=n.rollover,s=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,i,t),rollover:a&&this.createAppearanceStream(e,a,t),down:s&&this.createAppearanceStream(e,s,t)})},r.prototype.updateOnOffWidgetAppearance=function(e,t,n){var i=n.normal,a=n.rollover,s=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,i,t),rollover:a&&this.createAppearanceDict(e,a,t),down:s&&this.createAppearanceDict(e,s,t)})},r.prototype.updateWidgetAppearances=function(e,t){var n=t.normal,i=t.rollover,a=t.down;e.setNormalAppearance(n),i?e.setRolloverAppearance(i):e.removeRolloverAppearance(),a?e.setDownAppearance(a):e.removeDownAppearance()},r.prototype.createAppearanceStream=function(e,t,n){var i,a=this.acroField.dict.context,s=e.getRectangle(),o=s.width,l=s.height,c=n&&{Font:(i={},i[n.name]=n.ref,i)},u=a.formXObject(t,{Resources:c,BBox:a.obj([0,0,o,l]),Matrix:a.obj([1,0,0,1,0,0])}),d=a.register(u);return d},r.prototype.createImageAppearanceStream=function(e,t,n){var i,a,s=this.acroField.dict.context,o=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),u=(a=c==null?void 0:c.getWidth())!==null&&a!==void 0?a:0,d=Au(l==null?void 0:l.getRotation()),h=ah(mn(mn({},o),{rotation:d})),f=d0(o,d),g=t.scaleToFit(f.width-u*2,f.height-u*2),y={x:u,y:u,width:g.width,height:g.height,rotate:ln(0),xSkew:ln(0),ySkew:ln(0)};n===Gd.Center?(y.x+=(f.width-u*2)/2-g.width/2,y.y+=(f.height-u*2)/2-g.height/2):n===Gd.Right&&(y.x=f.width-u-g.width,y.y=f.height-u-g.height);var w=this.doc.context.addRandomSuffix("Image",10),x=zn(h,$I(w,y)),T={XObject:(i={},i[w]=t.ref,i)},v=s.formXObject(x,{Resources:T,BBox:s.obj([0,0,o.width,o.height]),Matrix:s.obj([1,0,0,1,0,0])});return s.register(v)},r.prototype.createAppearanceDict=function(e,t,n){var i=this.acroField.dict.context,a=this.createAppearanceStream(e,t.on),s=this.createAppearanceStream(e,t.off),o=i.obj({});return o.set(n,a),o.set(Me.of("Off"),s),o},r})(),ag=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroCheckBox",[[Zx,"PDFAcroCheckBox"]]),a.acroField=t,a}return e.prototype.check=function(){var t,n=(t=this.acroField.getOnValue())!==null&&t!==void 0?t:Me.of("Yes");this.markAsDirty(),this.acroField.setValue(n)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(Me.of("Off"))},e.prototype.isChecked=function(){var t=this.acroField.getOnValue();return!!t&&t===this.acroField.getValue()},e.prototype.addToPage=function(t,n){var i,a,s,o,l,c;ot(t,"page",[[Co,"PDFPage"]]),K1(n),n||(n={}),"textColor"in n||(n.textColor=Zn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Zn(1,1,1)),"borderColor"in n||(n.borderColor=Zn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var u=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(s=n.width)!==null&&s!==void 0?s:50,height:(o=n.height)!==null&&o!==void 0?o:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:ln(0),hidden:n.hidden,page:t.ref}),d=this.doc.context.register(u.dict);this.acroField.addWidget(d),u.setAppearanceState(Me.of("Off")),this.updateWidgetAppearance(u,Me.of("Yes")),t.node.addAnnot(d)},e.prototype.needsAppearancesUpdate=function(){for(var t,n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=s.getAppearanceState(),l=(t=s.getAppearances())===null||t===void 0?void 0:t.normal;if(!(l instanceof yn)||o&&!l.has(o))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){var n;Lt(t,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a],l=(n=o.getOnValue())!==null&&n!==void 0?n:Me.of("Yes");l&&this.updateWidgetAppearance(o,l,t)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,n,i){var a=i??cY,s=X1(a(this,t));this.updateOnOffWidgetAppearance(t,n,s)},e.of=function(t,n,i){return new e(t,n,i)},e})(p0),Cy=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroComboBox",[[Jx,"PDFAcroComboBox"]]),a.acroField=t,a}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),n=new Array(t.length),i=0,a=n.length;i<a;i++){var s=t[i],o=s.display,l=s.value;n[i]=(o??l).decodeText()}return n},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=t[i].decodeText();return n},e.prototype.setOptions=function(t){ot(t,"options",[Array]);for(var n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]={value:on.fromText(t[i])};this.acroField.setOptions(n)},e.prototype.addOptions=function(t){ot(t,"options",["string",Array]);for(var n=Array.isArray(t)?t:[t],i=this.acroField.getOptions(),a=new Array(n.length),s=0,o=n.length;s<o;s++)a[s]={value:on.fromText(n[s])};this.acroField.setOptions(i.concat(a))},e.prototype.select=function(t,n){n===void 0&&(n=!1),ot(t,"options",["string",Array]),ot(n,"merge",["boolean"]);var i=Array.isArray(t)?t:[t],a=this.getOptions(),s=i.find(function(d){return!a.includes(d)});s&&this.enableEditing(),this.markAsDirty(),(i.length>1||i.length===1&&n)&&this.enableMultiselect();for(var o=new Array(i.length),l=0,c=i.length;l<c;l++)o[l]=on.fromText(i[l]);if(n){var u=this.acroField.getValues();this.acroField.setValues(u.concat(o))}else this.acroField.setValues(o)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){Kx(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(nr.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(nr.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(nr.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(nr.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(nr.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(nr.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(nr.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(nr.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(nr.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(nr.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(nr.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(nr.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(nr.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(nr.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(nr.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,n){var i,a,s,o,l,c,u;ot(t,"page",[[Co,"PDFPage"]]),K1(n),n||(n={}),"textColor"in n||(n.textColor=Zn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Zn(1,1,1)),"borderColor"in n||(n.borderColor=Zn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var d=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(s=n.width)!==null&&s!==void 0?s:200,height:(o=n.height)!==null&&o!==void 0?o:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:ln(0),hidden:n.hidden,page:t.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h);var f=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,f),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=((t=s.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Zs;if(!o)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){ot(t,"font",[[$s,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,n){ot(t,"font",[[$s,"PDFFont"]]),Lt(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a];this.updateWidgetAppearance(o,t,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,n,i){var a=i??fY,s=X1(a(this,t,n));this.updateWidgetAppearanceWithFont(t,n,s)},e.of=function(t,n,i){return new e(t,n,i)},e})(p0),Ty=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroListBox",[[t5,"PDFAcroListBox"]]),a.acroField=t,a}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),n=new Array(t.length),i=0,a=n.length;i<a;i++){var s=t[i],o=s.display,l=s.value;n[i]=(o??l).decodeText()}return n},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=t[i].decodeText();return n},e.prototype.setOptions=function(t){ot(t,"options",[Array]),this.markAsDirty();for(var n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]={value:on.fromText(t[i])};this.acroField.setOptions(n)},e.prototype.addOptions=function(t){ot(t,"options",["string",Array]),this.markAsDirty();for(var n=Array.isArray(t)?t:[t],i=this.acroField.getOptions(),a=new Array(n.length),s=0,o=n.length;s<o;s++)a[s]={value:on.fromText(n[s])};this.acroField.setOptions(i.concat(a))},e.prototype.select=function(t,n){n===void 0&&(n=!1),ot(t,"options",["string",Array]),ot(n,"merge",["boolean"]);var i=Array.isArray(t)?t:[t],a=this.getOptions();GW(i,"option",a),this.markAsDirty(),(i.length>1||i.length===1&&n)&&this.enableMultiselect();for(var s=new Array(i.length),o=0,l=i.length;o<l;o++)s[o]=on.fromText(i[o]);if(n){var c=this.acroField.getValues();this.acroField.setValues(c.concat(s))}else this.acroField.setValues(s)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){Kx(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(nr.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(nr.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(nr.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(nr.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(nr.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(nr.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(nr.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(nr.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(nr.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,n){var i,a,s,o,l,c,u;ot(t,"page",[[Co,"PDFPage"]]),K1(n),n||(n={}),"textColor"in n||(n.textColor=Zn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Zn(1,1,1)),"borderColor"in n||(n.borderColor=Zn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var d=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(s=n.width)!==null&&s!==void 0?s:200,height:(o=n.height)!==null&&o!==void 0?o:100,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:ln(0),hidden:n.hidden,page:t.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h);var f=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,f),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=((t=s.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Zs;if(!o)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){ot(t,"font",[[$s,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,n){ot(t,"font",[[$s,"PDFFont"]]),Lt(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a];this.updateWidgetAppearance(o,t,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,n,i){var a=i??pY,s=X1(a(this,t,n));this.updateWidgetAppearanceWithFont(t,n,s)},e.of=function(t,n,i){return new e(t,n,i)},e})(p0),sg=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroRadioButton",[[e5,"PDFAcroRadioButton"]]),a.acroField=t,a}return e.prototype.getOptions=function(){var t=this.acroField.getExportValues();if(t){for(var n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=t[i].decodeText();return n}for(var s=this.acroField.getOnValues(),o=new Array(s.length),i=0,a=o.length;i<a;i++)o[i]=s[i].decodeText();return o},e.prototype.getSelected=function(){var t=this.acroField.getValue();if(t!==Me.of("Off")){var n=this.acroField.getExportValues();if(n){for(var i=this.acroField.getOnValues(),a=0,s=i.length;a<s;a++)if(i[a]===t)return n[a].decodeText()}return t.decodeText()}},e.prototype.select=function(t){ot(t,"option",["string"]);var n=this.getOptions();Hd(t,"option",n),this.markAsDirty();var i=this.acroField.getOnValues(),a=this.acroField.getExportValues();if(a)for(var s=0,o=a.length;s<o;s++)a[s].decodeText()===t&&this.acroField.setValue(i[s]);else for(var s=0,o=i.length;s<o;s++){var l=i[s];l.decodeText()===t&&this.acroField.setValue(l)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(Me.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Eo.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Eo.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Eo.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Eo.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Eo.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Eo.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(t,n,i){var a,s,o,l,c,u,d,h,f;ot(t,"option",["string"]),ot(n,"page",[[Co,"PDFPage"]]),K1(i);var g=this.createWidget({x:(a=i==null?void 0:i.x)!==null&&a!==void 0?a:0,y:(s=i==null?void 0:i.y)!==null&&s!==void 0?s:0,width:(o=i==null?void 0:i.width)!==null&&o!==void 0?o:50,height:(l=i==null?void 0:i.height)!==null&&l!==void 0?l:50,textColor:(c=i==null?void 0:i.textColor)!==null&&c!==void 0?c:Zn(0,0,0),backgroundColor:(u=i==null?void 0:i.backgroundColor)!==null&&u!==void 0?u:Zn(1,1,1),borderColor:(d=i==null?void 0:i.borderColor)!==null&&d!==void 0?d:Zn(0,0,0),borderWidth:(h=i==null?void 0:i.borderWidth)!==null&&h!==void 0?h:1,rotate:(f=i==null?void 0:i.rotate)!==null&&f!==void 0?f:ln(0),hidden:i==null?void 0:i.hidden,page:n.ref}),y=this.doc.context.register(g.dict),w=this.acroField.addWidgetWithOpt(y,on.fromText(t),!this.isMutuallyExclusive());g.setAppearanceState(Me.of("Off")),this.updateWidgetAppearance(g,w),n.node.addAnnot(y)},e.prototype.needsAppearancesUpdate=function(){for(var t,n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=s.getAppearanceState(),l=(t=s.getAppearances())===null||t===void 0?void 0:t.normal;if(!(l instanceof yn)||o&&!l.has(o))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){Lt(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=s.getOnValue();o&&this.updateWidgetAppearance(s,o,t)}},e.prototype.updateWidgetAppearance=function(t,n,i){var a=i??uY,s=X1(a(this,t));this.updateOnOffWidgetAppearance(t,n,s)},e.of=function(t,n,i){return new e(t,n,i)},e})(p0),L4=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroSignature",[[_S,"PDFAcroSignature"]]),a.acroField=t,a}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(t,n,i){return new e(t,n,i)},e})(p0),Ny=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroText",[[Qx,"PDFAcroText"]]),a.acroField=t,a}return e.prototype.getText=function(){var t=this.acroField.getValue();if(!t&&this.isRichFormatted())throw new $K(this.getName());return t==null?void 0:t.decodeText()},e.prototype.setText=function(t){Lt(t,"text",["string"]);var n=this.getMaxLength();if(n!==void 0&&t&&t.length>n)throw new tY(t.length,n,this.getName());this.markAsDirty(),this.disableRichFormatting(),t?this.acroField.setValue(on.fromText(t)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var t=this.acroField.getQuadding();return t===0?Di.Left:t===1?Di.Center:t===2?Di.Right:Di.Left},e.prototype.setAlignment=function(t){Hd(t,"alignment",Di),this.markAsDirty(),this.acroField.setQuadding(t)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(t){if(Yo(t,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),t===void 0)this.acroField.removeMaxLength();else{var n=this.getText();if(n&&n.length>t)throw new nY(n.length,t,this.getName());this.acroField.setMaxLength(t)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(t){for(var n=this.getAlignment(),i=n===Di.Center?Gd.Center:n===Di.Right?Gd.Right:Gd.Left,a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],c=this.createImageAppearanceStream(l,t,i);this.updateWidgetAppearances(l,{normal:c})}this.markAsClean()},e.prototype.setFontSize=function(t){Kx(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(Wr.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Wr.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Wr.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(Wr.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(Wr.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(Wr.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(Wr.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(Wr.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(Wr.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Wr.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Wr.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Wr.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(Wr.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(Wr.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(Wr.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(Wr.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var t="PDFTextFields must have a max length in order to be combed";console.warn(t)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(Wr.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(Wr.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(Wr.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(Wr.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(Wr.RichText,!1)},e.prototype.addToPage=function(t,n){var i,a,s,o,l,c,u;ot(t,"page",[[Co,"PDFPage"]]),K1(n),n||(n={}),"textColor"in n||(n.textColor=Zn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Zn(1,1,1)),"borderColor"in n||(n.borderColor=Zn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var d=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(s=n.width)!==null&&s!==void 0?s:200,height:(o=n.height)!==null&&o!==void 0?o:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:ln(0),hidden:n.hidden,page:t.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h);var f=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,f),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=((t=s.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Zs;if(!o)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){ot(t,"font",[[$s,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,n){ot(t,"font",[[$s,"PDFFont"]]),Lt(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a];this.updateWidgetAppearance(o,t,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,n,i){var a=i??hY,s=X1(a(this,t,n));this.updateWidgetAppearanceWithFont(t,n,s)},e.of=function(t,n,i){return new e(t,n,i)},e})(p0),ua;(function(r){r.Courier="Courier",r.CourierBold="Courier-Bold",r.CourierOblique="Courier-Oblique",r.CourierBoldOblique="Courier-BoldOblique",r.Helvetica="Helvetica",r.HelveticaBold="Helvetica-Bold",r.HelveticaOblique="Helvetica-Oblique",r.HelveticaBoldOblique="Helvetica-BoldOblique",r.TimesRoman="Times-Roman",r.TimesRomanBold="Times-Bold",r.TimesRomanItalic="Times-Italic",r.TimesRomanBoldItalic="Times-BoldItalic",r.Symbol="Symbol",r.ZapfDingbats="ZapfDingbats"})(ua||(ua={}));var mY=(function(){function r(e,t){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(ua.Helvetica)},ot(e,"acroForm",[[ax,"PDFAcroForm"]]),ot(t,"doc",[[eo,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=fu.populatedBy(this.embedDefaultFont)}return r.prototype.hasXFA=function(){return this.acroForm.dict.has(Me.of("XFA"))},r.prototype.deleteXFA=function(){this.acroForm.dict.delete(Me.of("XFA"))},r.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],n=0,i=e.length;n<i;n++){var a=e[n],s=a[0],o=a[1],l=gY(s,o,this.doc);l&&t.push(l)}return t},r.prototype.getFieldMaybe=function(e){ot(e,"name",["string"]);for(var t=this.getFields(),n=0,i=t.length;n<i;n++){var a=t[n];if(a.getName()===e)return a}},r.prototype.getField=function(e){ot(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new JK(e)},r.prototype.getButton=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ry)return t;throw new kh(e,Ry,t)},r.prototype.getCheckBox=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof ag)return t;throw new kh(e,ag,t)},r.prototype.getDropdown=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof Cy)return t;throw new kh(e,Cy,t)},r.prototype.getOptionList=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ty)return t;throw new kh(e,Ty,t)},r.prototype.getRadioGroup=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof sg)return t;throw new kh(e,sg,t)},r.prototype.getSignature=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof L4)return t;throw new kh(e,L4,t)},r.prototype.getTextField=function(e){ot(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ny)return t;throw new kh(e,Ny,t)},r.prototype.createButton=function(e){ot(e,"name",["string"]);var t=L0(e),n=this.findOrCreateNonTerminals(t.nonTerminal),i=$x.create(this.doc.context);return i.setPartialName(t.terminal),D0(n,[i,i.ref],t.terminal),Ry.of(i,i.ref,this.doc)},r.prototype.createCheckBox=function(e){ot(e,"name",["string"]);var t=L0(e),n=this.findOrCreateNonTerminals(t.nonTerminal),i=Zx.create(this.doc.context);return i.setPartialName(t.terminal),D0(n,[i,i.ref],t.terminal),ag.of(i,i.ref,this.doc)},r.prototype.createDropdown=function(e){ot(e,"name",["string"]);var t=L0(e),n=this.findOrCreateNonTerminals(t.nonTerminal),i=Jx.create(this.doc.context);return i.setPartialName(t.terminal),D0(n,[i,i.ref],t.terminal),Cy.of(i,i.ref,this.doc)},r.prototype.createOptionList=function(e){ot(e,"name",["string"]);var t=L0(e),n=this.findOrCreateNonTerminals(t.nonTerminal),i=t5.create(this.doc.context);return i.setPartialName(t.terminal),D0(n,[i,i.ref],t.terminal),Ty.of(i,i.ref,this.doc)},r.prototype.createRadioGroup=function(e){ot(e,"name",["string"]);var t=L0(e),n=this.findOrCreateNonTerminals(t.nonTerminal),i=e5.create(this.doc.context);return i.setPartialName(t.terminal),D0(n,[i,i.ref],t.terminal),sg.of(i,i.ref,this.doc)},r.prototype.createTextField=function(e){ot(e,"name",["string"]);var t=L0(e),n=this.findOrCreateNonTerminals(t.nonTerminal),i=Qx.create(this.doc.context);return i.setPartialName(t.terminal),D0(n,[i,i.ref],t.terminal),Ny.of(i,i.ref,this.doc)},r.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),n=0,i=t.length;n<i;n++){for(var a=t[n],s=a.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var c=s[o],u=this.findWidgetPage(c),d=this.findWidgetAppearanceRef(a,c),h=u.node.newXObject("FlatWidget",d),f=c.getRectangle(),g=zn([Oi(),Ro(f.x,f.y)],ah(mn(mn({},f),{rotation:0})),[RS(h),ji()]).filter(Boolean);u.pushOperators.apply(u,g)}this.removeField(a)}},r.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),n=new Set,i=0,a=t.length;i<a;i++){var s=t[i],o=this.findWidgetAppearanceRef(e,s),l=this.findWidgetPage(s);n.add(l),l.node.removeAnnot(o)}n.forEach(function(f){return f.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var c=e.acroField.normalizedEntries().Kids,u=c.size(),d=0;d<u;d++){var h=c.get(d);h instanceof ir&&this.doc.context.delete(h)}this.doc.context.delete(e.ref)},r.prototype.updateFieldAppearances=function(e){Lt(e,"font",[[$s,"PDFFont"]]),e=e??this.getDefaultFont();for(var t=this.getFields(),n=0,i=t.length;n<i;n++){var a=t[n];a.needsAppearancesUpdate()&&a.defaultUpdateAppearances(e)}},r.prototype.markFieldAsDirty=function(e){Lt(e,"fieldRef",[[ir,"PDFRef"]]),this.dirtyFields.add(e)},r.prototype.markFieldAsClean=function(e){Lt(e,"fieldRef",[[ir,"PDFRef"]]),this.dirtyFields.delete(e)},r.prototype.fieldIsDirty=function(e){return Lt(e,"fieldRef",[[ir,"PDFRef"]]),this.dirtyFields.has(e)},r.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},r.prototype.findWidgetPage=function(e){var t=e.P(),n=this.doc.getPages().find(function(a){return a.ref===t});if(n===void 0){var i=this.doc.context.getObjectRef(e.dict);if(i===void 0)throw new Error("Could not find PDFRef for PDFObject");if(n=this.doc.findPageForAnnotationRef(i),n===void 0)throw new Error("Could not find page for PDFRef "+i)}return n},r.prototype.findWidgetAppearanceRef=function(e,t){var n,i=t.getNormalAppearance();if(i instanceof yn&&(e instanceof ag||e instanceof sg)){var a=e.acroField.getValue(),s=(n=i.get(a))!==null&&n!==void 0?n:i.get(Me.of("Off"));s instanceof ir&&(i=s)}if(!(i instanceof ir)){var o=e.getName();throw new Error("Failed to extract appearance ref for: "+o)}return i},r.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],n=0,i=e.length;n<i;n++){var a=e[n];if(!a)throw new QK(a);var s=t[0],o=t[1],l=this.findNonTerminal(a,s);if(l)t=l;else{var c=ix.create(this.doc.context);c.setPartialName(a),c.setParent(o);var u=this.doc.context.register(c.dict);s.addField(u),t=[c,u]}}return t},r.prototype.findNonTerminal=function(e,t){for(var n=t instanceof ax?this.acroForm.getFields():SS(t.Kids()),i=0,a=n.length;i<a;i++){var s=n[i],o=s[0],l=s[1];if(o.getPartialName()===e){if(o instanceof ix)return[o,l];throw new tM(e)}}},r.of=function(e,t){return new r(e,t)},r})(),gY=function(r,e,t){if(r instanceof $x)return Ry.of(r,e,t);if(r instanceof Zx)return ag.of(r,e,t);if(r instanceof Jx)return Cy.of(r,e,t);if(r instanceof t5)return Ty.of(r,e,t);if(r instanceof Qx)return Ny.of(r,e,t);if(r instanceof e5)return sg.of(r,e,t);if(r instanceof _S)return L4.of(r,e,t)},L0=function(r){if(r.length===0)throw new Error("PDF field names must not be empty strings");for(var e=r.split("."),t=0,n=e.length;t<n;t++)if(e[t]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+r+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},D0=function(r,e,t){for(var n=r[0],i=r[1],a=e[0],s=e[1],o=n.normalizedEntries(),l=SS("Kids"in o?o.Kids:o.Fields),c=0,u=l.length;c<u;c++)if(l[c][0].getPartialName()===t)throw new tM(t);n.addField(s),a.setParent(i)},vY={A4:[595.28,841.89]},D4;(function(r){r[r.Fastest=1/0]="Fastest",r[r.Fast=1500]="Fast",r[r.Medium=500]="Medium",r[r.Slow=100]="Slow"})(D4||(D4={}));var bY=(function(){function r(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return r.prototype.embed=function(){return kn(this,void 0,void 0,function(){var e,t,n,i,a;return En(this,function(s){switch(s.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=s.sent(),this.doc.catalog.has(Me.of("Names"))||this.doc.catalog.set(Me.of("Names"),this.doc.context.obj({})),t=this.doc.catalog.lookup(Me.of("Names"),yn),t.has(Me.of("EmbeddedFiles"))||t.set(Me.of("EmbeddedFiles"),this.doc.context.obj({})),n=t.lookup(Me.of("EmbeddedFiles"),yn),n.has(Me.of("Names"))||n.set(Me.of("Names"),this.doc.context.obj([])),i=n.lookup(Me.of("Names"),Yn),i.push(on.fromText(this.embedder.fileName)),i.push(e),this.doc.catalog.has(Me.of("AF"))||this.doc.catalog.set(Me.of("AF"),this.doc.context.obj([])),a=this.doc.catalog.lookup(Me.of("AF"),Yn),a.push(e),this.alreadyEmbedded=!0,s.label=2;case 2:return[2]}})})},r.of=function(e,t,n){return new r(e,t,n)},r})(),yY=(function(){function r(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return r.prototype.embed=function(){return kn(this,void 0,void 0,function(){var e,t,n,i,a,s,o;return En(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,n=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:i=l.sent(),t.has(Me.of("Names"))||t.set(Me.of("Names"),n.obj({})),a=t.lookup(Me.of("Names"),yn),a.has(Me.of("JavaScript"))||a.set(Me.of("JavaScript"),n.obj({})),s=a.lookup(Me.of("JavaScript"),yn),s.has(Me.of("Names"))||s.set(Me.of("Names"),n.obj([])),o=s.lookup(Me.of("Names"),Yn),o.push(on.fromText(this.embedder.scriptName)),o.push(i),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},r.of=function(e,t,n){return new r(e,t,n)},r})(),xY=(function(){function r(e,t){this.script=e,this.scriptName=t}return r.for=function(e,t){return new r(e,t)},r.prototype.embedIntoContext=function(e,t){return kn(this,void 0,void 0,function(){var n;return En(this,function(i){return n=e.obj({Type:"Action",S:"JavaScript",JS:on.fromText(this.script)}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]})})},r})(),eo=(function(){function r(e,t,n){var i=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var a=[];return i.catalog.Pages().traverse(function(s,o){if(s instanceof pu){var l=i.pageMap.get(s);l||(l=Co.of(s,o,i),i.pageMap.set(s,l)),a.push(l)}}),a},this.getOrCreateForm=function(){var a=i.catalog.getOrCreateAcroForm();return mY.of(a,i)},ot(e,"context",[[N4,"PDFContext"]]),ot(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=fu.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=fu.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new XK;n&&this.updateInfoDict()}return r.load=function(e,t){return t===void 0&&(t={}),kn(this,void 0,void 0,function(){var n,i,a,s,o,l,c,u,d,h,f,g;return En(this,function(y){switch(y.label){case 0:return n=t.ignoreEncryption,i=n===void 0?!1:n,a=t.parseSpeed,s=a===void 0?D4.Slow:a,o=t.throwOnInvalidObject,l=o===void 0?!1:o,c=t.updateMetadata,u=c===void 0?!0:c,d=t.capNumbers,h=d===void 0?!1:d,ot(e,"pdf",["string",Uint8Array,ArrayBuffer]),ot(i,"ignoreEncryption",["boolean"]),ot(s,"parseSpeed",["number"]),ot(l,"throwOnInvalidObject",["boolean"]),f=Em(e),[4,_K.forBytesWithOptions(f,s,l,h).parseDocument()];case 1:return g=y.sent(),[2,new r(g,i,u)]}})})},r.create=function(e){return e===void 0&&(e={}),kn(this,void 0,void 0,function(){var t,n,i,a,s,o;return En(this,function(l){return t=e.updateMetadata,n=t===void 0?!0:t,i=N4.create(),a=BI.withContext(i),s=i.register(a),o=DI.withContextAndPages(i,s),i.trailerInfo.Root=i.register(o),[2,new r(i,!1,n)]})})},r.prototype.registerFontkit=function(e){this.fontkit=e},r.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},r.prototype.getTitle=function(){var e=this.getInfoDict().lookup(Me.Title);if(e)return Gu(e),e.decodeText()},r.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(Me.Author);if(e)return Gu(e),e.decodeText()},r.prototype.getSubject=function(){var e=this.getInfoDict().lookup(Me.Subject);if(e)return Gu(e),e.decodeText()},r.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(Me.Keywords);if(e)return Gu(e),e.decodeText()},r.prototype.getCreator=function(){var e=this.getInfoDict().lookup(Me.Creator);if(e)return Gu(e),e.decodeText()},r.prototype.getProducer=function(){var e=this.getInfoDict().lookup(Me.Producer);if(e)return Gu(e),e.decodeText()},r.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(Me.CreationDate);if(e)return Gu(e),e.decodeDate()},r.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(Me.ModDate);if(e)return Gu(e),e.decodeDate()},r.prototype.setTitle=function(e,t){ot(e,"title",["string"]);var n=Me.of("Title");if(this.getInfoDict().set(n,on.fromText(e)),t!=null&&t.showInWindowTitleBar){var i=this.catalog.getOrCreateViewerPreferences();i.setDisplayDocTitle(!0)}},r.prototype.setAuthor=function(e){ot(e,"author",["string"]);var t=Me.of("Author");this.getInfoDict().set(t,on.fromText(e))},r.prototype.setSubject=function(e){ot(e,"author",["string"]);var t=Me.of("Subject");this.getInfoDict().set(t,on.fromText(e))},r.prototype.setKeywords=function(e){ot(e,"keywords",[Array]);var t=Me.of("Keywords");this.getInfoDict().set(t,on.fromText(e.join(" ")))},r.prototype.setCreator=function(e){ot(e,"creator",["string"]);var t=Me.of("Creator");this.getInfoDict().set(t,on.fromText(e))},r.prototype.setProducer=function(e){ot(e,"creator",["string"]);var t=Me.of("Producer");this.getInfoDict().set(t,on.fromText(e))},r.prototype.setLanguage=function(e){ot(e,"language",["string"]);var t=Me.of("Lang");this.catalog.set(t,rr.of(e))},r.prototype.setCreationDate=function(e){ot(e,"creationDate",[[Date,"Date"]]);var t=Me.of("CreationDate");this.getInfoDict().set(t,rr.fromDate(e))},r.prototype.setModificationDate=function(e){ot(e,"modificationDate",[[Date,"Date"]]);var t=Me.of("ModDate");this.getInfoDict().set(t,rr.fromDate(e))},r.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},r.prototype.getPages=function(){return this.pageCache.access()},r.prototype.getPage=function(e){var t=this.getPages();return Ks(e,"index",0,t.length-1),t[e]},r.prototype.getPageIndices=function(){return tW(0,this.getPageCount())},r.prototype.removePage=function(e){var t=this.getPageCount();if(this.pageCount===0)throw new ZK;Ks(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},r.prototype.addPage=function(e){return ot(e,"page",["undefined",[Co,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},r.prototype.insertPage=function(e,t){var n=this.getPageCount();if(Ks(e,"index",0,n),ot(t,"page",["undefined",[Co,"PDFPage"],Array]),!t||Array.isArray(t)){var i=Array.isArray(t)?t:vY.A4;t=Co.create(this),t.setSize.apply(t,i)}else if(t.doc!==this)throw new YK;var a=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(a),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=n+1,t},r.prototype.copyPages=function(e,t){return kn(this,void 0,void 0,function(){var n,i,a,s,o,l,c,u;return En(this,function(d){switch(d.label){case 0:return ot(e,"srcDoc",[[r,"PDFDocument"]]),ot(t,"indices",[Array]),[4,e.flush()];case 1:for(d.sent(),n=BE.for(e.context,this.context),i=e.getPages(),a=new Array(t.length),s=0,o=t.length;s<o;s++)l=i[t[s]],c=n.copy(l.node),u=this.context.register(c),a[s]=Co.of(c,u,this);return[2,a]}})})},r.prototype.copy=function(){return kn(this,void 0,void 0,function(){var e,t,n,i;return En(this,function(a){switch(a.label){case 0:return[4,r.create()];case 1:return e=a.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(t=a.sent(),n=0,i=t.length;n<i;n++)e.addPage(t[n]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},r.prototype.addJavaScript=function(e,t){ot(e,"name",["string"]),ot(t,"script",["string"]);var n=xY.for(t,e),i=this.context.nextRef(),a=yY.of(i,this,n);this.javaScripts.push(a)},r.prototype.attach=function(e,t,n){return n===void 0&&(n={}),kn(this,void 0,void 0,function(){var i,a,s,o;return En(this,function(l){return ot(e,"attachment",["string",Uint8Array,ArrayBuffer]),ot(t,"name",["string"]),Lt(n.mimeType,"mimeType",["string"]),Lt(n.description,"description",["string"]),Lt(n.creationDate,"options.creationDate",[Date]),Lt(n.modificationDate,"options.modificationDate",[Date]),fo(n.afRelationship,"options.afRelationship",R4),i=Em(e),a=BX.for(i,t,n),s=this.context.nextRef(),o=bY.of(s,this,a),this.embeddedFiles.push(o),[2]})})},r.prototype.embedFont=function(e,t){return t===void 0&&(t={}),kn(this,void 0,void 0,function(){var n,i,a,s,o,l,c,u,d,h;return En(this,function(f){switch(f.label){case 0:return n=t.subset,i=n===void 0?!1:n,a=t.customName,s=t.features,ot(e,"font",["string",Uint8Array,ArrayBuffer]),ot(i,"subset",["boolean"]),hE(e)?(o=nx.for(e,a),[3,7]):[3,1];case 1:return rW(e)?(l=Em(e),c=this.assertFontkit(),i?[4,DX.for(c,l,a,s)]:[3,3]):[3,6];case 2:return u=f.sent(),[3,5];case 3:return[4,yS.for(c,l,a,s)];case 4:u=f.sent(),f.label=5;case 5:return o=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return d=this.context.nextRef(),h=$s.of(d,this,o),this.fonts.push(h),[2,h]}})})},r.prototype.embedStandardFont=function(e,t){if(ot(e,"font",["string"]),!hE(e))throw new TypeError("`font` must be one of type `StandardFonts`");var n=nx.for(e,t),i=this.context.nextRef(),a=$s.of(i,this,n);return this.fonts.push(a),a},r.prototype.embedJpg=function(e){return kn(this,void 0,void 0,function(){var t,n,i,a;return En(this,function(s){switch(s.label){case 0:return ot(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=Em(e),[4,_I.for(t)];case 1:return n=s.sent(),i=this.context.nextRef(),a=F4.of(i,this,n),this.images.push(a),[2,a]}})})},r.prototype.embedPng=function(e){return kn(this,void 0,void 0,function(){var t,n,i,a;return En(this,function(s){switch(s.label){case 0:return ot(e,"png",["string",Uint8Array,ArrayBuffer]),t=Em(e),[4,TI.for(t)];case 1:return n=s.sent(),i=this.context.nextRef(),a=F4.of(i,this,n),this.images.push(a),[2,a]}})})},r.prototype.embedPdf=function(e,t){return t===void 0&&(t=[0]),kn(this,void 0,void 0,function(){var n,i,a;return En(this,function(s){switch(s.label){case 0:return ot(e,"pdf",["string",Uint8Array,ArrayBuffer,[r,"PDFDocument"]]),ot(t,"indices",[Array]),e instanceof r?(i=e,[3,3]):[3,1];case 1:return[4,r.load(e)];case 2:i=s.sent(),s.label=3;case 3:return n=i,a=nW(n.getPages(),t),[2,this.embedPages(a)]}})})},r.prototype.embedPage=function(e,t,n){return kn(this,void 0,void 0,function(){var i;return En(this,function(a){switch(a.label){case 0:return ot(e,"page",[[Co,"PDFPage"]]),[4,this.embedPages([e],[t],[n])];case 1:return i=a.sent()[0],[2,i]}})})},r.prototype.embedPages=function(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=[]),kn(this,void 0,void 0,function(){var c,u,i,a,s,o,l,c,u,d,h,f,g,y,w;return En(this,function(x){switch(x.label){case 0:if(e.length===0)return[2,[]];for(c=0,u=e.length-1;c<u;c++)if(i=e[c],a=e[c+1],i.node.context!==a.node.context)throw new $W;s=e[0].node.context,o=s===this.context?function(T){return T}:BE.for(s,this.context).copy,l=new Array(e.length),c=0,u=e.length,x.label=1;case 1:return c<u?(d=o(e[c].node),h=t[c],f=n[c],[4,II.for(d,h,f)]):[3,4];case 2:g=x.sent(),y=this.context.nextRef(),l[c]=sM.of(y,this,g),x.label=3;case 3:return c++,[3,1];case 4:return(w=this.embeddedPages).push.apply(w,l),[2,l]}})})},r.prototype.flush=function(){return kn(this,void 0,void 0,function(){return En(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},r.prototype.save=function(e){return e===void 0&&(e={}),kn(this,void 0,void 0,function(){var t,n,i,a,s,o,l,c,u,d;return En(this,function(h){switch(h.label){case 0:return t=e.useObjectStreams,n=t===void 0?!0:t,i=e.addDefaultPage,a=i===void 0?!0:i,s=e.objectsPerTick,o=s===void 0?50:s,l=e.updateFieldAppearances,c=l===void 0?!0:l,ot(n,"useObjectStreams",["boolean"]),ot(a,"addDefaultPage",["boolean"]),ot(o,"objectsPerTick",["number"]),ot(c,"updateFieldAppearances",["boolean"]),a&&this.getPageCount()===0&&this.addPage(),c&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return h.sent(),d=n?RX:xI,[2,d.forContext(this.context,o).serializeToBuffer()]}})})},r.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),kn(this,void 0,void 0,function(){var t,n,i,a,s;return En(this,function(o){switch(o.label){case 0:return t=e.dataUri,n=t===void 0?!1:t,i=OG(e,["dataUri"]),ot(n,"dataUri",["boolean"]),[4,this.save(i)];case 1:return a=o.sent(),s=jG(a),[2,n?"data:application/pdf;base64,"+s:s]}})})},r.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),n=0,i=t.length;n<i;n++){var a=t[n],s=a.node.Annots();if((s==null?void 0:s.indexOf(e))!==void 0)return a}},r.prototype.embedAll=function(e){return kn(this,void 0,void 0,function(){var t,n;return En(this,function(i){switch(i.label){case 0:t=0,n=e.length,i.label=1;case 1:return t<n?[4,e[t].embed()]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},r.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,n=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),n.get(Me.of("Creator"))||this.setCreator(e),n.get(Me.of("CreationDate"))||this.setCreationDate(t)},r.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof yn)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},r.prototype.assertFontkit=function(){if(!this.fontkit)throw new KK;return this.fontkit},r})();function Gu(r){if(!(r instanceof on)&&!(r instanceof rr))throw new ex([on,rr],r)}var Cc;(function(r){r.Normal="Normal",r.Multiply="Multiply",r.Screen="Screen",r.Overlay="Overlay",r.Darken="Darken",r.Lighten="Lighten",r.ColorDodge="ColorDodge",r.ColorBurn="ColorBurn",r.HardLight="HardLight",r.SoftLight="SoftLight",r.Difference="Difference",r.Exclusion="Exclusion"})(Cc||(Cc={}));var Co=(function(){function r(e,t,n){this.fontSize=24,this.fontColor=Zn(0,0,0),this.lineHeight=24,this.x=0,this.y=0,ot(e,"leafNode",[[pu,"PDFPageLeaf"]]),ot(t,"ref",[[ir,"PDFRef"]]),ot(n,"doc",[[eo,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=n}return r.prototype.setRotation=function(e){var t=HI(e);cI(t,"degreesAngle",90),this.node.set(Me.of("Rotate"),this.doc.context.obj(t))},r.prototype.getRotation=function(){var e=this.node.Rotate();return ln(e?e.asNumber():0)},r.prototype.setSize=function(e,t){ot(e,"width",["number"]),ot(t,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,e,t);var i=this.getCropBox(),a=this.getBleedBox(),s=this.getTrimBox(),o=this.getArtBox(),l=this.node.CropBox(),c=this.node.BleedBox(),u=this.node.TrimBox(),d=this.node.ArtBox();l&&Eb(i,n)&&this.setCropBox(n.x,n.y,e,t),c&&Eb(a,n)&&this.setBleedBox(n.x,n.y,e,t),u&&Eb(s,n)&&this.setTrimBox(n.x,n.y,e,t),d&&Eb(o,n)&&this.setArtBox(n.x,n.y,e,t)},r.prototype.setWidth=function(e){ot(e,"width",["number"]),this.setSize(e,this.getSize().height)},r.prototype.setHeight=function(e){ot(e,"height",["number"]),this.setSize(this.getSize().width,e)},r.prototype.setMediaBox=function(e,t,n,i){ot(e,"x",["number"]),ot(t,"y",["number"]),ot(n,"width",["number"]),ot(i,"height",["number"]);var a=this.doc.context.obj([e,t,e+n,t+i]);this.node.set(Me.MediaBox,a)},r.prototype.setCropBox=function(e,t,n,i){ot(e,"x",["number"]),ot(t,"y",["number"]),ot(n,"width",["number"]),ot(i,"height",["number"]);var a=this.doc.context.obj([e,t,e+n,t+i]);this.node.set(Me.CropBox,a)},r.prototype.setBleedBox=function(e,t,n,i){ot(e,"x",["number"]),ot(t,"y",["number"]),ot(n,"width",["number"]),ot(i,"height",["number"]);var a=this.doc.context.obj([e,t,e+n,t+i]);this.node.set(Me.BleedBox,a)},r.prototype.setTrimBox=function(e,t,n,i){ot(e,"x",["number"]),ot(t,"y",["number"]),ot(n,"width",["number"]),ot(i,"height",["number"]);var a=this.doc.context.obj([e,t,e+n,t+i]);this.node.set(Me.TrimBox,a)},r.prototype.setArtBox=function(e,t,n,i){ot(e,"x",["number"]),ot(t,"y",["number"]),ot(n,"width",["number"]),ot(i,"height",["number"]);var a=this.doc.context.obj([e,t,e+n,t+i]);this.node.set(Me.ArtBox,a)},r.prototype.getSize=function(){var e=this.getMediaBox(),t=e.width,n=e.height;return{width:t,height:n}},r.prototype.getWidth=function(){return this.getSize().width},r.prototype.getHeight=function(){return this.getSize().height},r.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},r.prototype.getCropBox=function(){var e,t=this.node.CropBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},r.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.translateContent=function(e,t){ot(e,"x",["number"]),ot(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Oi(),Ro(e,t)),i=this.doc.context.register(n),a=this.createContentStream(ji()),s=this.doc.context.register(a);this.node.wrapContentStreams(i,s)},r.prototype.scale=function(e,t){ot(e,"x",["number"]),ot(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},r.prototype.scaleContent=function(e,t){ot(e,"x",["number"]),ot(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Oi(),Cg(e,t)),i=this.doc.context.register(n),a=this.createContentStream(ji()),s=this.doc.context.register(a);this.node.wrapContentStreams(i,s)},r.prototype.scaleAnnotations=function(e,t){ot(e,"x",["number"]),ot(t,"y",["number"]);var n=this.node.Annots();if(n)for(var i=0;i<n.size();i++){var a=n.lookup(i);a instanceof yn&&this.scaleAnnot(a,e,t)}},r.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},r.prototype.setFont=function(e){ot(e,"font",[[$s,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},r.prototype.setFontSize=function(e){ot(e,"fontSize",["number"]),this.fontSize=e},r.prototype.setFontColor=function(e){ot(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},r.prototype.setLineHeight=function(e){ot(e,"lineHeight",["number"]),this.lineHeight=e},r.prototype.getPosition=function(){return{x:this.x,y:this.y}},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.moveTo=function(e,t){ot(e,"x",["number"]),ot(t,"y",["number"]),this.x=e,this.y=t},r.prototype.moveDown=function(e){ot(e,"yDecrease",["number"]),this.y-=e},r.prototype.moveUp=function(e){ot(e,"yIncrease",["number"]),this.y+=e},r.prototype.moveLeft=function(e){ot(e,"xDecrease",["number"]),this.x-=e},r.prototype.moveRight=function(e){ot(e,"xIncrease",["number"]),this.x+=e},r.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];lI(e,"operator",[[jn,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,e)},r.prototype.drawText=function(e,t){var n,i,a,s,o,l,c;t===void 0&&(t={}),ot(e,"text",["string"]),Lt(t.color,"options.color",[[Object,"Color"]]),Yo(t.opacity,"opacity.opacity",0,1),Lt(t.font,"options.font",[[$s,"PDFFont"]]),Lt(t.size,"options.size",["number"]),Lt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Lt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Lt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Lt(t.x,"options.x",["number"]),Lt(t.y,"options.y",["number"]),Lt(t.lineHeight,"options.lineHeight",["number"]),Lt(t.maxWidth,"options.maxWidth",["number"]),Lt(t.wordBreaks,"options.wordBreaks",[Array]),fo(t.blendMode,"options.blendMode",Cc);for(var u=this.setOrEmbedFont(t.font),d=u.oldFont,h=u.newFont,f=u.newFontKey,g=t.size||this.fontSize,y=t.wordBreaks||this.doc.defaultWordBreaks,w=function(L){return h.widthOfTextAtSize(L,g)},x=t.maxWidth===void 0?G7(T2(e)):KG(e,y,t.maxWidth,w),T=new Array(x.length),v=0,R=x.length;v<R;v++)T[v]=h.encodeText(x[v]);var M=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),B=this.getContentStream();B.push.apply(B,jK(T,{color:(n=t.color)!==null&&n!==void 0?n:this.fontColor,font:f,size:g,rotate:(i=t.rotate)!==null&&i!==void 0?i:ln(0),xSkew:(a=t.xSkew)!==null&&a!==void 0?a:ln(0),ySkew:(s=t.ySkew)!==null&&s!==void 0?s:ln(0),x:(o=t.x)!==null&&o!==void 0?o:this.x,y:(l=t.y)!==null&&l!==void 0?l:this.y,lineHeight:(c=t.lineHeight)!==null&&c!==void 0?c:this.lineHeight,graphicsState:M})),t.font&&(d?this.setFont(d):this.resetFont())},r.prototype.drawImage=function(e,t){var n,i,a,s,o,l,c;t===void 0&&(t={}),ot(e,"image",[[F4,"PDFImage"]]),Lt(t.x,"options.x",["number"]),Lt(t.y,"options.y",["number"]),Lt(t.width,"options.width",["number"]),Lt(t.height,"options.height",["number"]),Lt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Lt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Lt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Yo(t.opacity,"opacity.opacity",0,1),fo(t.blendMode,"options.blendMode",Cc);var u=this.node.newXObject("Image",e.ref),d=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),h=this.getContentStream();h.push.apply(h,$I(u,{x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,width:(a=t.width)!==null&&a!==void 0?a:e.size().width,height:(s=t.height)!==null&&s!==void 0?s:e.size().height,rotate:(o=t.rotate)!==null&&o!==void 0?o:ln(0),xSkew:(l=t.xSkew)!==null&&l!==void 0?l:ln(0),ySkew:(c=t.ySkew)!==null&&c!==void 0?c:ln(0),graphicsState:d}))},r.prototype.drawPage=function(e,t){var n,i,a,s,o;t===void 0&&(t={}),ot(e,"embeddedPage",[[sM,"PDFEmbeddedPage"]]),Lt(t.x,"options.x",["number"]),Lt(t.y,"options.y",["number"]),Lt(t.xScale,"options.xScale",["number"]),Lt(t.yScale,"options.yScale",["number"]),Lt(t.width,"options.width",["number"]),Lt(t.height,"options.height",["number"]),Lt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Lt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Lt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Yo(t.opacity,"opacity.opacity",0,1),fo(t.blendMode,"options.blendMode",Cc);var l=this.node.newXObject("EmbeddedPdfPage",e.ref),c=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),u=t.width!==void 0?t.width/e.width:t.xScale!==void 0?t.xScale:1,d=t.height!==void 0?t.height/e.height:t.yScale!==void 0?t.yScale:1,h=this.getContentStream();h.push.apply(h,UK(l,{x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,xScale:u,yScale:d,rotate:(a=t.rotate)!==null&&a!==void 0?a:ln(0),xSkew:(s=t.xSkew)!==null&&s!==void 0?s:ln(0),ySkew:(o=t.ySkew)!==null&&o!==void 0?o:ln(0),graphicsState:c}))},r.prototype.drawSvgPath=function(e,t){var n,i,a,s,o,l,c,u,d;t===void 0&&(t={}),ot(e,"path",["string"]),Lt(t.x,"options.x",["number"]),Lt(t.y,"options.y",["number"]),Lt(t.scale,"options.scale",["number"]),Lt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Lt(t.borderWidth,"options.borderWidth",["number"]),Lt(t.color,"options.color",[[Object,"Color"]]),Yo(t.opacity,"opacity.opacity",0,1),Lt(t.borderColor,"options.borderColor",[[Object,"Color"]]),Lt(t.borderDashArray,"options.borderDashArray",[Array]),Lt(t.borderDashPhase,"options.borderDashPhase",["number"]),fo(t.borderLineCap,"options.borderLineCap",Q0),Yo(t.borderOpacity,"options.borderOpacity",0,1),fo(t.blendMode,"options.blendMode",Cc);var h=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.borderColor=Zn(0,0,0));var f=this.getContentStream();f.push.apply(f,VK(e,{x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,scale:t.scale,rotate:(a=t.rotate)!==null&&a!==void 0?a:ln(0),color:(s=t.color)!==null&&s!==void 0?s:void 0,borderColor:(o=t.borderColor)!==null&&o!==void 0?o:void 0,borderWidth:(l=t.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(c=t.borderDashArray)!==null&&c!==void 0?c:void 0,borderDashPhase:(u=t.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(d=t.borderLineCap)!==null&&d!==void 0?d:void 0,graphicsState:h}))},r.prototype.drawLine=function(e){var t,n,i,a,s;ot(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),ot(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),ot(e.start.x,"options.start.x",["number"]),ot(e.start.y,"options.start.y",["number"]),ot(e.end.x,"options.end.x",["number"]),ot(e.end.y,"options.end.y",["number"]),Lt(e.thickness,"options.thickness",["number"]),Lt(e.color,"options.color",[[Object,"Color"]]),Lt(e.dashArray,"options.dashArray",[Array]),Lt(e.dashPhase,"options.dashPhase",["number"]),fo(e.lineCap,"options.lineCap",Q0),Yo(e.opacity,"opacity.opacity",0,1),fo(e.blendMode,"options.blendMode",Cc);var o=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=Zn(0,0,0));var l=this.getContentStream();l.push.apply(l,qK({start:e.start,end:e.end,thickness:(t=e.thickness)!==null&&t!==void 0?t:1,color:(n=e.color)!==null&&n!==void 0?n:void 0,dashArray:(i=e.dashArray)!==null&&i!==void 0?i:void 0,dashPhase:(a=e.dashPhase)!==null&&a!==void 0?a:void 0,lineCap:(s=e.lineCap)!==null&&s!==void 0?s:void 0,graphicsState:o}))},r.prototype.drawRectangle=function(e){var t,n,i,a,s,o,l,c,u,d,h,f,g;e===void 0&&(e={}),Lt(e.x,"options.x",["number"]),Lt(e.y,"options.y",["number"]),Lt(e.width,"options.width",["number"]),Lt(e.height,"options.height",["number"]),Lt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Lt(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Lt(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Lt(e.borderWidth,"options.borderWidth",["number"]),Lt(e.color,"options.color",[[Object,"Color"]]),Yo(e.opacity,"opacity.opacity",0,1),Lt(e.borderColor,"options.borderColor",[[Object,"Color"]]),Lt(e.borderDashArray,"options.borderDashArray",[Array]),Lt(e.borderDashPhase,"options.borderDashPhase",["number"]),fo(e.borderLineCap,"options.borderLineCap",Q0),Yo(e.borderOpacity,"options.borderOpacity",0,1),fo(e.blendMode,"options.blendMode",Cc);var y=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=Zn(0,0,0));var w=this.getContentStream();w.push.apply(w,O1({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(n=e.y)!==null&&n!==void 0?n:this.y,width:(i=e.width)!==null&&i!==void 0?i:150,height:(a=e.height)!==null&&a!==void 0?a:100,rotate:(s=e.rotate)!==null&&s!==void 0?s:ln(0),xSkew:(o=e.xSkew)!==null&&o!==void 0?o:ln(0),ySkew:(l=e.ySkew)!==null&&l!==void 0?l:ln(0),borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,color:(u=e.color)!==null&&u!==void 0?u:void 0,borderColor:(d=e.borderColor)!==null&&d!==void 0?d:void 0,borderDashArray:(h=e.borderDashArray)!==null&&h!==void 0?h:void 0,borderDashPhase:(f=e.borderDashPhase)!==null&&f!==void 0?f:void 0,graphicsState:y,borderLineCap:(g=e.borderLineCap)!==null&&g!==void 0?g:void 0}))},r.prototype.drawSquare=function(e){e===void 0&&(e={});var t=e.size;Lt(t,"size",["number"]),this.drawRectangle(mn(mn({},e),{width:t,height:t}))},r.prototype.drawEllipse=function(e){var t,n,i,a,s,o,l,c,u,d,h;e===void 0&&(e={}),Lt(e.x,"options.x",["number"]),Lt(e.y,"options.y",["number"]),Lt(e.xScale,"options.xScale",["number"]),Lt(e.yScale,"options.yScale",["number"]),Lt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Lt(e.color,"options.color",[[Object,"Color"]]),Yo(e.opacity,"opacity.opacity",0,1),Lt(e.borderColor,"options.borderColor",[[Object,"Color"]]),Yo(e.borderOpacity,"options.borderOpacity",0,1),Lt(e.borderWidth,"options.borderWidth",["number"]),Lt(e.borderDashArray,"options.borderDashArray",[Array]),Lt(e.borderDashPhase,"options.borderDashPhase",["number"]),fo(e.borderLineCap,"options.borderLineCap",Q0),fo(e.blendMode,"options.blendMode",Cc);var f=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=Zn(0,0,0));var g=this.getContentStream();g.push.apply(g,P4({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(n=e.y)!==null&&n!==void 0?n:this.y,xScale:(i=e.xScale)!==null&&i!==void 0?i:100,yScale:(a=e.yScale)!==null&&a!==void 0?a:100,rotate:(s=e.rotate)!==null&&s!==void 0?s:void 0,color:(o=e.color)!==null&&o!==void 0?o:void 0,borderColor:(l=e.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(u=e.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(d=e.borderDashPhase)!==null&&d!==void 0?d:void 0,borderLineCap:(h=e.borderLineCap)!==null&&h!==void 0?h:void 0,graphicsState:f}))},r.prototype.drawCircle=function(e){e===void 0&&(e={});var t=e.size,n=t===void 0?100:t;Lt(n,"size",["number"]),this.drawEllipse(mn(mn({},e),{xScale:n,yScale:n}))},r.prototype.setOrEmbedFont=function(e){var t=this.font,n=this.fontKey;e?this.setFont(e):this.getFont();var i=this.font,a=this.fontKey;return{oldFont:t,oldFontKey:n,newFont:i,newFontKey:a}},r.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(ua.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},r.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},r.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},r.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.doc.context.obj({}),i=ug.of(n,e);return i},r.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,n=e.borderOpacity,i=e.blendMode;if(!(t===void 0&&n===void 0&&i===void 0)){var a=this.doc.context.obj({Type:"ExtGState",ca:t,CA:n,BM:i}),s=this.node.newExtGState("GS",a);return s}},r.prototype.scaleAnnot=function(e,t,n){for(var i=["RD","CL","Vertices","QuadPoints","L","Rect"],a=0,s=i.length;a<s;a++){var o=e.lookup(Me.of(i[a]));o instanceof Yn&&o.scalePDFNumbers(t,n)}var l=e.lookup(Me.of("InkList"));if(l instanceof Yn)for(var a=0,s=l.size();a<s;a++){var c=l.lookup(a);c instanceof Yn&&c.scalePDFNumbers(t,n)}},r.of=function(e,t,n){return new r(e,t,n)},r.create=function(e){ot(e,"doc",[[eo,"PDFDocument"]]);var t=ir.of(-1),n=pu.withContextAndParent(e.context,t),i=e.context.register(n);return new r(n,i,e)},r})(),Ry=(function(r){Dt(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return ot(t,"acroButton",[[$x,"PDFAcroPushButton"]]),a.acroField=t,a}return e.prototype.setImage=function(t,n){n===void 0&&(n=Gd.Center);for(var i=this.acroField.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a],l=this.createImageAppearanceStream(o,t,n);this.updateWidgetAppearances(o,{normal:l})}this.markAsClean()},e.prototype.setFontSize=function(t){Kx(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.addToPage=function(t,n,i){var a,s,o,l,c,u,d,h,f,g,y;Lt(t,"text",["string"]),Lt(n,"page",[[Co,"PDFPage"]]),K1(i);var w=this.createWidget({x:((a=i==null?void 0:i.x)!==null&&a!==void 0?a:0)-((s=i==null?void 0:i.borderWidth)!==null&&s!==void 0?s:0)/2,y:((o=i==null?void 0:i.y)!==null&&o!==void 0?o:0)-((l=i==null?void 0:i.borderWidth)!==null&&l!==void 0?l:0)/2,width:(c=i==null?void 0:i.width)!==null&&c!==void 0?c:100,height:(u=i==null?void 0:i.height)!==null&&u!==void 0?u:50,textColor:(d=i==null?void 0:i.textColor)!==null&&d!==void 0?d:Zn(0,0,0),backgroundColor:(h=i==null?void 0:i.backgroundColor)!==null&&h!==void 0?h:Zn(.75,.75,.75),borderColor:i==null?void 0:i.borderColor,borderWidth:(f=i==null?void 0:i.borderWidth)!==null&&f!==void 0?f:0,rotate:(g=i==null?void 0:i.rotate)!==null&&g!==void 0?g:ln(0),caption:t,hidden:i==null?void 0:i.hidden,page:n.ref}),x=this.doc.context.register(w.dict);this.acroField.addWidget(x);var T=(y=i==null?void 0:i.font)!==null&&y!==void 0?y:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(w,T),n.node.addAnnot(x)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var s=n[i],o=((t=s.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Zs;if(!o)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){ot(t,"font",[[$s,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,n){ot(t,"font",[[$s,"PDFFont"]]),Lt(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,s=i.length;a<s;a++){var o=i[a];this.updateWidgetAppearance(o,t,n)}},e.prototype.updateWidgetAppearance=function(t,n,i){var a=i??dY,s=X1(a(this,t,n));this.updateWidgetAppearanceWithFont(t,n,s)},e.of=function(t,n,i){return new e(t,n,i)},e})(p0);const wY=()=>{const[r,e]=Qe.useState([]),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),l=Qe.useRef(null),c=f=>{if(f.target.files&&f.target.files.length>0){const g=[];Array.from(f.target.files).forEach(y=>{y.type==="application/pdf"&&g.push({id:Math.random().toString(36).substr(2,9),name:y.name,file:y})}),e(y=>[...y,...g]),o(null),a(null)}l.current&&(l.current.value="")},u=f=>{e(g=>g.filter(y=>y.id!==f)),o(null)},d=(f,g)=>{const y=[...r];g==="up"&&f>0?[y[f],y[f-1]]=[y[f-1],y[f]]:g==="down"&&f<y.length-1&&([y[f],y[f+1]]=[y[f+1],y[f]]),e(y)},h=async()=>{if(r.length<2){a("Please upload at least 2 PDF files to merge.");return}n(!0),a(null);try{const f=await eo.create();for(const x of r){const T=await x.file.arrayBuffer(),v=await eo.load(T);(await f.copyPages(v,v.getPageIndices())).forEach(M=>f.addPage(M))}const g=await f.save(),y=new Blob([g],{type:"application/pdf"}),w=URL.createObjectURL(y);o(w)}catch(f){console.error(f),a("Failed to merge PDFs. One of the files might be corrupted.")}finally{n(!1)}};return b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Merge PDF Files"}),b.jsxs("div",{onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group",children:[b.jsx("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:b.jsx(U1,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),b.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload PDFs"}),b.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Select multiple files"})]}),b.jsx("input",{type:"file",ref:l,className:"hidden",accept:"application/pdf",multiple:!0,onChange:c})]}),r.length>0&&b.jsxs("div",{className:"space-y-3 mb-8",children:[r.map((f,g)=>b.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[b.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded text-red-600 dark:text-red-400",children:b.jsx(TA,{className:"w-5 h-5"})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"font-medium text-slate-900 dark:text-white truncate",children:f.name}),b.jsxs("p",{className:"text-xs text-slate-500",children:[(f.file.size/1024/1024).toFixed(2)," MB"]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>d(g,"up"),disabled:g===0,className:"p-2 text-slate-400 hover:text-primary-600 disabled:opacity-30 disabled:hover:text-slate-400",children:b.jsx(sT,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>d(g,"down"),disabled:g===r.length-1,className:"p-2 text-slate-400 hover:text-primary-600 disabled:opacity-30 disabled:hover:text-slate-400",children:b.jsx(aT,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>u(f.id),className:"p-2 text-red-400 hover:text-red-600",children:b.jsx(a0,{className:"w-4 h-4"})})]})]},f.id)),b.jsxs("div",{className:"text-center text-sm text-slate-500 mt-2",children:[r.length," files selected. Drag order not supported yet, use arrows to reorder."]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.length>0&&!s&&b.jsxs("button",{onClick:h,disabled:t||r.length<2,className:"w-full md:w-auto px-8 py-4 bg-red-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-red-500/30 flex items-center justify-center gap-2 hover:bg-red-700 transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:[t?b.jsx(si,{className:"w-6 h-6 animate-spin"}):b.jsx(TA,{className:"w-6 h-6"}),t?"Merging...":"Merge Files"]}),s&&b.jsxs("div",{className:"w-full animate-fade-in bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/50 rounded-2xl p-8 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(ma,{className:"w-8 h-8 text-green-600"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Files Merged!"}),b.jsx("p",{className:"text-slate-500 mb-6",children:"Your combined document is ready."}),b.jsxs("div",{className:"flex gap-4 justify-center",children:[b.jsxs("a",{href:s,download:"merged-document.pdf",className:"px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:shadow-lg transition-all flex items-center gap-2",children:[b.jsx(ma,{className:"w-4 h-4"})," Download PDF"]}),b.jsx("button",{onClick:()=>{o(null),e([])},className:"px-6 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Start Over"})]})]}),i&&b.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[b.jsx(Qs,{className:"w-5 h-5"}),i]})]})]})})},_Y=()=>{const[r,e]=Qe.useState(null),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),[l,c]=Qe.useState(null),[u,d]=Qe.useState(!0),[h,f]=Qe.useState(!1),g=Qe.useRef(null),y=async T=>{var R;const v=(R=T.target.files)==null?void 0:R[0];if(v){if(v.type!=="application/pdf"){a("Only PDF files allowed.");return}const M=await v.arrayBuffer();o({name:v.name,data:M,size:v.size}),e(null),c(null),a(null)}g.current&&(g.current.value="")},w=T=>{if(T===0)return"0 B";const v=1024,R=["B","KB","MB","GB"],M=Math.floor(Math.log(T)/Math.log(v));return parseFloat((T/Math.pow(v,M)).toFixed(2))+" "+R[M]},x=async()=>{if(s){n(!0),a(null);try{const T=await eo.load(s.data);if(h)try{T.getForm().flatten()}catch{}const v=await eo.create();(await v.copyPages(T,T.getPageIndices())).forEach(z=>v.addPage(z)),u?(v.setTitle(""),v.setAuthor(""),v.setSubject(""),v.setKeywords([]),v.setCreator(""),v.setProducer("")):(v.setTitle(T.getTitle()||""),v.setAuthor(T.getAuthor()||""),v.setSubject(T.getSubject()||""));const M=await v.save(),B=new Blob([M],{type:"application/pdf"}),L=URL.createObjectURL(B);c(M.byteLength),e(L)}catch(T){console.error(T),a("Failed to process PDF. The file might be corrupted or password protected.")}finally{n(!1)}}};return b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12",children:r?b.jsxs("div",{className:"py-12 flex flex-col items-center justify-center animate-fade-in text-center",children:[b.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:b.jsx(Qa,{className:"w-12 h-12 text-green-600"})}),b.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Optimization Complete!"}),b.jsxs("div",{className:"flex items-center gap-4 mb-8 text-sm justify-center",children:[b.jsx("div",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-slate-500 line-through",children:s&&w(s.size)}),b.jsx("div",{className:"text-slate-400",children:""}),b.jsx("div",{className:"px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg font-bold",children:l&&w(l)})]}),b.jsx("p",{className:"text-slate-500 mb-8 max-w-md mx-auto",children:l&&s&&l<s.size?`File size reduced by ${Math.round((s.size-l)/s.size*100)}%. Structure cleaned.`:"Structure optimized. No further reduction possible without quality loss."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsxs("a",{href:r,download:`optimized-${s==null?void 0:s.name}`,className:"py-4 px-8 bg-primary-600 text-white rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[b.jsx(ma,{className:"w-5 h-5"})," Download PDF"]}),b.jsx("button",{onClick:()=>{e(null),o(null)},className:"py-4 px-8 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:"Optimize Another"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsx("label",{className:"block text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Upload PDF to Optimize"}),s?b.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600",children:b.jsx(ib,{className:"w-8 h-8"})}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-lg",children:s.name}),b.jsxs("p",{className:"text-sm text-slate-500",children:["Original size: ",w(s.size)]})]})]}),b.jsx("button",{onClick:()=>{o(null),g.current&&(g.current.value="")},className:"text-red-500 hover:text-red-700 font-medium",children:"Remove"})]}):b.jsxs("div",{onClick:()=>{var T;return(T=g.current)==null?void 0:T.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-12 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all",children:[b.jsx(ib,{className:"w-16 h-16 text-slate-400 mb-4"}),b.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload PDF"}),b.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Optimizes structure & removes metadata"})]}),b.jsx("input",{type:"file",ref:g,className:"hidden",accept:"application/pdf",onChange:y})]}),s&&b.jsxs("div",{className:"mb-8 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[b.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[b.jsx(pP,{className:"w-4 h-4"})," Optimization Settings"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("label",{className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-primary-500 transition-colors",children:[b.jsx("input",{type:"checkbox",checked:u,onChange:T=>d(T.target.checked),className:"w-5 h-5 rounded border-slate-300 text-primary-600 focus:ring-primary-500"}),b.jsxs("div",{children:[b.jsx("span",{className:"block font-medium text-slate-700 dark:text-slate-200",children:"Remove Metadata"}),b.jsx("span",{className:"block text-xs text-slate-500",children:"Strips Author, Title, Creator info"})]})]}),b.jsxs("label",{className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-primary-500 transition-colors",children:[b.jsx("input",{type:"checkbox",checked:h,onChange:T=>f(T.target.checked),className:"w-5 h-5 rounded border-slate-300 text-primary-600 focus:ring-primary-500"}),b.jsxs("div",{children:[b.jsx("span",{className:"block font-medium text-slate-700 dark:text-slate-200",children:"Flatten Forms"}),b.jsx("span",{className:"block text-xs text-slate-500",children:"Makes fields non-editable"})]})]})]})]}),b.jsxs("button",{onClick:x,disabled:!s||t,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/30 flex items-center justify-center gap-2 disabled:opacity-50 hover:bg-primary-700 transition-colors",children:[t?b.jsx(si,{className:"w-6 h-6 animate-spin"}):b.jsx(ib,{className:"w-6 h-6"}),t?"Optimizing...":"Compress PDF"]}),i&&b.jsxs("p",{className:"mt-4 text-red-500 font-medium flex items-center justify-center gap-2",children:[b.jsx(Qs,{className:"w-5 h-5"})," ",i]})]})}),b.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800",children:[b.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mb-3 text-blue-600",children:b.jsx(zd,{className:"w-5 h-5"})}),b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Structure Cleanup"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Removes unused objects, edit history, and redundant data streams to save space."})]}),b.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800",children:[b.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3 text-green-600",children:b.jsx(O4,{className:"w-5 h-5"})}),b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Privacy Enhanced"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Optionally strips hidden metadata like author name and creation dates."})]}),b.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800",children:[b.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mb-3 text-purple-600",children:b.jsx(ib,{className:"w-5 h-5"})}),b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"No Quality Loss"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Optimization focuses on file structure, so images and text remain crisp."})]})]})]})},SY=[{label:"Sans Serif (Helvetica)",value:"Helvetica"},{label:"Serif (Times)",value:"Times-Roman"},{label:"Monospace (Courier)",value:"Courier"}],AY=({isOpen:r,onClose:e,onSave:t})=>{const n=Qe.useRef(null),[i,a]=Qe.useState(!1);Qe.useEffect(()=>{if(r&&n.current){const u=n.current,d=u.getContext("2d");d&&(d.clearRect(0,0,u.width,u.height),d.lineWidth=2,d.strokeStyle="#000000",d.lineCap="round")}},[r]);const s=u=>{a(!0);const d=n.current;if(!d)return;const h=d.getContext("2d");if(!h)return;const f=d.getBoundingClientRect(),g="touches"in u?u.touches[0].clientX:u.clientX,y="touches"in u?u.touches[0].clientY:u.clientY;h.beginPath(),h.moveTo(g-f.left,y-f.top)},o=u=>{if(!i)return;const d=n.current;if(!d)return;const h=d.getContext("2d");if(!h)return;const f=d.getBoundingClientRect(),g="touches"in u?u.touches[0].clientX:u.clientX,y="touches"in u?u.touches[0].clientY:u.clientY;h.lineTo(g-f.left,y-f.top),h.stroke()},l=()=>a(!1),c=()=>{n.current&&(t(n.current.toDataURL()),e())};return r?b.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-md border border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Sign Document"}),b.jsx("button",{onClick:e,children:b.jsx(fT,{className:"w-5 h-5 text-slate-500"})})]}),b.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-950 flex justify-center",children:b.jsx("canvas",{ref:n,width:350,height:200,className:"bg-white rounded-xl border border-slate-300 shadow-sm touch-none cursor-crosshair",onMouseDown:s,onMouseMove:o,onMouseUp:l,onMouseLeave:l,onTouchStart:s,onTouchMove:o,onTouchEnd:l})}),b.jsxs("div",{className:"p-4 flex gap-3 justify-end border-t border-slate-200 dark:border-slate-800",children:[b.jsx("button",{onClick:()=>{const u=n.current,d=u==null?void 0:u.getContext("2d");d==null||d.clearRect(0,0,u.width,u.height)},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white",children:"Clear"}),b.jsx("button",{onClick:c,className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-bold hover:bg-primary-700",children:"Use Signature"})]})]})}):null},kY=()=>{var ft,Tt;const[r,e]=Qe.useState(null),[t,n]=Qe.useState([]),[i,a]=Qe.useState({}),[s,o]=Qe.useState(null),[l,c]=Qe.useState(1),[u,d]=Qe.useState(!0),[h,f]=Qe.useState([]),[g,y]=Qe.useState("select"),[w,x]=Qe.useState("#000000"),[T,v]=Qe.useState("transparent"),[R,M]=Qe.useState(16),[B,L]=Qe.useState("Helvetica"),[z,H]=Qe.useState(!1),[$,U]=Qe.useState(!1),[D,ee]=Qe.useState(null),[J,re]=Qe.useState(!1),[q,W]=Qe.useState(!1),[le,ue]=Qe.useState(!1),[oe,F]=Qe.useState(!1),[C,I]=Qe.useState(null),O=Qe.useRef(null),X=Qe.useRef(null),te=Qe.useRef(null),ie=Qe.useRef(null),ne=Qe.useRef(null),we=async De=>{var Ke;const Ve=(Ke=De.target.files)==null?void 0:Ke[0];if(Ve&&Ve.type==="application/pdf"){ue(!0),e(Ve),a({});try{const gt=await Ve.arrayBuffer(),N=await window.pdfjsLib.getDocument(gt).promise,_e=[];for(let ke=1;ke<=N.numPages;ke++){const Le=await N.getPage(ke),Y=Le.getViewport({scale:.2}),ge=document.createElement("canvas"),S=ge.getContext("2d");ge.height=Y.height,ge.width=Y.width,await Le.render({canvasContext:S,viewport:Y}).promise,_e.push({id:Math.random().toString(36).substr(2,9),originalIndex:ke-1,rotation:0,thumbnail:ge.toDataURL()})}n(_e),o(_e[0].id)}catch(gt){console.error(gt),alert("Error loading PDF")}finally{ue(!1)}}};Qe.useEffect(()=>{if(!r||!s||!te.current)return;const De=t.find(Ke=>Ke.id===s);if(!De)return;(async()=>{const Ke=await r.arrayBuffer(),N=await(await window.pdfjsLib.getDocument(Ke).promise).getPage(De.originalIndex+1),_e=(N.rotate+De.rotation)%360,ke=N.getViewport({scale:l,rotation:_e}),Le=te.current,Y=Le.getContext("2d");Le.height=ke.height,Le.width=ke.width,await N.render({canvasContext:Y,viewport:ke}).promise;const S=(await N.getTextContent()).items.map(Ae=>{const Xe=window.pdfjsLib.Util.transform(ke.transform,Ae.transform),m=Math.hypot(Xe[2],Xe[3]),pe=Ae.width*l;return{item:Ae,viewportRect:[Xe[4],Xe[5]-m,pe,m]}});f(S)})()},[r,s,l,t]);const Ee=De=>{if(!ie.current)return{x:0,y:0};const Ve=ie.current.getBoundingClientRect(),Ke="touches"in De?De.touches[0].clientX:De.clientX,gt="touches"in De?De.touches[0].clientY:De.clientY;return{x:Ke-Ve.left,y:gt-Ve.top}},He=De=>{if(!s)return;const{x:Ve,y:Ke}=Ee(De);if(g==="eyedropper"){const gt=te.current;if(gt){const N=gt.getContext("2d");if(N){const _e=N.getImageData(Ve,Ke,1,1).data,ke="#"+("000000"+(_e[0]<<16|_e[1]<<8|_e[2]).toString(16)).slice(-6);x(ke),y("select")}}return}if(g==="select"){ee(null);return}if(g==="text"){const gt=Date.now().toString();nt({id:gt,type:"text",x:Ve,y:Ke,text:"Type here",color:w,backgroundColor:T==="transparent"?void 0:T,size:R,fontFamily:B,fontWeight:z?"bold":"normal",fontStyle:$?"italic":"normal"}),ee(gt),y("select")}else if(["rect","circle","eraser","image","signature"].includes(g)){let gt=100*l,N=100*l,_e=w;g==="eraser"&&(_e="#FFFFFF",N=50*l),g==="circle"&&(gt=50*l,N=50*l);const ke=Date.now().toString();nt({id:ke,type:g,x:Ve,y:Ke,width:gt,height:N,color:_e}),ee(ke),y("select")}else if(g==="draw"||g==="highlight"){re(!0);const gt=Date.now().toString(),N=g==="highlight"?"#FFFF00":w,_e=g==="highlight"?.4:1,ke=g==="highlight"?20:R/4;nt({id:gt,type:g,x:Ve,y:Ke,points:[{x:Ve,y:Ke}],color:N,opacity:_e,size:ke})}},Ue=(De,Ve,Ke)=>{var ke;if(De.stopPropagation(),g!=="select")return;const{x:gt,y:N}=Ee(De),_e=((ke=i[s])==null?void 0:ke.find(Le=>Le.id===Ve))||null;ee(Ve),I({x:gt,y:N,elId:Ve,initialEl:_e?{..._e}:null,handle:Ke})},We=(De,Ve)=>{if(g!=="smart-edit"||!s)return;const gt={id:Date.now().toString(),type:"rect",x:Ve[0]-2,y:Ve[1]-2,width:Ve[2]+4,height:Ve[3]+4,color:"#FFFFFF"};nt(gt);const N=Math.round(Ve[3]*.8),_e=(Date.now()+1).toString(),ke={id:_e,type:"text",x:Ve[0],y:Ve[1]+Ve[3]/2,text:De,color:w,size:N,fontFamily:B,fontWeight:z?"bold":"normal"};setTimeout(()=>{nt(ke),ee(_e)},10)},it=De=>{const{x:Ve,y:Ke}=Ee(De);if(C&&C.elId&&s&&g==="select"){De.preventDefault();const gt=Ve-C.x,N=Ke-C.y,_e=C.initialEl;if(!_e)return;let ke={};if(!C.handle)ke={x:_e.x+gt,y:_e.y+N};else{const Le=C.handle,Y=_e.width||0,ge=_e.height||0,S=_e.x,Ae=_e.y;let Xe=S,m=Ae,pe=Y,he=ge;if(Le.includes("e")&&(pe=Math.max(20,Y+gt)),Le.includes("w")){const k=Y-20,G=Math.min(gt,k);pe=Y-G,Xe=S+G}if(Le.includes("s")&&(he=Math.max(20,ge+N)),Le.includes("n")){const k=ge-20,G=Math.min(N,k);he=ge-G,m=Ae+G}ke={x:Xe,y:m,width:pe,height:he}}pt(C.elId,ke);return}!J||!s||a(gt=>{const N=gt[s]||[];if(N.length===0)return gt;const _e=N[N.length-1];if(!_e.points)return gt;const ke={..._e,points:[..._e.points,{x:Ve,y:Ke}]},Le=[...N.slice(0,-1),ke];return{...gt,[s]:Le}})},xe=()=>{I(null),re(!1)},nt=De=>{s&&a(Ve=>({...Ve,[s]:[...Ve[s]||[],De]}))},pt=(De,Ve)=>{s&&a(Ke=>({...Ke,[s]:(Ke[s]||[]).map(gt=>gt.id===De?{...gt,...Ve}:gt)}))},Z=De=>{s&&(a(Ve=>({...Ve,[s]:(Ve[s]||[]).filter(Ke=>Ke.id!==De)})),ee(null))},ce=De=>{var Ke;const Ve=(Ke=De.target.files)==null?void 0:Ke[0];if(Ve&&s){const gt=new FileReader;gt.onload=()=>{const N=Date.now().toString();nt({id:N,type:"image",x:50,y:50,width:200,height:200,color:"transparent",imageData:gt.result}),y("select")},gt.readAsDataURL(Ve)}},ut=De=>{if(s){const Ve=Date.now().toString();nt({id:Ve,type:"signature",x:100,y:100,width:150,height:80,color:"transparent",imageData:De}),y("select")}},rt=De=>{n(Ve=>Ve.map(Ke=>Ke.id===De?{...Ke,rotation:(Ke.rotation+90)%360}:Ke))},ht=De=>{if(t.length<=1)return;const Ve=t.findIndex(N=>N.id===De),Ke=t.filter(N=>N.id!==De);n(Ke),s===De&&o(Ke[Math.max(0,Ve-1)].id);const gt={...i};delete gt[De],a(gt)},mt=(De,Ve)=>{const Ke=[...t];Ve==="up"&&De>0?[Ke[De],Ke[De-1]]=[Ke[De-1],Ke[De]]:Ve==="down"&&De<Ke.length-1&&([Ke[De],Ke[De+1]]=[Ke[De+1],Ke[De]]),n(Ke)},wt=async()=>{if(r){F(!0);try{const De=await r.arrayBuffer(),Ve=await eo.load(De),Ke=await eo.create(),gt={},N=async(ge="Helvetica",S,Ae)=>{const Xe=`${ge}-${S?"B":""}${Ae?"I":""}`;if(gt[Xe])return gt[Xe];let m=ua.Helvetica;ge==="Times-Roman"?S&&Ae?m=ua.TimesRomanBoldItalic:S?m=ua.TimesRomanBold:Ae?m=ua.TimesRomanItalic:m=ua.TimesRoman:ge==="Courier"?S&&Ae?m=ua.CourierBoldOblique:S?m=ua.CourierBold:Ae?m=ua.CourierOblique:m=ua.Courier:S&&Ae?m=ua.HelveticaBoldOblique:S?m=ua.HelveticaBold:Ae?m=ua.HelveticaOblique:m=ua.Helvetica;const pe=await Ke.embedFont(m);return gt[Xe]=pe,pe};for(const ge of t){const[S]=await Ke.copyPages(Ve,[ge.originalIndex]),Ae=Ke.addPage(S),Xe=Ae.getRotation().angle;Ae.setRotation((Xe+ge.rotation)%360);const{width:m,height:pe}=Ae.getSize(),he=1/l;for(const k of i[ge.id]||[]){const G=k.x*he,j=pe-k.y*he,se=parseInt(k.color.slice(1,3),16)/255,fe=parseInt(k.color.slice(3,5),16)/255,me=parseInt(k.color.slice(5,7),16)/255,Te=Zn(se,fe,me);if(k.type==="text"&&k.text){const Ne=(k.size||16)*he,Pe=await N(k.fontFamily,k.fontWeight==="bold",k.fontStyle==="italic");if(k.backgroundColor&&k.backgroundColor!=="transparent"){const Fe=Pe.widthOfTextAtSize(k.text,Ne),ze=Pe.heightAtSize(Ne),Ze=parseInt(k.backgroundColor.slice(1,3),16)/255,Ge=parseInt(k.backgroundColor.slice(3,5),16)/255,at=parseInt(k.backgroundColor.slice(5,7),16)/255;Ae.drawRectangle({x:G-2,y:j-Ne+2,width:Fe+4,height:ze+2,color:Zn(Ze,Ge,at)})}Ae.drawText(k.text,{x:G,y:j-Ne+Ne*.2,size:Ne,font:Pe,color:Te})}else if(["rect","eraser"].includes(k.type))Ae.drawRectangle({x:G,y:j-(k.height||0)*he,width:(k.width||0)*he,height:(k.height||0)*he,color:Te,opacity:k.opacity??1});else if(k.type==="highlight"&&k.points){const Ne=k.points.map(Pe=>({x:Pe.x*he,y:pe-Pe.y*he}));for(let Pe=0;Pe<Ne.length-1;Pe++)Ae.drawLine({start:Ne[Pe],end:Ne[Pe+1],thickness:(k.size||20)*he,color:Te,opacity:k.opacity})}else if(k.type==="draw"&&k.points){const Ne=k.points.map(Pe=>({x:Pe.x*he,y:pe-Pe.y*he}));for(let Pe=0;Pe<Ne.length-1;Pe++)Ae.drawLine({start:Ne[Pe],end:Ne[Pe+1],thickness:(k.size||2)*he,color:Te,opacity:1})}else if((k.type==="image"||k.type==="signature")&&k.imageData){const Ne=await fetch(k.imageData).then(Fe=>Fe.arrayBuffer());let Pe;k.imageData.includes("image/png")?Pe=await Ke.embedPng(Ne):Pe=await Ke.embedJpg(Ne),Ae.drawImage(Pe,{x:G,y:j-(k.height||0)*he,width:(k.width||0)*he,height:(k.height||0)*he})}}}const _e=await Ke.save(),ke=new Blob([_e],{type:"application/pdf"}),Le=URL.createObjectURL(ke),Y=document.createElement("a");Y.href=Le,Y.download=`edited_${r.name}`,Y.click()}catch(De){console.error(De),alert("Failed to export PDF.")}finally{F(!1)}}};return r?b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] bg-slate-100 dark:bg-slate-950",children:[b.jsxs("div",{className:"h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-4 shadow-sm z-20",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>d(!u),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-500",children:b.jsx(r9,{className:"w-5 h-5"})}),b.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-2"}),b.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:[{id:"select",icon:v9,title:"Select"},{id:"smart-edit",icon:YP,title:"Smart Text Edit"},{id:"eyedropper",icon:A9,title:"Pick Color from Page"},{id:"text",icon:iT,title:"Add Text"},{id:"draw",icon:tT,title:"Draw"},{id:"highlight",icon:o9,title:"Highlight"},{id:"eraser",icon:GP,title:"Eraser"}].map(De=>b.jsx("button",{onClick:()=>y(De.id),className:`p-2 rounded-md transition-all ${g===De.id?"bg-white dark:bg-slate-700 shadow text-primary-600":"text-slate-500 hover:text-slate-900 dark:hover:text-white"}`,title:De.title,children:b.jsx(De.icon,{className:"w-4 h-4"})},De.id))}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:[b.jsx("button",{onClick:()=>y("rect"),className:`p-2 rounded-md ${g==="rect"?"bg-white dark:bg-slate-700 shadow text-primary-600":"text-slate-500"}`,children:b.jsx(H9,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>y("circle"),className:`p-2 rounded-md ${g==="circle"?"bg-white dark:bg-slate-700 shadow text-primary-600":"text-slate-500"}`,children:b.jsx(DP,{className:"w-4 h-4"})})]}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:[b.jsx("button",{onClick:()=>{var De;return(De=X.current)==null?void 0:De.click()},className:"p-2 text-slate-500 hover:text-slate-900",title:"Insert Image",children:b.jsx(T_,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>W(!0),className:"p-2 text-slate-500 hover:text-slate-900",title:"Sign",children:b.jsx(nP,{className:"w-4 h-4"})}),b.jsx("input",{type:"file",ref:X,className:"hidden",accept:"image/*",onChange:ce})]}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("button",{className:"p-2 rounded bg-slate-100 dark:bg-slate-800 flex items-center gap-1 border border-slate-200 dark:border-slate-700",children:b.jsx("div",{className:"w-4 h-4 rounded-full border border-slate-300",style:{backgroundColor:w}})}),b.jsx("input",{type:"color",value:w,onChange:De=>{x(De.target.value),["select","eyedropper"].includes(g)&&y("text")},className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"})]}),(g==="text"||g==="smart-edit")&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),b.jsx("select",{value:B,onChange:De=>L(De.target.value),className:"text-xs p-1.5 rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white outline-none w-24",children:SY.map(De=>b.jsx("option",{value:De.value,children:De.label},De.value))}),b.jsx("select",{value:R,onChange:De=>M(Number(De.target.value)),className:"text-xs p-1.5 rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white outline-none w-14",children:[10,12,14,16,18,20,24,30,36,48,64,72].map(De=>b.jsxs("option",{value:De,children:[De,"px"]},De))}),b.jsx("button",{onClick:()=>H(!z),className:`p-1.5 rounded ${z?"bg-slate-200 dark:bg-slate-700":"hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:b.jsx(_P,{className:"w-3.5 h-3.5"})}),b.jsx("button",{onClick:()=>U(!$),className:`p-1.5 rounded ${$?"bg-slate-200 dark:bg-slate-700":"hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:b.jsx(h9,{className:"w-3.5 h-3.5"})}),b.jsxs("div",{className:"relative group ml-1",title:"Background Color (Whiteout)",children:[b.jsx("div",{className:`p-1.5 rounded cursor-pointer border ${T==="transparent"?"border-dashed border-slate-300":"border-slate-300"}`,style:{backgroundColor:T==="transparent"?"transparent":T},children:b.jsx(oT,{className:"w-3.5 h-3.5 text-slate-500"})}),b.jsxs("select",{value:T,onChange:De=>v(De.target.value),className:"absolute inset-0 opacity-0 cursor-pointer",children:[b.jsx("option",{value:"transparent",children:"None (Transparent)"}),b.jsx("option",{value:"#FFFFFF",children:"White (Cover)"}),b.jsx("option",{value:"#000000",children:"Black"}),b.jsx("option",{value:"#F1F5F9",children:"Slate 100"})]})]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>c(De=>Math.max(.5,De-.25)),className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded",children:b.jsx(sF,{className:"w-4 h-4 text-slate-500"})}),b.jsxs("span",{className:"text-xs font-medium w-12 text-center dark:text-slate-300",children:[Math.round(l*100),"%"]}),b.jsx("button",{onClick:()=>c(De=>Math.min(3,De+.25)),className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded",children:b.jsx(iF,{className:"w-4 h-4 text-slate-500"})})]}),b.jsxs("button",{onClick:wt,disabled:oe,className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-primary-700 shadow-lg shadow-primary-500/20 disabled:opacity-70",children:[oe?b.jsx(si,{className:"w-4 h-4 animate-spin"}):b.jsx(ma,{className:"w-4 h-4"}),"Export PDF"]})]})]}),b.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[u&&b.jsxs("div",{className:"w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:b.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:["Pages (",t.length,")"]})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:t.map((De,Ve)=>b.jsxs("div",{className:`relative group p-2 rounded-xl border-2 transition-all ${s===De.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/10":"border-transparent hover:border-slate-200 dark:hover:border-slate-700"}`,onClick:()=>o(De.id),children:[b.jsxs("div",{className:"aspect-[3/4] bg-white shadow-sm rounded-lg overflow-hidden relative",children:[De.thumbnail?b.jsx("img",{src:De.thumbnail,className:"w-full h-full object-contain",style:{transform:`rotate(${De.rotation}deg)`}}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:b.jsx(si,{className:"animate-spin"})}),b.jsx("div",{className:"absolute top-1 left-1 bg-black/50 text-white text-[10px] px-1.5 rounded",children:Ve+1})]}),b.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),rt(De.id)},className:"p-1.5 bg-slate-800 text-white rounded-full hover:bg-primary-600",title:"Rotate",children:b.jsx(I9,{className:"w-3 h-3"})}),b.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),ht(De.id)},className:"p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",title:"Delete",children:b.jsx(a0,{className:"w-3 h-3"})}),b.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),mt(Ve,"up")},disabled:Ve===0,className:"p-1.5 bg-slate-800 text-white rounded-full hover:bg-primary-600 disabled:opacity-50",children:b.jsx(sT,{className:"w-3 h-3"})}),b.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),mt(Ve,"down")},disabled:Ve===t.length-1,className:"p-1.5 bg-slate-800 text-white rounded-full hover:bg-primary-600 disabled:opacity-50",children:b.jsx(aT,{className:"w-3 h-3"})})]})]},De.id))})]}),b.jsx("div",{className:"flex-1 overflow-auto bg-slate-100 dark:bg-slate-950 p-8 flex justify-center relative",ref:ne,style:{cursor:g==="eyedropper"?"crosshair":"default"},children:s?b.jsxs("div",{className:"relative shadow-2xl transition-transform origin-top",style:{width:((ft=te.current)==null?void 0:ft.width)||"auto",height:((Tt=te.current)==null?void 0:Tt.height)||"auto"},children:[b.jsx("canvas",{ref:te,className:"block bg-white"}),g==="smart-edit"&&b.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",children:h.map((De,Ve)=>b.jsx("div",{className:"absolute bg-blue-500/10 hover:bg-blue-500/30 border border-transparent hover:border-blue-500 cursor-text pointer-events-auto transition-colors",style:{left:De.viewportRect[0],top:De.viewportRect[1],width:De.viewportRect[2],height:De.viewportRect[3]},onClick:Ke=>{Ke.stopPropagation(),We(De.item.str,De.viewportRect)},title:"Click to Edit Text"},Ve))}),b.jsx("div",{ref:ie,className:"absolute inset-0 touch-none z-20",onMouseDown:He,onMouseMove:it,onMouseUp:xe,onTouchStart:He,onTouchMove:it,onTouchEnd:xe,children:(i[s]||[]).map(De=>{var Ve;return b.jsxs("div",{style:{position:"absolute",left:De.x,top:De.y,pointerEvents:g==="select"?"auto":"none",cursor:g==="select"?"move":"none",border:D===De.id&&g==="select"?"2px dashed #3b82f6":"none",transform:De.type==="text"?"translate(0, -50%)":"none"},onMouseDown:Ke=>Ue(Ke,De.id,null),onTouchStart:Ke=>Ue(Ke,De.id,null),children:[De.type==="text"?D===De.id?b.jsx("input",{autoFocus:!0,value:De.text,onChange:Ke=>pt(De.id,{text:Ke.target.value}),className:"bg-transparent border-none outline-none p-0",style:{color:De.color,backgroundColor:De.backgroundColor||"transparent",fontSize:`${De.size}px`,fontFamily:De.fontFamily==="Times-Roman"?"Times New Roman":De.fontFamily==="Courier"?"Courier New":"Arial",fontWeight:De.fontWeight,fontStyle:De.fontStyle,minWidth:"20px"}}):b.jsx("span",{style:{color:De.color,backgroundColor:De.backgroundColor||"transparent",fontSize:`${De.size}px`,fontFamily:De.fontFamily==="Times-Roman"?"Times New Roman":De.fontFamily==="Courier"?"Courier New":"Arial",fontWeight:De.fontWeight,fontStyle:De.fontStyle,whiteSpace:"nowrap",userSelect:"none",padding:"2px"},children:De.text}):["rect","eraser"].includes(De.type)?b.jsx("div",{style:{width:De.width,height:De.height,backgroundColor:De.color,opacity:De.opacity??1}}):["circle"].includes(De.type)?b.jsx("div",{style:{width:De.width,height:De.height,backgroundColor:De.color,borderRadius:"50%"}}):["image","signature"].includes(De.type)?b.jsx("img",{src:De.imageData,style:{width:De.width,height:De.height},draggable:!1}):De.type==="draw"||De.type==="highlight"?b.jsx("svg",{style:{position:"absolute",left:-De.x,top:-De.y,overflow:"visible",pointerEvents:"none"},children:b.jsx("polyline",{points:(Ve=De.points)==null?void 0:Ve.map(Ke=>`${Ke.x},${Ke.y}`).join(" "),fill:"none",stroke:De.color,strokeWidth:De.size,strokeLinecap:"round",strokeLinejoin:"round",opacity:De.opacity??1})}):null,D===De.id&&g==="select"&&["image","signature","rect","circle"].includes(De.type)&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-white border border-blue-500 rounded-full cursor-nw-resize z-50 shadow-sm",onMouseDown:Ke=>Ue(Ke,De.id,"nw"),onTouchStart:Ke=>Ue(Ke,De.id,"nw")}),b.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-white border border-blue-500 rounded-full cursor-ne-resize z-50 shadow-sm",onMouseDown:Ke=>Ue(Ke,De.id,"ne"),onTouchStart:Ke=>Ue(Ke,De.id,"ne")}),b.jsx("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 bg-white border border-blue-500 rounded-full cursor-sw-resize z-50 shadow-sm",onMouseDown:Ke=>Ue(Ke,De.id,"sw"),onTouchStart:Ke=>Ue(Ke,De.id,"sw")}),b.jsx("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 bg-white border border-blue-500 rounded-full cursor-se-resize z-50 shadow-sm",onMouseDown:Ke=>Ue(Ke,De.id,"se"),onTouchStart:Ke=>Ue(Ke,De.id,"se")})]}),D===De.id&&g==="select"&&b.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),Z(De.id)},className:"absolute -top-3 -right-3 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600 z-50",title:"Delete Element",children:b.jsx(fT,{className:"w-3 h-3"})})]},De.id)})})]}):b.jsx("div",{className:"flex flex-col items-center justify-center text-slate-400",children:b.jsx("p",{children:"Select a page to edit"})})})]}),b.jsx(AY,{isOpen:q,onClose:()=>W(!1),onSave:ut})]}):b.jsx("div",{className:"max-w-4xl mx-auto py-12 px-4",children:b.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-12 text-center",children:le?b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx(si,{className:"w-12 h-12 text-primary-600 animate-spin mb-4"}),b.jsx("p",{className:"text-xl font-bold dark:text-white",children:"Loading PDF..."})]}):b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:"PDF Editor Studio"}),b.jsx("p",{className:"text-slate-500 mb-8 max-w-lg mx-auto",children:"Upload a PDF to start editing. Edit text, sign, draw, and manage pages securely in your browser."}),b.jsxs("div",{onClick:()=>{var De;return(De=O.current)==null?void 0:De.click()},className:"border-3 border-dashed border-slate-300 dark:border-slate-700 rounded-3xl p-16 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group",children:[b.jsx("div",{className:"w-24 h-24 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:b.jsx(U1,{className:"w-12 h-12 text-primary-600 dark:text-primary-400"})}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Click to Upload PDF"}),b.jsx("p",{className:"text-slate-500 mt-2",children:"Max 50MB"})]}),b.jsx("input",{type:"file",ref:O,className:"hidden",accept:"application/pdf",onChange:we})]})})})},EY=[{token:".",desc:"Any character except newline"},{token:"\\d",desc:"Digit (0-9)"},{token:"\\w",desc:"Word character (a-z, A-Z, 0-9, _)"},{token:"\\s",desc:"Whitespace"},{token:"[abc]",desc:"Any character in set"},{token:"[^abc]",desc:"Any character NOT in set"},{token:"*",desc:"0 or more"},{token:"+",desc:"1 or more"},{token:"?",desc:"0 or 1"},{token:"{n}",desc:"Exactly n times"},{token:"^",desc:"Start of string"},{token:"$",desc:"End of string"},{token:"(...)",desc:"Group"}],CY=()=>{const[r,e]=Qe.useState("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"),[t,n]=Qe.useState("gm"),[i,a]=Qe.useState(`Contact us at support@dicetools.online or sales@example.com.
Also try test.email+tag@subdomain.co.uk`),[s,o]=Qe.useState([]),[l,c]=Qe.useState(null),u=[{char:"g",name:"Global"},{char:"m",name:"Multiline"},{char:"i",name:"Insensitive"}],d=f=>{n(g=>g.includes(f)?g.replace(f,""):g+f)};Qe.useEffect(()=>{try{if(!r){o([]),c(null);return}const f=new RegExp(r,t),g=[];let y;if(t.includes("g")){let w=0;for(;(y=f.exec(i))!==null&&w<1e3;)g.push(y),w++,y.index===f.lastIndex&&f.lastIndex++}else y=f.exec(i),y&&g.push(y);o(g),c(null)}catch(f){c(f.message),o([])}},[r,t,i]);const h=Qe.useMemo(()=>{if(!s.length||l)return i;let f=0;const g=[];return s.forEach((y,w)=>{y.index>f&&g.push(b.jsx("span",{children:i.substring(f,y.index)},`text-${w}`)),g.push(b.jsx("span",{className:"bg-blue-200 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 border-b-2 border-blue-500 rounded-sm",children:y[0]},`match-${w}`)),f=y.index+y[0].length}),f<i.length&&g.push(b.jsx("span",{children:i.substring(f)},"text-end")),g},[i,s,l]);return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[b.jsx("div",{className:"text-2xl font-mono text-slate-400 select-none",children:"/"}),b.jsx("input",{type:"text",className:`flex-1 font-mono text-lg p-2 bg-transparent border-b-2 outline-none transition-colors ${l?"border-red-500 text-red-600":"border-primary-500 text-slate-900 dark:text-white"}`,value:r,onChange:f=>e(f.target.value),placeholder:"Enter regex pattern..."}),b.jsx("div",{className:"text-2xl font-mono text-slate-400 select-none",children:"/"}),b.jsx("div",{className:"flex gap-1",children:u.map(f=>b.jsx("button",{onClick:()=>d(f.char),className:`w-8 h-8 rounded font-mono text-sm font-bold transition-colors ${t.includes(f.char)?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:f.name,children:f.char},f.char))})]}),l&&b.jsxs("div",{className:"mb-6 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[b.jsx(Qs,{className:"w-4 h-4"})," ",l]}),b.jsxs("div",{className:"relative rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 min-h-[200px] font-mono text-sm overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 p-4 whitespace-pre-wrap break-words pointer-events-none text-transparent z-10",children:h}),b.jsx("textarea",{className:"absolute inset-0 w-full h-full p-4 bg-transparent text-slate-900 dark:text-slate-300 outline-none resize-none z-20 focus:bg-white/5 transition-colors",value:i,onChange:f=>a(f.target.value),spellCheck:!1})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[b.jsx(Qa,{className:"w-4 h-4 text-green-500"}),"Match Information",b.jsxs("span",{className:"ml-auto text-xs font-normal text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full",children:[s.length," matches found"]})]}),s.length>0?b.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:s.map((f,g)=>b.jsxs("div",{className:"p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800 text-sm font-mono",children:[b.jsxs("div",{className:"flex justify-between mb-1 text-slate-500 text-xs",children:[b.jsxs("span",{children:["Match ",g+1]}),b.jsxs("span",{children:["Index: ",f.index]})]}),b.jsx("div",{className:"text-primary-600 dark:text-primary-400 font-bold",children:f[0]}),f.length>1&&b.jsx("div",{className:"mt-2 pl-3 border-l-2 border-slate-200 dark:border-slate-700 space-y-1",children:Array.from(f).slice(1).map((y,w)=>b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("span",{className:"text-slate-400 text-xs",children:["Group ",w+1,":"]}),b.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:y})]},w))})]},g))}):b.jsx("div",{className:"text-center py-8 text-slate-400",children:"No matches found."})]})]}),b.jsx("div",{className:"lg:col-span-4",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 sticky top-24",children:[b.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[b.jsx(PP,{className:"w-4 h-4 text-primary-500"})," Quick Reference"]}),b.jsx("div",{className:"space-y-2",children:EY.map((f,g)=>b.jsxs("div",{className:"flex items-center justify-between text-sm p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded cursor-pointer group",onClick:()=>e(y=>y+f.token),children:[b.jsx("code",{className:"font-mono text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-1.5 py-0.5 rounded",children:f.token}),b.jsx("span",{className:"text-slate-500 text-xs group-hover:text-slate-700 dark:group-hover:text-slate-300",children:f.desc})]},g))})]})})]})},TY=()=>{const[r,e]=Qe.useState("Your Page Title Goes Here - Example Site"),[t,n]=Qe.useState("This is an example of a meta description. Google usually displays up to 160 characters. Make sure to include your main keywords to improve CTR."),[i,a]=Qe.useState("www.example.com/category/page-name"),[s,o]=Qe.useState(""),[l,c]=Qe.useState("desktop"),u=60,d=160,h=(w,x)=>x.trim()?w.split(new RegExp(`(${x})`,"gi")).map((v,R)=>v.toLowerCase()===x.toLowerCase()?b.jsx("b",{className:"text-slate-900 dark:text-slate-300 font-bold",children:v},R):v):w,f=r.length>70?r.substring(0,70)+"...":r,g=t.length>320?t.substring(0,320)+"...":t,y=(w,x)=>w===0?"bg-slate-200 dark:bg-slate-700":w<=x?"bg-green-500":"bg-red-500";return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[b.jsx(mg,{className:"w-5 h-5 text-primary-500"})," SEO Content"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Page Title"}),b.jsxs("span",{className:`${r.length>u?"text-red-500 font-bold":"text-slate-500"}`,children:[r.length," / ",u," px"]})]}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",value:r,onChange:w=>e(w.target.value),placeholder:"Enter page title..."}),b.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:b.jsx("div",{className:`h-full transition-all duration-300 ${y(r.length,u)}`,style:{width:`${Math.min(100,r.length/u*100)}%`}})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Meta Description"}),b.jsxs("span",{className:`${t.length>d?"text-red-500 font-bold":"text-slate-500"}`,children:[t.length," / ",d," px"]})]}),b.jsx("textarea",{className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all resize-none min-h-[120px] dark:text-white",value:t,onChange:w=>n(w.target.value),placeholder:"Enter meta description..."}),b.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:b.jsx("div",{className:`h-full transition-all duration-300 ${y(t.length,d)}`,style:{width:`${Math.min(100,t.length/d*100)}%`}})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"URL / Slug"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",value:i,onChange:w=>a(w.target.value),placeholder:"example.com/page"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Focus Keyword (Bolded)"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",value:s,onChange:w=>o(w.target.value),placeholder:"e.g. example"}),b.jsx("p",{className:"text-xs text-slate-500",children:"Keywords in the description matching this will be bolded in preview."})]}),b.jsxs("button",{onClick:()=>{e(""),n(""),a(""),o("")},className:"flex items-center gap-2 text-sm text-slate-500 hover:text-red-500 transition-colors",children:[b.jsx(b2,{className:"w-4 h-4"})," Reset Fields"]})]})]})}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex bg-white dark:bg-slate-900 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 w-fit",children:[b.jsxs("button",{onClick:()=>c("desktop"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="desktop"?"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[b.jsx(m9,{className:"w-4 h-4"})," Desktop"]}),b.jsxs("button",{onClick:()=>c("mobile"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="mobile"?"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[b.jsx(j9,{className:"w-4 h-4"})," Mobile"]})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[b.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Google Search Preview"}),b.jsxs("div",{className:"flex gap-1.5",children:[b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-slate-300"}),b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-slate-300"}),b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-slate-300"})]})]}),b.jsx("div",{className:"p-8 min-h-[200px] bg-white",children:l==="desktop"?b.jsxs("div",{className:"max-w-[600px] font-sans",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[b.jsx("div",{className:"w-7 h-7 bg-slate-100 rounded-full flex items-center justify-center text-[10px] text-slate-500 border border-slate-200",children:"Fav"}),b.jsxs("div",{className:"flex flex-col leading-tight",children:[b.jsx("span",{className:"text-sm text-slate-800",children:"Site Name"}),b.jsx("cite",{className:"text-xs text-slate-500 not-italic",children:i||"www.example.com"})]}),b.jsxs("div",{className:"ml-auto text-slate-400",children:[b.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full mb-0.5"}),b.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full mb-0.5"}),b.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]}),b.jsx("h3",{className:"text-xl text-[#1a0dab] hover:underline cursor-pointer mb-1 leading-snug",children:f||"Page Title"}),b.jsx("div",{className:"text-sm text-[#4d5156] leading-relaxed",children:h(g||"Meta description goes here...",s)})]}):b.jsxs("div",{className:"max-w-[360px] mx-auto font-sans border border-slate-100 rounded-lg p-3 shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-[10px] text-slate-500 border border-slate-200",children:"Fav"}),b.jsxs("div",{className:"flex flex-col leading-tight",children:[b.jsx("span",{className:"text-sm text-slate-800 font-medium",children:"Site Name"}),b.jsx("cite",{className:"text-xs text-slate-500 not-italic",children:i||"example.com"})]}),b.jsxs("div",{className:"ml-auto text-slate-400",children:[b.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full mb-0.5"}),b.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full mb-0.5"}),b.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]}),b.jsx("h3",{className:"text-lg text-[#1967d2] font-medium cursor-pointer mb-2 leading-snug",children:f||"Page Title"}),b.jsx("div",{className:"text-sm text-[#4d5156] leading-relaxed",children:h(g||"Meta description goes here...",s)})]})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Quick Analysis"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[b.jsx(Jf,{className:`w-5 h-5 flex-shrink-0 ${r.length>0&&r.length<=u?"text-green-500":"text-slate-300"}`}),b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Title length is optimal (under 60 chars)."})]}),b.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[b.jsx(Jf,{className:`w-5 h-5 flex-shrink-0 ${t.length>=50&&t.length<=d?"text-green-500":"text-slate-300"}`}),b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Description length is optimal (between 50-160 chars)."})]}),b.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[b.jsx(Jf,{className:`w-5 h-5 flex-shrink-0 ${s&&(r.toLowerCase().includes(s.toLowerCase())||t.toLowerCase().includes(s.toLowerCase()))?"text-green-500":"text-slate-300"}`}),b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Focus keyword appears in title or description."})]})]})]})]})]})},NY=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(""),[i,a]=Qe.useState(""),[s,o]=Qe.useState(!1),[l,c]=Qe.useState(null),[u,d]=Qe.useState(null),h=async()=>{if(!r.trim()||!i.trim()){d("Please enter both a target keyword and content to analyze.");return}o(!0),d(null),c(null);try{const g=`
            Act as an expert SEO analyzer. Analyze the following content based on the target keyword.
            
            Target Keyword: "${r}"
            Page Title: "${t}"
            Content Body: "${i}"

            Return a strict JSON object with the following structure (do not use markdown formatting):
            {
                "score": number (0-100),
                "density": string (e.g. "1.5%"),
                "readability": string (e.g. "8th Grade", "Complex", "Easy"),
                "sentiment": string (e.g. "Positive", "Neutral"),
                "titleFeedback": string (Specific critique of the title if provided, else "No title provided"),
                "contentFeedback": string (General summary of content quality),
                "suggestions": string[] (Array of 3-5 actionable improvement tips),
                "lsiKeywords": string[] (Array of 5 relevant LSI keywords that are missing or recommended)
            }
        `,w=(await Y4(g,"You are an SEO expert. Output strictly raw JSON. No markdown code blocks.")).replace(/```json/g,"").replace(/```/g,"").trim(),x=JSON.parse(w);c(x)}catch(g){console.error("SEO Analysis Error:",g),d("Failed to analyze content. Please try again.")}finally{o(!1)}},f=g=>g>=80?"text-green-500 border-green-500":g>=50?"text-yellow-500 border-yellow-500":"text-red-500 border-red-500";return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-6 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[b.jsx(nT,{className:"w-5 h-5 text-primary-500"})," Content Inputs"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Target Keyword"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white",placeholder:"e.g. digital marketing",value:r,onChange:g=>e(g.target.value)})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Page Title ",b.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white",placeholder:"e.g. The Ultimate Guide to Digital Marketing",value:t,onChange:g=>n(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Content Body"}),b.jsx("textarea",{className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none resize-y min-h-[300px] dark:text-white",placeholder:"Paste your article or draft here...",value:i,onChange:g=>a(g.target.value)}),b.jsxs("div",{className:"text-right text-xs text-slate-500 mt-2",children:[i.split(/\s+/).filter(Boolean).length," words"]})]}),b.jsxs("button",{onClick:h,disabled:s||!r||!i,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold shadow-lg hover:bg-primary-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[s?b.jsx(si,{className:"w-5 h-5 animate-spin"}):b.jsx(N_,{className:"w-5 h-5"}),s?"Analyzing...":"Analyze Content"]}),u&&b.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm flex items-center gap-2",children:[b.jsx(Iy,{className:"w-4 h-4"})," ",u]})]})]})}),b.jsx("div",{className:"lg:col-span-6",children:l?b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"SEO Score"}),b.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm max-w-[200px]",children:"Based on keyword usage, structure, and readability."})]}),b.jsx("div",{className:`relative w-24 h-24 rounded-full border-8 flex items-center justify-center ${f(l.score)}`,children:b.jsx("span",{className:"text-3xl font-extrabold text-slate-900 dark:text-white",children:l.score})})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800 text-center",children:[b.jsx("div",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Density"}),b.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l.density})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800 text-center",children:[b.jsx("div",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Readability"}),b.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l.readability})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800 text-center",children:[b.jsx("div",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Sentiment"}),b.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l.sentiment})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[t?b.jsx(Jf,{className:"w-4 h-4 text-primary-500"}):b.jsx(M_,{className:"w-4 h-4 text-red-500"}),"Title Analysis"]}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed bg-slate-50 dark:bg-slate-800 p-3 rounded-lg",children:l.titleFeedback})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Content Analysis"}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:l.contentFeedback})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Actionable Improvements"}),b.jsx("ul",{className:"space-y-3",children:l.suggestions.map((g,y)=>b.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-700 dark:text-slate-300",children:[b.jsx("span",{className:"w-5 h-5 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex-shrink-0 flex items-center justify-center text-xs font-bold mt-0.5",children:y+1}),g]},y))})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Missing / Recommended Keywords"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:l.lsiKeywords.map((g,y)=>b.jsx("span",{className:"px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg text-sm font-medium border border-blue-100 dark:border-blue-900/50",children:g},y))})]}),b.jsx("div",{className:"text-center",children:b.jsxs("button",{onClick:()=>c(null),className:"text-sm text-slate-500 hover:text-primary-600 flex items-center justify-center gap-2 mx-auto",children:[b.jsx(b2,{className:"w-4 h-4"})," Analyze Another"]})})]}):b.jsx("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800 p-8 text-center",children:s?b.jsxs(b.Fragment,{children:[b.jsx(si,{className:"w-12 h-12 text-primary-500 animate-spin mb-4"}),b.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Analyzing Content..."}),b.jsx("p",{className:"text-slate-500",children:"Checking density, readability, and structure."})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:b.jsx(N_,{className:"w-8 h-8 text-slate-400"})}),b.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Ready to Analyze"}),b.jsx("p",{className:"text-slate-500 max-w-xs mx-auto mt-2",children:"Enter your content and target keyword to get a comprehensive SEO score and improvement tips."})]})})})]})},RY=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(""),[i,a]=Qe.useState(""),[s,o]=Qe.useState(!1),[l,c]=Qe.useState(null),[u,d]=Qe.useState(null),h=async()=>{if(!r.trim()||!t.trim()){d("Please enter both your URL and the source URL.");return}o(!0),d(null),c(null);try{const g=`
            Act as a strict SEO expert. Analyze the value of a potential backlink.
            
            My Website (Target): "${r}"
            Backlink Source Page: "${t}"
            Anchor Text: "${i||"Not specified"}"

            Infer the niche/industry of both URLs based on their structure and domain names.
            Evaluate if the source is relevant to the target.
            Estimate if the source URL looks like a high-quality site (e.g., .edu, clean slug) or spammy.

            Return a strict JSON object with this structure (no markdown):
            {
                "relevanceScore": number (0-100),
                "spamRisk": "Low" | "Medium" | "High",
                "domainAuthorityProxy": "Low" | "Medium" | "High" | "Very High",
                "pros": string[] (3 bullet points on why this link is good),
                "cons": string[] (3 bullet points on risks or downsides),
                "verdict": "Pursue" | "Avoid" | "Neutral",
                "analysis": "A concise paragraph summarizing the link's SEO value."
            }
        `,w=(await Y4(g,"You are an SEO analyst. Output strictly raw JSON. No markdown code blocks.")).replace(/```json/g,"").replace(/```/g,"").trim(),x=JSON.parse(w);c(x)}catch(g){console.error("Backlink Analysis Error:",g),d("Analysis failed. Please try again.")}finally{o(!1)}},f=g=>g==="Pursue"?"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":g==="Avoid"?"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900":"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-900";return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-5 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[b.jsx(rP,{className:"w-5 h-5 text-primary-500"})," Link Details"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Your Website (Target URL)"}),b.jsx("input",{type:"url",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white transition-all",placeholder:"https://mysite.com/blog/...",value:r,onChange:g=>e(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Backlink Source URL"}),b.jsx("input",{type:"url",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white transition-all",placeholder:"https://othersite.com/resource-page",value:t,onChange:g=>n(g.target.value)})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Anchor Text ",b.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white transition-all",placeholder:"e.g., Best SEO Tools",value:i,onChange:g=>a(g.target.value)})]}),b.jsxs("button",{onClick:h,disabled:s||!r||!t,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold shadow-lg hover:bg-primary-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-4",children:[s?b.jsx(si,{className:"w-5 h-5 animate-spin"}):b.jsx(nT,{className:"w-5 h-5"}),s?"Analyzing...":"Check Quality"]}),u&&b.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm flex items-center gap-2",children:[b.jsx(Iy,{className:"w-4 h-4"})," ",u]})]})]})}),b.jsx("div",{className:"lg:col-span-7",children:l?b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"AI Recommendation"}),b.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-bold border ${f(l.verdict)}`,children:[l.verdict==="Pursue"?b.jsx(Jf,{className:"w-4 h-4"}):l.verdict==="Avoid"?b.jsx(M_,{className:"w-4 h-4"}):b.jsx(Iy,{className:"w-4 h-4"}),l.verdict]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("h2",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Relevance Score"}),b.jsxs("div",{className:"text-3xl font-extrabold text-slate-900 dark:text-white flex items-center justify-end gap-1",children:[l.relevanceScore,b.jsx("span",{className:"text-lg text-slate-400",children:"/100"})]})]})]}),b.jsx("p",{className:"text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-800 p-4 rounded-xl text-sm leading-relaxed border border-slate-100 dark:border-slate-700",children:l.analysis})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-500 text-sm font-bold uppercase",children:[b.jsx(iP,{className:"w-4 h-4"})," Spam Risk"]}),b.jsx("div",{className:`text-xl font-bold ${l.spamRisk==="Low"?"text-green-500":l.spamRisk==="Medium"?"text-yellow-500":"text-red-500"}`,children:l.spamRisk})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-500 text-sm font-bold uppercase",children:[b.jsx(N_,{className:"w-4 h-4"})," Authority Proxy"]}),b.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-white",children:l.domainAuthorityProxy})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800",children:[b.jsxs("h4",{className:"font-bold text-green-600 mb-4 flex items-center gap-2",children:[b.jsx(Jf,{className:"w-5 h-5"})," Pros"]}),b.jsx("ul",{className:"space-y-3",children:l.pros.map((g,y)=>b.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-start gap-2",children:[b.jsx(I_,{className:"w-4 h-4 mt-0.5 text-green-500 flex-shrink-0"})," ",g]},y))})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800",children:[b.jsxs("h4",{className:"font-bold text-red-500 mb-4 flex items-center gap-2",children:[b.jsx(M_,{className:"w-5 h-5"})," Cons"]}),b.jsx("ul",{className:"space-y-3",children:l.cons.map((g,y)=>b.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-start gap-2",children:[b.jsx(I_,{className:"w-4 h-4 mt-0.5 text-red-500 flex-shrink-0"})," ",g]},y))})]})]})]}):b.jsx("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800 p-8 text-center",children:s?b.jsxs(b.Fragment,{children:[b.jsx(si,{className:"w-12 h-12 text-primary-500 animate-spin mb-4"}),b.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Evaluating Link..."}),b.jsx("p",{className:"text-slate-500",children:"Checking niche relevance and authority signals."})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:b.jsx(XP,{className:"w-8 h-8 text-slate-400"})}),b.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Backlink Analysis"}),b.jsx("p",{className:"text-slate-500 max-w-xs mx-auto mt-2",children:"Enter the source and target URLs to evaluate if a backlink is worth pursuing."})]})})})]})},IY=[{label:"All Robots (*)",value:"*"},{label:"Googlebot",value:"Googlebot"},{label:"Googlebot-Image",value:"Googlebot-Image"},{label:"Bingbot",value:"Bingbot"},{label:"Slurp (Yahoo)",value:"Slurp"},{label:"DuckDuckBot",value:"DuckDuckBot"},{label:"Baiduspider",value:"Baiduspider"},{label:"Yandex",value:"Yandex"},{label:"Twitterbot",value:"Twitterbot"},{label:"FacebookExternalHit",value:"facebot"}],MY=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState([{id:"1",userAgent:"*",allow:"",disallow:`/admin/
/private/`,crawlDelay:""}]),[i,a]=Qe.useState(""),[s,o]=Qe.useState(!1);Qe.useEffect(()=>{l()},[r,t]);const l=()=>{let g="";t.forEach((y,w)=>{g+=`User-agent: ${y.userAgent}
`,y.crawlDelay&&(g+=`Crawl-delay: ${y.crawlDelay}
`);const x=y.disallow.split(`
`).filter(v=>v.trim()!=="");x.length>0?x.forEach(v=>{let R=v.trim();R.startsWith("/")||(R="/"+R),g+=`Disallow: ${R}
`}):y.allow.split(`
`).filter(v=>v.trim()).length,y.allow.split(`
`).filter(v=>v.trim()!=="").forEach(v=>{let R=v.trim();R.startsWith("/")||(R="/"+R),g+=`Allow: ${R}
`}),w<t.length-1&&(g+=`
`)}),r&&(g+=`
Sitemap: ${r}`),a(g.trim())},c=()=>{n([...t,{id:Date.now().toString(),userAgent:"Googlebot",allow:"",disallow:"",crawlDelay:""}])},u=g=>{n(t.filter(y=>y.id!==g))},d=(g,y,w)=>{n(t.map(x=>x.id===g?{...x,[y]:w}:x))},h=()=>{navigator.clipboard.writeText(i),o(!0),setTimeout(()=>o(!1),2e3)},f=()=>{const g=new Blob([i],{type:"text/plain"}),y=URL.createObjectURL(g),w=document.createElement("a");w.href=y,w.download="robots.txt",w.click()};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[b.jsx(mg,{className:"w-4 h-4 text-primary-500"})," Global Settings"]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Sitemap URL"}),b.jsx("input",{type:"url",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white",placeholder:"https://example.com/sitemap.xml",value:r,onChange:g=>e(g.target.value)})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Bot Rules"}),b.jsxs("button",{onClick:c,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-1",children:[b.jsx(cT,{className:"w-4 h-4"})," Add Rule"]})]}),t.map((g,y)=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 relative group-hover:border-primary-200 transition-colors",children:[t.length>1&&b.jsx("button",{onClick:()=>u(g.id),className:"absolute top-4 right-4 text-slate-400 hover:text-red-500 transition-colors",children:b.jsx(a0,{className:"w-4 h-4"})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"User Agent"}),b.jsxs("div",{className:"relative",children:[b.jsx(aP,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),b.jsx("input",{list:`bots-${g.id}`,className:"w-full pl-9 p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm font-mono",value:g.userAgent,onChange:w=>d(g.id,"userAgent",w.target.value)}),b.jsx("datalist",{id:`bots-${g.id}`,children:IY.map(w=>b.jsx("option",{value:w.value,children:w.label},w.value))})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Crawl Delay (Seconds)"}),b.jsx("input",{type:"number",className:"w-full p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",placeholder:"Default",value:g.crawlDelay,onChange:w=>d(g.id,"crawlDelay",w.target.value)})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase text-red-500",children:"Disallow Paths (One per line)"}),b.jsx("textarea",{className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-red-500/50 outline-none dark:text-white text-sm font-mono min-h-[100px]",placeholder:`/admin/
/private/`,value:g.disallow,onChange:w=>d(g.id,"disallow",w.target.value)})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase text-green-600",children:"Allow Paths (One per line)"}),b.jsx("textarea",{className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-green-500/50 outline-none dark:text-white text-sm font-mono min-h-[100px]",placeholder:`/public/
/images/`,value:g.allow,onChange:w=>d(g.id,"allow",w.target.value)})]})]})]},g.id))]})]}),b.jsxs("div",{className:"lg:col-span-5 sticky top-24",children:[b.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-xl overflow-hidden border border-slate-800",children:[b.jsxs("div",{className:"p-4 bg-slate-950 border-b border-slate-800 flex items-center justify-between",children:[b.jsx("span",{className:"text-slate-400 text-sm font-mono",children:"robots.txt"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:h,className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Copy to Clipboard",children:s?b.jsx(Qa,{className:"w-4 h-4 text-green-500"}):b.jsx(j1,{className:"w-4 h-4"})}),b.jsx("button",{onClick:f,className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Download File",children:b.jsx(ma,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"p-6 overflow-x-auto",children:b.jsx("pre",{className:"font-mono text-sm text-green-400 whitespace-pre",children:i})})]}),b.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900/50 rounded-xl p-4",children:[b.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2 flex items-center gap-2",children:[b.jsx(mg,{className:"w-4 h-4"})," Pro Tip"]}),b.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:["Place the downloaded ",b.jsx("code",{children:"robots.txt"})," file in the root directory of your website (e.g., ",b.jsx("code",{children:"example.com/robots.txt"}),")."]})]})]})]})},PY=["always","hourly","daily","weekly","monthly","yearly","never"],FY=()=>{const[r,e]=Qe.useState("https://example.com"),[t,n]=Qe.useState("/"),[i,a]=Qe.useState("monthly"),[s,o]=Qe.useState(.8),[l,c]=Qe.useState(new Date().toISOString().split("T")[0]),[u,d]=Qe.useState([{id:"1",path:"/",lastMod:new Date().toISOString().split("T")[0],changeFreq:"daily",priority:1},{id:"2",path:"/about",lastMod:new Date().toISOString().split("T")[0],changeFreq:"monthly",priority:.8},{id:"3",path:"/contact",lastMod:new Date().toISOString().split("T")[0],changeFreq:"yearly",priority:.5}]),[h,f]=Qe.useState(""),[g,y]=Qe.useState(!1);Qe.useEffect(()=>{w()},[r,u]);const w=()=>{let M=`<?xml version="1.0" encoding="UTF-8"?>
`;M+=`<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;const B=r.endsWith("/")?r.slice(0,-1):r;u.forEach(L=>{const z=L.path.startsWith("/")?L.path:"/"+L.path;M+=`  <url>
`,M+=`    <loc>${B}${z}</loc>
`,M+=`    <lastmod>${L.lastMod}</lastmod>
`,M+=`    <changefreq>${L.changeFreq}</changefreq>
`,M+=`    <priority>${L.priority.toFixed(1)}</priority>
`,M+=`  </url>
`}),M+="</urlset>",f(M)},x=()=>{t&&(d(M=>[...M,{id:Date.now().toString(),path:t,changeFreq:i,priority:s,lastMod:l}]),n(""),o(.5))},T=M=>{d(B=>B.filter(L=>L.id!==M))},v=()=>{navigator.clipboard.writeText(h),y(!0),setTimeout(()=>y(!1),2e3)},R=()=>{const M=new Blob([h],{type:"text/xml"}),B=URL.createObjectURL(M),L=document.createElement("a");L.href=B,L.download="sitemap.xml",L.click()};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[b.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[b.jsx(Pm,{className:"w-4 h-4 text-primary-500"})," Website URL"]}),b.jsx("input",{type:"url",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white",placeholder:"https://example.com",value:r,onChange:M=>e(M.target.value)})]})}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Add Page"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Path"}),b.jsx("input",{type:"text",className:"w-full p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",placeholder:"/blog/post-1",value:t,onChange:M=>n(M.target.value)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Last Modified"}),b.jsxs("div",{className:"relative",children:[b.jsx(rT,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),b.jsx("input",{type:"date",className:"w-full pl-9 p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm",value:l,onChange:M=>c(M.target.value)})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Frequency"}),b.jsxs("div",{className:"relative",children:[b.jsx(Db,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),b.jsx("select",{className:"w-full pl-9 p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white text-sm appearance-none",value:i,onChange:M=>a(M.target.value),children:PY.map(M=>b.jsx("option",{value:M,children:M},M))})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("label",{className:"text-xs font-bold text-slate-500 flex justify-between",children:["Priority ",b.jsx("span",{children:s})]}),b.jsxs("div",{className:"flex items-center gap-2 h-[42px]",children:[b.jsx(EP,{className:"w-4 h-4 text-slate-400"}),b.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-700",value:s,onChange:M=>o(parseFloat(M.target.value))})]})]})]}),b.jsxs("button",{onClick:x,disabled:!t,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[b.jsx(cT,{className:"w-5 h-5"})," Add to Map"]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white px-1",children:["Pages Included (",u.length,")"]}),b.jsxs("div",{className:"max-h-[300px] overflow-y-auto space-y-2 custom-scrollbar pr-1",children:[u.length===0&&b.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:"No pages added yet."}),u.map(M=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm group",children:[b.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[b.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-slate-500",children:b.jsx(sP,{className:"w-4 h-4"})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm truncate",children:M.path}),b.jsxs("p",{className:"text-xs text-slate-500 flex gap-2",children:[b.jsx("span",{children:M.lastMod}),b.jsx("span",{children:""}),b.jsx("span",{children:M.priority}),b.jsx("span",{children:""}),b.jsx("span",{children:M.changeFreq})]})]})]}),b.jsx("button",{onClick:()=>T(M.id),className:"p-2 text-slate-400 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:b.jsx(a0,{className:"w-4 h-4"})})]},M.id))]})]})]}),b.jsx("div",{className:"lg:col-span-5 sticky top-24",children:b.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-xl overflow-hidden border border-slate-800 flex flex-col h-[500px]",children:[b.jsxs("div",{className:"p-4 bg-slate-950 border-b border-slate-800 flex items-center justify-between",children:[b.jsx("span",{className:"text-slate-400 text-sm font-mono",children:"sitemap.xml"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:v,className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Copy",children:g?b.jsx(Qa,{className:"w-4 h-4 text-green-500"}):b.jsx(j1,{className:"w-4 h-4"})}),b.jsx("button",{onClick:R,className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Download",children:b.jsx(ma,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex-1 p-4 overflow-auto custom-scrollbar",children:b.jsx("pre",{className:"font-mono text-xs md:text-sm text-blue-300 whitespace-pre leading-relaxed",children:h})})]})})]})},LY=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(""),[i,a]=Qe.useState(!1),[s,o]=Qe.useState(null),l=h=>h.trim().split(/\s+/).map(f=>({raw:f,clean:f.toLowerCase().replace(/[^\w]/g,"")})),c=()=>{if(!r.trim()||!t.trim())return;const h=l(r),f=l(t),g=4,y=new Set;for(let T=0;T<=f.length-g;T++){const v=f.slice(T,T+g).map(R=>R.clean).join(" ");v.trim()&&y.add(v)}const w=new Set;for(let T=0;T<=h.length-g;T++){const v=h.slice(T,T+g).map(R=>R.clean).join(" ");if(v.trim()&&y.has(v))for(let R=0;R<g;R++)w.add(T+R)}const x=w.size>0?Math.round(w.size/h.length*100):0;o({similarityScore:x,matchCount:w.size,totalWords:h.length,matchedIndices:w}),a(!0)},u=Qe.useMemo(()=>!i||!s?null:l(r).map((f,g)=>{const y=s.matchedIndices.has(g);return b.jsx("span",{className:`${y?"bg-red-200 dark:bg-red-900/50 text-red-900 dark:text-red-200 border-b border-red-400":"text-slate-800 dark:text-slate-300"} mr-1 inline-block transition-colors`,children:f.raw},g)}),[r,i,s]),d=()=>{e(""),n(""),a(!1),o(null)};return b.jsxs("div",{className:"flex flex-col gap-8",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 flex flex-col h-full min-h-[500px]",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[b.jsx(zd,{className:"w-5 h-5 text-primary-500"})," Text to Check"]}),b.jsxs("span",{className:"text-xs font-mono text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[r.split(/\s+/).filter(Boolean).length," words"]})]}),b.jsx("textarea",{className:"flex-1 w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none resize-none dark:text-white leading-relaxed",placeholder:"Paste the student's essay or text here...",value:r,onChange:h=>{e(h.target.value),a(!1)}})]})}),b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 flex flex-col h-full min-h-[500px]",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[b.jsx(zd,{className:"w-5 h-5 text-green-500"})," Reference Source"]}),b.jsxs("span",{className:"text-xs font-mono text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[t.split(/\s+/).filter(Boolean).length," words"]})]}),b.jsx("textarea",{className:"flex-1 w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-green-500 outline-none resize-none dark:text-white leading-relaxed",placeholder:"Paste the original source material here to compare against...",value:t,onChange:h=>{n(h.target.value),a(!1)}})]})})]}),b.jsx("div",{className:"flex justify-center",children:b.jsxs("button",{onClick:c,disabled:!r.trim()||!t.trim(),className:"py-4 px-12 bg-primary-600 text-white rounded-xl font-bold shadow-lg shadow-primary-500/20 hover:bg-primary-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:[b.jsx(oP,{className:"w-5 h-5"})," Check for Plagiarism"]})}),i&&s&&b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-800 overflow-hidden animate-fade-in",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/20 flex flex-wrap items-center justify-between gap-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:b.jsx(TP,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Analysis Report"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Comparison based on 4-word sequences"})]})]}),b.jsxs("div",{className:"flex items-center gap-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Uniqueness"}),b.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[100-s.similarityScore,"%"]})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Similarity"}),b.jsxs("div",{className:`text-2xl font-bold ${s.similarityScore>50?"text-red-500":s.similarityScore>20?"text-yellow-500":"text-slate-700 dark:text-slate-300"}`,children:[s.similarityScore,"%"]})]})]})]}),b.jsxs("div",{className:"p-8",children:[b.jsxs("div",{className:"flex items-start gap-4 mb-6 p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800",children:[s.similarityScore<10?b.jsx(Jf,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-0.5"}):b.jsx(Iy,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),b.jsxs("div",{children:[b.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:["Verdict: ",s.similarityScore<10?"Likely Unique":s.similarityScore<40?"Some Similarities Found":"Significant Plagiarism Detected"]}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.similarityScore===0?"No duplicate phrases found between the two texts.":`Found ${s.matchCount} matched words out of ${s.totalWords} total words.`})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Detailed View (Red indicates matches)"}),b.jsx("div",{className:"p-6 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 leading-loose text-lg",children:u})]})]}),b.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 flex justify-center",children:b.jsxs("button",{onClick:d,className:"text-sm text-slate-500 hover:text-primary-600 flex items-center gap-2",children:[b.jsx(b2,{className:"w-4 h-4"})," Start New Analysis"]})})]})]})},mC=[{id:"minimalist",label:"Minimalist",desc:"Clean, simple, timeless",icon:b.jsx(R_,{className:"w-5 h-5"})},{id:"geometric",label:"Geometric",desc:"Shapes, symmetry, precision",icon:b.jsx(t9,{className:"w-5 h-5"})},{id:"mascot",label:"Mascot",desc:"Character-based, friendly",icon:b.jsx(dT,{className:"w-5 h-5"})},{id:"vintage",label:"Vintage",desc:"Retro, badge, textured",icon:b.jsx(O4,{className:"w-5 h-5"})},{id:"abstract",label:"Abstract",desc:"Conceptual, unique forms",icon:b.jsx(lP,{className:"w-5 h-5"})},{id:"3d",label:"3D Gradient",desc:"Depth, modern tech feel",icon:b.jsx(R_,{className:"w-5 h-5"})}],gC=[{id:"icon_text",label:"Icon + Text",icon:b.jsx(lT,{className:"w-4 h-4"})},{id:"wordmark",label:"Wordmark",icon:b.jsx(iT,{className:"w-4 h-4"})},{id:"emblem",label:"Emblem",icon:b.jsx(O4,{className:"w-4 h-4"})}],DY=["Modern","Classic","Playful","Luxury","Tech","Organic","Industrial","Friendly"],vC=[{id:"blue",label:"Trust (Blue)",hex:"#3B82F6",prompt:"blue color palette"},{id:"red",label:"Passion (Red)",hex:"#EF4444",prompt:"red color palette"},{id:"green",label:"Nature (Green)",hex:"#22C55E",prompt:"green and earth tones"},{id:"black",label:"Luxury (B&W)",hex:"#111827",prompt:"black and white, monochrome"},{id:"purple",label:"Creative (Purple)",hex:"#A855F7",prompt:"purple and violet tones"},{id:"orange",label:"Energy (Orange)",hex:"#F97316",prompt:"orange and yellow tones"},{id:"gradient",label:"Tech (Gradient)",hex:"linear-gradient(135deg, #3B82F6, #A855F7)",prompt:"vibrant modern gradients"},{id:"gold",label:"Premium (Gold)",hex:"#EAB308",prompt:"gold and metallic textures"}],BY=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(""),[i,a]=Qe.useState("minimalist"),[s,o]=Qe.useState("icon_text"),[l,c]=Qe.useState("blue"),[u,d]=Qe.useState(["Modern"]),[h,f]=Qe.useState([]),[g,y]=Qe.useState(null),[w,x]=Qe.useState(!1),[T,v]=Qe.useState(null),[R,M]=Qe.useState([]),B=H=>{u.includes(H)?d($=>$.filter(U=>U!==H)):u.length<3&&d($=>[...$,H])},L=async()=>{if(!r.trim()||!t.trim()){v("Please enter your brand name and industry.");return}x(!0),v(null),f([]),y(null);try{const H=mC.find(q=>q.id===i),$=vC.find(q=>q.id===l),U=gC.find(q=>q.id===s),D=`Design a high-quality professional vector logo for a brand named "${r}". 
      Industry: ${t}. 
      Design Style: ${H==null?void 0:H.label} (${H==null?void 0:H.desc}). 
      Layout Type: ${U==null?void 0:U.label}. 
      Color Palette: ${$==null?void 0:$.prompt}. 
      Mood/Vibe: ${u.join(", ")}. 
      Requirements: High contrast, vector art style, white background, centered composition, scalable, professional finish. 
      ${s==="wordmark"?"Focus on creative typography.":"Focus on a unique symbol or icon."}`,ee=Array(4).fill(0).map(()=>OU(D,"1:1")),re=(await Promise.all(ee.map(q=>q.catch(()=>null)))).filter(q=>q!==null);if(re.length>0){f(re),y(re[0]);const q={id:Date.now().toString(),url:re[0],prompt:D,timestamp:Date.now()};M(W=>[q,...W])}else v("Failed to generate logos. Please try again.")}catch(H){v(H.message||"An unexpected error occurred.")}finally{x(!1)}},z=H=>{f([H.url]),y(H.url),window.scrollTo({top:0,behavior:"smooth"})};return b.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"xl:col-span-4 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[b.jsx(OY,{})," Design Studio"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Brand Name"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white font-medium",placeholder:"e.g. Nexus",value:r,onChange:H=>e(H.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Industry"}),b.jsx("input",{type:"text",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white",placeholder:"e.g. Fintech",value:t,onChange:H=>n(H.target.value)})]})]}),b.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Layout"}),b.jsx("div",{className:"grid grid-cols-3 gap-2",children:gC.map(H=>b.jsxs("button",{onClick:()=>o(H.id),className:`flex flex-col items-center justify-center p-2 rounded-lg border transition-all ${s===H.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400":"border-slate-200 dark:border-slate-700 text-slate-500 hover:border-slate-300"}`,children:[b.jsx("div",{className:"mb-1 opacity-70",children:H.icon}),b.jsx("span",{className:"text-[10px] font-bold",children:H.label})]},H.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Aesthetic"}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:mC.map(H=>b.jsxs("button",{onClick:()=>a(H.id),className:`p-3 rounded-xl border text-left transition-all flex items-start gap-3 ${i===H.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 ring-1 ring-primary-500":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[b.jsx("div",{className:`mt-0.5 ${i===H.id?"text-primary-600":"text-slate-400"}`,children:H.icon}),b.jsxs("div",{children:[b.jsx("div",{className:`font-bold text-sm ${i===H.id?"text-primary-900 dark:text-primary-300":"text-slate-700 dark:text-slate-200"}`,children:H.label}),b.jsx("div",{className:"text-[10px] text-slate-500 leading-tight mt-0.5",children:H.desc})]})]},H.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Vibe (Max 3)"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:DY.map(H=>b.jsx("button",{onClick:()=>B(H),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${u.includes(H)?"bg-slate-800 text-white border-slate-800 dark:bg-white dark:text-slate-900":"bg-white text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700 hover:border-slate-300"}`,children:H},H))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Palette"}),b.jsx("div",{className:"grid grid-cols-4 gap-3",children:vC.map(H=>b.jsx("button",{onClick:()=>c(H.id),className:`group relative w-full aspect-square rounded-full transition-transform focus:outline-none ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 ${l===H.id?"ring-slate-900 dark:ring-white scale-110":"ring-transparent hover:scale-105"}`,style:{background:H.hex},title:H.label,children:l===H.id&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(Qa,{className:"w-4 h-4 text-white drop-shadow-md"})})},H.id))})]}),b.jsxs("button",{onClick:L,disabled:w||!r||!t,className:"w-full py-4 bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-700 hover:to-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-primary-500/25 flex items-center justify-center gap-2 transition-all transform active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed mt-4",children:[w?b.jsx(si,{className:"w-5 h-5 animate-spin"}):b.jsx(dT,{className:"w-5 h-5"}),w?"Designing...":"Generate 4 Designs"]}),T&&b.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm flex items-center gap-2",children:[b.jsx(Qs,{className:"w-4 h-4"})," ",T]})]})]})}),b.jsxs("div",{className:"xl:col-span-8 space-y-8",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col h-[600px] xl:h-[700px] sticky top-36",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/30",children:[b.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[b.jsx(lT,{className:"w-4 h-4"}),g?"Selected Design":"Preview"]}),h.length>0&&b.jsx("div",{className:"flex gap-2",children:b.jsxs("button",{onClick:L,className:"px-3 py-1.5 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-xs font-bold text-slate-600 dark:text-slate-300 hover:text-primary-600 flex items-center gap-1.5 transition-colors",children:[b.jsx(b2,{className:"w-3.5 h-3.5"})," Regenerate All"]})})]}),b.jsxs("div",{className:"flex-1 flex flex-col md:flex-row h-full overflow-hidden",children:[b.jsxs("div",{className:"flex-1 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-slate-50 dark:bg-slate-950 relative flex items-center justify-center p-8 md:p-12 overflow-hidden",children:[!g&&!w&&b.jsxs("div",{className:"text-center text-slate-400",children:[b.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-200 dark:border-slate-700 shadow-sm animate-pulse-slow",children:b.jsx(R_,{className:"w-10 h-10 opacity-30"})}),b.jsx("h5",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Your Brand Identity Awaits"}),b.jsx("p",{className:"text-sm mt-1 max-w-xs mx-auto",children:"Configure your preferences in the studio on the left and hit Generate."})]}),w&&b.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md animate-pulse",children:[1,2,3,4].map(H=>b.jsx("div",{className:"aspect-square bg-slate-200 dark:bg-slate-800 rounded-xl"},H))}),g&&!w&&b.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-xl z-10 animate-fade-in",children:[b.jsx("div",{className:"bg-white p-8 md:p-12 rounded-[2rem] shadow-2xl border border-slate-100 w-full aspect-square flex items-center justify-center",children:b.jsx("img",{src:g,alt:"Selected Logo",className:"w-full h-full object-contain"})}),b.jsxs("a",{href:g,download:`logo-${r.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}.png`,className:"w-full md:w-auto px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2",children:[b.jsx(ma,{className:"w-5 h-5"})," Download Design"]})]})]}),h.length>0&&!w&&b.jsxs("div",{className:"w-full md:w-48 bg-white dark:bg-slate-900 border-t md:border-t-0 md:border-l border-slate-200 dark:border-slate-800 p-4 overflow-y-auto custom-scrollbar flex flex-row md:flex-col gap-4",children:[b.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 hidden md:block",children:"Variations"}),h.map((H,$)=>b.jsxs("div",{onClick:()=>y(H),className:`flex-shrink-0 md:flex-shrink w-24 md:w-full aspect-square bg-white rounded-xl border-2 cursor-pointer transition-all overflow-hidden p-2 relative ${g===H?"border-primary-500 ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-slate-900":"border-slate-100 dark:border-slate-800 hover:border-slate-300"}`,children:[b.jsx("img",{src:H,alt:`Variation ${$+1}`,className:"w-full h-full object-contain"}),g===H&&b.jsx("div",{className:"absolute top-1 right-1 bg-primary-500 text-white rounded-full p-0.5",children:b.jsx(Qa,{className:"w-3 h-3"})})]},$))]})]})]}),R.length>0&&b.jsxs("div",{className:"space-y-4 animate-fade-in",children:[b.jsx("h4",{className:"font-bold text-slate-500 dark:text-slate-400 text-sm uppercase tracking-wider px-1",children:"Recent Variations"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:R.map(H=>b.jsxs("div",{onClick:()=>z(H),className:`group relative aspect-square bg-white rounded-xl shadow-sm border overflow-hidden cursor-pointer transition-all ${g===H.url?"ring-2 ring-primary-500 border-primary-500":"border-slate-200 dark:border-slate-800 hover:border-primary-300"}`,children:[b.jsx("img",{src:H.url,alt:"History",className:"w-full h-full object-contain p-4"}),b.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:b.jsx("div",{className:"text-white text-xs font-bold bg-black/50 px-2 py-1 rounded-full",children:"Restore"})})]},H.id))})]})]})]})},OY=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary-500",children:[b.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]});var Fb={},Xw,bC;function Vr(){if(bC)return Xw;bC=1;function r(w){return new Int8Array(w)}function e(w){return new Int16Array(w)}function t(w){return new Int32Array(w)}function n(w){return new Float32Array(w)}function i(w){return new Float64Array(w)}function a(w){if(w.length==1)return n(w[0]);var x=w[0];w=w.slice(1);for(var T=[],v=0;v<x;v++)T.push(a(w));return T}function s(w){if(w.length==1)return t(w[0]);var x=w[0];w=w.slice(1);for(var T=[],v=0;v<x;v++)T.push(s(w));return T}function o(w){if(w.length==1)return e(w[0]);var x=w[0];w=w.slice(1);for(var T=[],v=0;v<x;v++)T.push(o(w));return T}function l(w){if(w.length==1)return new Array(w[0]);var x=w[0];w=w.slice(1);for(var T=[],v=0;v<x;v++)T.push(l(w));return T}var c={};c.fill=function(w,x,T,v){if(arguments.length==2)for(var R=0;R<w.length;R++)w[R]=arguments[1];else for(var R=x;R<T;R++)w[R]=v};var u={};u.arraycopy=function(w,x,T,v,R){for(var M=x+R;x<M;)T[v++]=w[x++]},u.out={},u.out.println=function(w){console.log(w)},u.out.printf=function(){console.log.apply(console,arguments)};var d={};d.SQRT2=1.4142135623730951,d.FAST_LOG10=function(w){return Math.log10(w)},d.FAST_LOG10_X=function(w,x){return Math.log10(w)*x};function h(w){this.ordinal=w}h.short_block_allowed=new h(0),h.short_block_coupled=new h(1),h.short_block_dispensed=new h(2),h.short_block_forced=new h(3);var f={};f.MAX_VALUE=34028235e31;function g(w){this.ordinal=w}g.vbr_off=new g(0),g.vbr_mt=new g(1),g.vbr_rh=new g(2),g.vbr_abr=new g(3),g.vbr_mtrh=new g(4),g.vbr_default=g.vbr_mtrh;var y=function(w){};return Xw={System:u,VbrMode:g,Float:f,ShortBlock:h,Util:d,Arrays:c,new_array_n:l,new_byte:r,new_double:i,new_float:n,new_float_n:a,new_int:t,new_int_n:s,new_short:e,new_short_n:o,assert:y},Xw}var Kw,yC;function jY(){if(yC)return Kw;yC=1;var r=Vr(),e=r.System;r.VbrMode,r.Float,r.ShortBlock;var t=r.Util,n=r.Arrays;r.new_array_n,r.new_byte,r.new_double;var i=r.new_float;r.new_float_n,r.new_int,r.new_int_n,r.assert;var a=Fa();function s(){var o=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*t.SQRT2*.5/2384e-9,.017876148*t.SQRT2*.5/2384e-9,.003134727*t.SQRT2*.5/2384e-9,.002457142*t.SQRT2*.5/2384e-9,971317e-9*t.SQRT2*.5/2384e-9,218868e-9*t.SQRT2*.5/2384e-9,101566e-9*t.SQRT2*.5/2384e-9,13828e-9*t.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],l=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],c=l[a.SHORT_TYPE],u=l[a.SHORT_TYPE],d=l[a.SHORT_TYPE],h=l[a.SHORT_TYPE],f=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function g(x,T,v){for(var R=10,M=T+238-14-286,B=-15;B<0;B++){var L,z,H;L=o[R+-10],z=x[M+-224]*L,H=x[T+224]*L,L=o[R+-9],z+=x[M+-160]*L,H+=x[T+160]*L,L=o[R+-8],z+=x[M+-96]*L,H+=x[T+96]*L,L=o[R+-7],z+=x[M+-32]*L,H+=x[T+32]*L,L=o[R+-6],z+=x[M+32]*L,H+=x[T+-32]*L,L=o[R+-5],z+=x[M+96]*L,H+=x[T+-96]*L,L=o[R+-4],z+=x[M+160]*L,H+=x[T+-160]*L,L=o[R+-3],z+=x[M+224]*L,H+=x[T+-224]*L,L=o[R+-2],z+=x[T+-256]*L,H-=x[M+256]*L,L=o[R+-1],z+=x[T+-192]*L,H-=x[M+192]*L,L=o[R+0],z+=x[T+-128]*L,H-=x[M+128]*L,L=o[R+1],z+=x[T+-64]*L,H-=x[M+64]*L,L=o[R+2],z+=x[T+0]*L,H-=x[M+0]*L,L=o[R+3],z+=x[T+64]*L,H-=x[M+-64]*L,L=o[R+4],z+=x[T+128]*L,H-=x[M+-128]*L,L=o[R+5],z+=x[T+192]*L,H-=x[M+-192]*L,z*=o[R+6],L=H-z,v[30+B*2]=H+z,v[31+B*2]=o[R+7]*L,R+=18,T--,M++}{var z,H,$,U;H=x[T+-16]*o[R+-10],z=x[T+-32]*o[R+-2],H+=(x[T+-48]-x[T+16])*o[R+-9],z+=x[T+-96]*o[R+-1],H+=(x[T+-80]+x[T+48])*o[R+-8],z+=x[T+-160]*o[R+0],H+=(x[T+-112]-x[T+80])*o[R+-7],z+=x[T+-224]*o[R+1],H+=(x[T+-144]+x[T+112])*o[R+-6],z-=x[T+32]*o[R+2],H+=(x[T+-176]-x[T+144])*o[R+-5],z-=x[T+96]*o[R+3],H+=(x[T+-208]+x[T+176])*o[R+-4],z-=x[T+160]*o[R+4],H+=(x[T+-240]-x[T+208])*o[R+-3],z-=x[T+224],$=z-H,U=z+H,H=v[14],z=v[15]-H,v[31]=U+H,v[30]=$+z,v[15]=$-z,v[14]=U-H}{var D;D=v[28]-v[0],v[0]+=v[28],v[28]=D*o[R+-36+7],D=v[29]-v[1],v[1]+=v[29],v[29]=D*o[R+-36+7],D=v[26]-v[2],v[2]+=v[26],v[26]=D*o[R+-72+7],D=v[27]-v[3],v[3]+=v[27],v[27]=D*o[R+-72+7],D=v[24]-v[4],v[4]+=v[24],v[24]=D*o[R+-108+7],D=v[25]-v[5],v[5]+=v[25],v[25]=D*o[R+-108+7],D=v[22]-v[6],v[6]+=v[22],v[22]=D*t.SQRT2,D=v[23]-v[7],v[7]+=v[23],v[23]=D*t.SQRT2-v[7],v[7]-=v[6],v[22]-=v[7],v[23]-=v[22],D=v[6],v[6]=v[31]-D,v[31]=v[31]+D,D=v[7],v[7]=v[30]-D,v[30]=v[30]+D,D=v[22],v[22]=v[15]-D,v[15]=v[15]+D,D=v[23],v[23]=v[14]-D,v[14]=v[14]+D,D=v[20]-v[8],v[8]+=v[20],v[20]=D*o[R+-180+7],D=v[21]-v[9],v[9]+=v[21],v[21]=D*o[R+-180+7],D=v[18]-v[10],v[10]+=v[18],v[18]=D*o[R+-216+7],D=v[19]-v[11],v[11]+=v[19],v[19]=D*o[R+-216+7],D=v[16]-v[12],v[12]+=v[16],v[16]=D*o[R+-252+7],D=v[17]-v[13],v[13]+=v[17],v[17]=D*o[R+-252+7],D=-v[20]+v[24],v[20]+=v[24],v[24]=D*o[R+-216+7],D=-v[21]+v[25],v[21]+=v[25],v[25]=D*o[R+-216+7],D=v[4]-v[8],v[4]+=v[8],v[8]=D*o[R+-216+7],D=v[5]-v[9],v[5]+=v[9],v[9]=D*o[R+-216+7],D=v[0]-v[12],v[0]+=v[12],v[12]=D*o[R+-72+7],D=v[1]-v[13],v[1]+=v[13],v[13]=D*o[R+-72+7],D=v[16]-v[28],v[16]+=v[28],v[28]=D*o[R+-72+7],D=-v[17]+v[29],v[17]+=v[29],v[29]=D*o[R+-72+7],D=t.SQRT2*(v[2]-v[10]),v[2]+=v[10],v[10]=D,D=t.SQRT2*(v[3]-v[11]),v[3]+=v[11],v[11]=D,D=t.SQRT2*(-v[18]+v[26]),v[18]+=v[26],v[26]=D-v[18],D=t.SQRT2*(-v[19]+v[27]),v[19]+=v[27],v[27]=D-v[19],D=v[2],v[19]-=v[3],v[3]-=D,v[2]=v[31]-D,v[31]+=D,D=v[3],v[11]-=v[19],v[18]-=D,v[3]=v[30]-D,v[30]+=D,D=v[18],v[27]-=v[11],v[19]-=D,v[18]=v[15]-D,v[15]+=D,D=v[19],v[10]-=D,v[19]=v[14]-D,v[14]+=D,D=v[10],v[11]-=D,v[10]=v[23]-D,v[23]+=D,D=v[11],v[26]-=D,v[11]=v[22]-D,v[22]+=D,D=v[26],v[27]-=D,v[26]=v[7]-D,v[7]+=D,D=v[27],v[27]=v[6]-D,v[6]+=D,D=t.SQRT2*(v[0]-v[4]),v[0]+=v[4],v[4]=D,D=t.SQRT2*(v[1]-v[5]),v[1]+=v[5],v[5]=D,D=t.SQRT2*(v[16]-v[20]),v[16]+=v[20],v[20]=D,D=t.SQRT2*(v[17]-v[21]),v[17]+=v[21],v[21]=D,D=-t.SQRT2*(v[8]-v[12]),v[8]+=v[12],v[12]=D-v[8],D=-t.SQRT2*(v[9]-v[13]),v[9]+=v[13],v[13]=D-v[9],D=-t.SQRT2*(v[25]-v[29]),v[25]+=v[29],v[29]=D-v[25],D=-t.SQRT2*(v[24]+v[28]),v[24]-=v[28],v[28]=D-v[24],D=v[24]-v[16],v[24]=D,D=v[20]-D,v[20]=D,D=v[28]-D,v[28]=D,D=v[25]-v[17],v[25]=D,D=v[21]-D,v[21]=D,D=v[29]-D,v[29]=D,D=v[17]-v[1],v[17]=D,D=v[9]-D,v[9]=D,D=v[25]-D,v[25]=D,D=v[5]-D,v[5]=D,D=v[21]-D,v[21]=D,D=v[13]-D,v[13]=D,D=v[29]-D,v[29]=D,D=v[1]-v[0],v[1]=D,D=v[16]-D,v[16]=D,D=v[17]-D,v[17]=D,D=v[8]-D,v[8]=D,D=v[9]-D,v[9]=D,D=v[24]-D,v[24]=D,D=v[25]-D,v[25]=D,D=v[4]-D,v[4]=D,D=v[5]-D,v[5]=D,D=v[20]-D,v[20]=D,D=v[21]-D,v[21]=D,D=v[12]-D,v[12]=D,D=v[13]-D,v[13]=D,D=v[28]-D,v[28]=D,D=v[29]-D,v[29]=D,D=v[0],v[0]+=v[31],v[31]-=D,D=v[1],v[1]+=v[30],v[30]-=D,D=v[16],v[16]+=v[15],v[15]-=D,D=v[17],v[17]+=v[14],v[14]-=D,D=v[8],v[8]+=v[23],v[23]-=D,D=v[9],v[9]+=v[22],v[22]-=D,D=v[24],v[24]+=v[7],v[7]-=D,D=v[25],v[25]+=v[6],v[6]-=D,D=v[4],v[4]+=v[27],v[27]-=D,D=v[5],v[5]+=v[26],v[26]-=D,D=v[20],v[20]+=v[11],v[11]-=D,D=v[21],v[21]+=v[10],v[10]-=D,D=v[12],v[12]+=v[19],v[19]-=D,D=v[13],v[13]+=v[18],v[18]-=D,D=v[28],v[28]+=v[3],v[3]-=D,D=v[29],v[29]+=v[2],v[2]-=D}}function y(x,T){for(var v=0;v<3;v++){var R,M,B,L,z,H;L=x[T+6]*l[a.SHORT_TYPE][0]-x[T+15],R=x[T+0]*l[a.SHORT_TYPE][2]-x[T+9],M=L+R,B=L-R,L=x[T+15]*l[a.SHORT_TYPE][0]+x[T+6],R=x[T+9]*l[a.SHORT_TYPE][2]+x[T+0],z=L+R,H=-L+R,R=(x[T+3]*l[a.SHORT_TYPE][1]-x[T+12])*2069978111953089e-26,L=(x[T+12]*l[a.SHORT_TYPE][1]+x[T+3])*2069978111953089e-26,x[T+0]=M*190752519173728e-25+R,x[T+15]=-z*190752519173728e-25+L,B=B*.8660254037844387*1907525191737281e-26,z=z*.5*1907525191737281e-26+L,x[T+3]=B-z,x[T+6]=B+z,M=M*.5*1907525191737281e-26-R,H=H*.8660254037844387*1907525191737281e-26,x[T+9]=M+H,x[T+12]=M-H,T++}}function w(x,T,v){var R,M;{var B,L,z,H,$,U,D,ee;B=v[17]-v[9],z=v[15]-v[11],H=v[14]-v[12],$=v[0]+v[8],U=v[1]+v[7],D=v[2]+v[6],ee=v[3]+v[5],x[T+17]=$+D-ee-(U-v[4]),M=($+D-ee)*u[19]+(U-v[4]),R=(B-z-H)*u[18],x[T+5]=R+M,x[T+6]=R-M,L=(v[16]-v[10])*u[18],U=U*u[19]+v[4],R=B*u[12]+L+z*u[13]+H*u[14],M=-$*u[16]+U-D*u[17]+ee*u[15],x[T+1]=R+M,x[T+2]=R-M,R=B*u[13]-L-z*u[14]+H*u[12],M=-$*u[17]+U-D*u[15]+ee*u[16],x[T+9]=R+M,x[T+10]=R-M,R=B*u[14]-L+z*u[12]-H*u[13],M=$*u[15]-U+D*u[16]-ee*u[17],x[T+13]=R+M,x[T+14]=R-M}{var J,re,q,W,le,ue,oe,F;J=v[8]-v[0],q=v[6]-v[2],W=v[5]-v[3],le=v[17]+v[9],ue=v[16]+v[10],oe=v[15]+v[11],F=v[14]+v[12],x[T+0]=le+oe+F+(ue+v[13]),R=(le+oe+F)*u[19]-(ue+v[13]),M=(J-q+W)*u[18],x[T+11]=R+M,x[T+12]=R-M,re=(v[7]-v[1])*u[18],ue=v[13]-ue*u[19],R=le*u[15]-ue+oe*u[16]+F*u[17],M=J*u[14]+re+q*u[12]+W*u[13],x[T+3]=R+M,x[T+4]=R-M,R=-le*u[17]+ue-oe*u[15]-F*u[16],M=J*u[13]+re-q*u[14]-W*u[12],x[T+7]=R+M,x[T+8]=R-M,R=-le*u[16]+ue-oe*u[17]-F*u[15],M=J*u[12]-re+q*u[13]-W*u[14],x[T+15]=R+M,x[T+16]=R-M}}this.mdct_sub48=function(x,T,v){for(var R=T,M=286,B=0;B<x.channels_out;B++){for(var L=0;L<x.mode_gr;L++){for(var z,H=x.l3_side.tt[L][B],$=H.xr,U=0,D=x.sb_sample[B][1-L],ee=0,J=0;J<18/2;J++)for(g(R,M,D[ee]),g(R,M+32,D[ee+1]),ee+=2,M+=64,z=1;z<32;z+=2)D[ee-1][z]*=-1;for(z=0;z<32;z++,U+=18){var re=H.block_type,q=x.sb_sample[B][L],W=x.sb_sample[B][1-L];if(H.mixed_block_flag!=0&&z<2&&(re=0),x.amp_filter[z]<1e-12)n.fill($,U+0,U+18,0);else{if(x.amp_filter[z]<1)for(var J=0;J<18;J++)W[J][f[z]]*=x.amp_filter[z];if(re==a.SHORT_TYPE){for(var J=-12/4;J<0;J++){var le=l[a.SHORT_TYPE][J+3];$[U+J*3+9]=q[9+J][f[z]]*le-q[8-J][f[z]],$[U+J*3+18]=q[14-J][f[z]]*le+q[15+J][f[z]],$[U+J*3+10]=q[15+J][f[z]]*le-q[14-J][f[z]],$[U+J*3+19]=W[2-J][f[z]]*le+W[3+J][f[z]],$[U+J*3+11]=W[3+J][f[z]]*le-W[2-J][f[z]],$[U+J*3+20]=W[8-J][f[z]]*le+W[9+J][f[z]]}y($,U)}else{for(var ue=i(18),J=-36/4;J<0;J++){var oe,F;oe=l[re][J+27]*W[J+9][f[z]]+l[re][J+36]*W[8-J][f[z]],F=l[re][J+9]*q[J+9][f[z]]-l[re][J+18]*q[8-J][f[z]],ue[J+9]=oe-F*c[3+J+9],ue[J+18]=oe*c[3+J+9]+F}w($,U,ue)}}if(re!=a.SHORT_TYPE&&z!=0)for(var J=7;J>=0;--J){var C,I;C=$[U+J]*d[20+J]+$[U+-1-J]*h[28+J],I=$[U+J]*h[28+J]-$[U+-1-J]*d[20+J],$[U+-1-J]=C,$[U+J]=I}}}if(R=v,M=286,x.mode_gr==1)for(var O=0;O<18;O++)e.arraycopy(x.sb_sample[B][1][O],0,x.sb_sample[B][0][O],0,32)}}}return Kw=s,Kw}var Yw,xC;function oM(){if(xC)return Yw;xC=1;var r=Fa(),e=Vr(),t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var n=e.new_float,i=e.new_float_n;e.new_int,e.new_int_n,e.assert;function a(){this.l=n(r.SBMAX_l),this.s=i([r.SBMAX_s,3]);var s=this;this.assign=function(o){t.arraycopy(o.l,0,s.l,0,r.SBMAX_l);for(var l=0;l<r.SBMAX_s;l++)for(var c=0;c<3;c++)s.s[l][c]=o.s[l][c]}}return Yw=a,Yw}var Zw,wC;function UY(){if(wC)return Zw;wC=1;var r=oM();function e(){this.thm=new r,this.en=new r}return Zw=e,Zw}var Jw,_C;function Fa(){if(_C)return Jw;_C=1;var r=Vr(),e=r.System,t=r.VbrMode;r.Float,r.ShortBlock,r.Util,r.Arrays;var n=r.new_array_n;r.new_byte,r.new_double;var i=r.new_float,a=r.new_float_n,s=r.new_int;r.new_int_n;var o=r.assert;l.ENCDELAY=576,l.POSTDELAY=1152,l.MDCTDELAY=48,l.FFTOFFSET=224+l.MDCTDELAY,l.DECDELAY=528,l.SBLIMIT=32,l.CBANDS=64,l.SBPSY_l=21,l.SBPSY_s=12,l.SBMAX_l=22,l.SBMAX_s=13,l.PSFB21=6,l.PSFB12=6,l.BLKSIZE=1024,l.HBLKSIZE=l.BLKSIZE/2+1,l.BLKSIZE_s=256,l.HBLKSIZE_s=l.BLKSIZE_s/2+1,l.NORM_TYPE=0,l.START_TYPE=1,l.SHORT_TYPE=2,l.STOP_TYPE=3,l.MPG_MD_LR_LR=0,l.MPG_MD_LR_I=1,l.MPG_MD_MS_LR=2,l.MPG_MD_MS_I=3,l.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function l(){var c=jY(),u=UY(),d=l.FFTOFFSET,h=l.MPG_MD_MS_LR,f=null;this.psy=null;var g=null,y=null,w=null;this.setModules=function(M,B,L,z){f=M,this.psy=B,g=B,y=z,w=L};var x=new c;function T(M){var B,L;if(M.ATH.useAdjust==0){M.ATH.adjust=1;return}if(L=M.loudness_sq[0][0],B=M.loudness_sq[1][0],M.channels_out==2?(L+=M.loudness_sq[0][1],B+=M.loudness_sq[1][1]):(L+=L,B+=B),M.mode_gr==2&&(L=Math.max(L,B)),L*=.5,L*=M.ATH.aaSensitivityP,L>.03125)M.ATH.adjust>=1?M.ATH.adjust=1:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=1;else{var z=31.98*L+625e-6;M.ATH.adjust>=z?(M.ATH.adjust*=z*.075+.925,M.ATH.adjust<z&&(M.ATH.adjust=z)):M.ATH.adjustLimit>=z?M.ATH.adjust=z:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=z}}function v(M){var B,L;for(o(0<=M.bitrate_index&&M.bitrate_index<16),o(0<=M.mode_ext&&M.mode_ext<4),M.bitrate_stereoMode_Hist[M.bitrate_index][4]++,M.bitrate_stereoMode_Hist[15][4]++,M.channels_out==2&&(M.bitrate_stereoMode_Hist[M.bitrate_index][M.mode_ext]++,M.bitrate_stereoMode_Hist[15][M.mode_ext]++),B=0;B<M.mode_gr;++B)for(L=0;L<M.channels_out;++L){var z=M.l3_side.tt[B][L].block_type|0;M.l3_side.tt[B][L].mixed_block_flag!=0&&(z=4),M.bitrate_blockType_Hist[M.bitrate_index][z]++,M.bitrate_blockType_Hist[M.bitrate_index][5]++,M.bitrate_blockType_Hist[15][z]++,M.bitrate_blockType_Hist[15][5]++}}function R(M,B){var L=M.internal_flags,z,H;if(L.lame_encode_frame_init==0){var $,U,D=i(2014),ee=i(2014);for(L.lame_encode_frame_init=1,$=0,U=0;$<286+576*(1+L.mode_gr);++$)$<576*L.mode_gr?(D[$]=0,L.channels_out==2&&(ee[$]=0)):(D[$]=B[0][U],L.channels_out==2&&(ee[$]=B[1][U]),++U);for(H=0;H<L.mode_gr;H++)for(z=0;z<L.channels_out;z++)L.l3_side.tt[H][z].block_type=l.SHORT_TYPE;x.mdct_sub48(L,D,ee),o(576>=l.FFTOFFSET),o(L.mf_size>=l.BLKSIZE+M.framesize-l.FFTOFFSET),o(L.mf_size>=512+M.framesize-32)}}this.lame_encode_mp3_frame=function(M,B,L,z,H,$){var U,D=n([2,2]);D[0][0]=new u,D[0][1]=new u,D[1][0]=new u,D[1][1]=new u;var ee=n([2,2]);ee[0][0]=new u,ee[0][1]=new u,ee[1][0]=new u,ee[1][1]=new u;var J,re=[null,null],q=M.internal_flags,W=a([2,4]),le=[.5,.5],ue=[[0,0],[0,0]],oe=[[0,0],[0,0]],F,C,I;if(re[0]=B,re[1]=L,q.lame_encode_frame_init==0&&R(M,re),q.padding=0,(q.slot_lag-=q.frac_SpF)<0&&(q.slot_lag+=M.out_samplerate,q.padding=1),q.psymodel!=0){var O,X=[null,null],te=0,ie=s(2);for(I=0;I<q.mode_gr;I++){for(C=0;C<q.channels_out;C++)X[C]=re[C],te=576+I*576-l.FFTOFFSET;if(M.VBR==t.vbr_mtrh||M.VBR==t.vbr_mt?O=g.L3psycho_anal_vbr(M,X,te,I,D,ee,ue[I],oe[I],W[I],ie):O=g.L3psycho_anal_ns(M,X,te,I,D,ee,ue[I],oe[I],W[I],ie),O!=0)return-4;for(M.mode==MPEGMode.JOINT_STEREO&&(le[I]=W[I][2]+W[I][3],le[I]>0&&(le[I]=W[I][3]/le[I])),C=0;C<q.channels_out;C++){var ne=q.l3_side.tt[I][C];ne.block_type=ie[C],ne.mixed_block_flag=0}}}else for(I=0;I<q.mode_gr;I++)for(C=0;C<q.channels_out;C++)q.l3_side.tt[I][C].block_type=l.NORM_TYPE,q.l3_side.tt[I][C].mixed_block_flag=0,oe[I][C]=ue[I][C]=700;if(T(q),x.mdct_sub48(q,re[0],re[1]),q.mode_ext=l.MPG_MD_LR_LR,M.force_ms)q.mode_ext=l.MPG_MD_MS_LR;else if(M.mode==MPEGMode.JOINT_STEREO){var we=0,Ee=0;for(I=0;I<q.mode_gr;I++)for(C=0;C<q.channels_out;C++)we+=oe[I][C],Ee+=ue[I][C];if(we<=1*Ee){var He=q.l3_side.tt[0],Ue=q.l3_side.tt[q.mode_gr-1];He[0].block_type==He[1].block_type&&Ue[0].block_type==Ue[1].block_type&&(q.mode_ext=l.MPG_MD_MS_LR)}}if(q.mode_ext==h?(J=ee,F=oe):(J=D,F=ue),M.analysis&&q.pinfo!=null)for(I=0;I<q.mode_gr;I++)for(C=0;C<q.channels_out;C++)q.pinfo.ms_ratio[I]=q.ms_ratio[I],q.pinfo.ms_ener_ratio[I]=le[I],q.pinfo.blocktype[I][C]=q.l3_side.tt[I][C].block_type,q.pinfo.pe[I][C]=F[I][C],e.arraycopy(q.l3_side.tt[I][C].xr,0,q.pinfo.xr[I][C],0,576),q.mode_ext==h&&(q.pinfo.ers[I][C]=q.pinfo.ers[I][C+2],e.arraycopy(q.pinfo.energy[I][C+2],0,q.pinfo.energy[I][C],0,q.pinfo.energy[I][C].length));if(M.VBR==t.vbr_off||M.VBR==t.vbr_abr){var We,it;for(We=0;We<18;We++)q.nsPsy.pefirbuf[We]=q.nsPsy.pefirbuf[We+1];for(it=0,I=0;I<q.mode_gr;I++)for(C=0;C<q.channels_out;C++)it+=F[I][C];for(q.nsPsy.pefirbuf[18]=it,it=q.nsPsy.pefirbuf[9],We=0;We<9;We++)it+=(q.nsPsy.pefirbuf[We]+q.nsPsy.pefirbuf[18-We])*l.fircoef[We];for(it=670*5*q.mode_gr*q.channels_out/it,I=0;I<q.mode_gr;I++)for(C=0;C<q.channels_out;C++)F[I][C]*=it}if(q.iteration_loop.iteration_loop(M,F,le,J),f.format_bitstream(M),U=f.copy_buffer(q,z,H,$,1),M.bWriteVbrTag&&y.addVbrFrame(M),M.analysis&&q.pinfo!=null){for(C=0;C<q.channels_out;C++){var xe;for(xe=0;xe<d;xe++)q.pinfo.pcmdata[C][xe]=q.pinfo.pcmdata[C][xe+M.framesize];for(xe=d;xe<1600;xe++)q.pinfo.pcmdata[C][xe]=re[C][xe-d]}w.set_frame_pinfo(M,J)}return v(q),U}}return Jw=l,Jw}var Qw,SC;function qY(){if(SC)return Qw;SC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock;var e=r.Util;r.Arrays,r.new_array_n,r.new_byte,r.new_double;var t=r.new_float;r.new_float_n,r.new_int,r.new_int_n,r.assert;var n=Fa();function i(){var a=t(n.BLKSIZE),s=t(n.BLKSIZE_s/2),o=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function l(u,d,h){var f=0,g,y,w;h<<=1;var x=d+h;g=4;do{var T,v,R,M,B,L,z;z=g>>1,M=g,B=g<<1,L=B+M,g=B<<1,y=d,w=y+z;do{var H,$,U,D;$=u[y+0]-u[y+M],H=u[y+0]+u[y+M],D=u[y+B]-u[y+L],U=u[y+B]+u[y+L],u[y+B]=H-U,u[y+0]=H+U,u[y+L]=$-D,u[y+M]=$+D,$=u[w+0]-u[w+M],H=u[w+0]+u[w+M],D=e.SQRT2*u[w+L],U=e.SQRT2*u[w+B],u[w+B]=H-U,u[w+0]=H+U,u[w+L]=$-D,u[w+M]=$+D,w+=g,y+=g}while(y<x);for(v=o[f+0],T=o[f+1],R=1;R<z;R++){var ee,J;ee=1-2*T*T,J=2*T*v,y=d+R,w=d+M-R;do{var re,q,W,H,$,le,U,ue,D,oe;q=J*u[y+M]-ee*u[w+M],re=ee*u[y+M]+J*u[w+M],$=u[y+0]-re,H=u[y+0]+re,le=u[w+0]-q,W=u[w+0]+q,q=J*u[y+L]-ee*u[w+L],re=ee*u[y+L]+J*u[w+L],D=u[y+B]-re,U=u[y+B]+re,oe=u[w+B]-q,ue=u[w+B]+q,q=T*U-v*oe,re=v*U+T*oe,u[y+B]=H-re,u[y+0]=H+re,u[w+L]=le-q,u[w+M]=le+q,q=v*ue-T*D,re=T*ue+v*D,u[w+B]=W-re,u[w+0]=W+re,u[y+L]=$-q,u[y+M]=$+q,w+=g,y+=g}while(y<x);ee=v,v=ee*o[f+0]-T*o[f+1],T=ee*o[f+1]+T*o[f+0]}f+=2}while(g<h)}var c=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(u,d,h,f,g){for(var y=0;y<3;y++){var w=n.BLKSIZE_s/2,x=65535&576/3*(y+1),T=n.BLKSIZE_s/8-1;do{var v,R,M,B,L,z=c[T<<2]&255;v=s[z]*f[h][g+z+x],L=s[127-z]*f[h][g+z+x+128],R=v-L,v=v+L,M=s[z+64]*f[h][g+z+x+64],L=s[63-z]*f[h][g+z+x+192],B=M-L,M=M+L,w-=4,d[y][w+0]=v+M,d[y][w+2]=v-M,d[y][w+1]=R+B,d[y][w+3]=R-B,v=s[z+1]*f[h][g+z+x+1],L=s[126-z]*f[h][g+z+x+129],R=v-L,v=v+L,M=s[z+65]*f[h][g+z+x+65],L=s[62-z]*f[h][g+z+x+193],B=M-L,M=M+L,d[y][w+n.BLKSIZE_s/2+0]=v+M,d[y][w+n.BLKSIZE_s/2+2]=v-M,d[y][w+n.BLKSIZE_s/2+1]=R+B,d[y][w+n.BLKSIZE_s/2+3]=R-B}while(--T>=0);l(d[y],w,n.BLKSIZE_s/2)}},this.fft_long=function(u,d,h,f,g){var y=n.BLKSIZE/8-1,w=n.BLKSIZE/2;do{var x,T,v,R,M,B=c[y]&255;x=a[B]*f[h][g+B],M=a[B+512]*f[h][g+B+512],T=x-M,x=x+M,v=a[B+256]*f[h][g+B+256],M=a[B+768]*f[h][g+B+768],R=v-M,v=v+M,w-=4,d[w+0]=x+v,d[w+2]=x-v,d[w+1]=T+R,d[w+3]=T-R,x=a[B+1]*f[h][g+B+1],M=a[B+513]*f[h][g+B+513],T=x-M,x=x+M,v=a[B+257]*f[h][g+B+257],M=a[B+769]*f[h][g+B+769],R=v-M,v=v+M,d[w+n.BLKSIZE/2+0]=x+v,d[w+n.BLKSIZE/2+2]=x-v,d[w+n.BLKSIZE/2+1]=T+R,d[w+n.BLKSIZE/2+3]=T-R}while(--y>=0);l(d,w,n.BLKSIZE/2)},this.init_fft=function(u){for(var d=0;d<n.BLKSIZE;d++)a[d]=.42-.5*Math.cos(2*Math.PI*(d+.5)/n.BLKSIZE)+.08*Math.cos(4*Math.PI*(d+.5)/n.BLKSIZE);for(var d=0;d<n.BLKSIZE_s/2;d++)s[d]=.5*(1-Math.cos(2*Math.PI*(d+.5)/n.BLKSIZE_s))}}return Qw=i,Qw}var $w,AC;function HY(){if(AC)return $w;AC=1;var r=Vr();r.System;var e=r.VbrMode,t=r.Float,n=r.ShortBlock,i=r.Util,a=r.Arrays;r.new_array_n,r.new_byte,r.new_double;var s=r.new_float,o=r.new_float_n,l=r.new_int;r.new_int_n;var c=r.assert,u=qY(),d=Fa();function h(){var f=new u,g=2.302585092994046,y=2,w=16,x=2,T=16,v=.34,R=1/(14752*14752)/(d.BLKSIZE/2),M=.01,B=.8,L=.6,z=.3,H=3.5,$=21,U=.2302585093;function D(j){return j}function ee(j,se){for(var fe=0,me=0;me<d.BLKSIZE/2;++me)fe+=j[me]*se.ATH.eql_w[me];return fe*=R,fe}function J(j,se,fe,me,Te,Ne,Pe,Fe,ze,Ze,Ge){var at=j.internal_flags;if(ze<2)f.fft_long(at,me[Te],ze,Ze,Ge),f.fft_short(at,Ne[Pe],ze,Ze,Ge);else if(ze==2){for(var Nt=d.BLKSIZE-1;Nt>=0;--Nt){var vt=me[Te+0][Nt],lt=me[Te+1][Nt];me[Te+0][Nt]=(vt+lt)*i.SQRT2*.5,me[Te+1][Nt]=(vt-lt)*i.SQRT2*.5}for(var bt=2;bt>=0;--bt)for(var Nt=d.BLKSIZE_s-1;Nt>=0;--Nt){var vt=Ne[Pe+0][bt][Nt],lt=Ne[Pe+1][bt][Nt];Ne[Pe+0][bt][Nt]=(vt+lt)*i.SQRT2*.5,Ne[Pe+1][bt][Nt]=(vt-lt)*i.SQRT2*.5}}se[0]=me[Te+0][0],se[0]*=se[0];for(var Nt=d.BLKSIZE/2-1;Nt>=0;--Nt){var et=me[Te+0][d.BLKSIZE/2-Nt],kt=me[Te+0][d.BLKSIZE/2+Nt];se[d.BLKSIZE/2-Nt]=(et*et+kt*kt)*.5}for(var bt=2;bt>=0;--bt){fe[bt][0]=Ne[Pe+0][bt][0],fe[bt][0]*=fe[bt][0];for(var Nt=d.BLKSIZE_s/2-1;Nt>=0;--Nt){var et=Ne[Pe+0][bt][d.BLKSIZE_s/2-Nt],kt=Ne[Pe+0][bt][d.BLKSIZE_s/2+Nt];fe[bt][d.BLKSIZE_s/2-Nt]=(et*et+kt*kt)*.5}}{for(var zt=0,Nt=11;Nt<d.HBLKSIZE;Nt++)zt+=se[Nt];at.tot_ener[ze]=zt}if(j.analysis){for(var Nt=0;Nt<d.HBLKSIZE;Nt++)at.pinfo.energy[Fe][ze][Nt]=at.pinfo.energy_save[ze][Nt],at.pinfo.energy_save[ze][Nt]=se[Nt];at.pinfo.pe[Fe][ze]=at.pe[ze]}j.athaa_loudapprox==2&&ze<2&&(at.loudness_sq[Fe][ze]=at.loudness_sq_save[ze],at.loudness_sq_save[ze]=ee(se,at))}var re=8,q=23,W=15,le,ue,oe,F=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function C(){le=Math.pow(10,(re+1)/16),ue=Math.pow(10,(q+1)/16),oe=Math.pow(10,W/10)}var I=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],O=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],X=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function te(j,se,fe,me,Te,Ne){var Pe;if(se>j)if(se<j*ue)Pe=se/j;else return j+se;else{if(j>=se*ue)return j+se;Pe=j/se}if(c(j>=0),c(se>=0),j+=se,me+3<=6){if(Pe>=le)return j;var Fe=0|i.FAST_LOG10_X(Pe,16);return j*O[Fe]}var Fe=0|i.FAST_LOG10_X(Pe,16);if(se=Te.ATH.cb_l[fe]*Te.ATH.adjust,c(se>=0),j<oe*se){if(j>se){var ze,Ze;return ze=1,Fe<=13&&(ze=X[Fe]),Ze=i.FAST_LOG10_X(j/se,10/15),j*((I[Fe]-ze)*Ze+ze)}return Fe>13?j:j*X[Fe]}return j*I[Fe]}var ie=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function ne(j,se,fe){var me;if(j<0&&(j=0),se<0&&(se=0),j<=0)return se;if(se<=0)return j;if(se>j?me=se/j:me=j/se,-2<=fe&&fe<=2){if(me>=le)return j+se;var Te=0|i.FAST_LOG10_X(me,16);return(j+se)*ie[Te]}return me<ue?j+se:(j<se&&(j=se),j)}function we(j,se){var fe=j.internal_flags;if(fe.channels_out>1){for(var me=0;me<d.SBMAX_l;me++){var Te=fe.thm[0].l[me],Ne=fe.thm[1].l[me];fe.thm[0].l[me]+=Ne*se,fe.thm[1].l[me]+=Te*se}for(var me=0;me<d.SBMAX_s;me++)for(var Pe=0;Pe<3;Pe++){var Te=fe.thm[0].s[me][Pe],Ne=fe.thm[1].s[me][Pe];fe.thm[0].s[me][Pe]+=Ne*se,fe.thm[1].s[me][Pe]+=Te*se}}}function Ee(j){for(var se=0;se<d.SBMAX_l;se++)if(!(j.thm[0].l[se]>1.58*j.thm[1].l[se]||j.thm[1].l[se]>1.58*j.thm[0].l[se])){var fe=j.mld_l[se]*j.en[3].l[se],me=Math.max(j.thm[2].l[se],Math.min(j.thm[3].l[se],fe));fe=j.mld_l[se]*j.en[2].l[se];var Te=Math.max(j.thm[3].l[se],Math.min(j.thm[2].l[se],fe));j.thm[2].l[se]=me,j.thm[3].l[se]=Te}for(var se=0;se<d.SBMAX_s;se++)for(var Ne=0;Ne<3;Ne++)if(!(j.thm[0].s[se][Ne]>1.58*j.thm[1].s[se][Ne]||j.thm[1].s[se][Ne]>1.58*j.thm[0].s[se][Ne])){var fe=j.mld_s[se]*j.en[3].s[se][Ne],me=Math.max(j.thm[2].s[se][Ne],Math.min(j.thm[3].s[se][Ne],fe));fe=j.mld_s[se]*j.en[2].s[se][Ne];var Te=Math.max(j.thm[3].s[se][Ne],Math.min(j.thm[2].s[se][Ne],fe));j.thm[2].s[se][Ne]=me,j.thm[3].s[se][Ne]=Te}}function He(j,se,fe){var me=se,Te=Math.pow(10,fe);se*=2,me*=2;for(var Ne=0;Ne<d.SBMAX_l;Ne++){var Pe,Fe,ze,Ze;if(Ze=j.ATH.cb_l[j.bm_l[Ne]]*Te,Pe=Math.min(Math.max(j.thm[0].l[Ne],Ze),Math.max(j.thm[1].l[Ne],Ze)),Fe=Math.max(j.thm[2].l[Ne],Ze),ze=Math.max(j.thm[3].l[Ne],Ze),Pe*se<Fe+ze){var Ge=Pe*me/(Fe+ze);Fe*=Ge,ze*=Ge,c(Fe+ze>0)}j.thm[2].l[Ne]=Math.min(Fe,j.thm[2].l[Ne]),j.thm[3].l[Ne]=Math.min(ze,j.thm[3].l[Ne])}Te*=d.BLKSIZE_s/d.BLKSIZE;for(var Ne=0;Ne<d.SBMAX_s;Ne++)for(var at=0;at<3;at++){var Pe,Fe,ze,Ze;if(Ze=j.ATH.cb_s[j.bm_s[Ne]]*Te,Pe=Math.min(Math.max(j.thm[0].s[Ne][at],Ze),Math.max(j.thm[1].s[Ne][at],Ze)),Fe=Math.max(j.thm[2].s[Ne][at],Ze),ze=Math.max(j.thm[3].s[Ne][at],Ze),Pe*se<Fe+ze){var Ge=Pe*se/(Fe+ze);Fe*=Ge,ze*=Ge,c(Fe+ze>0)}j.thm[2].s[Ne][at]=Math.min(j.thm[2].s[Ne][at],Fe),j.thm[3].s[Ne][at]=Math.min(j.thm[3].s[Ne][at],ze)}}function Ue(j,se,fe,me,Te){var Ne,Pe,Fe=0,ze=0;for(Ne=Pe=0;Ne<d.SBMAX_s;++Pe,++Ne){for(var Ze=j.bo_s[Ne],Ge=j.npart_s,at=Ze<Ge?Ze:Ge;Pe<at;)c(se[Pe]>=0),c(fe[Pe]>=0),Fe+=se[Pe],ze+=fe[Pe],Pe++;if(j.en[me].s[Ne][Te]=Fe,j.thm[me].s[Ne][Te]=ze,Pe>=Ge){++Ne;break}c(se[Pe]>=0),c(fe[Pe]>=0);{var Nt=j.PSY.bo_s_weight[Ne],vt=1-Nt;Fe=Nt*se[Pe],ze=Nt*fe[Pe],j.en[me].s[Ne][Te]+=Fe,j.thm[me].s[Ne][Te]+=ze,Fe=vt*se[Pe],ze=vt*fe[Pe]}}for(;Ne<d.SBMAX_s;++Ne)j.en[me].s[Ne][Te]=0,j.thm[me].s[Ne][Te]=0}function We(j,se,fe,me){var Te,Ne,Pe=0,Fe=0;for(Te=Ne=0;Te<d.SBMAX_l;++Ne,++Te){for(var ze=j.bo_l[Te],Ze=j.npart_l,Ge=ze<Ze?ze:Ze;Ne<Ge;)c(se[Ne]>=0),c(fe[Ne]>=0),Pe+=se[Ne],Fe+=fe[Ne],Ne++;if(j.en[me].l[Te]=Pe,j.thm[me].l[Te]=Fe,Ne>=Ze){++Te;break}c(se[Ne]>=0),c(fe[Ne]>=0);{var at=j.PSY.bo_l_weight[Te],Nt=1-at;Pe=at*se[Ne],Fe=at*fe[Ne],j.en[me].l[Te]+=Pe,j.thm[me].l[Te]+=Fe,Pe=Nt*se[Ne],Fe=Nt*fe[Ne]}}for(;Te<d.SBMAX_l;++Te)j.en[me].l[Te]=0,j.thm[me].l[Te]=0}function it(j,se,fe,me,Te,Ne){var Pe=j.internal_flags,Fe,ze;for(ze=Fe=0;ze<Pe.npart_s;++ze){for(var Ze=0,Ge=Pe.numlines_s[ze],at=0;at<Ge;++at,++Fe){var Nt=se[Ne][Fe];Ze+=Nt}fe[ze]=Ze}for(c(ze==Pe.npart_s),c(Fe==129),Fe=ze=0;ze<Pe.npart_s;ze++){var vt=Pe.s3ind_s[ze][0],lt=Pe.s3_ss[Fe++]*fe[vt];for(++vt;vt<=Pe.s3ind_s[ze][1];)lt+=Pe.s3_ss[Fe]*fe[vt],++Fe,++vt;{var bt=x*Pe.nb_s1[Te][ze];me[ze]=Math.min(lt,bt)}if(Pe.blocktype_old[Te&1]==d.SHORT_TYPE){var bt=T*Pe.nb_s2[Te][ze],et=me[ze];me[ze]=Math.min(bt,et)}Pe.nb_s2[Te][ze]=Pe.nb_s1[Te][ze],Pe.nb_s1[Te][ze]=lt,c(me[ze]>=0)}for(;ze<=d.CBANDS;++ze)fe[ze]=0,me[ze]=0}function xe(j,se,fe,me){var Te=j.internal_flags;j.short_blocks==n.short_block_coupled&&!(se[0]!=0&&se[1]!=0)&&(se[0]=se[1]=0);for(var Ne=0;Ne<Te.channels_out;Ne++)me[Ne]=d.NORM_TYPE,j.short_blocks==n.short_block_dispensed&&(se[Ne]=1),j.short_blocks==n.short_block_forced&&(se[Ne]=0),se[Ne]!=0?(c(Te.blocktype_old[Ne]!=d.START_TYPE),Te.blocktype_old[Ne]==d.SHORT_TYPE&&(me[Ne]=d.STOP_TYPE)):(me[Ne]=d.SHORT_TYPE,Te.blocktype_old[Ne]==d.NORM_TYPE&&(Te.blocktype_old[Ne]=d.START_TYPE),Te.blocktype_old[Ne]==d.STOP_TYPE&&(Te.blocktype_old[Ne]=d.SHORT_TYPE)),fe[Ne]=Te.blocktype_old[Ne],Te.blocktype_old[Ne]=me[Ne]}function nt(j,se,fe){return fe>=1?j:fe<=0?se:se>0?Math.pow(j/se,fe)*se:0}var pt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Z(j,se){for(var fe=309.07,me=0;me<d.SBMAX_s-1;me++)for(var Te=0;Te<3;Te++){var Ne=j.thm.s[me][Te];if(c(me<pt.length),Ne>0){var Pe=Ne*se,Fe=j.en.s[me][Te];Fe>Pe&&(Fe>Pe*1e10?fe+=pt[me]*(10*g):(c(Pe>0),fe+=pt[me]*i.FAST_LOG10(Fe/Pe)))}}return fe}var ce=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ut(j,se){for(var fe=281.0575,me=0;me<d.SBMAX_l-1;me++){var Te=j.thm.l[me];if(c(me<ce.length),Te>0){var Ne=Te*se,Pe=j.en.l[me];Pe>Ne&&(Pe>Ne*1e10?fe+=ce[me]*(10*g):(c(Ne>0),fe+=ce[me]*i.FAST_LOG10(Pe/Ne)))}}return fe}function rt(j,se,fe,me,Te){var Ne,Pe;for(Ne=Pe=0;Ne<j.npart_l;++Ne){var Fe=0,ze=0,Ze;for(Ze=0;Ze<j.numlines_l[Ne];++Ze,++Pe){var Ge=se[Pe];c(Ge>=0),Fe+=Ge,ze<Ge&&(ze=Ge)}fe[Ne]=Fe,me[Ne]=ze,Te[Ne]=Fe*j.rnumlines_l[Ne],c(j.rnumlines_l[Ne]>=0),c(Fe>=0),c(fe[Ne]>=0),c(me[Ne]>=0),c(Te[Ne]>=0)}}function ht(j,se,fe,me){var Te=F.length-1,Ne=0,Pe=fe[Ne]+fe[Ne+1];if(c(Pe>=0),Pe>0){var Fe=se[Ne];Fe<se[Ne+1]&&(Fe=se[Ne+1]),c(j.numlines_l[Ne]+j.numlines_l[Ne+1]-1>0),Pe=20*(Fe*2-Pe)/(Pe*(j.numlines_l[Ne]+j.numlines_l[Ne+1]-1));var ze=0|Pe;ze>Te&&(ze=Te),me[Ne]=ze}else me[Ne]=0;for(Ne=1;Ne<j.npart_l-1;Ne++)if(Pe=fe[Ne-1]+fe[Ne]+fe[Ne+1],c(Pe>=0),Pe>0){var Fe=se[Ne-1];Fe<se[Ne]&&(Fe=se[Ne]),Fe<se[Ne+1]&&(Fe=se[Ne+1]),c(j.numlines_l[Ne-1]+j.numlines_l[Ne]+j.numlines_l[Ne+1]-1>0),Pe=20*(Fe*3-Pe)/(Pe*(j.numlines_l[Ne-1]+j.numlines_l[Ne]+j.numlines_l[Ne+1]-1));var ze=0|Pe;ze>Te&&(ze=Te),me[Ne]=ze}else me[Ne]=0;if(c(Ne>0),c(Ne==j.npart_l-1),Pe=fe[Ne-1]+fe[Ne],c(Pe>=0),Pe>0){var Fe=se[Ne-1];Fe<se[Ne]&&(Fe=se[Ne]),c(j.numlines_l[Ne-1]+j.numlines_l[Ne]-1>0),Pe=20*(Fe*2-Pe)/(Pe*(j.numlines_l[Ne-1]+j.numlines_l[Ne]-1));var ze=0|Pe;ze>Te&&(ze=Te),me[Ne]=ze}else me[Ne]=0;c(Ne==j.npart_l-1)}var mt=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(j,se,fe,me,Te,Ne,Pe,Fe,ze,Ze){var Ge=j.internal_flags,at=o([2,d.BLKSIZE]),Nt=o([2,3,d.BLKSIZE_s]),vt=s(d.CBANDS+1),lt=s(d.CBANDS+1),bt=s(d.CBANDS+2),et=l(2),kt=l(2),zt,Ct,Bt,Et,Gt,Wn,Ft,an,cn=o([2,576]),or,Ui=l(d.CBANDS+2),Vn=l(d.CBANDS+2);for(a.fill(Vn,0),zt=Ge.channels_out,j.mode==MPEGMode.JOINT_STEREO&&(zt=4),j.VBR==e.vbr_off?or=Ge.ResvMax==0?0:Ge.ResvSize/Ge.ResvMax*.5:j.VBR==e.vbr_rh||j.VBR==e.vbr_mtrh||j.VBR==e.vbr_mt?or=.6:or=1,Ct=0;Ct<Ge.channels_out;Ct++){var er=se[Ct],Si=fe+576-350-$+192;for(c(mt.length==($-1)/2),Et=0;Et<576;Et++){var Ai,qi;for(Ai=er[Si+Et+10],qi=0,Gt=0;Gt<($-1)/2-1;Gt+=2)Ai+=mt[Gt]*(er[Si+Et+Gt]+er[Si+Et+$-Gt]),qi+=mt[Gt+1]*(er[Si+Et+Gt+1]+er[Si+Et+$-Gt-1]);cn[Ct][Et]=Ai+qi}Te[me][Ct].en.assign(Ge.en[Ct]),Te[me][Ct].thm.assign(Ge.thm[Ct]),zt>2&&(Ne[me][Ct].en.assign(Ge.en[Ct+2]),Ne[me][Ct].thm.assign(Ge.thm[Ct+2]))}for(Ct=0;Ct<zt;Ct++){var ba,ya,wr=s(12),Qi=[0,0,0,0],vl=s(12),Or=1,sh,fs=s(d.CBANDS),rc=s(d.CBANDS),lr=[0,0,0,0],La=s(d.HBLKSIZE),Zr=o([3,d.HBLKSIZE_s]);for(c(Ge.npart_s<=d.CBANDS),c(Ge.npart_l<=d.CBANDS),Et=0;Et<3;Et++)wr[Et]=Ge.nsPsy.last_en_subshort[Ct][Et+6],c(Ge.nsPsy.last_en_subshort[Ct][Et+4]>0),vl[Et]=wr[Et]/Ge.nsPsy.last_en_subshort[Ct][Et+4],Qi[0]+=wr[Et];if(Ct==2)for(Et=0;Et<576;Et++){var ps,ku;ps=cn[0][Et],ku=cn[1][Et],cn[0][Et]=ps+ku,cn[1][Et]=ps-ku}{var m0=cn[Ct&1],ic=0;for(Et=0;Et<9;Et++){for(var to=ic+64,jr=1;ic<to;ic++)jr<Math.abs(m0[ic])&&(jr=Math.abs(m0[ic]));Ge.nsPsy.last_en_subshort[Ct][Et]=wr[Et+3]=jr,Qi[1+Et/3]+=jr,jr>wr[Et+3-2]?(c(wr[Et+3-2]>0),jr=jr/wr[Et+3-2]):wr[Et+3-2]>jr*10?(c(jr>0),jr=wr[Et+3-2]/(jr*10)):jr=0,vl[Et+3]=jr}}if(j.analysis){var Eu=vl[0];for(Et=1;Et<12;Et++)Eu<vl[Et]&&(Eu=vl[Et]);Ge.pinfo.ers[me][Ct]=Ge.pinfo.ers_save[Ct],Ge.pinfo.ers_save[Ct]=Eu}for(sh=Ct==3?Ge.nsPsy.attackthre_s:Ge.nsPsy.attackthre,Et=0;Et<12;Et++)lr[Et/3]==0&&vl[Et]>sh&&(lr[Et/3]=Et%3+1);for(Et=1;Et<4;Et++){var bl;Qi[Et-1]>Qi[Et]?(c(Qi[Et]>0),bl=Qi[Et-1]/Qi[Et]):(c(Qi[Et-1]>0),bl=Qi[Et]/Qi[Et-1]),bl<1.7&&(lr[Et]=0,Et==1&&(lr[0]=0))}for(lr[0]!=0&&Ge.nsPsy.lastAttacks[Ct]!=0&&(lr[0]=0),(Ge.nsPsy.lastAttacks[Ct]==3||lr[0]+lr[1]+lr[2]+lr[3]!=0)&&(Or=0,lr[1]!=0&&lr[0]!=0&&(lr[1]=0),lr[2]!=0&&lr[1]!=0&&(lr[2]=0),lr[3]!=0&&lr[2]!=0&&(lr[3]=0)),Ct<2?kt[Ct]=Or:Or==0&&(kt[0]=kt[1]=0),ze[Ct]=Ge.tot_ener[Ct],ya=Nt,ba=at,J(j,La,Zr,ba,Ct&1,ya,Ct&1,me,Ct,se,fe),rt(Ge,La,vt,fs,rc),ht(Ge,fs,rc,Ui),an=0;an<3;an++){var Oo,Hi;for(it(j,Zr,lt,bt,Ct,an),Ue(Ge,lt,bt,Ct,an),Ft=0;Ft<d.SBMAX_s;Ft++){if(Hi=Ge.thm[Ct].s[Ft][an],Hi*=B,lr[an]>=2||lr[an+1]==1){var ac=an!=0?an-1:2,jr=nt(Ge.thm[Ct].s[Ft][ac],Hi,L*or);Hi=Math.min(Hi,jr)}if(lr[an]==1){var ac=an!=0?an-1:2,jr=nt(Ge.thm[Ct].s[Ft][ac],Hi,z*or);Hi=Math.min(Hi,jr)}else if(an!=0&&lr[an-1]==3||an==0&&Ge.nsPsy.lastAttacks[Ct]==3){var ac=an!=2?an+1:0,jr=nt(Ge.thm[Ct].s[Ft][ac],Hi,z*or);Hi=Math.min(Hi,jr)}Oo=wr[an*3+3]+wr[an*3+4]+wr[an*3+5],wr[an*3+5]*6<Oo&&(Hi*=.5,wr[an*3+4]*6<Oo&&(Hi*=.5)),Ge.thm[Ct].s[Ft][an]=Hi}}for(Ge.nsPsy.lastAttacks[Ct]=lr[2],Wn=0,Bt=0;Bt<Ge.npart_l;Bt++){for(var jo=Ge.s3ind[Bt][0],sc=vt[jo]*F[Ui[jo]],no=Ge.s3_ll[Wn++]*sc;++jo<=Ge.s3ind[Bt][1];)sc=vt[jo]*F[Ui[jo]],no=te(no,Ge.s3_ll[Wn++]*sc,jo,jo-Bt,Ge);no*=.158489319246111,Ge.blocktype_old[Ct&1]==d.SHORT_TYPE?bt[Bt]=no:bt[Bt]=nt(Math.min(no,Math.min(y*Ge.nb_1[Ct][Bt],w*Ge.nb_2[Ct][Bt])),no,or),Ge.nb_2[Ct][Bt]=Ge.nb_1[Ct][Bt],Ge.nb_1[Ct][Bt]=no}for(;Bt<=d.CBANDS;++Bt)vt[Bt]=0,bt[Bt]=0;We(Ge,vt,bt,Ct)}if((j.mode==MPEGMode.STEREO||j.mode==MPEGMode.JOINT_STEREO)&&j.interChRatio>0&&we(j,j.interChRatio),j.mode==MPEGMode.JOINT_STEREO){var Da;Ee(Ge),Da=j.msfix,Math.abs(Da)>0&&He(Ge,Da,j.ATHlower*Ge.ATH.adjust)}for(xe(j,kt,Ze,et),Ct=0;Ct<zt;Ct++){var oc,ms=0,yl,Cu;Ct>1?(oc=Fe,ms=-2,yl=d.NORM_TYPE,(Ze[0]==d.SHORT_TYPE||Ze[1]==d.SHORT_TYPE)&&(yl=d.SHORT_TYPE),Cu=Ne[me][Ct-2]):(oc=Pe,ms=0,yl=Ze[Ct],Cu=Te[me][Ct]),yl==d.SHORT_TYPE?oc[ms+Ct]=Z(Cu,Ge.masking_lower):oc[ms+Ct]=ut(Cu,Ge.masking_lower),j.analysis&&(Ge.pinfo.pe[me][Ct]=oc[ms+Ct])}return 0};function wt(j,se,fe,me,Te,Ne,Pe,Fe){var ze=j.internal_flags;if(me<2)f.fft_long(ze,Pe[Fe],me,se,fe);else if(me==2)for(var Ze=d.BLKSIZE-1;Ze>=0;--Ze){var Ge=Pe[Fe+0][Ze],at=Pe[Fe+1][Ze];Pe[Fe+0][Ze]=(Ge+at)*i.SQRT2*.5,Pe[Fe+1][Ze]=(Ge-at)*i.SQRT2*.5}Ne[0]=Pe[Fe+0][0],Ne[0]*=Ne[0];for(var Ze=d.BLKSIZE/2-1;Ze>=0;--Ze){var Nt=Pe[Fe+0][d.BLKSIZE/2-Ze],vt=Pe[Fe+0][d.BLKSIZE/2+Ze];Ne[d.BLKSIZE/2-Ze]=(Nt*Nt+vt*vt)*.5}{for(var lt=0,Ze=11;Ze<d.HBLKSIZE;Ze++)lt+=Ne[Ze];ze.tot_ener[me]=lt}if(j.analysis){for(var Ze=0;Ze<d.HBLKSIZE;Ze++)ze.pinfo.energy[Te][me][Ze]=ze.pinfo.energy_save[me][Ze],ze.pinfo.energy_save[me][Ze]=Ne[Ze];ze.pinfo.pe[Te][me]=ze.pe[me]}}function ft(j,se,fe,me,Te,Ne,Pe,Fe){var ze=j.internal_flags;if(Te==0&&me<2&&f.fft_short(ze,Pe[Fe],me,se,fe),me==2)for(var Ze=d.BLKSIZE_s-1;Ze>=0;--Ze){var Ge=Pe[Fe+0][Te][Ze],at=Pe[Fe+1][Te][Ze];Pe[Fe+0][Te][Ze]=(Ge+at)*i.SQRT2*.5,Pe[Fe+1][Te][Ze]=(Ge-at)*i.SQRT2*.5}Ne[Te][0]=Pe[Fe+0][Te][0],Ne[Te][0]*=Ne[Te][0];for(var Ze=d.BLKSIZE_s/2-1;Ze>=0;--Ze){var Nt=Pe[Fe+0][Te][d.BLKSIZE_s/2-Ze],vt=Pe[Fe+0][Te][d.BLKSIZE_s/2+Ze];Ne[Te][d.BLKSIZE_s/2-Ze]=(Nt*Nt+vt*vt)*.5}}function Tt(j,se,fe,me){var Te=j.internal_flags;j.athaa_loudapprox==2&&fe<2&&(Te.loudness_sq[se][fe]=Te.loudness_sq_save[fe],Te.loudness_sq_save[fe]=ee(me,Te))}var De=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Ve(j,se,fe,me,Te,Ne,Pe,Fe,ze,Ze){for(var Ge=o([2,576]),at=j.internal_flags,Nt=at.channels_out,vt=j.mode==MPEGMode.JOINT_STEREO?4:Nt,lt=0;lt<Nt;lt++){firbuf=se[lt];var bt=fe+576-350-$+192;c(De.length==($-1)/2);for(var et=0;et<576;et++){var kt,zt;kt=firbuf[bt+et+10],zt=0;for(var Ct=0;Ct<($-1)/2-1;Ct+=2)kt+=De[Ct]*(firbuf[bt+et+Ct]+firbuf[bt+et+$-Ct]),zt+=De[Ct+1]*(firbuf[bt+et+Ct+1]+firbuf[bt+et+$-Ct-1]);Ge[lt][et]=kt+zt}Te[me][lt].en.assign(at.en[lt]),Te[me][lt].thm.assign(at.thm[lt]),vt>2&&(Ne[me][lt].en.assign(at.en[lt+2]),Ne[me][lt].thm.assign(at.thm[lt+2]))}for(var lt=0;lt<vt;lt++){var Bt=s(12),Et=s(12),Gt=[0,0,0,0],Wn=Ge[lt&1],Ft=0,an=lt==3?at.nsPsy.attackthre_s:at.nsPsy.attackthre,cn=1;if(lt==2)for(var et=0,Ct=576;Ct>0;++et,--Ct){var or=Ge[0][et],Ui=Ge[1][et];Ge[0][et]=or+Ui,Ge[1][et]=or-Ui}for(var et=0;et<3;et++)Et[et]=at.nsPsy.last_en_subshort[lt][et+6],c(at.nsPsy.last_en_subshort[lt][et+4]>0),Bt[et]=Et[et]/at.nsPsy.last_en_subshort[lt][et+4],Gt[0]+=Et[et];for(var et=0;et<9;et++){for(var Vn=Ft+64,er=1;Ft<Vn;Ft++)er<Math.abs(Wn[Ft])&&(er=Math.abs(Wn[Ft]));at.nsPsy.last_en_subshort[lt][et]=Et[et+3]=er,Gt[1+et/3]+=er,er>Et[et+3-2]?(c(Et[et+3-2]>0),er=er/Et[et+3-2]):Et[et+3-2]>er*10?(c(er>0),er=Et[et+3-2]/(er*10)):er=0,Bt[et+3]=er}for(var et=0;et<3;++et){var Si=Et[et*3+3]+Et[et*3+4]+Et[et*3+5],Ai=1;Et[et*3+5]*6<Si&&(Ai*=.5,Et[et*3+4]*6<Si&&(Ai*=.5)),Fe[lt][et]=Ai}if(j.analysis){for(var qi=Bt[0],et=1;et<12;et++)qi<Bt[et]&&(qi=Bt[et]);at.pinfo.ers[me][lt]=at.pinfo.ers_save[lt],at.pinfo.ers_save[lt]=qi}for(var et=0;et<12;et++)ze[lt][et/3]==0&&Bt[et]>an&&(ze[lt][et/3]=et%3+1);for(var et=1;et<4;et++){var ba=Gt[et-1],ya=Gt[et],wr=Math.max(ba,ya);wr<4e4&&ba<1.7*ya&&ya<1.7*ba&&(et==1&&ze[lt][0]<=ze[lt][et]&&(ze[lt][0]=0),ze[lt][et]=0)}ze[lt][0]<=at.nsPsy.lastAttacks[lt]&&(ze[lt][0]=0),(at.nsPsy.lastAttacks[lt]==3||ze[lt][0]+ze[lt][1]+ze[lt][2]+ze[lt][3]!=0)&&(cn=0,ze[lt][1]!=0&&ze[lt][0]!=0&&(ze[lt][1]=0),ze[lt][2]!=0&&ze[lt][1]!=0&&(ze[lt][2]=0),ze[lt][3]!=0&&ze[lt][2]!=0&&(ze[lt][3]=0)),lt<2?Ze[lt]=cn:cn==0&&(Ze[0]=Ze[1]=0),Pe[lt]=at.tot_ener[lt]}}function Ke(j,se,fe){if(fe==0)for(var me=0;me<j.npart_s;me++)j.nb_s2[se][me]=j.nb_s1[se][me],j.nb_s1[se][me]=0}function gt(j,se){for(var fe=0;fe<j.npart_l;fe++)j.nb_2[se][fe]=j.nb_1[se][fe],j.nb_1[se][fe]=0}function N(j,se,fe,me){var Te=F.length-1,Ne=0,Pe=fe[Ne]+fe[Ne+1];if(c(Pe>=0),Pe>0){var Fe=se[Ne];Fe<se[Ne+1]&&(Fe=se[Ne+1]),c(j.numlines_s[Ne]+j.numlines_s[Ne+1]-1>0),Pe=20*(Fe*2-Pe)/(Pe*(j.numlines_s[Ne]+j.numlines_s[Ne+1]-1));var ze=0|Pe;ze>Te&&(ze=Te),me[Ne]=ze}else me[Ne]=0;for(Ne=1;Ne<j.npart_s-1;Ne++)if(Pe=fe[Ne-1]+fe[Ne]+fe[Ne+1],c(Ne+1<j.npart_s),c(Pe>=0),Pe>0){var Fe=se[Ne-1];Fe<se[Ne]&&(Fe=se[Ne]),Fe<se[Ne+1]&&(Fe=se[Ne+1]),c(j.numlines_s[Ne-1]+j.numlines_s[Ne]+j.numlines_s[Ne+1]-1>0),Pe=20*(Fe*3-Pe)/(Pe*(j.numlines_s[Ne-1]+j.numlines_s[Ne]+j.numlines_s[Ne+1]-1));var ze=0|Pe;ze>Te&&(ze=Te),me[Ne]=ze}else me[Ne]=0;if(c(Ne>0),c(Ne==j.npart_s-1),Pe=fe[Ne-1]+fe[Ne],c(Pe>=0),Pe>0){var Fe=se[Ne-1];Fe<se[Ne]&&(Fe=se[Ne]),c(j.numlines_s[Ne-1]+j.numlines_s[Ne]-1>0),Pe=20*(Fe*2-Pe)/(Pe*(j.numlines_s[Ne-1]+j.numlines_s[Ne]-1));var ze=0|Pe;ze>Te&&(ze=Te),me[Ne]=ze}else me[Ne]=0;c(Ne==j.npart_s-1)}function _e(j,se,fe,me,Te,Ne){var Pe=j.internal_flags,Fe=new float[d.CBANDS],ze=s(d.CBANDS),Ze,Ge,at,Nt=new int[d.CBANDS];for(at=Ge=0;at<Pe.npart_s;++at){var vt=0,lt=0,bt=Pe.numlines_s[at];for(Ze=0;Ze<bt;++Ze,++Ge){var et=se[Ne][Ge];vt+=et,lt<et&&(lt=et)}fe[at]=vt,c(vt>=0),Fe[at]=lt,c(bt>0),ze[at]=vt/bt,c(ze[at]>=0)}for(c(at==Pe.npart_s),c(Ge==129);at<d.CBANDS;++at)Fe[at]=0,ze[at]=0;for(N(Pe,Fe,ze,Nt),Ge=at=0;at<Pe.npart_s;at++){var kt=Pe.s3ind_s[at][0],zt=Pe.s3ind_s[at][1],Ct,Bt,Et,Gt,Wn;for(Ct=Nt[kt],Bt=1,Gt=Pe.s3_ss[Ge]*fe[kt]*F[Nt[kt]],++Ge,++kt;kt<=zt;)Ct+=Nt[kt],Bt+=1,Et=Pe.s3_ss[Ge]*fe[kt]*F[Nt[kt]],Gt=ne(Gt,Et,kt-at),++Ge,++kt;Ct=(1+2*Ct)/(2*Bt),Wn=F[Ct]*.5,Gt*=Wn,me[at]=Gt,Pe.nb_s2[Te][at]=Pe.nb_s1[Te][at],Pe.nb_s1[Te][at]=Gt,Et=Fe[at],Et*=Pe.minval_s[at],Et*=Wn,me[at]>Et&&(me[at]=Et),Pe.masking_lower>1&&(me[at]*=Pe.masking_lower),me[at]>fe[at]&&(me[at]=fe[at]),Pe.masking_lower<1&&(me[at]*=Pe.masking_lower),c(me[at]>=0)}for(;at<d.CBANDS;++at)fe[at]=0,me[at]=0}function ke(j,se,fe,me,Te){var Ne=s(d.CBANDS),Pe=s(d.CBANDS),Fe=l(d.CBANDS+2),ze;rt(j,se,fe,Ne,Pe),ht(j,Ne,Pe,Fe);var Ze=0;for(ze=0;ze<j.npart_l;ze++){var Ge,at,Nt,vt,lt=j.s3ind[ze][0],bt=j.s3ind[ze][1],et=0,kt=0;for(et=Fe[lt],kt+=1,at=j.s3_ll[Ze]*fe[lt]*F[Fe[lt]],++Ze,++lt;lt<=bt;)et+=Fe[lt],kt+=1,Ge=j.s3_ll[Ze]*fe[lt]*F[Fe[lt]],vt=ne(at,Ge,lt-ze),at=vt,++Ze,++lt;if(et=(1+2*et)/(2*kt),Nt=F[et]*.5,at*=Nt,j.blocktype_old[Te&1]==d.SHORT_TYPE){var zt=y*j.nb_1[Te][ze];zt>0?me[ze]=Math.min(at,zt):me[ze]=Math.min(at,fe[ze]*z)}else{var Ct=w*j.nb_2[Te][ze],Bt=y*j.nb_1[Te][ze],zt;Ct<=0&&(Ct=at),Bt<=0&&(Bt=at),j.blocktype_old[Te&1]==d.NORM_TYPE?zt=Math.min(Bt,Ct):zt=Bt,me[ze]=Math.min(at,zt)}j.nb_2[Te][ze]=j.nb_1[Te][ze],j.nb_1[Te][ze]=at,Ge=Ne[ze],Ge*=j.minval_l[ze],Ge*=Nt,me[ze]>Ge&&(me[ze]=Ge),j.masking_lower>1&&(me[ze]*=j.masking_lower),me[ze]>fe[ze]&&(me[ze]=fe[ze]),j.masking_lower<1&&(me[ze]*=j.masking_lower),c(me[ze]>=0)}for(;ze<d.CBANDS;++ze)fe[ze]=0,me[ze]=0}function Le(j,se){var fe=j.internal_flags;j.short_blocks==n.short_block_coupled&&!(se[0]!=0&&se[1]!=0)&&(se[0]=se[1]=0);for(var me=0;me<fe.channels_out;me++)j.short_blocks==n.short_block_dispensed&&(se[me]=1),j.short_blocks==n.short_block_forced&&(se[me]=0)}function Y(j,se,fe){for(var me=j.internal_flags,Te=0;Te<me.channels_out;Te++){var Ne=d.NORM_TYPE;se[Te]!=0?(c(me.blocktype_old[Te]!=d.START_TYPE),me.blocktype_old[Te]==d.SHORT_TYPE&&(Ne=d.STOP_TYPE)):(Ne=d.SHORT_TYPE,me.blocktype_old[Te]==d.NORM_TYPE&&(me.blocktype_old[Te]=d.START_TYPE),me.blocktype_old[Te]==d.STOP_TYPE&&(me.blocktype_old[Te]=d.SHORT_TYPE)),fe[Te]=me.blocktype_old[Te],me.blocktype_old[Te]=Ne}}function ge(j,se,fe,me,Te,Ne,Pe){for(var Fe=Ne*2,ze=Ne>0?Math.pow(10,Te):1,Ze,Ge,at=0;at<Pe;++at){var Nt=j[2][at],vt=j[3][at],lt=se[0][at],bt=se[1][at],et=se[2][at],kt=se[3][at];if(lt<=1.58*bt&&bt<=1.58*lt){var zt=fe[at]*vt,Ct=fe[at]*Nt;Ge=Math.max(et,Math.min(kt,zt)),Ze=Math.max(kt,Math.min(et,Ct))}else Ge=et,Ze=kt;if(Ne>0){var Bt,Et,Gt=me[at]*ze;if(Bt=Math.min(Math.max(lt,Gt),Math.max(bt,Gt)),et=Math.max(Ge,Gt),kt=Math.max(Ze,Gt),Et=et+kt,Et>0&&Bt*Fe<Et){var Wn=Bt*Fe/Et;et*=Wn,kt*=Wn,c(Et>0)}Ge=Math.min(et,Ge),Ze=Math.min(kt,Ze)}Ge>Nt&&(Ge=Nt),Ze>vt&&(Ze=vt),se[2][at]=Ge,se[3][at]=Ze}}this.L3psycho_anal_vbr=function(j,se,fe,me,Te,Ne,Pe,Fe,ze,Ze){var Ge=j.internal_flags,at,Nt,vt=s(d.HBLKSIZE),lt=o([3,d.HBLKSIZE_s]),bt=o([2,d.BLKSIZE]),et=o([2,3,d.BLKSIZE_s]),kt=o([4,d.CBANDS]),zt=o([4,d.CBANDS]),Ct=o([4,3]),Bt=.6,Et=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Gt=l(2),Wn=j.mode==MPEGMode.JOINT_STEREO?4:Ge.channels_out;Ve(j,se,fe,me,Te,Ne,ze,Ct,Et,Gt),Le(j,Gt);{for(var Ft=0;Ft<Wn;Ft++){var an=Ft&1;at=bt,wt(j,se,fe,Ft,me,vt,at,an),Tt(j,me,Ft,vt),Gt[an]!=0?ke(Ge,vt,kt[Ft],zt[Ft],Ft):gt(Ge,Ft)}Gt[0]+Gt[1]==2&&j.mode==MPEGMode.JOINT_STEREO&&ge(kt,zt,Ge.mld_cb_l,Ge.ATH.cb_l,j.ATHlower*Ge.ATH.adjust,j.msfix,Ge.npart_l);for(var Ft=0;Ft<Wn;Ft++){var an=Ft&1;Gt[an]!=0&&We(Ge,kt[Ft],zt[Ft],Ft)}}{for(var cn=0;cn<3;cn++){for(var Ft=0;Ft<Wn;++Ft){var an=Ft&1;Gt[an]!=0?Ke(Ge,Ft,cn):(Nt=et,ft(j,se,fe,Ft,cn,lt,Nt,an),_e(j,lt,kt[Ft],zt[Ft],Ft,cn))}Gt[0]+Gt[1]==0&&j.mode==MPEGMode.JOINT_STEREO&&ge(kt,zt,Ge.mld_cb_s,Ge.ATH.cb_s,j.ATHlower*Ge.ATH.adjust,j.msfix,Ge.npart_s);for(var Ft=0;Ft<Wn;++Ft){var an=Ft&1;Gt[an]==0&&Ue(Ge,kt[Ft],zt[Ft],Ft,cn)}}for(var Ft=0;Ft<Wn;Ft++){var an=Ft&1;if(Gt[an]==0)for(var or=0;or<d.SBMAX_s;or++){for(var Ui=s(3),cn=0;cn<3;cn++){var Vn=Ge.thm[Ft].s[or][cn];if(Vn*=B,Et[Ft][cn]>=2||Et[Ft][cn+1]==1){var er=cn!=0?cn-1:2,Si=nt(Ge.thm[Ft].s[or][er],Vn,L*Bt);Vn=Math.min(Vn,Si)}else if(Et[Ft][cn]==1){var er=cn!=0?cn-1:2,Si=nt(Ge.thm[Ft].s[or][er],Vn,z*Bt);Vn=Math.min(Vn,Si)}else if(cn!=0&&Et[Ft][cn-1]==3||cn==0&&Ge.nsPsy.lastAttacks[Ft]==3){var er=cn!=2?cn+1:0,Si=nt(Ge.thm[Ft].s[or][er],Vn,z*Bt);Vn=Math.min(Vn,Si)}Vn*=Ct[Ft][cn],Ui[cn]=Vn}for(var cn=0;cn<3;cn++)Ge.thm[Ft].s[or][cn]=Ui[cn]}}}for(var Ft=0;Ft<Wn;Ft++)Ge.nsPsy.lastAttacks[Ft]=Et[Ft][2];Y(j,Gt,Ze);for(var Ft=0;Ft<Wn;Ft++){var Ai,qi,ba,ya;Ft>1?(Ai=Fe,qi=-2,ba=d.NORM_TYPE,(Ze[0]==d.SHORT_TYPE||Ze[1]==d.SHORT_TYPE)&&(ba=d.SHORT_TYPE),ya=Ne[me][Ft-2]):(Ai=Pe,qi=0,ba=Ze[Ft],ya=Te[me][Ft]),ba==d.SHORT_TYPE?Ai[qi+Ft]=Z(ya,Ge.masking_lower):Ai[qi+Ft]=ut(ya,Ge.masking_lower),j.analysis&&(Ge.pinfo.pe[me][Ft]=Ai[qi+Ft])}return 0};function S(j,se){var fe=j,me;return fe>=0?me=-fe*27:me=fe*se,me<=-72?0:Math.exp(me*U)}function Ae(j){var se=0,fe=0;{var me=0,Te,Ne;for(me=0;S(me,j)>1e-20;me-=1);for(Te=me,Ne=0;Math.abs(Ne-Te)>1e-12;)me=(Ne+Te)/2,S(me,j)>0?Ne=me:Te=me;se=Te}{var me=0,Te,Ne;for(me=0;S(me,j)>1e-20;me+=1);for(Te=0,Ne=me;Math.abs(Ne-Te)>1e-12;)me=(Ne+Te)/2,S(me,j)>0?Te=me:Ne=me;fe=Ne}{var Pe=0,Fe=1e3,ze;for(ze=0;ze<=Fe;++ze){var me=se+ze*(fe-se)/Fe,Ze=S(me,j);Pe+=Ze}{var Ge=(Fe+1)/(Pe*(fe-se));return Ge}}}function Xe(j){var se,fe,me,Te;return se=j,se>=0?se*=3:se*=1.5,se>=.5&&se<=2.5?(Te=se-.5,fe=8*(Te*Te-2*Te)):fe=0,se+=.474,me=15.811389+7.5*se-17.5*Math.sqrt(1+se*se),me<=-60?0:(se=Math.exp((fe+me)*U),se/=.6609193,se)}function m(j){return j<0&&(j=0),j=j*.001,13*Math.atan(.76*j)+3.5*Math.atan(j*j/(7.5*7.5))}function pe(j,se,fe,me,Te,Ne,Pe,Fe,ze,Ze,Ge,at){var Nt=s(d.CBANDS+1),vt=Fe/(at>15?2*576:384),lt=l(d.HBLKSIZE),bt;Fe/=ze;var et=0,kt=0;for(bt=0;bt<d.CBANDS;bt++){var zt,Ct;for(zt=m(Fe*et),Nt[bt]=Fe*et,Ct=et;m(Fe*Ct)-zt<v&&Ct<=ze/2;Ct++);for(j[bt]=Ct-et,kt=bt+1;et<Ct;)c(et<d.HBLKSIZE),lt[et++]=bt;if(et>ze/2){et=ze/2,++bt;break}}c(bt<d.CBANDS),Nt[bt]=Fe*et;for(var Bt=0;Bt<at;Bt++){var Et,Gt,Wn,Ft,an;Wn=Ze[Bt],Ft=Ze[Bt+1],Et=0|Math.floor(.5+Ge*(Wn-.5)),Et<0&&(Et=0),Gt=0|Math.floor(.5+Ge*(Ft-.5)),Gt>ze/2&&(Gt=ze/2),fe[Bt]=(lt[Et]+lt[Gt])/2,se[Bt]=lt[Gt];var cn=vt*Ft;Pe[Bt]=(cn-Nt[se[Bt]])/(Nt[se[Bt]+1]-Nt[se[Bt]]),Pe[Bt]<0?Pe[Bt]=0:Pe[Bt]>1&&(Pe[Bt]=1),an=m(Fe*Ze[Bt]*Ge),an=Math.min(an,15.5)/15.5,Ne[Bt]=Math.pow(10,1.25*(1-Math.cos(Math.PI*an))-2.5)}et=0;for(var or=0;or<kt;or++){var Ui=j[or],zt,Vn;zt=m(Fe*et),Vn=m(Fe*(et+Ui-1)),me[or]=.5*(zt+Vn),zt=m(Fe*(et-.5)),Vn=m(Fe*(et+Ui-.5)),Te[or]=Vn-zt,et+=Ui}return kt}function he(j,se,fe,me,Te,Ne){var Pe=o([d.CBANDS,d.CBANDS]),Fe,ze=0;if(Ne)for(var Ze=0;Ze<se;Ze++)for(Fe=0;Fe<se;Fe++){var Ge=Xe(fe[Ze]-fe[Fe])*me[Fe];Pe[Ze][Fe]=Ge*Te[Ze]}else for(Fe=0;Fe<se;Fe++)for(var at=15+Math.min(21/fe[Fe],12),Nt=Ae(at),Ze=0;Ze<se;Ze++){var Ge=Nt*S(fe[Ze]-fe[Fe],at)*me[Fe];Pe[Ze][Fe]=Ge*Te[Ze]}for(var Ze=0;Ze<se;Ze++){for(Fe=0;Fe<se&&!(Pe[Ze][Fe]>0);Fe++);for(j[Ze][0]=Fe,Fe=se-1;Fe>0&&!(Pe[Ze][Fe]>0);Fe--);j[Ze][1]=Fe,ze+=j[Ze][1]-j[Ze][0]+1}for(var vt=s(ze),lt=0,Ze=0;Ze<se;Ze++)for(Fe=j[Ze][0];Fe<=j[Ze][1];Fe++)vt[lt++]=Pe[Ze][Fe];return vt}function k(j){var se=m(j);return se=Math.min(se,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*se))-2.5)}this.psymodel_init=function(j){var se=j.internal_flags,fe,me=!0,Te=13,Ne=24,Pe=0,Fe=0,ze=-8.25,Ze=-4.5,Ge=s(d.CBANDS),at=s(d.CBANDS),Nt=s(d.CBANDS),vt=j.out_samplerate;switch(j.experimentalZ){default:case 0:me=!0;break;case 1:me=!(j.VBR==e.vbr_mtrh||j.VBR==e.vbr_mt);break;case 2:me=!1;break;case 3:Te=8,Pe=-1.75,Fe=-.0125,ze=-8.25,Ze=-2.25;break}for(se.ms_ener_ratio_old=.25,se.blocktype_old[0]=se.blocktype_old[1]=d.NORM_TYPE,fe=0;fe<4;++fe){for(var et=0;et<d.CBANDS;++et)se.nb_1[fe][et]=1e20,se.nb_2[fe][et]=1e20,se.nb_s1[fe][et]=se.nb_s2[fe][et]=1;for(var lt=0;lt<d.SBMAX_l;lt++)se.en[fe].l[lt]=1e20,se.thm[fe].l[lt]=1e20;for(var et=0;et<3;++et){for(var lt=0;lt<d.SBMAX_s;lt++)se.en[fe].s[lt][et]=1e20,se.thm[fe].s[lt][et]=1e20;se.nsPsy.lastAttacks[fe]=0}for(var et=0;et<9;et++)se.nsPsy.last_en_subshort[fe][et]=10}for(se.loudness_sq_save[0]=se.loudness_sq_save[1]=0,se.npart_l=pe(se.numlines_l,se.bo_l,se.bm_l,Ge,at,se.mld_l,se.PSY.bo_l_weight,vt,d.BLKSIZE,se.scalefac_band.l,d.BLKSIZE/(2*576),d.SBMAX_l),c(se.npart_l<d.CBANDS),fe=0;fe<se.npart_l;fe++){var bt=Pe;Ge[fe]>=Te&&(bt=Fe*(Ge[fe]-Te)/(Ne-Te)+Pe*(Ne-Ge[fe])/(Ne-Te)),Nt[fe]=Math.pow(10,bt/10),se.numlines_l[fe]>0?se.rnumlines_l[fe]=1/se.numlines_l[fe]:se.rnumlines_l[fe]=0}se.s3_ll=he(se.s3ind,se.npart_l,Ge,at,Nt,me);var et=0;for(fe=0;fe<se.npart_l;fe++){var kt;kt=t.MAX_VALUE;for(var zt=0;zt<se.numlines_l[fe];zt++,et++){var Ct=vt*et/(1e3*d.BLKSIZE),Bt;Bt=this.ATHformula(Ct*1e3,j)-20,Bt=Math.pow(10,.1*Bt),Bt*=se.numlines_l[fe],kt>Bt&&(kt=Bt)}se.ATH.cb_l[fe]=kt,kt=-20+Ge[fe]*20/10,kt>6&&(kt=100),kt<-15&&(kt=-15),kt-=8,se.minval_l[fe]=Math.pow(10,kt/10)*se.numlines_l[fe]}for(se.npart_s=pe(se.numlines_s,se.bo_s,se.bm_s,Ge,at,se.mld_s,se.PSY.bo_s_weight,vt,d.BLKSIZE_s,se.scalefac_band.s,d.BLKSIZE_s/384,d.SBMAX_s),c(se.npart_s<d.CBANDS),et=0,fe=0;fe<se.npart_s;fe++){var kt,bt=ze;Ge[fe]>=Te&&(bt=Ze*(Ge[fe]-Te)/(Ne-Te)+ze*(Ne-Ge[fe])/(Ne-Te)),Nt[fe]=Math.pow(10,bt/10),kt=t.MAX_VALUE;for(var zt=0;zt<se.numlines_s[fe];zt++,et++){var Ct=vt*et/(1e3*d.BLKSIZE_s),Bt;Bt=this.ATHformula(Ct*1e3,j)-20,Bt=Math.pow(10,.1*Bt),Bt*=se.numlines_s[fe],kt>Bt&&(kt=Bt)}se.ATH.cb_s[fe]=kt,kt=-7+Ge[fe]*7/12,Ge[fe]>12&&(kt*=1+Math.log(1+kt)*3.1),Ge[fe]<12&&(kt*=1+Math.log(1-kt)*2.3),kt<-15&&(kt=-15),kt-=8,se.minval_s[fe]=Math.pow(10,kt/10)*se.numlines_s[fe]}se.s3_ss=he(se.s3ind_s,se.npart_s,Ge,at,Nt,me),C(),f.init_fft(se),se.decay=Math.exp(-1*g/(M*vt/192));{var Et;Et=H,(j.exp_nspsytune&2)!=0&&(Et=1),Math.abs(j.msfix)>0&&(Et=j.msfix),j.msfix=Et;for(var Gt=0;Gt<se.npart_l;Gt++)se.s3ind[Gt][1]>se.npart_l-1&&(se.s3ind[Gt][1]=se.npart_l-1)}var Wn=576*se.mode_gr/vt;if(se.ATH.decay=Math.pow(10,-12/10*Wn),se.ATH.adjust=.01,se.ATH.adjustLimit=1,c(se.bo_l[d.SBMAX_l-1]<=se.npart_l),c(se.bo_s[d.SBMAX_s-1]<=se.npart_s),j.ATHtype!=-1){var Ct,Ft=j.out_samplerate/d.BLKSIZE,an=0;for(Ct=0,fe=0;fe<d.BLKSIZE/2;++fe)Ct+=Ft,se.ATH.eql_w[fe]=1/Math.pow(10,this.ATHformula(Ct,j)/10),an+=se.ATH.eql_w[fe];for(an=1/an,fe=d.BLKSIZE/2;--fe>=0;)se.ATH.eql_w[fe]*=an}{for(var Gt=et=0;Gt<se.npart_s;++Gt)for(fe=0;fe<se.numlines_s[Gt];++fe)++et;c(et==129);for(var Gt=et=0;Gt<se.npart_l;++Gt)for(fe=0;fe<se.numlines_l[Gt];++fe)++et;c(et==513)}for(et=0,fe=0;fe<se.npart_l;fe++){var Ct=vt*(et+se.numlines_l[fe]/2)/(1*d.BLKSIZE);se.mld_cb_l[fe]=k(Ct),et+=se.numlines_l[fe]}for(;fe<d.CBANDS;++fe)se.mld_cb_l[fe]=1;for(et=0,fe=0;fe<se.npart_s;fe++){var Ct=vt*(et+se.numlines_s[fe]/2)/(1*d.BLKSIZE_s);se.mld_cb_s[fe]=k(Ct),et+=se.numlines_s[fe]}for(;fe<d.CBANDS;++fe)se.mld_cb_s[fe]=1;return 0};function G(j,se){j<-.3&&(j=3410),j/=1e3,j=Math.max(.1,j);var fe=3.64*Math.pow(j,-.8)-6.8*Math.exp(-.6*Math.pow(j-3.4,2))+6*Math.exp(-.15*Math.pow(j-8.7,2))+(.6+.04*se)*.001*Math.pow(j,4);return fe}this.ATHformula=function(j,se){var fe;switch(se.ATHtype){case 0:fe=G(j,9);break;case 1:fe=G(j,-1);break;case 2:fe=G(j,0);break;case 3:fe=G(j,1)+6;break;case 4:fe=G(j,se.ATHcurve);break;default:fe=G(j,0);break}return fe}}return $w=h,$w}var e_,kC;function lM(){if(kC)return e_;kC=1;function r(e){var t=e;this.ordinal=function(){return t}}return r.STEREO=new r(0),r.JOINT_STEREO=new r(1),r.DUAL_CHANNEL=new r(2),r.MONO=new r(3),r.NOT_SET=new r(4),e_=r,e_}var t_,EC;function zY(){if(EC)return t_;EC=1;var r=lM();function e(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=r.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}return t_=e,t_}var n_,CC;function l5(){if(CC)return n_;CC=1;var r=Fa(),e={};return e.SFBMAX=r.SBMAX_s*3,n_=e,n_}var r_,TC;function LS(){if(TC)return r_;TC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var e=r.new_float;r.new_float_n;var t=r.new_int;r.new_int_n,r.assert;var n=l5();function i(){this.xr=e(576),this.l3_enc=t(576),this.scalefac=t(n.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=t(3),this.subblock_gain=t(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=t(n.SFBMAX),this.window=t(n.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=t(4),this.max_nonzero_coeff=0;var a=this;function s(l){return new Int32Array(l)}function o(l){return new Float32Array(l)}this.assign=function(l){a.xr=o(l.xr),a.l3_enc=s(l.l3_enc),a.scalefac=s(l.scalefac),a.xrpow_max=l.xrpow_max,a.part2_3_length=l.part2_3_length,a.big_values=l.big_values,a.count1=l.count1,a.global_gain=l.global_gain,a.scalefac_compress=l.scalefac_compress,a.block_type=l.block_type,a.mixed_block_flag=l.mixed_block_flag,a.table_select=s(l.table_select),a.subblock_gain=s(l.subblock_gain),a.region0_count=l.region0_count,a.region1_count=l.region1_count,a.preflag=l.preflag,a.scalefac_scale=l.scalefac_scale,a.count1table_select=l.count1table_select,a.part2_length=l.part2_length,a.sfb_lmax=l.sfb_lmax,a.sfb_smin=l.sfb_smin,a.psy_lmax=l.psy_lmax,a.sfbmax=l.sfbmax,a.psymax=l.psymax,a.sfbdivide=l.sfbdivide,a.width=s(l.width),a.window=s(l.window),a.count1bits=l.count1bits,a.sfb_partition_table=l.sfb_partition_table.slice(0),a.slen=s(l.slen),a.max_nonzero_coeff=l.max_nonzero_coeff}}return r_=i,r_}var i_,NC;function VY(){if(NC)return i_;NC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n;var e=r.new_int;r.new_int_n,r.assert;var t=LS();function n(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[e(4),e(4)];for(var i=0;i<2;i++)for(var a=0;a<2;a++)this.tt[i][a]=new t}return i_=n,i_}var a_,RC;function cM(){if(RC)return a_;RC=1;var r=Vr(),e=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n;var t=r.new_int;r.new_int_n,r.assert;var n=Fa();function i(a,s,o,l){this.l=t(1+n.SBMAX_l),this.s=t(1+n.SBMAX_s),this.psfb21=t(1+n.PSFB21),this.psfb12=t(1+n.PSFB12);var c=this.l,u=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],e.arraycopy(this.arrL,0,c,0,Math.min(this.arrL.length,this.l.length)),e.arraycopy(this.arrS,0,u,0,Math.min(this.arrS.length,this.s.length)),e.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),e.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}return a_=i,a_}var s_,IC;function GY(){if(IC)return s_;IC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var e=r.new_float,t=r.new_float_n,n=r.new_int;r.new_int_n,r.assert;var i=Fa();function a(){this.last_en_subshort=t([4,9]),this.lastAttacks=n(4),this.pefirbuf=e(19),this.longfact=e(i.SBMAX_l),this.shortfact=e(i.SBMAX_s),this.attackthre=0,this.attackthre_s=0}return s_=a,s_}var o_,MC;function WY(){if(MC)return o_;MC=1;function r(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}return o_=r,o_}var l_,PC;function c5(){if(PC)return l_;PC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n;var e=r.new_byte,t=r.new_double,n=r.new_float,i=r.new_float_n,a=r.new_int,s=r.new_int_n;r.assert;var o=VY(),l=cM(),c=GY(),u=WY(),d=oM(),h=Fa(),f=l5();g.MFSIZE=3*1152+h.ENCDELAY-h.MDCTDELAY,g.MAX_HEADER_BUF=256,g.MAX_BITS_PER_CHANNEL=4095,g.MAX_BITS_PER_GRANULE=7680,g.BPC=320;function g(){var y=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=i([2,g.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new o,this.ms_ratio=n(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=a(2),this.CurrentStep=a(2),this.masking_lower=0,this.bv_scf=a(576),this.pseudohalf=a(f.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*g.BPC+1),this.itime=t(2),this.sideinfo_len=0,this.sb_sample=i([2,2,18,h.SBLIMIT]),this.amp_filter=n(32);function w(){this.write_timing=0,this.ptr=0,this.buf=e(y)}this.header=new Array(g.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new l,this.minval_l=n(h.CBANDS),this.minval_s=n(h.CBANDS),this.nb_1=i([4,h.CBANDS]),this.nb_2=i([4,h.CBANDS]),this.nb_s1=i([4,h.CBANDS]),this.nb_s2=i([4,h.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=n(4),this.loudness_sq=i([2,2]),this.loudness_sq_save=n(2),this.mld_l=n(h.SBMAX_l),this.mld_s=n(h.SBMAX_s),this.bm_l=a(h.SBMAX_l),this.bo_l=a(h.SBMAX_l),this.bm_s=a(h.SBMAX_s),this.bo_s=a(h.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=s([h.CBANDS,2]),this.s3ind_s=s([h.CBANDS,2]),this.numlines_s=a(h.CBANDS),this.numlines_l=a(h.CBANDS),this.rnumlines_l=n(h.CBANDS),this.mld_cb_l=n(h.CBANDS),this.mld_cb_s=n(h.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=n(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=a(2),this.nsPsy=new c,this.VBR_seek_table=new u,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=s([16,5]),this.bitrate_blockType_Hist=s([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var x=0;x<this.en.length;x++)this.en[x]=new d;for(var x=0;x<this.thm.length;x++)this.thm[x]=new d;for(var x=0;x<this.header.length;x++)this.header[x]=new w}return l_=g,l_}var c_,FC;function XY(){if(FC)return c_;FC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var e=r.new_float;r.new_float_n,r.new_int,r.new_int_n,r.assert;var t=Fa();function n(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=e(t.SBMAX_l),this.s=e(t.SBMAX_s),this.psfb21=e(t.PSFB21),this.psfb12=e(t.PSFB12),this.cb_l=e(t.CBANDS),this.cb_s=e(t.CBANDS),this.eql_w=e(t.BLKSIZE/2)}return c_=n,c_}var u_,LC;function uM(){if(LC)return u_;LC=1;var r=Vr(),e=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util;var t=r.Arrays;r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert,n.STEPS_per_dB=100,n.MAX_dB=120,n.GAIN_NOT_ENOUGH_SAMPLES=-24601,n.GAIN_ANALYSIS_ERROR=0,n.GAIN_ANALYSIS_OK=1,n.INIT_GAIN_ANALYSIS_ERROR=0,n.INIT_GAIN_ANALYSIS_OK=1,n.YULE_ORDER=10,n.MAX_ORDER=n.YULE_ORDER,n.MAX_SAMP_FREQ=48e3,n.RMS_WINDOW_TIME_NUMERATOR=1,n.RMS_WINDOW_TIME_DENOMINATOR=20,n.MAX_SAMPLES_PER_WINDOW=n.MAX_SAMP_FREQ*n.RMS_WINDOW_TIME_NUMERATOR/n.RMS_WINDOW_TIME_DENOMINATOR+1;function n(){var i=64.82;n.YULE_ORDER;var a=.95;n.MAX_SAMP_FREQ;var s=n.RMS_WINDOW_TIME_NUMERATOR,o=n.RMS_WINDOW_TIME_DENOMINATOR;n.MAX_SAMPLES_PER_WINDOW;var l=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],c=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function u(y,w,x,T,v,R){for(;v--!=0;)x[T]=1e-10+y[w+0]*R[0]-x[T-1]*R[1]+y[w-1]*R[2]-x[T-2]*R[3]+y[w-2]*R[4]-x[T-3]*R[5]+y[w-3]*R[6]-x[T-4]*R[7]+y[w-4]*R[8]-x[T-5]*R[9]+y[w-5]*R[10]-x[T-6]*R[11]+y[w-6]*R[12]-x[T-7]*R[13]+y[w-7]*R[14]-x[T-8]*R[15]+y[w-8]*R[16]-x[T-9]*R[17]+y[w-9]*R[18]-x[T-10]*R[19]+y[w-10]*R[20],++T,++w}function d(y,w,x,T,v,R){for(;v--!=0;)x[T]=y[w+0]*R[0]-x[T-1]*R[1]+y[w-1]*R[2]-x[T-2]*R[3]+y[w-2]*R[4],++T,++w}function h(y,w){for(var x=0;x<MAX_ORDER;x++)y.linprebuf[x]=y.lstepbuf[x]=y.loutbuf[x]=y.rinprebuf[x]=y.rstepbuf[x]=y.routbuf[x]=0;switch(0|w){case 48e3:y.reqindex=0;break;case 44100:y.reqindex=1;break;case 32e3:y.reqindex=2;break;case 24e3:y.reqindex=3;break;case 22050:y.reqindex=4;break;case 16e3:y.reqindex=5;break;case 12e3:y.reqindex=6;break;case 11025:y.reqindex=7;break;case 8e3:y.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return y.sampleWindow=0|(w*s+o-1)/o,y.lsum=0,y.rsum=0,y.totsamp=0,t.ill(y.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(y,w){return h(y,w)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(y.linpre=MAX_ORDER,y.rinpre=MAX_ORDER,y.lstep=MAX_ORDER,y.rstep=MAX_ORDER,y.lout=MAX_ORDER,y.rout=MAX_ORDER,t.fill(y.B,0),INIT_GAIN_ANALYSIS_OK)};function f(y){return y*y}this.AnalyzeSamples=function(y,w,x,T,v,R,M){var B,L,z,H,$,U,D;if(R==0)return GAIN_ANALYSIS_OK;switch(D=0,$=R,M){case 1:T=w,v=x;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(R<MAX_ORDER?(e.arraycopy(w,x,y.linprebuf,MAX_ORDER,R),e.arraycopy(T,v,y.rinprebuf,MAX_ORDER,R)):(e.arraycopy(w,x,y.linprebuf,MAX_ORDER,MAX_ORDER),e.arraycopy(T,v,y.rinprebuf,MAX_ORDER,MAX_ORDER));$>0;){U=$>y.sampleWindow-y.totsamp?y.sampleWindow-y.totsamp:$,D<MAX_ORDER?(B=y.linpre+D,L=y.linprebuf,z=y.rinpre+D,H=y.rinprebuf,U>MAX_ORDER-D&&(U=MAX_ORDER-D)):(B=x+D,L=w,z=v+D,H=T),u(L,B,y.lstepbuf,y.lstep+y.totsamp,U,l[y.reqindex]),u(H,z,y.rstepbuf,y.rstep+y.totsamp,U,l[y.reqindex]),d(y.lstepbuf,y.lstep+y.totsamp,y.loutbuf,y.lout+y.totsamp,U,c[y.reqindex]),d(y.rstepbuf,y.rstep+y.totsamp,y.routbuf,y.rout+y.totsamp,U,c[y.reqindex]),B=y.lout+y.totsamp,L=y.loutbuf,z=y.rout+y.totsamp,H=y.routbuf;for(var ee=U%8;ee--!=0;)y.lsum+=f(L[B++]),y.rsum+=f(H[z++]);for(ee=U/8;ee--!=0;)y.lsum+=f(L[B+0])+f(L[B+1])+f(L[B+2])+f(L[B+3])+f(L[B+4])+f(L[B+5])+f(L[B+6])+f(L[B+7]),B+=8,y.rsum+=f(H[z+0])+f(H[z+1])+f(H[z+2])+f(H[z+3])+f(H[z+4])+f(H[z+5])+f(H[z+6])+f(H[z+7]),z+=8;if($-=U,D+=U,y.totsamp+=U,y.totsamp==y.sampleWindow){var J=n.STEPS_per_dB*10*Math.log10((y.lsum+y.rsum)/y.totsamp*.5+1e-37),re=J<=0?0:0|J;re>=y.A.length&&(re=y.A.length-1),y.A[re]++,y.lsum=y.rsum=0,e.arraycopy(y.loutbuf,y.totsamp,y.loutbuf,0,MAX_ORDER),e.arraycopy(y.routbuf,y.totsamp,y.routbuf,0,MAX_ORDER),e.arraycopy(y.lstepbuf,y.totsamp,y.lstepbuf,0,MAX_ORDER),e.arraycopy(y.rstepbuf,y.totsamp,y.rstepbuf,0,MAX_ORDER),y.totsamp=0}if(y.totsamp>y.sampleWindow)return GAIN_ANALYSIS_ERROR}return R<MAX_ORDER?(e.arraycopy(y.linprebuf,R,y.linprebuf,0,MAX_ORDER-R),e.arraycopy(y.rinprebuf,R,y.rinprebuf,0,MAX_ORDER-R),e.arraycopy(w,x,y.linprebuf,MAX_ORDER-R,R),e.arraycopy(T,v,y.rinprebuf,MAX_ORDER-R,R)):(e.arraycopy(w,x+R-MAX_ORDER,y.linprebuf,0,MAX_ORDER),e.arraycopy(T,v+R-MAX_ORDER,y.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function g(y,w){var x,T=0;for(x=0;x<w;x++)T+=y[x];if(T==0)return GAIN_NOT_ENOUGH_SAMPLES;var v=0|Math.ceil(T*(1-a));for(x=w;x-- >0&&!((v-=y[x])<=0););return i-x/n.STEPS_per_dB}this.GetTitleGain=function(y){for(var w=g(y.A,y.A.length),x=0;x<y.A.length;x++)y.B[x]+=y.A[x],y.A[x]=0;for(var x=0;x<MAX_ORDER;x++)y.linprebuf[x]=y.lstepbuf[x]=y.loutbuf[x]=y.rinprebuf[x]=y.rstepbuf[x]=y.routbuf[x]=0;return y.totsamp=0,y.lsum=y.rsum=0,w}}return u_=n,u_}var d_,DC;function KY(){if(DC)return d_;DC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var e=r.new_float;r.new_float_n;var t=r.new_int;r.new_int_n,r.assert;var n=uM();function i(){this.linprebuf=e(n.MAX_ORDER*2),this.linpre=0,this.lstepbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lstep=0,this.loutbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lout=0,this.rinprebuf=e(n.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rstep=0,this.routbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=t(0|n.STEPS_per_dB*n.MAX_dB),this.B=t(0|n.STEPS_per_dB*n.MAX_dB)}return d_=i,d_}var h_,BC;function dM(){if(BC)return h_;BC=1;function r(e){this.bits=e}return h_=r,h_}var f_,OC;function YY(){if(OC)return f_;OC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var e=r.new_float;r.new_float_n;var t=r.new_int;r.new_int_n;var n=r.assert,i=dM(),a=Fa(),s=l5(),o=c5();function l(c){var u=c;this.quantize=u,this.iteration_loop=function(d,h,f,g){var y=d.internal_flags,w=e(s.SFBMAX),x=e(576),T=t(2),v=0,R,M=y.l3_side,B=new i(v);this.quantize.rv.ResvFrameBegin(d,B),v=B.bits;for(var L=0;L<y.mode_gr;L++){R=this.quantize.qupvt.on_pe(d,h,T,v,L,L),y.mode_ext==a.MPG_MD_MS_LR&&(this.quantize.ms_convert(y.l3_side,L),this.quantize.qupvt.reduce_side(T,f[L],v,R));for(var z=0;z<y.channels_out;z++){var H,$,U=M.tt[L][z];U.block_type!=a.SHORT_TYPE?(H=0,$=y.PSY.mask_adjust-H):(H=0,$=y.PSY.mask_adjust_short-H),y.masking_lower=Math.pow(10,$*.1),this.quantize.init_outer_loop(y,U),this.quantize.init_xrpow(y,U,x)&&(this.quantize.qupvt.calc_xmin(d,g[L][z],U,w),this.quantize.outer_loop(d,U,w,x,z,T[z])),this.quantize.iteration_finish_one(y,L,z),n(U.part2_3_length<=o.MAX_BITS_PER_CHANNEL),n(U.part2_3_length<=T[z])}}this.quantize.rv.ResvFrameEnd(y,v)}}return f_=l,f_}var p_,jC;function DS(){if(jC)return p_;jC=1;function r(t,n,i,a){this.xlen=t,this.linmax=n,this.table=i,this.hlen=a}var e={};return e.t1HB=[1,1,1,0],e.t2HB=[1,2,1,3,1,1,3,2,0],e.t3HB=[3,2,1,1,1,1,3,2,0],e.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],e.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],e.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],e.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],e.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],e.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],e.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],e.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],e.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],e.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],e.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],e.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],e.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],e.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],e.t1l=[1,4,3,5],e.t2l=[1,4,7,4,5,7,6,7,8],e.t3l=[2,3,7,4,4,7,6,7,8],e.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],e.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],e.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],e.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],e.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],e.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],e.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],e.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],e.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],e.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],e.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],e.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],e.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],e.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],e.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],e.ht=[new r(0,0,null,null),new r(2,0,e.t1HB,e.t1l),new r(3,0,e.t2HB,e.t2l),new r(3,0,e.t3HB,e.t3l),new r(0,0,null,null),new r(4,0,e.t5HB,e.t5l),new r(4,0,e.t6HB,e.t6l),new r(6,0,e.t7HB,e.t7l),new r(6,0,e.t8HB,e.t8l),new r(6,0,e.t9HB,e.t9l),new r(8,0,e.t10HB,e.t10l),new r(8,0,e.t11HB,e.t11l),new r(8,0,e.t12HB,e.t12l),new r(16,0,e.t13HB,e.t13l),new r(0,0,null,e.t16_5l),new r(16,0,e.t15HB,e.t15l),new r(1,1,e.t16HB,e.t16l),new r(2,3,e.t16HB,e.t16l),new r(3,7,e.t16HB,e.t16l),new r(4,15,e.t16HB,e.t16l),new r(6,63,e.t16HB,e.t16l),new r(8,255,e.t16HB,e.t16l),new r(10,1023,e.t16HB,e.t16l),new r(13,8191,e.t16HB,e.t16l),new r(4,15,e.t24HB,e.t24l),new r(5,31,e.t24HB,e.t24l),new r(6,63,e.t24HB,e.t24l),new r(7,127,e.t24HB,e.t24l),new r(8,255,e.t24HB,e.t24l),new r(9,511,e.t24HB,e.t24l),new r(11,2047,e.t24HB,e.t24l),new r(13,8191,e.t24HB,e.t24l),new r(0,0,e.t32HB,e.t32l),new r(0,0,e.t33HB,e.t33l)],e.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],e.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],e.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],e.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],e.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],e.scfsi_band=[0,6,11,16,21],p_=e,p_}var m_,UC;function hM(){if(UC)return m_;UC=1;var r=cM(),e=Vr();e.System;var t=e.VbrMode,n=e.Float;e.ShortBlock;var i=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var a=e.new_float;e.new_float_n;var s=e.new_int;e.new_int_n;var o=e.assert,l=Fa(),c=dM(),u=c5();d.Q_MAX=257,d.Q_MAX2=116,d.LARGE_BITS=1e5,d.IXMAX_VAL=8206;function d(){var h=null,f=null,g=null;this.setModules=function(J,re,q){h=J,f=re,g=q};function y(J){return o(0<=J+d.Q_MAX2&&J<d.Q_MAX),L[J+d.Q_MAX2]}this.IPOW20=function(J){return o(0<=J&&J<d.Q_MAX),z[J]};var w=2220446049250313e-31,x=d.IXMAX_VAL,T=x+2,v=d.Q_MAX,R=d.Q_MAX2;d.LARGE_BITS;var M=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var B=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=B,this.sfBandIndex=[new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var L=a(v+R+1),z=a(v),H=a(T),$=a(T);this.adj43=$;function U(J,re){var q=g.ATHformula(re,J);return q-=M,q=Math.pow(10,q/10+J.ATHlower),q}function D(J){for(var re=J.internal_flags.ATH.l,q=J.internal_flags.ATH.psfb21,W=J.internal_flags.ATH.s,le=J.internal_flags.ATH.psfb12,ue=J.internal_flags,oe=J.out_samplerate,F=0;F<l.SBMAX_l;F++){var C=ue.scalefac_band.l[F],I=ue.scalefac_band.l[F+1];re[F]=n.MAX_VALUE;for(var O=C;O<I;O++){var X=O*oe/1152,te=U(J,X);re[F]=Math.min(re[F],te)}}for(var F=0;F<l.PSFB21;F++){var C=ue.scalefac_band.psfb21[F],I=ue.scalefac_band.psfb21[F+1];q[F]=n.MAX_VALUE;for(var O=C;O<I;O++){var X=O*oe/1152,te=U(J,X);q[F]=Math.min(q[F],te)}}for(var F=0;F<l.SBMAX_s;F++){var C=ue.scalefac_band.s[F],I=ue.scalefac_band.s[F+1];W[F]=n.MAX_VALUE;for(var O=C;O<I;O++){var X=O*oe/384,te=U(J,X);W[F]=Math.min(W[F],te)}W[F]*=ue.scalefac_band.s[F+1]-ue.scalefac_band.s[F]}for(var F=0;F<l.PSFB12;F++){var C=ue.scalefac_band.psfb12[F],I=ue.scalefac_band.psfb12[F+1];le[F]=n.MAX_VALUE;for(var O=C;O<I;O++){var X=O*oe/384,te=U(J,X);le[F]=Math.min(le[F],te)}le[F]*=ue.scalefac_band.s[13]-ue.scalefac_band.s[12]}if(J.noATH){for(var F=0;F<l.SBMAX_l;F++)re[F]=1e-20;for(var F=0;F<l.PSFB21;F++)q[F]=1e-20;for(var F=0;F<l.SBMAX_s;F++)W[F]=1e-20;for(var F=0;F<l.PSFB12;F++)le[F]=1e-20}ue.ATH.floor=10*Math.log10(U(J,-1))}this.iteration_init=function(J){var re=J.internal_flags,q=re.l3_side,W;if(re.iteration_init_init==0){for(re.iteration_init_init=1,q.main_data_begin=0,D(J),H[0]=0,W=1;W<T;W++)H[W]=Math.pow(W,4/3);for(W=0;W<T-1;W++)$[W]=W+1-Math.pow(.5*(H[W]+H[W+1]),.75);for($[W]=.5,W=0;W<v;W++)z[W]=Math.pow(2,(W-210)*-.1875);for(W=0;W<=v+R;W++)L[W]=Math.pow(2,(W-210-R)*.25);h.huffman_init(re);{var le,ue,oe,F;for(W=J.exp_nspsytune>>2&63,W>=32&&(W-=64),le=Math.pow(10,W/4/10),W=J.exp_nspsytune>>8&63,W>=32&&(W-=64),ue=Math.pow(10,W/4/10),W=J.exp_nspsytune>>14&63,W>=32&&(W-=64),oe=Math.pow(10,W/4/10),W=J.exp_nspsytune>>20&63,W>=32&&(W-=64),F=oe*Math.pow(10,W/4/10),W=0;W<l.SBMAX_l;W++){var C;W<=6?C=le:W<=13?C=ue:W<=20?C=oe:C=F,re.nsPsy.longfact[W]=C}for(W=0;W<l.SBMAX_s;W++){var C;W<=5?C=le:W<=10?C=ue:W<=11?C=oe:C=F,re.nsPsy.shortfact[W]=C}}}},this.on_pe=function(J,re,q,W,le,ue){var oe=J.internal_flags,F=0,C,I=s(2),O,X=new c(F),te=f.ResvMaxBits(J,W,X,ue);F=X.bits;var ie=F+te;for(ie>u.MAX_BITS_PER_GRANULE&&(ie=u.MAX_BITS_PER_GRANULE),C=0,O=0;O<oe.channels_out;++O)q[O]=Math.min(u.MAX_BITS_PER_CHANNEL,F/oe.channels_out),I[O]=0|q[O]*re[le][O]/700-q[O],I[O]>W*3/4&&(I[O]=W*3/4),I[O]<0&&(I[O]=0),I[O]+q[O]>u.MAX_BITS_PER_CHANNEL&&(I[O]=Math.max(0,u.MAX_BITS_PER_CHANNEL-q[O])),C+=I[O];if(C>te)for(O=0;O<oe.channels_out;++O)I[O]=te*I[O]/C;for(O=0;O<oe.channels_out;++O)q[O]+=I[O],te-=I[O];for(C=0,O=0;O<oe.channels_out;++O)C+=q[O];if(C>u.MAX_BITS_PER_GRANULE){var ne=0;for(O=0;O<oe.channels_out;++O)q[O]*=u.MAX_BITS_PER_GRANULE,q[O]/=C,ne+=q[O];o(ne<=u.MAX_BITS_PER_GRANULE)}return ie},this.reduce_side=function(J,re,q,W){o(W<=u.MAX_BITS_PER_GRANULE),o(J[0]+J[1]<=u.MAX_BITS_PER_GRANULE);var le=.33*(.5-re)/.5;le<0&&(le=0),le>.5&&(le=.5);var ue=0|le*.5*(J[0]+J[1]);ue>u.MAX_BITS_PER_CHANNEL-J[0]&&(ue=u.MAX_BITS_PER_CHANNEL-J[0]),ue<0&&(ue=0),J[1]>=125&&(J[1]-ue>125?(J[0]<q&&(J[0]+=ue),J[1]-=ue):(J[0]+=J[1]-125,J[1]=125)),ue=J[0]+J[1],ue>W&&(J[0]=W*J[0]/ue,J[1]=W*J[1]/ue),o(J[0]<=u.MAX_BITS_PER_CHANNEL),o(J[1]<=u.MAX_BITS_PER_CHANNEL),o(J[0]+J[1]<=u.MAX_BITS_PER_GRANULE)},this.athAdjust=function(J,re,q){var W=90.30873362,le=94.82444863,ue=i.FAST_LOG10_X(re,10),oe=J*J,F=0;return ue-=q,oe>1e-20&&(F=1+i.FAST_LOG10_X(oe,10/W)),F<0&&(F=0),ue*=F,ue+=q+W-le,Math.pow(10,.1*ue)},this.calc_xmin=function(J,re,q,W){var le=0,ue=J.internal_flags,oe,F=0,C=0,I=ue.ATH,O=q.xr,X=J.VBR==t.vbr_mtrh?1:0,te=ue.masking_lower;for((J.VBR==t.vbr_mtrh||J.VBR==t.vbr_mt)&&(te=1),oe=0;oe<q.psy_lmax;oe++){var ie,ne,we,Ee,He,Ue;J.VBR==t.vbr_rh||J.VBR==t.vbr_mtrh?ne=athAdjust(I.adjust,I.l[oe],I.floor):ne=I.adjust*I.l[oe],He=q.width[oe],we=ne/He,Ee=w,Ue=He>>1,ie=0;do{var We,it;We=O[F]*O[F],ie+=We,Ee+=We<we?We:we,F++,it=O[F]*O[F],ie+=it,Ee+=it<we?it:we,F++}while(--Ue>0);if(ie>ne&&C++,oe==l.SBPSY_l){var xe=ne*ue.nsPsy.longfact[oe];Ee<xe&&(Ee=xe)}if(X!=0&&(ne=Ee),!J.ATHonly){var nt=re.en.l[oe];if(nt>0){var xe;xe=ie*re.thm.l[oe]*te/nt,X!=0&&(xe*=ue.nsPsy.longfact[oe]),ne<xe&&(ne=xe)}}X!=0?W[le++]=ne:W[le++]=ne*ue.nsPsy.longfact[oe]}var pt=575;if(q.block_type!=l.SHORT_TYPE)for(var Z=576;Z--!=0&&BitStream.EQ(O[Z],0);)pt=Z;q.max_nonzero_coeff=pt;for(var ce=q.sfb_smin;oe<q.psymax;ce++,oe+=3){var He,ut,rt;for(J.VBR==t.vbr_rh||J.VBR==t.vbr_mtrh?rt=athAdjust(I.adjust,I.s[ce],I.floor):rt=I.adjust*I.s[ce],He=q.width[oe],ut=0;ut<3;ut++){var ie=0,ne,we,Ee,Ue=He>>1;we=rt/He,Ee=w;do{var We,it;We=O[F]*O[F],ie+=We,Ee+=We<we?We:we,F++,it=O[F]*O[F],ie+=it,Ee+=it<we?it:we,F++}while(--Ue>0);if(ie>rt&&C++,ce==l.SBPSY_s){var xe=rt*ue.nsPsy.shortfact[ce];Ee<xe&&(Ee=xe)}if(X!=0?ne=Ee:ne=rt,!J.ATHonly&&!J.ATHshort){var nt=re.en.s[ce][ut];if(nt>0){var xe;xe=ie*re.thm.s[ce][ut]*te/nt,X!=0&&(xe*=ue.nsPsy.shortfact[ce]),ne<xe&&(ne=xe)}}X!=0?W[le++]=ne:W[le++]=ne*ue.nsPsy.shortfact[ce]}J.useTemporal&&(W[le-3]>W[le-3+1]&&(W[le-3+1]+=(W[le-3]-W[le-3+1])*ue.decay),W[le-3+1]>W[le-3+2]&&(W[le-3+2]+=(W[le-3+1]-W[le-3+2])*ue.decay))}return C};function ee(J){this.s=J}this.calc_noise_core=function(J,re,q,W){var le=0,ue=re.s,oe=J.l3_enc;if(ue>J.count1)for(;q--!=0;){var F;F=J.xr[ue],ue++,le+=F*F,F=J.xr[ue],ue++,le+=F*F}else if(ue>J.big_values){var C=a(2);for(C[0]=0,C[1]=W;q--!=0;){var F;F=Math.abs(J.xr[ue])-C[oe[ue]],ue++,le+=F*F,F=Math.abs(J.xr[ue])-C[oe[ue]],ue++,le+=F*F}}else for(;q--!=0;){var F;F=Math.abs(J.xr[ue])-H[oe[ue]]*W,ue++,le+=F*F,F=Math.abs(J.xr[ue])-H[oe[ue]]*W,ue++,le+=F*F}return re.s=ue,le},this.calc_noise=function(J,re,q,W,le){var ue=0,oe=0,F,C,I=0,O=0,X=0,te=-20,ie=0,ne=J.scalefac,we=0;for(W.over_SSD=0,F=0;F<J.psymax;F++){var Ee=J.global_gain-(ne[we++]+(J.preflag!=0?B[F]:0)<<J.scalefac_scale+1)-J.subblock_gain[J.window[F]]*8,He=0;if(le!=null&&le.step[F]==Ee)He=le.noise[F],ie+=J.width[F],q[ue++]=He/re[oe++],He=le.noise_log[F];else{var Ue=y(Ee);if(C=J.width[F]>>1,ie+J.width[F]>J.max_nonzero_coeff){var We;We=J.max_nonzero_coeff-ie+1,We>0?C=We>>1:C=0}var it=new ee(ie);He=this.calc_noise_core(J,it,C,Ue),ie=it.s,le!=null&&(le.step[F]=Ee,le.noise[F]=He),He=q[ue++]=He/re[oe++],He=i.FAST_LOG10(Math.max(He,1e-20)),le!=null&&(le.noise_log[F]=He)}if(le!=null&&(le.global_gain=J.global_gain),X+=He,He>0){var xe;xe=Math.max(0|He*10+.5,1),W.over_SSD+=xe*xe,I++,O+=He}te=Math.max(te,He)}return W.over_count=I,W.tot_noise=X,W.over_noise=O,W.max_noise=te,I},this.set_pinfo=function(J,re,q,W,le){var ue=J.internal_flags,oe,F,C,I,O,X=re.scalefac_scale==0?.5:1,te=re.scalefac,ie=a(L3Side.SFBMAX),ne=a(L3Side.SFBMAX),we=new CalcNoiseResult;calc_xmin(J,q,re,ie),calc_noise(re,ie,ne,we,null);var Ee=0;for(F=re.sfb_lmax,re.block_type!=l.SHORT_TYPE&&re.mixed_block_flag==0&&(F=22),oe=0;oe<F;oe++){var He=ue.scalefac_band.l[oe],Ue=ue.scalefac_band.l[oe+1],We=Ue-He;for(I=0;Ee<Ue;Ee++)I+=re.xr[Ee]*re.xr[Ee];I/=We,O=1e15,ue.pinfo.en[W][le][oe]=O*I,ue.pinfo.xfsf[W][le][oe]=O*ie[oe]*ne[oe]/We,q.en.l[oe]>0&&!J.ATHonly?I=I/q.en.l[oe]:I=0,ue.pinfo.thr[W][le][oe]=O*Math.max(I*q.thm.l[oe],ue.ATH.l[oe]),ue.pinfo.LAMEsfb[W][le][oe]=0,re.preflag!=0&&oe>=11&&(ue.pinfo.LAMEsfb[W][le][oe]=-X*B[oe]),oe<l.SBPSY_l&&(o(te[oe]>=0),ue.pinfo.LAMEsfb[W][le][oe]-=X*te[oe])}if(re.block_type==l.SHORT_TYPE)for(F=oe,oe=re.sfb_smin;oe<l.SBMAX_s;oe++)for(var He=ue.scalefac_band.s[oe],Ue=ue.scalefac_band.s[oe+1],We=Ue-He,it=0;it<3;it++){for(I=0,C=He;C<Ue;C++)I+=re.xr[Ee]*re.xr[Ee],Ee++;I=Math.max(I/We,1e-20),O=1e15,ue.pinfo.en_s[W][le][3*oe+it]=O*I,ue.pinfo.xfsf_s[W][le][3*oe+it]=O*ie[F]*ne[F]/We,q.en.s[oe][it]>0?I=I/q.en.s[oe][it]:I=0,(J.ATHonly||J.ATHshort)&&(I=0),ue.pinfo.thr_s[W][le][3*oe+it]=O*Math.max(I*q.thm.s[oe][it],ue.ATH.s[oe]),ue.pinfo.LAMEsfb_s[W][le][3*oe+it]=-2*re.subblock_gain[it],oe<l.SBPSY_s&&(ue.pinfo.LAMEsfb_s[W][le][3*oe+it]-=X*te[F]),F++}ue.pinfo.LAMEqss[W][le]=re.global_gain,ue.pinfo.LAMEmainbits[W][le]=re.part2_3_length+re.part2_length,ue.pinfo.LAMEsfbits[W][le]=re.part2_length,ue.pinfo.over[W][le]=we.over_count,ue.pinfo.max_noise[W][le]=we.max_noise*10,ue.pinfo.over_noise[W][le]=we.over_noise*10,ue.pinfo.tot_noise[W][le]=we.tot_noise*10,ue.pinfo.over_SSD[W][le]=we.over_SSD}}return m_=d,m_}var g_,qC;function fM(){if(qC)return g_;qC=1;var r=Vr(),e=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util;var t=r.Arrays;r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n;var n=r.new_int;r.new_int_n;var i=r.assert,a=Fa(),s=DS(),o=LS(),l=hM();function c(){var u=null;this.qupvt=null,this.setModules=function(oe){this.qupvt=oe,u=oe};function d(oe){this.bits=0|oe}var h=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function f(oe,F,C,I,O,X){var te=.5946/F;for(i(oe>0),oe=oe>>1;oe--!=0;)O[X++]=te>C[I++]?0:1,O[X++]=te>C[I++]?0:1}function g(oe,F,C,I,O,X){i(oe>0),oe=oe>>1;var te=oe%2;for(oe=oe>>1;oe--!=0;){var ie,ne,we,Ee,He,Ue,We,it;ie=C[I++]*F,ne=C[I++]*F,He=0|ie,we=C[I++]*F,Ue=0|ne,Ee=C[I++]*F,We=0|we,ie+=u.adj43[He],it=0|Ee,ne+=u.adj43[Ue],O[X++]=0|ie,we+=u.adj43[We],O[X++]=0|ne,Ee+=u.adj43[it],O[X++]=0|we,O[X++]=0|Ee}if(te!=0){var ie,ne,He,Ue;ie=C[I++]*F,ne=C[I++]*F,He=0|ie,Ue=0|ne,ie+=u.adj43[He],ne+=u.adj43[Ue],O[X++]=0|ie,O[X++]=0|ne}}function y(oe,F,C,I,O){var X,te,ie=0,ne,we=0,Ee=0,He=0,Ue=F,We=0,it=Ue,xe=0,nt=oe,pt=0;for(ne=O!=null&&I.global_gain==O.global_gain,I.block_type==a.SHORT_TYPE?te=38:te=21,X=0;X<=te;X++){var Z=-1;if((ne||I.block_type==a.NORM_TYPE)&&(Z=I.global_gain-(I.scalefac[X]+(I.preflag!=0?u.pretab[X]:0)<<I.scalefac_scale+1)-I.subblock_gain[I.window[X]]*8),i(I.width[X]>=0),ne&&O.step[X]==Z)we!=0&&(g(we,C,nt,pt,it,xe),we=0),Ee!=0&&(f(Ee,C,nt,pt,it,xe),Ee=0);else{var ce=I.width[X];if(ie+I.width[X]>I.max_nonzero_coeff){var ut;ut=I.max_nonzero_coeff-ie+1,t.fill(F,I.max_nonzero_coeff,576,0),ce=ut,ce<0&&(ce=0),X=te+1}if(we==0&&Ee==0&&(it=Ue,xe=We,nt=oe,pt=He),O!=null&&O.sfb_count1>0&&X>=O.sfb_count1&&O.step[X]>0&&Z>=O.step[X]?(we!=0&&(g(we,C,nt,pt,it,xe),we=0,it=Ue,xe=We,nt=oe,pt=He),Ee+=ce):(Ee!=0&&(f(Ee,C,nt,pt,it,xe),Ee=0,it=Ue,xe=We,nt=oe,pt=He),we+=ce),ce<=0){Ee!=0&&(f(Ee,C,nt,pt,it,xe),Ee=0),we!=0&&(g(we,C,nt,pt,it,xe),we=0);break}}X<=te&&(We+=I.width[X],He+=I.width[X],ie+=I.width[X])}we!=0&&(g(we,C,nt,pt,it,xe),we=0),Ee!=0&&(f(Ee,C,nt,pt,it,xe),Ee=0)}function w(oe,F,C){var I=0,O=0;do{var X=oe[F++],te=oe[F++];I<X&&(I=X),O<te&&(O=te)}while(F<C);return I<O&&(I=O),I}function x(oe,F,C,I,O,X){var te=s.ht[I].xlen*65536+s.ht[O].xlen,ie=0,ne;do{var we=oe[F++],Ee=oe[F++];we!=0&&(we>14&&(we=15,ie+=te),we*=16),Ee!=0&&(Ee>14&&(Ee=15,ie+=te),we+=Ee),ie+=s.largetbl[we]}while(F<C);return ne=ie&65535,ie>>=16,ie>ne&&(ie=ne,I=O),X.bits+=ie,I}function T(oe,F,C,I){var O=0,X=s.ht[1].hlen;do{var te=oe[F+0]*2+oe[F+1];F+=2,O+=X[te]}while(F<C);return I.bits+=O,1}function v(oe,F,C,I,O){var X=0,te,ie=s.ht[I].xlen,ne;I==2?ne=s.table23:ne=s.table56;do{var we=oe[F+0]*ie+oe[F+1];F+=2,X+=ne[we]}while(F<C);return te=X&65535,X>>=16,X>te&&(X=te,I++),O.bits+=X,I}function R(oe,F,C,I,O){var X=0,te=0,ie=0,ne=s.ht[I].xlen,we=s.ht[I].hlen,Ee=s.ht[I+1].hlen,He=s.ht[I+2].hlen;do{var Ue=oe[F+0]*ne+oe[F+1];F+=2,X+=we[Ue],te+=Ee[Ue],ie+=He[Ue]}while(F<C);var We=I;return X>te&&(X=te,We++),X>ie&&(X=ie,We=I+2),O.bits+=X,We}var M=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function B(oe,F,C,I){var O=w(oe,F,C);switch(O){case 0:return O;case 1:return T(oe,F,C,I);case 2:case 3:return v(oe,F,C,M[O-1],I);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return R(oe,F,C,M[O-1],I);default:if(O>l.IXMAX_VAL)return I.bits=l.LARGE_BITS,-1;O-=15;var X;for(X=24;X<32&&!(s.ht[X].linmax>=O);X++);var te;for(te=X-8;te<24&&!(s.ht[te].linmax>=O);te++);return x(oe,F,C,te,X,I)}}this.noquant_count_bits=function(oe,F,C){var I=F.l3_enc,O=Math.min(576,F.max_nonzero_coeff+2>>1<<1);for(C!=null&&(C.sfb_count1=0);O>1&&(I[O-1]|I[O-2])==0;O-=2);F.count1=O;for(var X=0,te=0;O>3;O-=4){var ie;if(((I[O-1]|I[O-2]|I[O-3]|I[O-4])&2147483647)>1)break;ie=((I[O-4]*2+I[O-3])*2+I[O-2])*2+I[O-1],X+=s.t32l[ie],te+=s.t33l[ie]}var ne=X;if(F.count1table_select=0,X>te&&(ne=te,F.count1table_select=1),F.count1bits=ne,F.big_values=O,O==0)return ne;if(F.block_type==a.SHORT_TYPE)X=3*oe.scalefac_band.s[3],X>F.big_values&&(X=F.big_values),te=F.big_values;else if(F.block_type==a.NORM_TYPE){if(i(O<=576),X=F.region0_count=oe.bv_scf[O-2],te=F.region1_count=oe.bv_scf[O-1],i(X+te+2<a.SBPSY_l),te=oe.scalefac_band.l[X+te+2],X=oe.scalefac_band.l[X+1],te<O){var we=new d(ne);F.table_select[2]=B(I,te,O,we),ne=we.bits}}else F.region0_count=7,F.region1_count=a.SBMAX_l-1-7-1,X=oe.scalefac_band.l[8],te=O,X>te&&(X=te);if(X=Math.min(X,O),te=Math.min(te,O),i(X>=0),i(te>=0),0<X){var we=new d(ne);F.table_select[0]=B(I,0,X,we),ne=we.bits}if(X<te){var we=new d(ne);F.table_select[1]=B(I,X,te,we),ne=we.bits}if(oe.use_best_huffman==2&&(F.part2_3_length=ne,best_huffman_divide(oe,F),ne=F.part2_3_length),C!=null&&F.block_type==a.NORM_TYPE){for(var Ee=0;oe.scalefac_band.l[Ee]<F.big_values;)Ee++;C.sfb_count1=Ee}return ne},this.count_bits=function(oe,F,C,I){var O=C.l3_enc,X=l.IXMAX_VAL/u.IPOW20(C.global_gain);if(C.xrpow_max>X)return l.LARGE_BITS;if(y(F,O,u.IPOW20(C.global_gain),C,I),(oe.substep_shaping&2)!=0)for(var te=0,ie=C.global_gain+C.scalefac_scale,ne=.634521682242439/u.IPOW20(ie),we=0;we<C.sfbmax;we++){var Ee=C.width[we];if(i(Ee>=0),oe.pseudohalf[we]==0)te+=Ee;else{var He;for(He=te,te+=Ee;He<te;++He)O[He]=F[He]>=ne?O[He]:0}}return this.noquant_count_bits(oe,C,I)};function L(oe,F,C,I,O,X,te){for(var ie=F.big_values,ne=0;ne<=22;ne++)I[ne]=l.LARGE_BITS;for(var ne=0;ne<16;ne++){var we=oe.scalefac_band.l[ne+1];if(we>=ie)break;var Ee=0,He=new d(Ee),Ue=B(C,0,we,He);Ee=He.bits;for(var We=0;We<8;We++){var it=oe.scalefac_band.l[ne+We+2];if(it>=ie)break;var xe=Ee;He=new d(xe);var nt=B(C,we,it,He);xe=He.bits,I[ne+We]>xe&&(I[ne+We]=xe,O[ne+We]=ne,X[ne+We]=Ue,te[ne+We]=nt)}}}function z(oe,F,C,I,O,X,te,ie){for(var ne=F.big_values,we=2;we<a.SBMAX_l+1;we++){var Ee=oe.scalefac_band.l[we];if(Ee>=ne)break;var He=O[we-2]+F.count1bits;if(C.part2_3_length<=He)break;var Ue=new d(He),We=B(I,Ee,ne,Ue);He=Ue.bits,!(C.part2_3_length<=He)&&(C.assign(F),C.part2_3_length=He,C.region0_count=X[we-2],C.region1_count=we-2-X[we-2],C.table_select[0]=te[we-2],C.table_select[1]=ie[we-2],C.table_select[2]=We)}}this.best_huffman_divide=function(oe,F){var C=new o,I=F.l3_enc,O=n(23),X=n(23),te=n(23),ie=n(23);if(!(F.block_type==a.SHORT_TYPE&&oe.mode_gr==1)){C.assign(F),F.block_type==a.NORM_TYPE&&(L(oe,F,I,O,X,te,ie),z(oe,C,F,I,O,X,te,ie));var ne=C.big_values;if(!(ne==0||(I[ne-2]|I[ne-1])>1)&&(ne=F.count1+2,!(ne>576))){C.assign(F),C.count1=ne;var we=0,Ee=0;for(i(ne<=576);ne>C.big_values;ne-=4){var He=((I[ne-4]*2+I[ne-3])*2+I[ne-2])*2+I[ne-1];we+=s.t32l[He],Ee+=s.t33l[He]}if(C.big_values=ne,C.count1table_select=0,we>Ee&&(we=Ee,C.count1table_select=1),C.count1bits=we,C.block_type==a.NORM_TYPE)z(oe,C,F,I,O,X,te,ie);else{if(C.part2_3_length=we,we=oe.scalefac_band.l[8],we>ne&&(we=ne),we>0){var Ue=new d(C.part2_3_length);C.table_select[0]=B(I,0,we,Ue),C.part2_3_length=Ue.bits}if(ne>we){var Ue=new d(C.part2_3_length);C.table_select[1]=B(I,we,ne,Ue),C.part2_3_length=Ue.bits}F.part2_3_length>C.part2_3_length&&F.assign(C)}}}};var H=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],$=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],U=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],D=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];c.slen1_tab=U,c.slen2_tab=D;function ee(oe,F){for(var C,I=F.tt[1][oe],O=F.tt[0][oe],X=0;X<s.scfsi_band.length-1;X++){for(C=s.scfsi_band[X];C<s.scfsi_band[X+1]&&!(O.scalefac[C]!=I.scalefac[C]&&I.scalefac[C]>=0);C++);if(C==s.scfsi_band[X+1]){for(C=s.scfsi_band[X];C<s.scfsi_band[X+1];C++)I.scalefac[C]=-1;F.scfsi[oe][X]=1}}var te=0,ie=0;for(C=0;C<11;C++)I.scalefac[C]!=-1&&(ie++,te<I.scalefac[C]&&(te=I.scalefac[C]));for(var ne=0,we=0;C<a.SBPSY_l;C++)I.scalefac[C]!=-1&&(we++,ne<I.scalefac[C]&&(ne=I.scalefac[C]));for(var X=0;X<16;X++)if(te<H[X]&&ne<$[X]){var Ee=U[X]*ie+D[X]*we;I.part2_length>Ee&&(I.part2_length=Ee,I.scalefac_compress=X)}}this.best_scalefac_store=function(oe,F,C,I){var O=I.tt[F][C],X,te,ie,ne,we=0;for(ie=0,X=0;X<O.sfbmax;X++){var Ee=O.width[X];for(i(Ee>=0),ie+=Ee,ne=-Ee;ne<0&&O.l3_enc[ne+ie]==0;ne++);ne==0&&(O.scalefac[X]=we=-2)}if(O.scalefac_scale==0&&O.preflag==0){var He=0;for(X=0;X<O.sfbmax;X++)O.scalefac[X]>0&&(He|=O.scalefac[X]);if((He&1)==0&&He!=0){for(X=0;X<O.sfbmax;X++)O.scalefac[X]>0&&(O.scalefac[X]>>=1);O.scalefac_scale=we=1}}if(O.preflag==0&&O.block_type!=a.SHORT_TYPE&&oe.mode_gr==2){for(X=11;X<a.SBPSY_l&&!(O.scalefac[X]<u.pretab[X]&&O.scalefac[X]!=-2);X++);if(X==a.SBPSY_l){for(X=11;X<a.SBPSY_l;X++)O.scalefac[X]>0&&(O.scalefac[X]-=u.pretab[X]);O.preflag=we=1}}for(te=0;te<4;te++)I.scfsi[C][te]=0;for(oe.mode_gr==2&&F==1&&I.tt[0][C].block_type!=a.SHORT_TYPE&&I.tt[1][C].block_type!=a.SHORT_TYPE&&(ee(C,I),we=0),X=0;X<O.sfbmax;X++)O.scalefac[X]==-2&&(O.scalefac[X]=0);we!=0&&(oe.mode_gr==2?this.scale_bitcount(O):this.scale_bitcount_lsf(oe,O))};function J(oe,F){for(var C=0;C<F;++C)if(oe[C]<0)return!1;return!0}var re=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],q=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],W=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(oe){var F,C,I=0,O=0,X,te=oe.scalefac;if(i(J(te,oe.sfbmax)),oe.block_type==a.SHORT_TYPE)X=re,oe.mixed_block_flag!=0&&(X=q);else if(X=W,oe.preflag==0){for(C=11;C<a.SBPSY_l&&!(te[C]<u.pretab[C]);C++);if(C==a.SBPSY_l)for(oe.preflag=1,C=11;C<a.SBPSY_l;C++)te[C]-=u.pretab[C]}for(C=0;C<oe.sfbdivide;C++)I<te[C]&&(I=te[C]);for(;C<oe.sfbmax;C++)O<te[C]&&(O=te[C]);for(oe.part2_length=l.LARGE_BITS,F=0;F<16;F++)I<H[F]&&O<$[F]&&oe.part2_length>X[F]&&(oe.part2_length=X[F],oe.scalefac_compress=F);return oe.part2_length==l.LARGE_BITS};var le=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(oe,F){var C,I,O,X,te,ie,ne,we,Ee=n(4),He=F.scalefac;for(F.preflag!=0?C=2:C=0,ne=0;ne<4;ne++)Ee[ne]=0;if(F.block_type==a.SHORT_TYPE){I=1;var Ue=u.nr_of_sfb_block[C][I];for(we=0,O=0;O<4;O++)for(X=Ue[O]/3,ne=0;ne<X;ne++,we++)for(te=0;te<3;te++)He[we*3+te]>Ee[O]&&(Ee[O]=He[we*3+te])}else{I=0;var Ue=u.nr_of_sfb_block[C][I];for(we=0,O=0;O<4;O++)for(X=Ue[O],ne=0;ne<X;ne++,we++)He[we]>Ee[O]&&(Ee[O]=He[we])}for(ie=!1,O=0;O<4;O++)Ee[O]>le[C][O]&&(ie=!0);if(!ie){var We,it,xe,nt;for(F.sfb_partition_table=u.nr_of_sfb_block[C][I],O=0;O<4;O++)F.slen[O]=ue[Ee[O]];switch(We=F.slen[0],it=F.slen[1],xe=F.slen[2],nt=F.slen[3],C){case 0:F.scalefac_compress=(We*5+it<<4)+(xe<<2)+nt;break;case 1:F.scalefac_compress=400+(We*5+it<<2)+xe;break;case 2:F.scalefac_compress=500+We*3+it;break;default:e.err.printf(`intensity stereo not implemented yet
`);break}}if(!ie)for(i(F.sfb_partition_table!=null),F.part2_length=0,O=0;O<4;O++)F.part2_length+=F.slen[O]*F.sfb_partition_table[O];return ie};var ue=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(oe){for(var F=2;F<=576;F+=2){for(var C=0,I;oe.scalefac_band.l[++C]<F;);for(I=h[C][0];oe.scalefac_band.l[I+1]>F;)I--;for(I<0&&(I=h[C][0]),oe.bv_scf[F-2]=I,I=h[C][1];oe.scalefac_band.l[I+oe.bv_scf[F-2]+2]>F;)I--;I<0&&(I=h[C][1]),oe.bv_scf[F-1]=I}}}return g_=c,g_}var v_,HC;function pM(){if(HC)return v_;HC=1;var r=Vr(),e=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util;var t=r.Arrays;r.new_array_n;var n=r.new_byte;r.new_double,r.new_float;var i=r.new_float_n,a=r.new_int;r.new_int_n;var s=r.assert,o=fM(),l=DS(),c=Fa(),u=c5();d.EQ=function(h,f){return Math.abs(h)>Math.abs(f)?Math.abs(h-f)<=Math.abs(h)*1e-6:Math.abs(h-f)<=Math.abs(f)*1e-6},d.NEQ=function(h,f){return!d.EQ(h,f)};function d(){var h=this,f=32773,g=32,y=null,w=null,x=null,T=null;this.setModules=function(F,C,I,O){y=F,w=C,x=I,T=O};var v=null,R=0,M=0,B=0;this.getframebits=function(F){var C=F.internal_flags,I;C.bitrate_index!=0?I=l.bitrate_table[F.version][C.bitrate_index]:I=F.brate,s(8<=I&&I<=640);var O=0|(F.version+1)*72e3*I/F.out_samplerate+C.padding;return 8*O};function L(F){e.arraycopy(F.header[F.w_ptr].buf,0,v,M,F.sideinfo_len),M+=F.sideinfo_len,R+=F.sideinfo_len*8,F.w_ptr=F.w_ptr+1&u.MAX_HEADER_BUF-1}function z(F,C,I){for(s(I<g-2);I>0;){var O;B==0&&(B=8,M++,s(M<Lame.LAME_MAXMP3BUFFER),s(F.header[F.w_ptr].write_timing>=R),F.header[F.w_ptr].write_timing==R&&L(F),v[M]=0),O=Math.min(I,B),I-=O,B-=O,s(I<g),s(B<g),v[M]|=C>>I<<B,R+=O}}function H(F,C,I){for(s(I<g-2);I>0;){var O;B==0&&(B=8,M++,s(M<Lame.LAME_MAXMP3BUFFER),v[M]=0),O=Math.min(I,B),I-=O,B-=O,s(I<g),s(B<g),v[M]|=C>>I<<B,R+=O}}function $(F,C){var I=F.internal_flags,O;if(s(C>=0),C>=8&&(z(I,76,8),C-=8),C>=8&&(z(I,65,8),C-=8),C>=8&&(z(I,77,8),C-=8),C>=8&&(z(I,69,8),C-=8),C>=32){var X=x.getLameShortVersion();if(C>=32)for(O=0;O<X.length&&C>=8;++O)C-=8,z(I,X.charAt(O),8)}for(;C>=1;C-=1)z(I,I.ancillary_flag,1),I.ancillary_flag^=F.disable_reservoir?0:1;s(C==0)}function U(F,C,I){for(var O=F.header[F.h_ptr].ptr;I>0;){var X=Math.min(I,8-(O&7));I-=X,s(I<g),F.header[F.h_ptr].buf[O>>3]|=C>>I<<8-(O&7)-X,O+=X}F.header[F.h_ptr].ptr=O}function D(F,C){F<<=8;for(var I=0;I<8;I++)F<<=1,C<<=1,((C^F)&65536)!=0&&(C^=f);return C}this.CRC_writeheader=function(F,C){var I=65535;I=D(C[2]&255,I),I=D(C[3]&255,I);for(var O=6;O<F.sideinfo_len;O++)I=D(C[O]&255,I);C[4]=byte(I>>8),C[5]=byte(I&255)};function ee(F,C){var I=F.internal_flags,O,X,te;if(O=I.l3_side,I.header[I.h_ptr].ptr=0,t.fill(I.header[I.h_ptr].buf,0,I.sideinfo_len,0),F.out_samplerate<16e3?U(I,4094,12):U(I,4095,12),U(I,F.version,1),U(I,1,2),U(I,F.error_protection?0:1,1),U(I,I.bitrate_index,4),U(I,I.samplerate_index,2),U(I,I.padding,1),U(I,F.extension,1),U(I,F.mode.ordinal(),2),U(I,I.mode_ext,2),U(I,F.copyright,1),U(I,F.original,1),U(I,F.emphasis,2),F.error_protection&&U(I,0,16),F.version==1){for(s(O.main_data_begin>=0),U(I,O.main_data_begin,9),I.channels_out==2?U(I,O.private_bits,3):U(I,O.private_bits,5),te=0;te<I.channels_out;te++){var ie;for(ie=0;ie<4;ie++)U(I,O.scfsi[te][ie],1)}for(X=0;X<2;X++)for(te=0;te<I.channels_out;te++){var ne=O.tt[X][te];U(I,ne.part2_3_length+ne.part2_length,12),U(I,ne.big_values/2,9),U(I,ne.global_gain,8),U(I,ne.scalefac_compress,4),ne.block_type!=c.NORM_TYPE?(U(I,1,1),U(I,ne.block_type,2),U(I,ne.mixed_block_flag,1),ne.table_select[0]==14&&(ne.table_select[0]=16),U(I,ne.table_select[0],5),ne.table_select[1]==14&&(ne.table_select[1]=16),U(I,ne.table_select[1],5),U(I,ne.subblock_gain[0],3),U(I,ne.subblock_gain[1],3),U(I,ne.subblock_gain[2],3)):(U(I,0,1),ne.table_select[0]==14&&(ne.table_select[0]=16),U(I,ne.table_select[0],5),ne.table_select[1]==14&&(ne.table_select[1]=16),U(I,ne.table_select[1],5),ne.table_select[2]==14&&(ne.table_select[2]=16),U(I,ne.table_select[2],5),s(0<=ne.region0_count&&ne.region0_count<16),s(0<=ne.region1_count&&ne.region1_count<8),U(I,ne.region0_count,4),U(I,ne.region1_count,3)),U(I,ne.preflag,1),U(I,ne.scalefac_scale,1),U(I,ne.count1table_select,1)}}else for(s(O.main_data_begin>=0),U(I,O.main_data_begin,8),U(I,O.private_bits,I.channels_out),X=0,te=0;te<I.channels_out;te++){var ne=O.tt[X][te];U(I,ne.part2_3_length+ne.part2_length,12),U(I,ne.big_values/2,9),U(I,ne.global_gain,8),U(I,ne.scalefac_compress,9),ne.block_type!=c.NORM_TYPE?(U(I,1,1),U(I,ne.block_type,2),U(I,ne.mixed_block_flag,1),ne.table_select[0]==14&&(ne.table_select[0]=16),U(I,ne.table_select[0],5),ne.table_select[1]==14&&(ne.table_select[1]=16),U(I,ne.table_select[1],5),U(I,ne.subblock_gain[0],3),U(I,ne.subblock_gain[1],3),U(I,ne.subblock_gain[2],3)):(U(I,0,1),ne.table_select[0]==14&&(ne.table_select[0]=16),U(I,ne.table_select[0],5),ne.table_select[1]==14&&(ne.table_select[1]=16),U(I,ne.table_select[1],5),ne.table_select[2]==14&&(ne.table_select[2]=16),U(I,ne.table_select[2],5),s(0<=ne.region0_count&&ne.region0_count<16),s(0<=ne.region1_count&&ne.region1_count<8),U(I,ne.region0_count,4),U(I,ne.region1_count,3)),U(I,ne.scalefac_scale,1),U(I,ne.count1table_select,1)}F.error_protection&&CRC_writeheader(I,I.header[I.h_ptr].buf);{var we=I.h_ptr;s(I.header[we].ptr==I.sideinfo_len*8),I.h_ptr=we+1&u.MAX_HEADER_BUF-1,I.header[I.h_ptr].write_timing=I.header[we].write_timing+C,I.h_ptr==I.w_ptr&&e.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function J(F,C){var I=l.ht[C.count1table_select+32],O,X=0,te=C.big_values,ie=C.big_values;for(s(C.count1table_select<2),O=(C.count1-C.big_values)/4;O>0;--O){var ne=0,we=0,Ee;Ee=C.l3_enc[te+0],Ee!=0&&(we+=8,C.xr[ie+0]<0&&ne++,s(Ee<=1)),Ee=C.l3_enc[te+1],Ee!=0&&(we+=4,ne*=2,C.xr[ie+1]<0&&ne++,s(Ee<=1)),Ee=C.l3_enc[te+2],Ee!=0&&(we+=2,ne*=2,C.xr[ie+2]<0&&ne++,s(Ee<=1)),Ee=C.l3_enc[te+3],Ee!=0&&(we++,ne*=2,C.xr[ie+3]<0&&ne++,s(Ee<=1)),te+=4,ie+=4,z(F,ne+I.table[we],I.hlen[we]),X+=I.hlen[we]}return X}function re(F,C,I,O,X){var te=l.ht[C],ie=0;if(s(C<32),C==0)return ie;for(var ne=I;ne<O;ne+=2){var we=0,Ee=0,He=te.xlen,Ue=te.xlen,We=0,it=X.l3_enc[ne],xe=X.l3_enc[ne+1];if(it!=0&&(X.xr[ne]<0&&We++,we--),C>15){if(it>14){var nt=it-15;s(nt<=te.linmax),We|=nt<<1,Ee=He,it=15}if(xe>14){var pt=xe-15;s(pt<=te.linmax),We<<=He,We|=pt,Ee+=He,xe=15}Ue=16}xe!=0&&(We<<=1,X.xr[ne+1]<0&&We++,we--),s((it|xe)<16),it=it*Ue+xe,Ee-=we,we+=te.hlen[it],s(we<=g),s(Ee<=g),z(F,te.table[it],we),z(F,We,Ee),ie+=we+Ee}return ie}function q(F,C){var I=3*F.scalefac_band.s[3];I>C.big_values&&(I=C.big_values);var O=re(F,C.table_select[0],0,I,C);return O+=re(F,C.table_select[1],I,C.big_values,C),O}function W(F,C){var I,O,X,te;I=C.big_values,s(0<=I&&I<=576);var ie=C.region0_count+1;return s(0<=ie),s(ie<F.scalefac_band.l.length),X=F.scalefac_band.l[ie],ie+=C.region1_count+1,s(0<=ie),s(ie<F.scalefac_band.l.length),te=F.scalefac_band.l[ie],X>I&&(X=I),te>I&&(te=I),O=re(F,C.table_select[0],0,X,C),O+=re(F,C.table_select[1],X,te,C),O+=re(F,C.table_select[2],te,I,C),O}function le(F){var C,I,O,X,te=0,ie=F.internal_flags,ne=ie.l3_side;if(F.version==1)for(C=0;C<2;C++)for(I=0;I<ie.channels_out;I++){var we=ne.tt[C][I],Ee=o.slen1_tab[we.scalefac_compress],He=o.slen2_tab[we.scalefac_compress];for(X=0,O=0;O<we.sfbdivide;O++)we.scalefac[O]!=-1&&(z(ie,we.scalefac[O],Ee),X+=Ee);for(;O<we.sfbmax;O++)we.scalefac[O]!=-1&&(z(ie,we.scalefac[O],He),X+=He);s(X==we.part2_length),we.block_type==c.SHORT_TYPE?X+=q(ie,we):X+=W(ie,we),X+=J(ie,we),s(X==we.part2_3_length+we.part2_length),te+=X}else for(C=0,I=0;I<ie.channels_out;I++){var we=ne.tt[C][I],Ue,We,it=0;if(s(we.sfb_partition_table!=null),X=0,O=0,We=0,we.block_type==c.SHORT_TYPE){for(;We<4;We++){var xe=we.sfb_partition_table[We]/3,nt=we.slen[We];for(Ue=0;Ue<xe;Ue++,O++)z(ie,Math.max(we.scalefac[O*3+0],0),nt),z(ie,Math.max(we.scalefac[O*3+1],0),nt),z(ie,Math.max(we.scalefac[O*3+2],0),nt),it+=3*nt}X+=q(ie,we)}else{for(;We<4;We++){var xe=we.sfb_partition_table[We],nt=we.slen[We];for(Ue=0;Ue<xe;Ue++,O++)z(ie,Math.max(we.scalefac[O],0),nt),it+=nt}X+=W(ie,we)}X+=J(ie,we),s(X==we.part2_3_length),s(it==we.part2_length),te+=it+X}return te}function ue(){this.total=0}function oe(F,C){var I=F.internal_flags,O,X,te,ie,ne;return ne=I.w_ptr,ie=I.h_ptr-1,ie==-1&&(ie=u.MAX_HEADER_BUF-1),O=I.header[ie].write_timing-R,C.total=O,O>=0&&(X=1+ie-ne,ie<ne&&(X=1+ie-ne+u.MAX_HEADER_BUF),O-=X*8*I.sideinfo_len),te=h.getframebits(F),O+=te,C.total+=te,C.total%8!=0?C.total=1+C.total/8:C.total=C.total/8,C.total+=M+1,O<0&&e.err.println(`strange error flushing buffer ... 
`),O}this.flush_bitstream=function(F){var C=F.internal_flags,I,O,X=C.h_ptr-1;if(X==-1&&(X=u.MAX_HEADER_BUF-1),I=C.l3_side,!((O=oe(F,new ue))<0)){if($(F,O),s(C.header[X].write_timing+this.getframebits(F)==R),C.ResvSize=0,I.main_data_begin=0,C.findReplayGain){var te=y.GetTitleGain(C.rgdata);s(NEQ(te,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),C.RadioGain=Math.floor(te*10+.5)|0}C.findPeakSample&&(C.noclipGainChange=Math.ceil(Math.log10(C.PeakSample/32767)*20*10)|0,C.noclipGainChange>0&&(EQ(F.scale,1)||EQ(F.scale,0))?C.noclipScale=Math.floor(32767/C.PeakSample*100)/100:C.noclipScale=-1)}},this.add_dummy_byte=function(F,C,I){for(var O=F.internal_flags,X;I-- >0;)for(H(O,C,8),X=0;X<u.MAX_HEADER_BUF;++X)O.header[X].write_timing+=8},this.format_bitstream=function(F){var C=F.internal_flags,I;I=C.l3_side;var O=this.getframebits(F);$(F,I.resvDrain_pre),ee(F,O);var X=8*C.sideinfo_len;if(X+=le(F),$(F,I.resvDrain_post),X+=I.resvDrain_post,I.main_data_begin+=(O-X)/8,oe(F,new ue)!=C.ResvSize&&e.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),I.main_data_begin*8!=C.ResvSize&&(e.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*I.main_data_begin,C.ResvSize,I.resvDrain_post,I.resvDrain_pre,8*C.sideinfo_len,X-I.resvDrain_post-8*C.sideinfo_len,X,X%8,O),e.err.println("This is a fatal error.  It has several possible causes:"),e.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),e.err.println(" 9%%  Your system is overclocked"),e.err.println(" 1%%  bug in LAME encoding library"),C.ResvSize=I.main_data_begin*8),s(R%8==0),R>1e9){var te;for(te=0;te<u.MAX_HEADER_BUF;++te)C.header[te].write_timing-=R;R=0}return 0},this.copy_buffer=function(F,C,I,O,X){var te=M+1;if(te<=0)return 0;if(O!=0&&te>O)return-1;if(e.arraycopy(v,0,C,I,te),M=-1,B=0,X!=0){var ie=a(1);if(ie[0]=F.nMusicCRC,T.updateMusicCRC(ie,C,I,te),F.nMusicCRC=ie[0],te>0&&(F.VBR_seek_table.nBytesWritten+=te),F.decode_on_the_fly){for(var ne=i([2,1152]),we=te,Ee=-1,He;Ee!=0;)if(Ee=w.hip_decode1_unclipped(F.hip,C,I,we,ne[0],ne[1]),we=0,Ee==-1&&(Ee=0),Ee>0){if(s(Ee<=1152),F.findPeakSample){for(He=0;He<Ee;He++)ne[0][He]>F.PeakSample?F.PeakSample=ne[0][He]:-ne[0][He]>F.PeakSample&&(F.PeakSample=-ne[0][He]);if(F.channels_out>1)for(He=0;He<Ee;He++)ne[1][He]>F.PeakSample?F.PeakSample=ne[1][He]:-ne[1][He]>F.PeakSample&&(F.PeakSample=-ne[1][He])}if(F.findReplayGain&&y.AnalyzeSamples(F.rgdata,ne[0],0,ne[1],0,Ee,F.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return te},this.init_bit_stream_w=function(F){v=n(Lame.LAME_MAXMP3BUFFER),F.h_ptr=F.w_ptr=0,F.header[F.h_ptr].write_timing=0,M=-1,B=0,R=0}}return v_=d,v_}var b_,zC;function ZY(){if(zC)return b_;zC=1;var r=Vr(),e=r.System,t=r.VbrMode;r.Float;var n=r.ShortBlock;r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var i=r.new_float;r.new_float_n,r.new_int;var a=r.new_int_n,s=r.new_short_n,o=r.assert,l=HY(),c=zY(),u=c5(),d=XY(),h=KY(),f=YY(),g=pM(),y=DS(),w=Fa();function x(){var T=this,v=128*1024;x.V9=410,x.V8=420,x.V7=430,x.V6=440,x.V5=450,x.V4=460,x.V3=470,x.V2=480,x.V1=490,x.V0=500,x.R3MIX=1e3,x.STANDARD=1001,x.EXTREME=1002,x.INSANE=1003,x.STANDARD_FAST=1004,x.EXTREME_FAST=1005,x.MEDIUM=1006,x.MEDIUM_FAST=1007;var R=16384+v;x.LAME_MAXMP3BUFFER=R;var M,B,L,z,H,$=new l,U,D,ee;this.enc=new w,this.setModules=function(Z,ce,ut,rt,ht,mt,wt,ft,Tt){M=Z,B=ce,L=ut,z=rt,H=ht,U=mt,D=ft,ee=Tt,this.enc.setModules(B,$,z,U)};function J(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(w.SBMAX_l),this.bo_s_weight=i(w.SBMAX_s)}function re(){this.lowerlimit=0}function q(Z,ce){this.lowpass=ce}var W=4294479419;function le(Z){var ce;return Z.class_id=W,ce=Z.internal_flags=new u,Z.mode=MPEGMode.NOT_SET,Z.original=1,Z.in_samplerate=44100,Z.num_channels=2,Z.num_samples=-1,Z.bWriteVbrTag=!0,Z.quality=-1,Z.short_blocks=null,ce.subblock_gain=-1,Z.lowpassfreq=0,Z.highpassfreq=0,Z.lowpasswidth=-1,Z.highpasswidth=-1,Z.VBR=t.vbr_off,Z.VBR_q=4,Z.ATHcurve=-1,Z.VBR_mean_bitrate_kbps=128,Z.VBR_min_bitrate_kbps=0,Z.VBR_max_bitrate_kbps=0,Z.VBR_hard_min=0,ce.VBR_min_bitrate=1,ce.VBR_max_bitrate=13,Z.quant_comp=-1,Z.quant_comp_short=-1,Z.msfix=-1,ce.resample_ratio=1,ce.OldValue[0]=180,ce.OldValue[1]=180,ce.CurrentStep[0]=4,ce.CurrentStep[1]=4,ce.masking_lower=1,ce.nsPsy.attackthre=-1,ce.nsPsy.attackthre_s=-1,Z.scale=-1,Z.athaa_type=-1,Z.ATHtype=-1,Z.athaa_loudapprox=-1,Z.athaa_sensitivity=0,Z.useTemporal=null,Z.interChRatio=-1,ce.mf_samples_to_encode=w.ENCDELAY+w.POSTDELAY,Z.encoder_padding=0,ce.mf_size=w.ENCDELAY-w.MDCTDELAY,Z.findReplayGain=!1,Z.decode_on_the_fly=!1,ce.decode_on_the_fly=!1,ce.findReplayGain=!1,ce.findPeakSample=!1,ce.RadioGain=0,ce.AudiophileGain=0,ce.noclipGainChange=0,ce.noclipScale=-1,Z.preset=0,Z.write_id3tag_automatic=!0,0}this.lame_init=function(){var Z=new c;return le(Z),Z.lame_allocated_gfp=1,Z};function ue(Z){return Z>1?0:Z<=0?1:Math.cos(Math.PI/2*Z)}this.nearestBitrateFullIndex=function(Z){var ce=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],ut=0,rt=0,ht=0,mt=0;mt=ce[16],ht=16,rt=ce[16],ut=16;for(var wt=0;wt<16;wt++)if(Math.max(Z,ce[wt+1])!=Z){mt=ce[wt+1],ht=wt+1,rt=ce[wt],ut=wt;break}return mt-Z>Z-rt?ut:ht};function oe(Z,ce){var ut=44100;return ce>=48e3?ut=48e3:ce>=44100?ut=44100:ce>=32e3?ut=32e3:ce>=24e3?ut=24e3:ce>=22050?ut=22050:ce>=16e3?ut=16e3:ce>=12e3?ut=12e3:ce>=11025?ut=11025:ce>=8e3&&(ut=8e3),Z==-1?ut:(Z<=15960&&(ut=44100),Z<=15250&&(ut=32e3),Z<=11220&&(ut=24e3),Z<=9970&&(ut=22050),Z<=7230&&(ut=16e3),Z<=5420&&(ut=12e3),Z<=4510&&(ut=11025),Z<=3970&&(ut=8e3),ce<ut?ce>44100?48e3:ce>32e3?44100:ce>24e3?32e3:ce>22050?24e3:ce>16e3?22050:ce>12e3?16e3:ce>11025?12e3:ce>8e3?11025:8e3:ut)}function F(Z,ce){switch(Z){case 44100:return ce.version=1,0;case 48e3:return ce.version=1,1;case 32e3:return ce.version=1,2;case 22050:return ce.version=0,0;case 24e3:return ce.version=0,1;case 16e3:return ce.version=0,2;case 11025:return ce.version=0,0;case 12e3:return ce.version=0,1;case 8e3:return ce.version=0,2;default:return ce.version=0,-1}}function C(Z,ce,ut){ut<16e3&&(ce=2);for(var rt=y.bitrate_table[ce][1],ht=2;ht<=14;ht++)y.bitrate_table[ce][ht]>0&&Math.abs(y.bitrate_table[ce][ht]-Z)<Math.abs(rt-Z)&&(rt=y.bitrate_table[ce][ht]);return rt}function I(Z,ce,ut){ut<16e3&&(ce=2);for(var rt=0;rt<=14;rt++)if(y.bitrate_table[ce][rt]>0&&y.bitrate_table[ce][rt]==Z)return rt;return-1}function O(Z,ce){var ut=[new q(8,2e3),new q(16,3700),new q(24,3900),new q(32,5500),new q(40,7e3),new q(48,7500),new q(56,1e4),new q(64,11e3),new q(80,13500),new q(96,15100),new q(112,15600),new q(128,17e3),new q(160,17500),new q(192,18600),new q(224,19400),new q(256,19700),new q(320,20500)],rt=T.nearestBitrateFullIndex(ce);Z.lowerlimit=ut[rt].lowpass}function X(Z){var ce=Z.internal_flags,ut=32,rt=-1;if(ce.lowpass1>0){for(var ht=999,mt=0;mt<=31;mt++){var wt=mt/31;wt>=ce.lowpass2&&(ut=Math.min(ut,mt)),ce.lowpass1<wt&&wt<ce.lowpass2&&(ht=Math.min(ht,mt))}ht==999?ce.lowpass1=(ut-.75)/31:ce.lowpass1=(ht-.75)/31,ce.lowpass2=ut/31}if(ce.highpass2>0&&ce.highpass2<.9*(.75/31)&&(ce.highpass1=0,ce.highpass2=0,e.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),ce.highpass2>0){for(var ft=-1,mt=0;mt<=31;mt++){var wt=mt/31;wt<=ce.highpass1&&(rt=Math.max(rt,mt)),ce.highpass1<wt&&wt<ce.highpass2&&(ft=Math.max(ft,mt))}ce.highpass1=rt/31,ft==-1?ce.highpass2=(rt+.75)/31:ce.highpass2=(ft+.75)/31}for(var mt=0;mt<32;mt++){var Tt,De,wt=mt/31;ce.highpass2>ce.highpass1?Tt=ue((ce.highpass2-wt)/(ce.highpass2-ce.highpass1+1e-20)):Tt=1,ce.lowpass2>ce.lowpass1?De=ue((wt-ce.lowpass1)/(ce.lowpass2-ce.lowpass1+1e-20)):De=1,ce.amp_filter[mt]=Tt*De}}function te(Z){var ce=Z.internal_flags;switch(Z.quality){default:case 9:ce.psymodel=0,ce.noise_shaping=0,ce.noise_shaping_amp=0,ce.noise_shaping_stop=0,ce.use_best_huffman=0,ce.full_outer_loop=0;break;case 8:Z.quality=7;case 7:ce.psymodel=1,ce.noise_shaping=0,ce.noise_shaping_amp=0,ce.noise_shaping_stop=0,ce.use_best_huffman=0,ce.full_outer_loop=0;break;case 6:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.noise_shaping_amp=0,ce.noise_shaping_stop=0,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=0,ce.full_outer_loop=0;break;case 5:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.noise_shaping_amp=0,ce.noise_shaping_stop=0,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=0,ce.full_outer_loop=0;break;case 4:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.noise_shaping_amp=0,ce.noise_shaping_stop=0,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=1,ce.full_outer_loop=0;break;case 3:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.noise_shaping_amp=1,ce.noise_shaping_stop=1,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=1,ce.full_outer_loop=0;break;case 2:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.substep_shaping==0&&(ce.substep_shaping=2),ce.noise_shaping_amp=1,ce.noise_shaping_stop=1,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=1,ce.full_outer_loop=0;break;case 1:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.substep_shaping==0&&(ce.substep_shaping=2),ce.noise_shaping_amp=2,ce.noise_shaping_stop=1,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=1,ce.full_outer_loop=0;break;case 0:ce.psymodel=1,ce.noise_shaping==0&&(ce.noise_shaping=1),ce.substep_shaping==0&&(ce.substep_shaping=2),ce.noise_shaping_amp=2,ce.noise_shaping_stop=1,ce.subblock_gain==-1&&(ce.subblock_gain=1),ce.use_best_huffman=1,ce.full_outer_loop=0;break}}function ie(Z){var ce=Z.internal_flags;Z.frameNum=0,Z.write_id3tag_automatic&&D.id3tag_write_v2(Z),ce.bitrate_stereoMode_Hist=a([16,5]),ce.bitrate_blockType_Hist=a([16,6]),ce.PeakSample=0,Z.bWriteVbrTag&&U.InitVbrTag(Z)}this.lame_init_params=function(Z){var ce=Z.internal_flags;if(ce.Class_ID=0,ce.ATH==null&&(ce.ATH=new d),ce.PSY==null&&(ce.PSY=new J),ce.rgdata==null&&(ce.rgdata=new h),ce.channels_in=Z.num_channels,ce.channels_in==1&&(Z.mode=MPEGMode.MONO),ce.channels_out=Z.mode==MPEGMode.MONO?1:2,ce.mode_ext=w.MPG_MD_MS_LR,Z.mode==MPEGMode.MONO&&(Z.force_ms=!1),Z.VBR==t.vbr_off&&Z.VBR_mean_bitrate_kbps!=128&&Z.brate==0&&(Z.brate=Z.VBR_mean_bitrate_kbps),Z.VBR==t.vbr_off||Z.VBR==t.vbr_mtrh||Z.VBR==t.vbr_mt||(Z.free_format=!1),Z.VBR==t.vbr_off&&Z.brate==0&&g.EQ(Z.compression_ratio,0)&&(Z.compression_ratio=11.025),Z.VBR==t.vbr_off&&Z.compression_ratio>0&&(Z.out_samplerate==0&&(Z.out_samplerate=map2MP3Frequency(int(.97*Z.in_samplerate))),Z.brate=0|Z.out_samplerate*16*ce.channels_out/(1e3*Z.compression_ratio),ce.samplerate_index=F(Z.out_samplerate,Z),Z.free_format||(Z.brate=C(Z.brate,Z.version,Z.out_samplerate))),Z.out_samplerate!=0&&(Z.out_samplerate<16e3?(Z.VBR_mean_bitrate_kbps=Math.max(Z.VBR_mean_bitrate_kbps,8),Z.VBR_mean_bitrate_kbps=Math.min(Z.VBR_mean_bitrate_kbps,64)):Z.out_samplerate<32e3?(Z.VBR_mean_bitrate_kbps=Math.max(Z.VBR_mean_bitrate_kbps,8),Z.VBR_mean_bitrate_kbps=Math.min(Z.VBR_mean_bitrate_kbps,160)):(Z.VBR_mean_bitrate_kbps=Math.max(Z.VBR_mean_bitrate_kbps,32),Z.VBR_mean_bitrate_kbps=Math.min(Z.VBR_mean_bitrate_kbps,320))),Z.lowpassfreq==0){var ut=16e3;switch(Z.VBR){case t.vbr_off:{var rt=new re;O(rt,Z.brate),ut=rt.lowerlimit;break}case t.vbr_abr:{var rt=new re;O(rt,Z.VBR_mean_bitrate_kbps),ut=rt.lowerlimit;break}case t.vbr_rh:{var ht=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=Z.VBR_q&&Z.VBR_q<=9){var mt=ht[Z.VBR_q],wt=ht[Z.VBR_q+1],ft=Z.VBR_q_frac;ut=linear_int(mt,wt,ft)}else ut=19500;break}default:{var ht=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=Z.VBR_q&&Z.VBR_q<=9){var mt=ht[Z.VBR_q],wt=ht[Z.VBR_q+1],ft=Z.VBR_q_frac;ut=linear_int(mt,wt,ft)}else ut=19500}}Z.mode==MPEGMode.MONO&&(Z.VBR==t.vbr_off||Z.VBR==t.vbr_abr)&&(ut*=1.5),Z.lowpassfreq=ut|0}if(Z.out_samplerate==0&&(2*Z.lowpassfreq>Z.in_samplerate&&(Z.lowpassfreq=Z.in_samplerate/2),Z.out_samplerate=oe(Z.lowpassfreq|0,Z.in_samplerate)),Z.lowpassfreq=Math.min(20500,Z.lowpassfreq),Z.lowpassfreq=Math.min(Z.out_samplerate/2,Z.lowpassfreq),Z.VBR==t.vbr_off&&(Z.compression_ratio=Z.out_samplerate*16*ce.channels_out/(1e3*Z.brate)),Z.VBR==t.vbr_abr&&(Z.compression_ratio=Z.out_samplerate*16*ce.channels_out/(1e3*Z.VBR_mean_bitrate_kbps)),Z.bWriteVbrTag||(Z.findReplayGain=!1,Z.decode_on_the_fly=!1,ce.findPeakSample=!1),ce.findReplayGain=Z.findReplayGain,ce.decode_on_the_fly=Z.decode_on_the_fly,ce.decode_on_the_fly&&(ce.findPeakSample=!0),ce.findReplayGain&&M.InitGainAnalysis(ce.rgdata,Z.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return Z.internal_flags=null,-6;switch(ce.decode_on_the_fly&&!Z.decode_only&&(ce.hip!=null&&ee.hip_decode_exit(ce.hip),ce.hip=ee.hip_decode_init()),ce.mode_gr=Z.out_samplerate<=24e3?1:2,Z.framesize=576*ce.mode_gr,Z.encoder_delay=w.ENCDELAY,ce.resample_ratio=Z.in_samplerate/Z.out_samplerate,Z.VBR){case t.vbr_mt:case t.vbr_rh:case t.vbr_mtrh:{var Tt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];Z.compression_ratio=Tt[Z.VBR_q]}break;case t.vbr_abr:Z.compression_ratio=Z.out_samplerate*16*ce.channels_out/(1e3*Z.VBR_mean_bitrate_kbps);break;default:Z.compression_ratio=Z.out_samplerate*16*ce.channels_out/(1e3*Z.brate);break}if(Z.mode==MPEGMode.NOT_SET&&(Z.mode=MPEGMode.JOINT_STEREO),Z.highpassfreq>0?(ce.highpass1=2*Z.highpassfreq,Z.highpasswidth>=0?ce.highpass2=2*(Z.highpassfreq+Z.highpasswidth):ce.highpass2=2*Z.highpassfreq,ce.highpass1/=Z.out_samplerate,ce.highpass2/=Z.out_samplerate):(ce.highpass1=0,ce.highpass2=0),Z.lowpassfreq>0?(ce.lowpass2=2*Z.lowpassfreq,Z.lowpasswidth>=0?(ce.lowpass1=2*(Z.lowpassfreq-Z.lowpasswidth),ce.lowpass1<0&&(ce.lowpass1=0)):ce.lowpass1=2*Z.lowpassfreq,ce.lowpass1/=Z.out_samplerate,ce.lowpass2/=Z.out_samplerate):(ce.lowpass1=0,ce.lowpass2=0),X(Z),ce.samplerate_index=F(Z.out_samplerate,Z),ce.samplerate_index<0)return Z.internal_flags=null,-1;if(Z.VBR==t.vbr_off){if(Z.free_format)ce.bitrate_index=0;else if(Z.brate=C(Z.brate,Z.version,Z.out_samplerate),ce.bitrate_index=I(Z.brate,Z.version,Z.out_samplerate),ce.bitrate_index<=0)return Z.internal_flags=null,-1}else ce.bitrate_index=1;Z.analysis&&(Z.bWriteVbrTag=!1),ce.pinfo!=null&&(Z.bWriteVbrTag=!1),B.init_bit_stream_w(ce);for(var De=ce.samplerate_index+3*Z.version+6*(Z.out_samplerate<16e3?1:0),Ve=0;Ve<w.SBMAX_l+1;Ve++)ce.scalefac_band.l[Ve]=z.sfBandIndex[De].l[Ve];for(var Ve=0;Ve<w.PSFB21+1;Ve++){var Ke=(ce.scalefac_band.l[22]-ce.scalefac_band.l[21])/w.PSFB21,gt=ce.scalefac_band.l[21]+Ve*Ke;ce.scalefac_band.psfb21[Ve]=gt}ce.scalefac_band.psfb21[w.PSFB21]=576;for(var Ve=0;Ve<w.SBMAX_s+1;Ve++)ce.scalefac_band.s[Ve]=z.sfBandIndex[De].s[Ve];for(var Ve=0;Ve<w.PSFB12+1;Ve++){var Ke=(ce.scalefac_band.s[13]-ce.scalefac_band.s[12])/w.PSFB12,gt=ce.scalefac_band.s[12]+Ve*Ke;ce.scalefac_band.psfb12[Ve]=gt}ce.scalefac_band.psfb12[w.PSFB12]=192,Z.version==1?ce.sideinfo_len=ce.channels_out==1?21:36:ce.sideinfo_len=ce.channels_out==1?13:21,Z.error_protection&&(ce.sideinfo_len+=2),ie(Z),ce.Class_ID=W;{var N;for(N=0;N<19;N++)ce.nsPsy.pefirbuf[N]=700*ce.mode_gr*ce.channels_out;Z.ATHtype==-1&&(Z.ATHtype=4)}switch(o(Z.VBR_q<=9),o(Z.VBR_q>=0),Z.VBR){case t.vbr_mt:Z.VBR=t.vbr_mtrh;case t.vbr_mtrh:{Z.useTemporal==null&&(Z.useTemporal=!1),L.apply_preset(Z,500-Z.VBR_q*10,0),Z.quality<0&&(Z.quality=LAME_DEFAULT_QUALITY),Z.quality<5&&(Z.quality=0),Z.quality>5&&(Z.quality=5),ce.PSY.mask_adjust=Z.maskingadjust,ce.PSY.mask_adjust_short=Z.maskingadjust_short,Z.experimentalY?ce.sfb21_extra=!1:ce.sfb21_extra=Z.out_samplerate>44e3,ce.iteration_loop=new VBRNewIterationLoop(H);break}case t.vbr_rh:{L.apply_preset(Z,500-Z.VBR_q*10,0),ce.PSY.mask_adjust=Z.maskingadjust,ce.PSY.mask_adjust_short=Z.maskingadjust_short,Z.experimentalY?ce.sfb21_extra=!1:ce.sfb21_extra=Z.out_samplerate>44e3,Z.quality>6&&(Z.quality=6),Z.quality<0&&(Z.quality=LAME_DEFAULT_QUALITY),ce.iteration_loop=new VBROldIterationLoop(H);break}default:{var _e;ce.sfb21_extra=!1,Z.quality<0&&(Z.quality=LAME_DEFAULT_QUALITY),_e=Z.VBR,_e==t.vbr_off&&(Z.VBR_mean_bitrate_kbps=Z.brate),L.apply_preset(Z,Z.VBR_mean_bitrate_kbps,0),Z.VBR=_e,ce.PSY.mask_adjust=Z.maskingadjust,ce.PSY.mask_adjust_short=Z.maskingadjust_short,_e==t.vbr_off?ce.iteration_loop=new f(H):ce.iteration_loop=new ABRIterationLoop(H);break}}if(o(Z.scale>=0),Z.VBR!=t.vbr_off){if(ce.VBR_min_bitrate=1,ce.VBR_max_bitrate=14,Z.out_samplerate<16e3&&(ce.VBR_max_bitrate=8),Z.VBR_min_bitrate_kbps!=0&&(Z.VBR_min_bitrate_kbps=C(Z.VBR_min_bitrate_kbps,Z.version,Z.out_samplerate),ce.VBR_min_bitrate=I(Z.VBR_min_bitrate_kbps,Z.version,Z.out_samplerate),ce.VBR_min_bitrate<0)||Z.VBR_max_bitrate_kbps!=0&&(Z.VBR_max_bitrate_kbps=C(Z.VBR_max_bitrate_kbps,Z.version,Z.out_samplerate),ce.VBR_max_bitrate=I(Z.VBR_max_bitrate_kbps,Z.version,Z.out_samplerate),ce.VBR_max_bitrate<0))return-1;Z.VBR_min_bitrate_kbps=y.bitrate_table[Z.version][ce.VBR_min_bitrate],Z.VBR_max_bitrate_kbps=y.bitrate_table[Z.version][ce.VBR_max_bitrate],Z.VBR_mean_bitrate_kbps=Math.min(y.bitrate_table[Z.version][ce.VBR_max_bitrate],Z.VBR_mean_bitrate_kbps),Z.VBR_mean_bitrate_kbps=Math.max(y.bitrate_table[Z.version][ce.VBR_min_bitrate],Z.VBR_mean_bitrate_kbps)}return Z.tune&&(ce.PSY.mask_adjust+=Z.tune_value_a,ce.PSY.mask_adjust_short+=Z.tune_value_a),te(Z),o(Z.scale>=0),Z.athaa_type<0?ce.ATH.useAdjust=3:ce.ATH.useAdjust=Z.athaa_type,ce.ATH.aaSensitivityP=Math.pow(10,Z.athaa_sensitivity/-10),Z.short_blocks==null&&(Z.short_blocks=n.short_block_allowed),Z.short_blocks==n.short_block_allowed&&(Z.mode==MPEGMode.JOINT_STEREO||Z.mode==MPEGMode.STEREO)&&(Z.short_blocks=n.short_block_coupled),Z.quant_comp<0&&(Z.quant_comp=1),Z.quant_comp_short<0&&(Z.quant_comp_short=0),Z.msfix<0&&(Z.msfix=0),Z.exp_nspsytune=Z.exp_nspsytune|1,Z.internal_flags.nsPsy.attackthre<0&&(Z.internal_flags.nsPsy.attackthre=l.NSATTACKTHRE),Z.internal_flags.nsPsy.attackthre_s<0&&(Z.internal_flags.nsPsy.attackthre_s=l.NSATTACKTHRE_S),o(Z.scale>=0),Z.scale<0&&(Z.scale=1),Z.ATHtype<0&&(Z.ATHtype=4),Z.ATHcurve<0&&(Z.ATHcurve=4),Z.athaa_loudapprox<0&&(Z.athaa_loudapprox=2),Z.interChRatio<0&&(Z.interChRatio=0),Z.useTemporal==null&&(Z.useTemporal=!0),ce.slot_lag=ce.frac_SpF=0,Z.VBR==t.vbr_off&&(ce.slot_lag=ce.frac_SpF=(Z.version+1)*72e3*Z.brate%Z.out_samplerate|0),z.iteration_init(Z),$.psymodel_init(Z),o(Z.scale>=0),0};function ne(Z,ce){(Z.in_buffer_0==null||Z.in_buffer_nsamples<ce)&&(Z.in_buffer_0=i(ce),Z.in_buffer_1=i(ce),Z.in_buffer_nsamples=ce)}this.lame_encode_flush=function(Z,ce,ut,rt){var ht=Z.internal_flags,mt=s([2,1152]),wt=0,ft,Tt,De,Ve,Ke=ht.mf_samples_to_encode-w.POSTDELAY,gt=we(Z);if(ht.mf_samples_to_encode<1)return 0;for(ft=0,Z.in_samplerate!=Z.out_samplerate&&(Ke+=16*Z.out_samplerate/Z.in_samplerate),De=Z.framesize-Ke%Z.framesize,De<576&&(De+=Z.framesize),Z.encoder_padding=De,Ve=(Ke+De)/Z.framesize;Ve>0&&wt>=0;){var N=gt-ht.mf_size,_e=Z.frameNum;N*=Z.in_samplerate,N/=Z.out_samplerate,N>1152&&(N=1152),N<1&&(N=1),Tt=rt-ft,rt==0&&(Tt=0),wt=this.lame_encode_buffer(Z,mt[0],mt[1],N,ce,ut,Tt),ut+=wt,ft+=wt,Ve-=_e!=Z.frameNum?1:0}if(ht.mf_samples_to_encode=0,wt<0||(Tt=rt-ft,rt==0&&(Tt=0),B.flush_bitstream(Z),wt=B.copy_buffer(ht,ce,ut,Tt,1),wt<0))return wt;if(ut+=wt,ft+=wt,Tt=rt-ft,rt==0&&(Tt=0),Z.write_id3tag_automatic){if(D.id3tag_write_v1(Z),wt=B.copy_buffer(ht,ce,ut,Tt,0),wt<0)return wt;ft+=wt}return ft},this.lame_encode_buffer=function(Z,ce,ut,rt,ht,mt,wt){var ft=Z.internal_flags,Tt=[null,null];if(ft.Class_ID!=W)return-3;if(rt==0)return 0;ne(ft,rt),Tt[0]=ft.in_buffer_0,Tt[1]=ft.in_buffer_1;for(var De=0;De<rt;De++)Tt[0][De]=ce[De],ft.channels_in>1&&(Tt[1][De]=ut[De]);return Ee(Z,Tt[0],Tt[1],rt,ht,mt,wt)};function we(Z){var ce=w.BLKSIZE+Z.framesize-w.FFTOFFSET;return ce=Math.max(ce,512+Z.framesize-32),o(u.MFSIZE>=ce),ce}function Ee(Z,ce,ut,rt,ht,mt,wt){var ft=Z.internal_flags,Tt=0,De,Ve,Ke,gt,N,_e=[null,null],ke=[null,null];if(ft.Class_ID!=W)return-3;if(rt==0)return 0;if(N=B.copy_buffer(ft,ht,mt,wt,0),N<0)return N;if(mt+=N,Tt+=N,ke[0]=ce,ke[1]=ut,g.NEQ(Z.scale,0)&&g.NEQ(Z.scale,1))for(Ve=0;Ve<rt;++Ve)ke[0][Ve]*=Z.scale,ft.channels_out==2&&(ke[1][Ve]*=Z.scale);if(g.NEQ(Z.scale_left,0)&&g.NEQ(Z.scale_left,1))for(Ve=0;Ve<rt;++Ve)ke[0][Ve]*=Z.scale_left;if(g.NEQ(Z.scale_right,0)&&g.NEQ(Z.scale_right,1))for(Ve=0;Ve<rt;++Ve)ke[1][Ve]*=Z.scale_right;if(Z.num_channels==2&&ft.channels_out==1)for(Ve=0;Ve<rt;++Ve)ke[0][Ve]=.5*(ke[0][Ve]+ke[1][Ve]),ke[1][Ve]=0;gt=we(Z),_e[0]=ft.mfbuf[0],_e[1]=ft.mfbuf[1];for(var Le=0;rt>0;){var Y=[null,null],ge=0,S=0;Y[0]=ke[0],Y[1]=ke[1];var Ae=new Ue;if(pt(Z,_e,Y,Le,rt,Ae),ge=Ae.n_in,S=Ae.n_out,ft.findReplayGain&&!ft.decode_on_the_fly&&M.AnalyzeSamples(ft.rgdata,_e[0],ft.mf_size,_e[1],ft.mf_size,S,ft.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(rt-=ge,Le+=ge,ft.channels_out==2,ft.mf_size+=S,o(ft.mf_size<=u.MFSIZE),ft.mf_samples_to_encode<1&&(ft.mf_samples_to_encode=w.ENCDELAY+w.POSTDELAY),ft.mf_samples_to_encode+=S,ft.mf_size>=gt){var Xe=wt-Tt;if(wt==0&&(Xe=0),De=He(Z,_e[0],_e[1],ht,mt,Xe),De<0)return De;for(mt+=De,Tt+=De,ft.mf_size-=Z.framesize,ft.mf_samples_to_encode-=Z.framesize,Ke=0;Ke<ft.channels_out;Ke++)for(Ve=0;Ve<ft.mf_size;Ve++)_e[Ke][Ve]=_e[Ke][Ve+Z.framesize]}}return o(rt==0),Tt}function He(Z,ce,ut,rt,ht,mt){var wt=T.enc.lame_encode_mp3_frame(Z,ce,ut,rt,ht,mt);return Z.frameNum++,wt}function Ue(){this.n_in=0,this.n_out=0}function We(){this.num_used=0}function it(Z,ce){return ce!=0?it(ce,Z%ce):Z}function xe(Z,ce,ut){var rt=Math.PI*ce;Z/=ut,Z<0&&(Z=0),Z>1&&(Z=1);var ht=Z-.5,mt=.42-.5*Math.cos(2*Z*Math.PI)+.08*Math.cos(4*Z*Math.PI);return Math.abs(ht)<1e-9?rt/Math.PI:mt*Math.sin(ut*rt*ht)/(Math.PI*ut*ht)}function nt(Z,ce,ut,rt,ht,mt,wt,ft,Tt){var De=Z.internal_flags,Ve,Ke=0,gt,N=Z.out_samplerate/it(Z.out_samplerate,Z.in_samplerate);N>u.BPC&&(N=u.BPC);var _e=Math.abs(De.resample_ratio-Math.floor(.5+De.resample_ratio))<1e-4?1:0,ke=1/De.resample_ratio;ke>1&&(ke=1);var Le=31;Le%2==0&&--Le,Le+=_e;var Y=Le+1;if(De.fill_buffer_resample_init==0){for(De.inbuf_old[0]=i(Y),De.inbuf_old[1]=i(Y),Ve=0;Ve<=2*N;++Ve)De.blackfilt[Ve]=i(Y);for(De.itime[0]=0,De.itime[1]=0,Ke=0;Ke<=2*N;Ke++){var ge=0,S=(Ke-N)/(2*N);for(Ve=0;Ve<=Le;Ve++)ge+=De.blackfilt[Ke][Ve]=xe(Ve-S,ke,Le);for(Ve=0;Ve<=Le;Ve++)De.blackfilt[Ke][Ve]/=ge}De.fill_buffer_resample_init=1}var Ae=De.inbuf_old[Tt];for(gt=0;gt<rt;gt++){var Xe,m;if(Xe=gt*De.resample_ratio,Ke=0|Math.floor(Xe-De.itime[Tt]),Le+Ke-Le/2>=wt)break;var S=Xe-De.itime[Tt]-(Ke+.5*(Le%2));o(Math.abs(S)<=.501),m=0|Math.floor(S*2*N+N+.5);var pe=0;for(Ve=0;Ve<=Le;++Ve){var he=0|Ve+Ke-Le/2,k;o(he<wt),o(he+Y>=0),k=he<0?Ae[Y+he]:ht[mt+he],pe+=k*De.blackfilt[m][Ve]}ce[ut+gt]=pe}if(ft.num_used=Math.min(wt,Le+Ke-Le/2),De.itime[Tt]+=ft.num_used-gt*De.resample_ratio,ft.num_used>=Y)for(Ve=0;Ve<Y;Ve++)Ae[Ve]=ht[mt+ft.num_used+Ve-Y];else{var G=Y-ft.num_used;for(Ve=0;Ve<G;++Ve)Ae[Ve]=Ae[Ve+ft.num_used];for(Ke=0;Ve<Y;++Ve,++Ke)Ae[Ve]=ht[mt+Ke];o(Ke==ft.num_used)}return gt}function pt(Z,ce,ut,rt,ht,mt){var wt=Z.internal_flags;if(wt.resample_ratio<.9999||wt.resample_ratio>1.0001)for(var ft=0;ft<wt.channels_out;ft++){var Tt=new We;mt.n_out=nt(Z,ce[ft],wt.mf_size,Z.framesize,ut[ft],rt,ht,Tt,ft),mt.n_in=Tt.num_used}else{mt.n_out=Math.min(Z.framesize,ht),mt.n_in=mt.n_out;for(var De=0;De<mt.n_out;++De)ce[0][wt.mf_size+De]=ut[0][rt+De],wt.channels_out==2&&(ce[1][wt.mf_size+De]=ut[1][rt+De])}}}return b_=x,b_}var y_,VC;function JY(){if(VC)return y_;VC=1;var r=Vr();r.System;var e=r.VbrMode;r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert;function t(){function n(h,f,g,y,w,x,T,v,R,M,B,L,z,H,$){this.vbr_q=h,this.quant_comp=f,this.quant_comp_s=g,this.expY=y,this.st_lrm=w,this.st_s=x,this.masking_adj=T,this.masking_adj_short=v,this.ath_lower=R,this.ath_curve=M,this.ath_sensitivity=B,this.interch=L,this.safejoint=z,this.sfb21mod=H,this.msfix=$}function i(h,f,g,y,w,x,T,v,R,M,B,L,z,H){this.quant_comp=f,this.quant_comp_s=g,this.safejoint=y,this.nsmsfix=w,this.st_lrm=x,this.st_s=T,this.nsbass=v,this.scale=R,this.masking_adj=M,this.ath_lower=B,this.ath_curve=L,this.interch=z,this.sfscale=H}var a;this.setModules=function(h){a=h};var s=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(h,f,g){var y=h.VBR==e.vbr_rh?s:o,w=h.VBR_q_frac,x=y[f],T=y[f+1],v=x;x.st_lrm=x.st_lrm+w*(T.st_lrm-x.st_lrm),x.st_s=x.st_s+w*(T.st_s-x.st_s),x.masking_adj=x.masking_adj+w*(T.masking_adj-x.masking_adj),x.masking_adj_short=x.masking_adj_short+w*(T.masking_adj_short-x.masking_adj_short),x.ath_lower=x.ath_lower+w*(T.ath_lower-x.ath_lower),x.ath_curve=x.ath_curve+w*(T.ath_curve-x.ath_curve),x.ath_sensitivity=x.ath_sensitivity+w*(T.ath_sensitivity-x.ath_sensitivity),x.interch=x.interch+w*(T.interch-x.interch),x.msfix=x.msfix+w*(T.msfix-x.msfix),d(h,v.vbr_q),g!=0?h.quant_comp=v.quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=v.quant_comp),g!=0?h.quant_comp_short=v.quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=v.quant_comp_s),v.expY!=0&&(h.experimentalY=v.expY!=0),g!=0?h.internal_flags.nsPsy.attackthre=v.st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=v.st_lrm),g!=0?h.internal_flags.nsPsy.attackthre_s=v.st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=v.st_s),g!=0?h.maskingadjust=v.masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=v.masking_adj),g!=0?h.maskingadjust_short=v.masking_adj_short:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=v.masking_adj_short),g!=0?h.ATHlower=-v.ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-v.ath_lower/10),g!=0?h.ATHcurve=v.ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=v.ath_curve),g!=0?h.athaa_sensitivity=v.ath_sensitivity:Math.abs(h.athaa_sensitivity- -1)>0||(h.athaa_sensitivity=v.ath_sensitivity),v.interch>0&&(g!=0?h.interChRatio=v.interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=v.interch)),v.safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|v.safejoint),v.sfb21mod>0&&(h.exp_nspsytune=h.exp_nspsytune|v.sfb21mod<<20),g!=0?h.msfix=v.msfix:Math.abs(h.msfix- -1)>0||(h.msfix=v.msfix),g==0&&(h.VBR_q=f,h.VBR_q_frac=w)}var c=[new i(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new i(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new i(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new i(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new i(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new i(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new i(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new i(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new i(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new i(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new i(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new i(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new i(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new i(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new i(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new i(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new i(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function u(h,f,g){var y=f,w=a.nearestBitrateFullIndex(f);if(h.VBR=e.vbr_abr,h.VBR_mean_bitrate_kbps=y,h.VBR_mean_bitrate_kbps=Math.min(h.VBR_mean_bitrate_kbps,320),h.VBR_mean_bitrate_kbps=Math.max(h.VBR_mean_bitrate_kbps,8),h.brate=h.VBR_mean_bitrate_kbps,h.VBR_mean_bitrate_kbps>320&&(h.disable_reservoir=!0),c[w].safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|2),c[w].sfscale>0&&(h.internal_flags.noise_shaping=2),Math.abs(c[w].nsbass)>0){var x=int(c[w].nsbass*4);x<0&&(x+=64),h.exp_nspsytune=h.exp_nspsytune|x<<2}return g!=0?h.quant_comp=c[w].quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=c[w].quant_comp),g!=0?h.quant_comp_short=c[w].quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=c[w].quant_comp_s),g!=0?h.msfix=c[w].nsmsfix:Math.abs(h.msfix- -1)>0||(h.msfix=c[w].nsmsfix),g!=0?h.internal_flags.nsPsy.attackthre=c[w].st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=c[w].st_lrm),g!=0?h.internal_flags.nsPsy.attackthre_s=c[w].st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=c[w].st_s),g!=0?h.scale=c[w].scale:Math.abs(h.scale- -1)>0||(h.scale=c[w].scale),g!=0?h.maskingadjust=c[w].masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=c[w].masking_adj),c[w].masking_adj>0?g!=0?h.maskingadjust_short=c[w].masking_adj*.9:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=c[w].masking_adj*.9):g!=0?h.maskingadjust_short=c[w].masking_adj*1.1:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=c[w].masking_adj*1.1),g!=0?h.ATHlower=-c[w].ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-c[w].ath_lower/10),g!=0?h.ATHcurve=c[w].ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=c[w].ath_curve),g!=0?h.interChRatio=c[w].interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=c[w].interch),f}this.apply_preset=function(h,f,g){switch(f){case Lame.R3MIX:{f=Lame.V3,h.VBR=e.vbr_mtrh;break}case Lame.MEDIUM:{f=Lame.V4,h.VBR=e.vbr_rh;break}case Lame.MEDIUM_FAST:{f=Lame.V4,h.VBR=e.vbr_mtrh;break}case Lame.STANDARD:{f=Lame.V2,h.VBR=e.vbr_rh;break}case Lame.STANDARD_FAST:{f=Lame.V2,h.VBR=e.vbr_mtrh;break}case Lame.EXTREME:{f=Lame.V0,h.VBR=e.vbr_rh;break}case Lame.EXTREME_FAST:{f=Lame.V0,h.VBR=e.vbr_mtrh;break}case Lame.INSANE:return f=320,h.preset=f,u(h,f,g),h.VBR=e.vbr_off,f}switch(h.preset=f,f){case Lame.V9:return l(h,9,g),f;case Lame.V8:return l(h,8,g),f;case Lame.V7:return l(h,7,g),f;case Lame.V6:return l(h,6,g),f;case Lame.V5:return l(h,5,g),f;case Lame.V4:return l(h,4,g),f;case Lame.V3:return l(h,3,g),f;case Lame.V2:return l(h,2,g),f;case Lame.V1:return l(h,1,g),f;case Lame.V0:return l(h,0,g),f}return 8<=f&&f<=320?u(h,f,g):(h.preset=0,f)};function d(h,f){var g=0;return 0>f&&(g=-1,f=0),9<f&&(g=-1,f=9),h.VBR_q=f,h.VBR_q_frac=0,g}}return y_=t,y_}var x_,GC;function QY(){if(GC)return x_;GC=1;function r(){this.setModules=function(e,t){}}return x_=r,x_}var w_,WC;function $Y(){if(WC)return w_;WC=1;function r(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}return w_=r,w_}var __,XC;function eZ(){if(XC)return __;XC=1;var r=Vr(),e=r.new_float,t=r.new_int;r.assert;function n(){this.global_gain=0,this.sfb_count1=0,this.step=t(39),this.noise=e(39),this.noise_log=e(39)}return __=n,__}var S_,KC;function tZ(){if(KC)return S_;KC=1;var r=Vr(),e=r.System,t=r.VbrMode;r.Float,r.ShortBlock;var n=r.Util,i=r.Arrays;r.new_array_n,r.new_byte,r.new_double;var a=r.new_float;r.new_float_n,r.new_int,r.new_int_n;var s=r.assert,o=QY(),l=$Y(),c=eZ(),u=Fa(),d=LS(),h=l5();function f(){var g;this.rv=null;var y;this.qupvt=null;var w,x=new o,T;this.setModules=function(re,q,W,le){g=re,y=q,this.rv=q,w=W,this.qupvt=W,T=le,x.setModules(w,T)},this.ms_convert=function(re,q){for(var W=0;W<576;++W){var le=re.tt[q][0].xr[W],ue=re.tt[q][1].xr[W];re.tt[q][0].xr[W]=(le+ue)*(n.SQRT2*.5),re.tt[q][1].xr[W]=(le-ue)*(n.SQRT2*.5)}};function v(re,q,W,le){le=0;for(var ue=0;ue<=W;++ue){var oe=Math.abs(re.xr[ue]);le+=oe,q[ue]=Math.sqrt(oe*Math.sqrt(oe)),q[ue]>re.xrpow_max&&(re.xrpow_max=q[ue])}return le}this.init_xrpow=function(re,q,W){var le=0,ue=0|q.max_nonzero_coeff;if(s(W!=null),q.xrpow_max=0,s(0<=ue&&ue<=575),i.fill(W,ue,576,0),le=v(q,W,ue,le),le>1e-20){var oe=0;(re.substep_shaping&2)!=0&&(oe=1);for(var F=0;F<q.psymax;F++)re.pseudohalf[F]=oe;return!0}return i.fill(q.l3_enc,0,576,0),!1};function R(re,q){var W=re.ATH,le=q.xr;if(q.block_type!=u.SHORT_TYPE)for(var ue=!1,oe=u.PSFB21-1;oe>=0&&!ue;oe--){var F=re.scalefac_band.psfb21[oe],C=re.scalefac_band.psfb21[oe+1],I=w.athAdjust(W.adjust,W.psfb21[oe],W.floor);re.nsPsy.longfact[21]>1e-12&&(I*=re.nsPsy.longfact[21]);for(var O=C-1;O>=F;O--)if(Math.abs(le[O])<I)le[O]=0;else{ue=!0;break}}else for(var X=0;X<3;X++)for(var ue=!1,oe=u.PSFB12-1;oe>=0&&!ue;oe--){var F=re.scalefac_band.s[12]*3+(re.scalefac_band.s[13]-re.scalefac_band.s[12])*X+(re.scalefac_band.psfb12[oe]-re.scalefac_band.psfb12[0]),C=F+(re.scalefac_band.psfb12[oe+1]-re.scalefac_band.psfb12[oe]),te=w.athAdjust(W.adjust,W.psfb12[oe],W.floor);re.nsPsy.shortfact[12]>1e-12&&(te*=re.nsPsy.shortfact[12]);for(var O=C-1;O>=F;O--)if(Math.abs(le[O])<te)le[O]=0;else{ue=!0;break}}}this.init_outer_loop=function(re,q){q.part2_3_length=0,q.big_values=0,q.count1=0,q.global_gain=210,q.scalefac_compress=0,q.table_select[0]=0,q.table_select[1]=0,q.table_select[2]=0,q.subblock_gain[0]=0,q.subblock_gain[1]=0,q.subblock_gain[2]=0,q.subblock_gain[3]=0,q.region0_count=0,q.region1_count=0,q.preflag=0,q.scalefac_scale=0,q.count1table_select=0,q.part2_length=0,q.sfb_lmax=u.SBPSY_l,q.sfb_smin=u.SBPSY_s,q.psy_lmax=re.sfb21_extra?u.SBMAX_l:u.SBPSY_l,q.psymax=q.psy_lmax,q.sfbmax=q.sfb_lmax,q.sfbdivide=11;for(var W=0;W<u.SBMAX_l;W++)q.width[W]=re.scalefac_band.l[W+1]-re.scalefac_band.l[W],q.window[W]=3;if(q.block_type==u.SHORT_TYPE){var le=a(576);q.sfb_smin=0,q.sfb_lmax=0,q.mixed_block_flag!=0&&(q.sfb_smin=3,q.sfb_lmax=re.mode_gr*2+4),q.psymax=q.sfb_lmax+3*((re.sfb21_extra?u.SBMAX_s:u.SBPSY_s)-q.sfb_smin),q.sfbmax=q.sfb_lmax+3*(u.SBPSY_s-q.sfb_smin),q.sfbdivide=q.sfbmax-18,q.psy_lmax=q.sfb_lmax;var ue=re.scalefac_band.l[q.sfb_lmax];e.arraycopy(q.xr,0,le,0,576);for(var W=q.sfb_smin;W<u.SBMAX_s;W++)for(var oe=re.scalefac_band.s[W],F=re.scalefac_band.s[W+1],C=0;C<3;C++)for(var I=oe;I<F;I++)q.xr[ue++]=le[3*I+C];for(var O=q.sfb_lmax,W=q.sfb_smin;W<u.SBMAX_s;W++)q.width[O]=q.width[O+1]=q.width[O+2]=re.scalefac_band.s[W+1]-re.scalefac_band.s[W],q.window[O]=0,q.window[O+1]=1,q.window[O+2]=2,O+=3}q.count1bits=0,q.sfb_partition_table=w.nr_of_sfb_block[0][0],q.slen[0]=0,q.slen[1]=0,q.slen[2]=0,q.slen[3]=0,q.max_nonzero_coeff=575,i.fill(q.scalefac,0),R(re,q)};function M(re){this.ordinal=re}M.BINSEARCH_NONE=new M(0),M.BINSEARCH_UP=new M(1),M.BINSEARCH_DOWN=new M(2);function B(re,q,W,le,ue){var oe,F=re.CurrentStep[le],C=!1,I=re.OldValue[le],O=M.BINSEARCH_NONE;for(q.global_gain=I,W-=q.part2_length,s(F!=0);;){var X;if(oe=T.count_bits(re,ue,q,null),F==1||oe==W)break;oe>W?(O==M.BINSEARCH_DOWN&&(C=!0),C&&(F/=2),O=M.BINSEARCH_UP,X=F):(O==M.BINSEARCH_UP&&(C=!0),C&&(F/=2),O=M.BINSEARCH_DOWN,X=-F),q.global_gain+=X,q.global_gain<0&&(q.global_gain=0,C=!0),q.global_gain>255&&(q.global_gain=255,C=!0)}for(s(q.global_gain>=0),s(q.global_gain<256);oe>W&&q.global_gain<255;)q.global_gain++,oe=T.count_bits(re,ue,q,null);return re.CurrentStep[le]=I-q.global_gain>=4?4:2,re.OldValue[le]=q.global_gain,q.part2_3_length=oe,oe}this.trancate_smallspectrums=function(re,q,W,le){var ue=a(h.SFBMAX);if(!((re.substep_shaping&4)==0&&q.block_type==u.SHORT_TYPE||(re.substep_shaping&128)!=0)){w.calc_noise(q,W,ue,new l,null);for(var F=0;F<576;F++){var oe=0;q.l3_enc[F]!=0&&(oe=Math.abs(q.xr[F])),le[F]=oe}var F=0,C=8;q.block_type==u.SHORT_TYPE&&(C=6);do{var I,O,X,te,ie=q.width[C];if(F+=ie,!(ue[C]>=1)&&(i.sort(le,F-ie,ie),!BitStream.EQ(le[F-1],0))){I=(1-ue[C])*W[C],O=0,te=0;do{var ne;for(X=1;te+X<ie&&!BitStream.NEQ(le[te+F-ie],le[te+F+X-ie]);X++);if(ne=le[te+F-ie]*le[te+F-ie]*X,I<ne){te!=0&&(O=le[te+F-ie-1]);break}I-=ne,te+=X}while(te<ie);if(!BitStream.EQ(O,0))do Math.abs(q.xr[F-ie])<=O&&(q.l3_enc[F-ie]=0);while(--ie>0)}}while(++C<q.psymax);q.part2_3_length=T.noquant_count_bits(re,q,null)}};function L(re){for(var q=0;q<re.sfbmax;q++)if(re.scalefac[q]+re.subblock_gain[re.window[q]]==0)return!1;return!0}function z(re){return n.FAST_LOG10(.368+.632*re*re*re)}function H(re,q){for(var W=1e-37,le=0;le<q.psymax;le++)W+=z(re[le]);return Math.max(1e-20,W)}function $(re,q,W,le,ue){var oe;switch(re){default:case 9:{q.over_count>0?(oe=W.over_SSD<=q.over_SSD,W.over_SSD==q.over_SSD&&(oe=W.bits<q.bits)):oe=W.max_noise<0&&W.max_noise*10+W.bits<=q.max_noise*10+q.bits;break}case 0:oe=W.over_count<q.over_count||W.over_count==q.over_count&&W.over_noise<q.over_noise||W.over_count==q.over_count&&BitStream.EQ(W.over_noise,q.over_noise)&&W.tot_noise<q.tot_noise;break;case 8:W.max_noise=H(ue,le);case 1:oe=W.max_noise<q.max_noise;break;case 2:oe=W.tot_noise<q.tot_noise;break;case 3:oe=W.tot_noise<q.tot_noise&&W.max_noise<q.max_noise;break;case 4:oe=W.max_noise<=0&&q.max_noise>.2||W.max_noise<=0&&q.max_noise<0&&q.max_noise>W.max_noise-.2&&W.tot_noise<q.tot_noise||W.max_noise<=0&&q.max_noise>0&&q.max_noise>W.max_noise-.2&&W.tot_noise<q.tot_noise+q.over_noise||W.max_noise>0&&q.max_noise>-.05&&q.max_noise>W.max_noise-.1&&W.tot_noise+W.over_noise<q.tot_noise+q.over_noise||W.max_noise>0&&q.max_noise>-.1&&q.max_noise>W.max_noise-.15&&W.tot_noise+W.over_noise+W.over_noise<q.tot_noise+q.over_noise+q.over_noise;break;case 5:oe=W.over_noise<q.over_noise||BitStream.EQ(W.over_noise,q.over_noise)&&W.tot_noise<q.tot_noise;break;case 6:oe=W.over_noise<q.over_noise||BitStream.EQ(W.over_noise,q.over_noise)&&(W.max_noise<q.max_noise||BitStream.EQ(W.max_noise,q.max_noise)&&W.tot_noise<=q.tot_noise);break;case 7:oe=W.over_count<q.over_count||W.over_noise<q.over_noise;break}return q.over_count==0&&(oe=oe&&W.bits<q.bits),oe}function U(re,q,W,le,ue){var oe=re.internal_flags,F;q.scalefac_scale==0?F=1.2968395546510096:F=1.6817928305074292;for(var C=0,I=0;I<q.sfbmax;I++)C<W[I]&&(C=W[I]);var O=oe.noise_shaping_amp;switch(O==3&&(ue?O=2:O=1),O){case 2:break;case 1:C>1?C=Math.pow(C,.5):C*=.95;break;case 0:default:C>1?C=1:C*=.95;break}for(var X=0,I=0;I<q.sfbmax;I++){var te=q.width[I],ie;if(X+=te,!(W[I]<C)){if((oe.substep_shaping&2)!=0&&(oe.pseudohalf[I]=oe.pseudohalf[I]==0?1:0,oe.pseudohalf[I]==0&&oe.noise_shaping_amp==2))return;for(q.scalefac[I]++,ie=-te;ie<0;ie++)le[X+ie]*=F,le[X+ie]>q.xrpow_max&&(q.xrpow_max=le[X+ie]);if(oe.noise_shaping_amp==2)return}}}function D(re,q){for(var W=1.2968395546510096,le=0,ue=0;ue<re.sfbmax;ue++){var oe=re.width[ue],F=re.scalefac[ue];if(re.preflag!=0&&(F+=w.pretab[ue]),le+=oe,(F&1)!=0){F++;for(var C=-oe;C<0;C++)q[le+C]*=W,q[le+C]>re.xrpow_max&&(re.xrpow_max=q[le+C])}re.scalefac[ue]=F>>1}re.preflag=0,re.scalefac_scale=1}function ee(re,q,W){var le,ue=q.scalefac;for(le=0;le<q.sfb_lmax;le++)if(ue[le]>=16)return!0;for(var oe=0;oe<3;oe++){var F=0,C=0;for(le=q.sfb_lmax+oe;le<q.sfbdivide;le+=3)F<ue[le]&&(F=ue[le]);for(;le<q.sfbmax;le+=3)C<ue[le]&&(C=ue[le]);if(!(F<16&&C<8)){if(q.subblock_gain[oe]>=7)return!0;q.subblock_gain[oe]++;var I=re.scalefac_band.l[q.sfb_lmax];for(le=q.sfb_lmax+oe;le<q.sfbmax;le+=3){var O,X=q.width[le],te=ue[le];if(s(te>=0),te=te-(4>>q.scalefac_scale),te>=0){ue[le]=te,I+=X*3;continue}ue[le]=0;{var ie=210+(te<<q.scalefac_scale+1);O=w.IPOW20(ie)}I+=X*(oe+1);for(var ne=-X;ne<0;ne++)W[I+ne]*=O,W[I+ne]>q.xrpow_max&&(q.xrpow_max=W[I+ne]);I+=X*(3-oe-1)}{var O=w.IPOW20(202);I+=q.width[le]*(oe+1);for(var ne=-q.width[le];ne<0;ne++)W[I+ne]*=O,W[I+ne]>q.xrpow_max&&(q.xrpow_max=W[I+ne])}}}return!1}function J(re,q,W,le,ue){var oe=re.internal_flags;U(re,q,W,le,ue);var F=L(q);return F?!1:(oe.mode_gr==2?F=T.scale_bitcount(q):F=T.scale_bitcount_lsf(oe,q),F?(oe.noise_shaping>1&&(i.fill(oe.pseudohalf,0),q.scalefac_scale==0?(D(q,le),F=!1):q.block_type==u.SHORT_TYPE&&oe.subblock_gain>0&&(F=ee(oe,q,le)||L(q))),F||(oe.mode_gr==2?F=T.scale_bitcount(q):F=T.scale_bitcount_lsf(oe,q)),!F):!0)}this.outer_loop=function(re,q,W,le,ue,oe){var F=re.internal_flags,C=new d,I=a(576),O=a(h.SFBMAX),X=new l,te,ie=new c,ne=9999999,we=!1,Ee=!1,He=0;if(B(F,q,oe,ue,le),F.noise_shaping==0)return 100;w.calc_noise(q,W,O,X,ie),X.bits=q.part2_3_length,C.assign(q);var Ue=0;for(e.arraycopy(le,0,I,0,576);!we;){do{var We=new l,it,xe=255;if((F.substep_shaping&2)!=0?it=20:it=3,F.sfb21_extra&&(O[C.sfbmax]>1||C.block_type==u.SHORT_TYPE&&(O[C.sfbmax+1]>1||O[C.sfbmax+2]>1))||!J(re,C,O,le,Ee))break;C.scalefac_scale!=0&&(xe=254);var nt=oe-C.part2_length;if(nt<=0)break;for(;(C.part2_3_length=T.count_bits(F,le,C,ie))>nt&&C.global_gain<=xe;)C.global_gain++;if(C.global_gain>xe)break;if(X.over_count==0){for(;(C.part2_3_length=T.count_bits(F,le,C,ie))>ne&&C.global_gain<=xe;)C.global_gain++;if(C.global_gain>xe)break}if(w.calc_noise(C,W,O,We,ie),We.bits=C.part2_3_length,q.block_type!=u.SHORT_TYPE?te=re.quant_comp:te=re.quant_comp_short,te=$(te,X,We,C,O)?1:0,te!=0)ne=q.part2_3_length,X=We,q.assign(C),Ue=0,e.arraycopy(le,0,I,0,576);else if(F.full_outer_loop==0&&(++Ue>it&&X.over_count==0||F.noise_shaping_amp==3&&Ee&&Ue>30||F.noise_shaping_amp==3&&Ee&&C.global_gain-He>15))break}while(C.global_gain+C.scalefac_scale<255);F.noise_shaping_amp==3?Ee?we=!0:(C.assign(q),e.arraycopy(I,0,le,0,576),Ue=0,He=C.global_gain,Ee=!0):we=!0}return s(q.global_gain+q.scalefac_scale<=255),re.VBR==t.vbr_rh||re.VBR==t.vbr_mtrh?e.arraycopy(I,0,le,0,576):(F.substep_shaping&1)!=0&&trancate_smallspectrums(F,q,W,le),X.over_count},this.iteration_finish_one=function(re,q,W){var le=re.l3_side,ue=le.tt[q][W];T.best_scalefac_store(re,q,W,le),re.use_best_huffman==1&&T.best_huffman_divide(re,ue),y.ResvAdjust(re,ue)},this.VBR_encode_granule=function(re,q,W,le,ue,oe,F){var C=re.internal_flags,I=new d,O=a(576),X=F,te=F+1,ie=(F+oe)/2,ne,we,Ee=0,He=C.sfb21_extra;s(X<=LameInternalFlags.MAX_BITS_PER_CHANNEL),i.fill(I.l3_enc,0);do s(ie>=oe),s(ie<=F),s(oe<=F),ie>X-42?C.sfb21_extra=!1:C.sfb21_extra=He,we=outer_loop(re,q,W,le,ue,ie),we<=0?(Ee=1,te=q.part2_3_length,I.assign(q),e.arraycopy(le,0,O,0,576),F=te-32,ne=F-oe,ie=(F+oe)/2):(oe=ie+32,ne=F-oe,ie=(F+oe)/2,Ee!=0&&(Ee=2,q.assign(I),e.arraycopy(O,0,le,0,576)));while(ne>12);C.sfb21_extra=He,Ee==2&&e.arraycopy(I.l3_enc,0,q.l3_enc,0,576),s(q.part2_3_length<=X)},this.get_framebits=function(re,q){var W=re.internal_flags;W.bitrate_index=W.VBR_min_bitrate;var le=g.getframebits(re);W.bitrate_index=1,le=g.getframebits(re);for(var ue=1;ue<=W.VBR_max_bitrate;ue++){W.bitrate_index=ue;var oe=new MeanBits(le);q[ue]=y.ResvFrameBegin(re,oe),le=oe.bits}},this.VBR_old_prepare=function(re,q,W,le,ue,oe,F,C,I){var O=re.internal_flags,X,te=0,ie=1,ne=0;O.bitrate_index=O.VBR_max_bitrate;var we=y.ResvFrameBegin(re,new MeanBits(0))/O.mode_gr;get_framebits(re,oe);for(var Ee=0;Ee<O.mode_gr;Ee++){var He=w.on_pe(re,q,C[Ee],we,Ee,0);O.mode_ext==u.MPG_MD_MS_LR&&(ms_convert(O.l3_side,Ee),w.reduce_side(C[Ee],W[Ee],we,He));for(var Ue=0;Ue<O.channels_out;++Ue){var We=O.l3_side.tt[Ee][Ue];We.block_type!=u.SHORT_TYPE?(te=1.28/(1+Math.exp(3.5-q[Ee][Ue]/300))-.05,X=O.PSY.mask_adjust-te):(te=2.56/(1+Math.exp(3.5-q[Ee][Ue]/300))-.14,X=O.PSY.mask_adjust_short-te),O.masking_lower=Math.pow(10,X*.1),init_outer_loop(O,We),I[Ee][Ue]=w.calc_xmin(re,le[Ee][Ue],We,ue[Ee][Ue]),I[Ee][Ue]!=0&&(ie=0),F[Ee][Ue]=126,ne+=C[Ee][Ue]}}for(var Ee=0;Ee<O.mode_gr;Ee++)for(var Ue=0;Ue<O.channels_out;Ue++)ne>oe[O.VBR_max_bitrate]&&(C[Ee][Ue]*=oe[O.VBR_max_bitrate],C[Ee][Ue]/=ne),F[Ee][Ue]>C[Ee][Ue]&&(F[Ee][Ue]=C[Ee][Ue]);return ie},this.bitpressure_strategy=function(re,q,W,le){for(var ue=0;ue<re.mode_gr;ue++)for(var oe=0;oe<re.channels_out;oe++){for(var F=re.l3_side.tt[ue][oe],C=q[ue][oe],I=0,O=0;O<F.psy_lmax;O++)C[I++]*=1+.029*O*O/u.SBMAX_l/u.SBMAX_l;if(F.block_type==u.SHORT_TYPE)for(var O=F.sfb_smin;O<u.SBMAX_s;O++)C[I++]*=1+.029*O*O/u.SBMAX_s/u.SBMAX_s,C[I++]*=1+.029*O*O/u.SBMAX_s/u.SBMAX_s,C[I++]*=1+.029*O*O/u.SBMAX_s/u.SBMAX_s;le[ue][oe]=0|Math.max(W[ue][oe],.9*le[ue][oe])}},this.VBR_new_prepare=function(re,q,W,le,ue,oe){var F=re.internal_flags,C=1,I=0,O=0,X;if(re.free_format){F.bitrate_index=0;var te=new MeanBits(I);X=y.ResvFrameBegin(re,te),I=te.bits,ue[0]=X}else{F.bitrate_index=F.VBR_max_bitrate;var te=new MeanBits(I);y.ResvFrameBegin(re,te),I=te.bits,get_framebits(re,ue),X=ue[F.VBR_max_bitrate]}for(var ie=0;ie<F.mode_gr;ie++){w.on_pe(re,q,oe[ie],I,ie,0),F.mode_ext==u.MPG_MD_MS_LR&&ms_convert(F.l3_side,ie);for(var ne=0;ne<F.channels_out;++ne){var we=F.l3_side.tt[ie][ne];F.masking_lower=Math.pow(10,F.PSY.mask_adjust*.1),init_outer_loop(F,we),w.calc_xmin(re,W[ie][ne],we,le[ie][ne])!=0&&(C=0),O+=oe[ie][ne]}}for(var ie=0;ie<F.mode_gr;ie++)for(var ne=0;ne<F.channels_out;ne++)O>X&&(oe[ie][ne]*=X,oe[ie][ne]/=O);return C},this.calc_target_bits=function(re,q,W,le,ue,oe){var F=re.internal_flags,C=F.l3_side,I,O,X,te,ie=0;F.bitrate_index=F.VBR_max_bitrate;var ne=new MeanBits(ie);for(oe[0]=y.ResvFrameBegin(re,ne),ie=ne.bits,F.bitrate_index=1,ie=g.getframebits(re)-F.sideinfo_len*8,ue[0]=ie/(F.mode_gr*F.channels_out),ie=re.VBR_mean_bitrate_kbps*re.framesize*1e3,(F.substep_shaping&1)!=0&&(ie*=1.09),ie/=re.out_samplerate,ie-=F.sideinfo_len*8,ie/=F.mode_gr*F.channels_out,I=.93+.07*(11-re.compression_ratio)/(11-5.5),I<.9&&(I=.9),I>1&&(I=1),O=0;O<F.mode_gr;O++){var we=0;for(X=0;X<F.channels_out;X++){if(le[O][X]=int(I*ie),q[O][X]>700){var Ee=int((q[O][X]-700)/1.4),He=C.tt[O][X];le[O][X]=int(I*ie),He.block_type==u.SHORT_TYPE&&Ee<ie/2&&(Ee=ie/2),Ee>ie*3/2?Ee=ie*3/2:Ee<0&&(Ee=0),le[O][X]+=Ee}le[O][X]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(le[O][X]=LameInternalFlags.MAX_BITS_PER_CHANNEL),we+=le[O][X]}if(we>LameInternalFlags.MAX_BITS_PER_GRANULE)for(X=0;X<F.channels_out;++X)le[O][X]*=LameInternalFlags.MAX_BITS_PER_GRANULE,le[O][X]/=we}if(F.mode_ext==u.MPG_MD_MS_LR)for(O=0;O<F.mode_gr;O++)w.reduce_side(le[O],W[O],ie*F.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(te=0,O=0;O<F.mode_gr;O++)for(X=0;X<F.channels_out;X++)le[O][X]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(le[O][X]=LameInternalFlags.MAX_BITS_PER_CHANNEL),te+=le[O][X];if(te>oe[0])for(O=0;O<F.mode_gr;O++)for(X=0;X<F.channels_out;X++)le[O][X]*=oe[0],le[O][X]/=te}}return S_=f,S_}var A_,YC;function nZ(){if(YC)return A_;YC=1;var r=Vr(),e=r.assert;function t(){var n;this.setModules=function(i){n=i},this.ResvFrameBegin=function(i,a){var s=i.internal_flags,o,l=s.l3_side,c=n.getframebits(i);a.bits=(c-s.sideinfo_len*8)/s.mode_gr;var u=8*256*s.mode_gr-8;i.brate>320?o=8*int(i.brate*1e3/(i.out_samplerate/1152)/8+.5):(o=8*1440,i.strict_ISO&&(o=8*int(32e4/(i.out_samplerate/1152)/8+.5))),s.ResvMax=o-c,s.ResvMax>u&&(s.ResvMax=u),(s.ResvMax<0||i.disable_reservoir)&&(s.ResvMax=0);var d=a.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return d>o&&(d=o),e(s.ResvMax%8==0),e(s.ResvMax>=0),l.resvDrain_pre=0,s.pinfo!=null&&(s.pinfo.mean_bits=a.bits/2,s.pinfo.resvsize=s.ResvSize),d},this.ResvMaxBits=function(i,a,s,o){var l=i.internal_flags,c,u=l.ResvSize,d=l.ResvMax;o!=0&&(u+=a),(l.substep_shaping&1)!=0&&(d*=.9),s.bits=a,u*10>d*9?(c=u-d*9/10,s.bits+=c,l.substep_shaping|=128):(c=0,l.substep_shaping&=127,!i.disable_reservoir&&(l.substep_shaping&1)==0&&(s.bits-=.1*a));var h=u<l.ResvMax*6/10?u:l.ResvMax*6/10;return h-=c,h<0&&(h=0),h},this.ResvAdjust=function(i,a){i.ResvSize-=a.part2_3_length+a.part2_length},this.ResvFrameEnd=function(i,a){var s,o=i.l3_side;i.ResvSize+=a*i.mode_gr;var l=0;o.resvDrain_post=0,o.resvDrain_pre=0,(s=i.ResvSize%8)!=0&&(l+=s),s=i.ResvSize-l-i.ResvMax,s>0&&(e(s%8==0),e(s>=0),l+=s);{var c=Math.min(o.main_data_begin*8,l)/8;o.resvDrain_pre+=8*c,l-=8*c,i.ResvSize-=8*c,o.main_data_begin-=c}o.resvDrain_post+=l,i.ResvSize-=l}}return A_=t,A_}var k_,ZC;function rZ(){if(ZC)return k_;ZC=1;function r(){var e="http://www.mp3dev.org/",t=3,n=98,i=4,a=0,s=93;this.getLameVersion=function(){return t+"."+n+"."+i},this.getLameShortVersion=function(){return t+"."+n+"."+i},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return a+"."+s},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}return k_=r,k_}var E_,JC;function iZ(){if(JC)return E_;JC=1;var r=Vr(),e=r.System,t=r.VbrMode;r.Float;var n=r.ShortBlock;r.Util;var i=r.Arrays;r.new_array_n;var a=r.new_byte;r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n;var s=r.assert;o.NUMTOCENTRIES=100,o.MAXFRAMESIZE=2880;function o(){var l,c,u;this.setModules=function(F,C,I){l=F,c=C,u=I};var d=1,h=2,f=4,g=8,y=o.NUMTOCENTRIES,w=o.MAXFRAMESIZE,x=y+4+4+4+4+4,T=x+9+1+1+8+1+1+3+1+1+2+4+2+2,v=128,R=64,M=32,B=null,L="Xing",z="Info",H=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function $(F,C){if(F.nVbrNumFrames++,F.sum+=C,F.seen++,!(F.seen<F.want)&&(F.pos<F.size&&(F.bag[F.pos]=F.sum,F.pos++,F.seen=0),F.pos==F.size)){for(var I=1;I<F.size;I+=2)F.bag[I/2]=F.bag[I];F.want*=2,F.pos/=2}}function U(F,C){if(!(F.pos<=0))for(var I=1;I<y;++I){var O=I/y,X,te,ie=0|Math.floor(O*F.pos);ie>F.pos-1&&(ie=F.pos-1),X=F.bag[ie],te=F.sum;var ne=0|256*X/te;ne>255&&(ne=255),C[I]=255&ne}}this.addVbrFrame=function(F){var C=F.internal_flags,I=Tables.bitrate_table[F.version][C.bitrate_index];s(C.VBR_seek_table.bag!=null),$(C.VBR_seek_table,I)};function D(F,C){var I=F[C+0]&255;return I<<=8,I|=F[C+1]&255,I<<=8,I|=F[C+2]&255,I<<=8,I|=F[C+3]&255,I}function ee(F,C,I){F[C+0]=255&(I>>24&255),F[C+1]=255&(I>>16&255),F[C+2]=255&(I>>8&255),F[C+3]=255&(I&255)}function J(F,C,I){F[C+0]=255&(I>>8&255),F[C+1]=255&(I&255)}function re(F,C){return new String(F,C,L.length(),B).equals(L)||new String(F,C,z.length(),B).equals(z)}function q(F,C,I){return 255&(F<<C|I&~(-1<<C))}function W(F,C){var I=F.internal_flags;C[0]=q(C[0],8,255),C[1]=q(C[1],3,7),C[1]=q(C[1],1,F.out_samplerate<16e3?0:1),C[1]=q(C[1],1,F.version),C[1]=q(C[1],2,1),C[1]=q(C[1],1,F.error_protection?0:1),C[2]=q(C[2],4,I.bitrate_index),C[2]=q(C[2],2,I.samplerate_index),C[2]=q(C[2],1,0),C[2]=q(C[2],1,F.extension),C[3]=q(C[3],2,F.mode.ordinal()),C[3]=q(C[3],2,I.mode_ext),C[3]=q(C[3],1,F.copyright),C[3]=q(C[3],1,F.original),C[3]=q(C[3],2,F.emphasis),C[0]=255;var O=255&(C[1]&241),X;F.version==1?X=v:F.out_samplerate<16e3?X=M:X=R,F.VBR==t.vbr_off&&(X=F.brate);var te;F.free_format?te=0:te=255&16*l.BitrateIndex(X,F.version,F.out_samplerate),F.version==1?(C[1]=255&(O|10),O=255&(C[2]&13),C[2]=255&(te|O)):(C[1]=255&(O|2),O=255&(C[2]&13),C[2]=255&(te|O))}this.getVbrTag=function(F){var C=new VBRTagData,I=0;C.flags=0;var O=F[I+1]>>3&1,X=F[I+2]>>2&3,te=F[I+3]>>6&3,ie=F[I+2]>>4&15;if(ie=Tables.bitrate_table[O][ie],F[I+1]>>4==14?C.samprate=Tables.samplerate_table[2][X]:C.samprate=Tables.samplerate_table[O][X],O!=0?te!=3?I+=36:I+=21:te!=3?I+=21:I+=13,!re(F,I))return null;I+=4,C.hId=O;var ne=C.flags=D(F,I);if(I+=4,(ne&d)!=0&&(C.frames=D(F,I),I+=4),(ne&h)!=0&&(C.bytes=D(F,I),I+=4),(ne&f)!=0){if(C.toc!=null)for(var we=0;we<y;we++)C.toc[we]=F[I+we];I+=y}C.vbrScale=-1,(ne&g)!=0&&(C.vbrScale=D(F,I),I+=4),C.headersize=(O+1)*72e3*ie/C.samprate,I+=21;var Ee=F[I+0]<<4;Ee+=F[I+1]>>4;var He=(F[I+1]&15)<<8;return He+=F[I+2]&255,(Ee<0||Ee>3e3)&&(Ee=-1),(He<0||He>3e3)&&(He=-1),C.encDelay=Ee,C.encPadding=He,C},this.InitVbrTag=function(F){var C=F.internal_flags,I;F.version==1?I=v:F.out_samplerate<16e3?I=M:I=R,F.VBR==t.vbr_off&&(I=F.brate);var O=(F.version+1)*72e3*I/F.out_samplerate,X=C.sideinfo_len+T;if(C.VBR_seek_table.TotalFrameSize=O,O<X||O>w){F.bWriteVbrTag=!1;return}C.VBR_seek_table.nVbrNumFrames=0,C.VBR_seek_table.nBytesWritten=0,C.VBR_seek_table.sum=0,C.VBR_seek_table.seen=0,C.VBR_seek_table.want=1,C.VBR_seek_table.pos=0,C.VBR_seek_table.bag==null&&(C.VBR_seek_table.bag=new int[400],C.VBR_seek_table.size=400);var te=a(w);W(F,te);for(var ie=C.VBR_seek_table.TotalFrameSize,ne=0;ne<ie;++ne)c.add_dummy_byte(F,te[ne]&255,1)};function le(F,C){var I=C^F;return C=C>>8^H[I&255],C}this.updateMusicCRC=function(F,C,I,O){for(var X=0;X<O;++X)F[0]=le(C[I+X],F[0])};function ue(F,C,I,O,X){var te=F.internal_flags,ie=0,ne=F.encoder_delay,we=F.encoder_padding,Ee=100-10*F.VBR_q-F.quality,He=u.getLameVeryShortVersion(),Ue,We=0,it,xe=[1,5,3,2,4,0,3],nt=0|(F.lowpassfreq/100+.5>255?255:F.lowpassfreq/100+.5),pt=0,Z=0,ce=0,ut=F.internal_flags.noise_shaping,rt=0,ht=0,mt=0,wt=0,ft=0,Tt=(F.exp_nspsytune&1)!=0,De=(F.exp_nspsytune&2)!=0,Ve=!1,Ke=!1,gt=F.internal_flags.nogap_total,N=F.internal_flags.nogap_current,_e=F.ATHtype,ke=0,Le;switch(F.VBR){case vbr_abr:Le=F.VBR_mean_bitrate_kbps;break;case vbr_off:Le=F.brate;break;default:Le=F.VBR_min_bitrate_kbps}switch(F.VBR.ordinal()<xe.length?Ue=xe[F.VBR.ordinal()]:Ue=0,it=16*We+Ue,te.findReplayGain&&(te.RadioGain>510&&(te.RadioGain=510),te.RadioGain<-510&&(te.RadioGain=-510),Z=8192,Z|=3072,te.RadioGain>=0?Z|=te.RadioGain:(Z|=512,Z|=-te.RadioGain)),te.findPeakSample&&(pt=Math.abs(0|te.PeakSample/32767*Math.pow(2,23)+.5)),gt!=-1&&(N>0&&(Ke=!0),N<gt-1&&(Ve=!0)),ke=_e+((Tt?1:0)<<4)+((De?1:0)<<5)+((Ve?1:0)<<6)+((Ke?1:0)<<7),Ee<0&&(Ee=0),F.mode){case MONO:rt=0;break;case STEREO:rt=1;break;case DUAL_CHANNEL:rt=2;break;case JOINT_STEREO:F.force_ms?rt=4:rt=3;break;case NOT_SET:default:rt=7;break}F.in_samplerate<=32e3?mt=0:F.in_samplerate==48e3?mt=2:F.in_samplerate>48e3?mt=3:mt=1,(F.short_blocks==n.short_block_forced||F.short_blocks==n.short_block_dispensed||F.lowpassfreq==-1&&F.highpassfreq==-1||F.scale_left<F.scale_right||F.scale_left>F.scale_right||F.disable_reservoir&&F.brate<320||F.noATH||F.ATHonly||_e==0||F.in_samplerate<=32e3)&&(ht=1),wt=ut+(rt<<2)+(ht<<5)+(mt<<6),ft=te.nMusicCRC,ee(I,O+ie,Ee),ie+=4;for(var Y=0;Y<9;Y++)I[O+ie+Y]=255&He.charAt(Y);ie+=9,I[O+ie]=255&it,ie++,I[O+ie]=255&nt,ie++,ee(I,O+ie,pt),ie+=4,J(I,O+ie,Z),ie+=2,J(I,O+ie,ce),ie+=2,I[O+ie]=255&ke,ie++,Le>=255?I[O+ie]=255:I[O+ie]=255&Le,ie++,I[O+ie]=255&ne>>4,I[O+ie+1]=255&(ne<<4)+(we>>8),I[O+ie+2]=255&we,ie+=3,I[O+ie]=255&wt,ie++,I[O+ie++]=0,J(I,O+ie,F.preset),ie+=2,ee(I,O+ie,C),ie+=4,J(I,O+ie,ft),ie+=2;for(var ge=0;ge<ie;ge++)X=le(I[O+ge],X);return J(I,O+ie,X),ie+=2,ie}function oe(F){F.seek(0);var C=a(10);F.readFully(C);var I;return new String(C,"ISO-8859-1").startsWith("ID3")?I=0:I=((C[6]&127)<<21|(C[7]&127)<<14|(C[8]&127)<<7|C[9]&127)+C.length,I}this.getLameTagFrame=function(F,C){var I=F.internal_flags;if(!F.bWriteVbrTag||I.Class_ID!=Lame.LAME_ID||I.VBR_seek_table.pos<=0)return 0;if(C.length<I.VBR_seek_table.TotalFrameSize)return I.VBR_seek_table.TotalFrameSize;i.fill(C,0,I.VBR_seek_table.TotalFrameSize,0),W(F,C);var O=a(y);if(F.free_format)for(var X=1;X<y;++X)O[X]=255&255*X/100;else U(I.VBR_seek_table,O);var te=I.sideinfo_len;F.error_protection&&(te-=2),F.VBR==t.vbr_off?(C[te++]=255&z.charAt(0),C[te++]=255&z.charAt(1),C[te++]=255&z.charAt(2),C[te++]=255&z.charAt(3)):(C[te++]=255&L.charAt(0),C[te++]=255&L.charAt(1),C[te++]=255&L.charAt(2),C[te++]=255&L.charAt(3)),ee(C,te,d+h+f+g),te+=4,ee(C,te,I.VBR_seek_table.nVbrNumFrames),te+=4;var ie=I.VBR_seek_table.nBytesWritten+I.VBR_seek_table.TotalFrameSize;ee(C,te,0|ie),te+=4,e.arraycopy(O,0,C,te,O.length),te+=O.length,F.error_protection&&c.CRC_writeheader(I,C);for(var ne=0,X=0;X<te;X++)ne=le(C[X],ne);return te+=ue(F,ie,C,te,ne),I.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(F,C){var I=F.internal_flags;if(I.VBR_seek_table.pos<=0||(C.seek(C.length()),C.length()==0))return-1;var O=oe(C);C.seek(O);var X=a(w),te=getLameTagFrame(F,X);return te>X.length?-1:(te<1||C.write(X,0,te),0)}}return E_=o,E_}var QC;function aZ(){if(QC)return Fb;QC=1;var r=Vr();r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n;var e=r.new_byte;r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n;var t=r.assert,n=ZY(),i=JY(),a=uM(),s=hM(),o=tZ(),l=fM(),c=nZ(),u=lM(),d=pM();Fa();var h=rZ(),f=iZ();function g(){this.setModules=function(M,B){}}function y(){this.setModules=function(M,B,L){}}function w(){}function x(){this.setModules=function(M,B){}}function T(M,B,L){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),M=1,B=44100,L=128);var z=new n,H=new g,$=new a,U=new d,D=new i,ee=new s,J=new o,re=new f,q=new h,W=new x,le=new c,ue=new l,oe=new y,F=new w;z.setModules($,U,D,ee,J,re,q,W,F),U.setModules($,F,q,re),W.setModules(U,q),D.setModules(z),J.setModules(U,le,ee,ue),ee.setModules(ue,le,z.enc.psy),le.setModules(U),ue.setModules(ee),re.setModules(z,U,q),H.setModules(oe,F),oe.setModules(q,W,D);var C=z.lame_init();C.num_channels=M,C.in_samplerate=B,C.brate=L,C.mode=u.STEREO,C.quality=3,C.bWriteVbrTag=!1,C.disable_reservoir=!0,C.write_id3tag_automatic=!1;var I=z.lame_init_params(C);t(I==0);var O=1152,X=0|1.25*O+7200,te=e(X);this.encodeBuffer=function(ie,ne){M==1&&(ne=ie),t(ie.length==ne.length),ie.length>O&&(O=ie.length,X=0|1.25*O+7200,te=e(X));var we=z.lame_encode_buffer(C,ie,ne,ie.length,te,0,X);return new Int8Array(te.subarray(0,we))},this.flush=function(){var ie=z.lame_encode_flush(C,te,0,X);return new Int8Array(te.subarray(0,ie))}}function v(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function R(M){return M.charCodeAt(0)<<24|M.charCodeAt(1)<<16|M.charCodeAt(2)<<8|M.charCodeAt(3)}return v.RIFF=R("RIFF"),v.WAVE=R("WAVE"),v.fmt_=R("fmt "),v.data=R("data"),v.readHeader=function(M){var B=new v,L=M.getUint32(0,!1);if(v.RIFF==L&&(M.getUint32(4,!0),v.WAVE==M.getUint32(8,!1)&&v.fmt_==M.getUint32(12,!1))){var z=M.getUint32(16,!0),H=20;switch(z){case 16:case 18:B.channels=M.getUint16(H+2,!0),B.sampleRate=M.getUint32(H+4,!0);break;default:throw"extended fmt chunk not implemented"}H+=z;for(var $=v.data,U=0;$!=L&&(L=M.getUint32(H,!1),U=M.getUint32(H+4,!0),$!=L);)H+=U+8;return B.dataLen=U,B.dataOffset=H+8,B}},Fb.Mp3Encoder=T,Fb.WavHeader=v,Fb}var sZ=aZ();const oZ=Rx(sZ),lZ=()=>{const[r,e]=Qe.useState("image"),[t,n]=Qe.useState(!1),[i,a]=Qe.useState(null),[s,o]=Qe.useState(null),[l,c]=Qe.useState(null),[u,d]=Qe.useState("image/jpeg"),[h,f]=Qe.useState(.8),[g,y]=Qe.useState(null),[w,x]=Qe.useState(null),[T,v]=Qe.useState(""),[R,M]=Qe.useState(null),[B,L]=Qe.useState(null),[z,H]=Qe.useState(null),$=Qe.useRef(null),U=Qe.useRef(null),D=Qe.useRef(null),ee=ue=>{var F;const oe=(F=ue.target.files)==null?void 0:F[0];if(oe){if(!oe.type.startsWith("image/")){a("Invalid image file");return}o(oe),c(URL.createObjectURL(oe)),y(null),a(null)}},J=async()=>{if(!(!s||!l)){n(!0);try{const ue=new Image;ue.src=l,await new Promise(I=>ue.onload=I);const oe=document.createElement("canvas");oe.width=ue.width,oe.height=ue.height;const F=oe.getContext("2d");if(!F)throw new Error("Canvas error");u==="image/jpeg"&&(F.fillStyle="#FFFFFF",F.fillRect(0,0,oe.width,oe.height)),F.drawImage(ue,0,0);const C=oe.toDataURL(u,h);y(C)}catch(ue){a("Failed to convert image: "+ue.message)}finally{n(!1)}}},re=async ue=>{var F;const oe=(F=ue.target.files)==null?void 0:F[0];if(oe){if(oe.type!=="text/plain"){a("Please upload a .txt file");return}x(oe);const C=await oe.text();v(C),M(null),a(null)}},q=()=>{if(T){n(!0);try{const ue=new en,oe=ue.splitTextToSize(T,180);let F=10;const C=7,I=ue.internal.pageSize.height;for(let X=0;X<oe.length;X++)F>I-10&&(ue.addPage(),F=10),ue.text(oe[X],10,F),F+=C;const O=ue.output("blob");M(URL.createObjectURL(O))}catch{a("PDF Generation failed")}finally{n(!1)}}},W=ue=>{var F;const oe=(F=ue.target.files)==null?void 0:F[0];if(oe){if(!oe.type.startsWith("audio/")){a("Invalid audio file");return}L(oe),H(null),a(null)}},le=async()=>{if(B){n(!0),a(null);try{const ue=await B.arrayBuffer(),F=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(ue),C=1,I=44100,O=128,X=new oZ.Mp3Encoder(C,I,O),te=F.getChannelData(0),ie=1152,ne=[],we=new Int16Array(te.length);for(let Ue=0;Ue<te.length;Ue++){let We=Math.max(-1,Math.min(1,te[Ue]));we[Ue]=We<0?We*32768:We*32767}for(let Ue=0;Ue<we.length;Ue+=ie){const We=we.subarray(Ue,Ue+ie),it=X.encodeBuffer(We);it.length>0&&ne.push(it)}const Ee=X.flush();Ee.length>0&&ne.push(Ee);const He=new Blob(ne,{type:"audio/mp3"});H(URL.createObjectURL(He))}catch(ue){console.error(ue),a("Audio conversion failed. File might be too large or format unsupported.")}finally{n(!1)}}};return b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[b.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-800",children:[b.jsxs("button",{onClick:()=>e("image"),className:`flex-1 py-4 flex items-center justify-center gap-2 font-bold text-sm transition-colors ${r==="image"?"bg-primary-50 dark:bg-primary-900/10 text-primary-600 border-b-2 border-primary-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[b.jsx(T_,{className:"w-4 h-4"})," Image Converter"]}),b.jsxs("button",{onClick:()=>e("text"),className:`flex-1 py-4 flex items-center justify-center gap-2 font-bold text-sm transition-colors ${r==="text"?"bg-primary-50 dark:bg-primary-900/10 text-primary-600 border-b-2 border-primary-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[b.jsx(zd,{className:"w-4 h-4"})," Text to PDF"]}),b.jsxs("button",{onClick:()=>e("audio"),className:`flex-1 py-4 flex items-center justify-center gap-2 font-bold text-sm transition-colors ${r==="audio"?"bg-primary-50 dark:bg-primary-900/10 text-primary-600 border-b-2 border-primary-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[b.jsx(PA,{className:"w-4 h-4"})," Audio to MP3"]})]}),b.jsxs("div",{className:"p-8",children:[r==="image"&&b.jsxs("div",{className:"space-y-6",children:[s?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"aspect-video bg-slate-100 dark:bg-slate-800 rounded-xl overflow-hidden flex items-center justify-center relative group border border-slate-200 dark:border-slate-700",children:[b.jsx("img",{src:l,alt:"Preview",className:"max-w-full max-h-full object-contain"}),b.jsx("button",{onClick:()=>{o(null),y(null)},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Db,{className:"w-4 h-4"})})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Target Format"}),b.jsxs("select",{value:u,onChange:ue=>d(ue.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white",children:[b.jsx("option",{value:"image/jpeg",children:"JPG (Joint Photographic Experts Group)"}),b.jsx("option",{value:"image/png",children:"PNG (Portable Network Graphics)"}),b.jsx("option",{value:"image/webp",children:"WebP (Modern Web Format)"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:["Quality (",Math.round(h*100),"%)"]}),b.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:h,onChange:ue=>f(parseFloat(ue.target.value)),className:"w-full"})]}),b.jsxs("button",{onClick:J,disabled:t,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary-700",children:[t?b.jsx(si,{className:"w-4 h-4 animate-spin"}):b.jsx(Db,{className:"w-4 h-4"})," Convert"]})]})]}):b.jsxs("div",{onClick:()=>{var ue;return(ue=$.current)==null?void 0:ue.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-12 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all",children:[b.jsx(T_,{className:"w-12 h-12 text-slate-400 mb-4"}),b.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Upload Image"}),b.jsx("p",{className:"text-sm text-slate-500",children:"JPG, PNG, WEBP, GIF"}),b.jsx("input",{type:"file",ref:$,onChange:ee,accept:"image/*",className:"hidden"})]}),g&&b.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-100 dark:border-green-800 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Qa,{className:"w-6 h-6 text-green-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Conversion Ready"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["Format: ",u.split("/")[1].toUpperCase()]})]})]}),b.jsxs("a",{href:g,download:`converted-image.${u.split("/")[1]}`,className:"px-4 py-2 bg-green-500 text-white rounded-lg font-bold flex items-center gap-2 hover:bg-green-600",children:[b.jsx(ma,{className:"w-4 h-4"})," Download"]})]})]}),r==="text"&&b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"flex gap-4 items-start",children:[b.jsxs("div",{className:"flex-1 space-y-4",children:[b.jsx("textarea",{className:"w-full h-64 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white resize-none font-mono text-sm",placeholder:"Type your text here or upload a file...",value:T,onChange:ue=>v(ue.target.value)}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{onClick:()=>{var ue;return(ue=U.current)==null?void 0:ue.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg font-medium flex items-center gap-2 hover:bg-slate-200 dark:hover:bg-slate-700",children:[b.jsx(U1,{className:"w-4 h-4"})," Upload .txt"]}),b.jsx("input",{type:"file",ref:U,onChange:re,accept:".txt",className:"hidden"}),b.jsx("button",{onClick:()=>v(""),className:"px-4 py-2 text-red-500 hover:text-red-600 font-medium",children:"Clear"})]})]}),b.jsxs("div",{className:"w-full md:w-64 space-y-4",children:[b.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800 text-sm text-blue-800 dark:text-blue-300",children:[b.jsx("p",{className:"font-bold mb-1",children:"Convert to PDF"}),b.jsx("p",{children:"Takes plain text and paginates it into a clean PDF document."})]}),b.jsxs("button",{onClick:q,disabled:t||!T,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary-700 disabled:opacity-50",children:[t?b.jsx(si,{className:"w-4 h-4 animate-spin"}):b.jsx(zd,{className:"w-4 h-4"})," Generate PDF"]}),R&&b.jsxs("a",{href:R,download:"converted.pdf",className:"w-full py-3 bg-green-500 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-green-600",children:[b.jsx(ma,{className:"w-4 h-4"})," Download PDF"]})]})]})}),r==="audio"&&b.jsxs("div",{className:"space-y-6",children:[B?b.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(J9,{className:"w-6 h-6 text-primary-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:B.name}),b.jsxs("p",{className:"text-sm text-slate-500",children:[(B.size/1024/1024).toFixed(2)," MB"]})]})]}),b.jsx("button",{onClick:()=>{L(null),H(null)},className:"text-red-500 hover:text-red-600 font-bold text-sm",children:"Remove"})]}):b.jsxs("div",{onClick:()=>{var ue;return(ue=D.current)==null?void 0:ue.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-12 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all",children:[b.jsx(PA,{className:"w-12 h-12 text-slate-400 mb-4"}),b.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Upload Audio File"}),b.jsx("p",{className:"text-sm text-slate-500",children:"WAV, OGG, WEBM"}),b.jsx("input",{type:"file",ref:D,onChange:W,accept:"audio/*",className:"hidden"})]}),B&&b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border border-yellow-100 dark:border-yellow-800 text-sm text-yellow-800 dark:text-yellow-400 w-full flex items-start gap-3",children:[b.jsx(Qs,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold",children:"Browser-based Conversion"}),b.jsx("p",{children:"This runs locally in your browser. Large files may freeze the page temporarily. Please be patient."})]})]}),z?b.jsxs("div",{className:"w-full p-6 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-100 dark:border-green-800 text-center animate-fade-in",children:[b.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mx-auto mb-3",children:b.jsx(Qa,{className:"w-6 h-6 text-green-600"})}),b.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"MP3 Ready!"}),b.jsxs("a",{href:z,download:"converted.mp3",className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-lg transition-all",children:[b.jsx(ma,{className:"w-5 h-5"})," Download MP3"]})]}):b.jsxs("button",{onClick:le,disabled:t,className:"w-full md:w-auto px-8 py-3 bg-primary-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary-700 disabled:opacity-70",children:[t?b.jsx(si,{className:"w-4 h-4 animate-spin"}):b.jsx(Db,{className:"w-4 h-4"}),t?"Encoding MP3...":"Convert to MP3"]})]})]}),i&&b.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl flex items-center gap-2 text-sm border border-red-100 dark:border-red-800",children:[b.jsx(Qs,{className:"w-5 h-5"})," ",i]})]})]})})},C_=[{id:"length",label:"Length",icon:b.jsx(uT,{className:"w-5 h-5"})},{id:"weight",label:"Weight",icon:b.jsx(hT,{className:"w-5 h-5"})},{id:"temp",label:"Temperature",icon:b.jsx(V9,{className:"w-5 h-5"})},{id:"volume",label:"Volume",icon:b.jsx(NA,{className:"w-5 h-5"})},{id:"area",label:"Area",icon:b.jsx(B4,{className:"w-5 h-5"})},{id:"speed",label:"Speed",icon:b.jsx(MA,{className:"w-5 h-5"})},{id:"time",label:"Time",icon:b.jsx(Lb,{className:"w-5 h-5"})},{id:"digital",label:"Digital Storage",icon:b.jsx(HP,{className:"w-5 h-5"})},{id:"energy",label:"Energy",icon:b.jsx(NA,{className:"w-5 h-5"})},{id:"pressure",label:"Pressure",icon:b.jsx(MA,{className:"w-5 h-5"})},{id:"power",label:"Power",icon:b.jsx(L9,{className:"w-5 h-5"})}],$C={length:{m:{name:"Meter",factor:1},km:{name:"Kilometer",factor:1e3},cm:{name:"Centimeter",factor:.01},mm:{name:"Millimeter",factor:.001},m:{name:"Micrometer",factor:1e-6},nm:{name:"Nanometer",factor:1e-9},mi:{name:"Mile",factor:1609.344},yd:{name:"Yard",factor:.9144},ft:{name:"Foot",factor:.3048},in:{name:"Inch",factor:.0254},nmi:{name:"Nautical Mile",factor:1852}},weight:{kg:{name:"Kilogram",factor:1},g:{name:"Gram",factor:.001},mg:{name:"Milligram",factor:1e-6},t:{name:"Metric Ton",factor:1e3},lb:{name:"Pound",factor:.45359237},oz:{name:"Ounce",factor:.02834952},st:{name:"Stone",factor:6.35029318},ct:{name:"Carat",factor:2e-4}},volume:{l:{name:"Liter",factor:1},ml:{name:"Milliliter",factor:.001},m3:{name:"Cubic Meter",factor:1e3},cm3:{name:"Cubic Centimeter",factor:.001},gal:{name:"Gallon (US)",factor:3.78541},qt:{name:"Quart (US)",factor:.946353},pt:{name:"Pint (US)",factor:.473176},cup:{name:"Cup (US)",factor:.236588},floz:{name:"Fluid Ounce (US)",factor:.0295735}},area:{m2:{name:"Square Meter",factor:1},km2:{name:"Square Kilometer",factor:1e6},cm2:{name:"Square Centimeter",factor:1e-4},mm2:{name:"Square Millimeter",factor:1e-6},ha:{name:"Hectare",factor:1e4},ac:{name:"Acre",factor:4046.86},mi2:{name:"Square Mile",factor:259e4},ft2:{name:"Square Foot",factor:.092903},in2:{name:"Square Inch",factor:64516e-8}},temp:{C:{name:"Celsius",factor:1},F:{name:"Fahrenheit",factor:1},K:{name:"Kelvin",factor:1},R:{name:"Rankine",factor:1}},speed:{mps:{name:"Meter per second",factor:1},kph:{name:"Kilometer per hour",factor:.277778},mph:{name:"Mile per hour",factor:.44704},kn:{name:"Knot",factor:.514444},fps:{name:"Foot per second",factor:.3048}},time:{s:{name:"Second",factor:1},ms:{name:"Millisecond",factor:.001},min:{name:"Minute",factor:60},h:{name:"Hour",factor:3600},d:{name:"Day",factor:86400},wk:{name:"Week",factor:604800},mo:{name:"Month (Avg)",factor:2628e3},y:{name:"Year (Avg)",factor:3154e4}},digital:{b:{name:"Bit",factor:1/8},B:{name:"Byte",factor:1},KB:{name:"Kilobyte",factor:1024},MB:{name:"Megabyte",factor:1024**2},GB:{name:"Gigabyte",factor:1024**3},TB:{name:"Terabyte",factor:1024**4},PB:{name:"Petabyte",factor:1024**5}},energy:{j:{name:"Joule",factor:1},kj:{name:"Kilojoule",factor:1e3},cal:{name:"Calorie",factor:4.184},kcal:{name:"Kilocalorie",factor:4184},wh:{name:"Watt-hour",factor:3600},kwh:{name:"Kilowatt-hour",factor:36e5},ev:{name:"Electronvolt",factor:16022e-23}},pressure:{pa:{name:"Pascal",factor:1},bar:{name:"Bar",factor:1e5},psi:{name:"PSI",factor:6894.76},atm:{name:"Atmosphere",factor:101325},torr:{name:"Torr",factor:133.322}},power:{w:{name:"Watt",factor:1},kw:{name:"Kilowatt",factor:1e3},mw:{name:"Megawatt",factor:1e6},hp:{name:"Horsepower",factor:745.7}}},cZ=()=>{var T,v;const[r,e]=Qe.useState("length"),[t,n]=Qe.useState(""),[i,a]=Qe.useState(""),[s,o]=Qe.useState("1"),[l,c]=Qe.useState(""),[u,d]=Qe.useState(!1),h=Qe.useMemo(()=>$C[r],[r]),f=h[t]?t:Object.keys(h)[0],g=h[i]?i:Object.keys(h)[1]||Object.keys(h)[0];Qe.useEffect(()=>{t!==f&&n(f),i!==g&&a(g)},[f,g,t,i]);const y=R=>{e(R);const M=Object.keys($C[R]);n(M[0]),a(M[1]||M[0]),o("1")};Qe.useEffect(()=>{if(!s||isNaN(parseFloat(s))){c("");return}const R=parseFloat(s);let M=0;if(!(!h[f]||!h[g])){if(r==="temp"){let B=R;f==="F"?B=(R-32)*5/9:f==="K"?B=R-273.15:f==="R"&&(B=(R-491.67)*5/9),g==="C"?M=B:g==="F"?M=B*9/5+32:g==="K"?M=B+273.15:g==="R"&&(M=(B+273.15)*9/5)}else{const B=h[f].factor,L=h[g].factor;M=R*B/L}Math.abs(M)<1e-6||Math.abs(M)>1e9?c(M.toExponential(4)):c(parseFloat(M.toPrecision(10)).toString())}},[r,f,g,s,h]);const w=()=>{n(g),a(f),o(l)},x=()=>{navigator.clipboard.writeText(l),d(!0),setTimeout(()=>d(!1),2e3)};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-4 order-2 lg:order-1",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 sticky top-24",children:[b.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Select Category"}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:C_.map(R=>b.jsxs("button",{onClick:()=>y(R.id),className:`flex flex-col items-center justify-center p-3 rounded-xl border transition-all ${r===R.id?"bg-primary-50 dark:bg-primary-900/20 border-primary-500 text-primary-700 dark:text-primary-400 ring-1 ring-primary-500":"bg-slate-50 dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:[b.jsx("div",{className:"mb-1",children:R.icon}),b.jsx("span",{className:"text-xs font-bold",children:R.label})]},R.id))})]})}),b.jsx("div",{className:"lg:col-span-8 order-1 lg:order-2",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800 p-8",children:[b.jsx("div",{className:"flex items-center justify-between mb-8",children:b.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[(T=C_.find(R=>R.id===r))==null?void 0:T.icon,(v=C_.find(R=>R.id===r))==null?void 0:v.label," Converter"]})}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[b.jsxs("div",{className:"flex-1 w-full space-y-2",children:[b.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"From"}),b.jsx("input",{type:"number",value:s,onChange:R=>o(R.target.value),className:"w-full p-4 text-xl rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white font-mono",placeholder:"0"}),b.jsx("select",{value:f,onChange:R=>n(R.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium cursor-pointer",children:Object.entries(h).map(([R,M])=>b.jsxs("option",{value:R,children:[M.name," (",R,")"]},R))})]}),b.jsx("button",{onClick:w,className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-full hover:bg-primary-100 dark:hover:bg-primary-900/30 text-slate-500 hover:text-primary-600 transition-colors shadow-sm",title:"Swap Units",children:b.jsx(cP,{className:"w-6 h-6"})}),b.jsxs("div",{className:"flex-1 w-full space-y-2",children:[b.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"To"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",readOnly:!0,value:l,className:"w-full p-4 text-xl rounded-xl border border-primary-200 dark:border-primary-900 bg-primary-50 dark:bg-primary-900/10 text-primary-900 dark:text-primary-100 font-mono focus:outline-none",placeholder:"Result"}),l&&b.jsx("button",{onClick:x,className:"absolute right-3 top-3.5 p-1.5 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 text-primary-600 dark:text-primary-400 transition-colors",title:"Copy Result",children:u?b.jsx(Qa,{className:"w-4 h-4"}):b.jsx(j1,{className:"w-4 h-4"})})]}),b.jsx("select",{value:g,onChange:R=>a(R.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium cursor-pointer",children:Object.entries(h).map(([R,M])=>b.jsxs("option",{value:R,children:[M.name," (",R,")"]},R))})]})]}),b.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800",children:b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:r==="temp"?b.jsx("span",{children:"Temperature conversions use specific formulas rather than simple factors."}):h[f]&&h[g]&&b.jsxs("span",{children:["1 ",h[f].name," = ",(h[f].factor/h[g].factor).toPrecision(6)," ",h[g].name]})})})]})})]})},uZ=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(!1),i=()=>{const a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+";let s="";for(let o=0;o<16;o++)s+=a.charAt(Math.floor(Math.random()*a.length));e(s)};return b.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 text-center",children:[b.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-6 rounded-xl mb-6 break-all",children:b.jsx("span",{className:"text-3xl font-mono text-slate-900 dark:text-white tracking-wider",children:r||""})}),b.jsxs("div",{className:"flex gap-4 justify-center",children:[b.jsxs("button",{onClick:i,className:"px-6 py-3 bg-primary-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-primary-700",children:[b.jsx(b2,{className:"w-5 h-5"})," Generate"]}),r&&b.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)},className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl font-bold flex items-center gap-2 hover:bg-slate-300",children:[t?b.jsx(Qa,{className:"w-5 h-5"}):b.jsx(j1,{className:"w-5 h-5"})," Copy"]})]})]})},dZ=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState("");return b.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8",children:[b.jsx("input",{type:"text",className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 mb-6",placeholder:"Enter URL or text...",value:r,onChange:i=>e(i.target.value)}),b.jsx("button",{onClick:()=>n(`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(r)}`),disabled:!r,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold mb-8 disabled:opacity-50",children:"Generate QR Code"}),t&&b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:"p-4 bg-white rounded-xl shadow-lg border border-slate-200",children:b.jsx("img",{src:t,alt:"QR",className:"w-48 h-48"})})})]})},hZ=()=>{const[r,e]=Qe.useState(""),t={words:r.trim().split(/\s+/).filter(Boolean).length,chars:r.length,charsNoSpace:r.replace(/\s/g,"").length,sentences:r.split(/[.!?]+/).filter(Boolean).length};return b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx("textarea",{className:"w-full h-96 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 resize-none focus:ring-2 focus:ring-primary-500 outline-none text-slate-900 dark:text-white",placeholder:"Type or paste your text here...",value:r,onChange:n=>e(n.target.value)}),b.jsx("div",{className:"grid grid-cols-2 gap-4 h-fit",children:Object.entries(t).map(([n,i])=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 text-center",children:[b.jsx("p",{className:"text-4xl font-bold text-primary-600 mb-2",children:i}),b.jsx("p",{className:"text-slate-500 uppercase text-xs font-bold tracking-wider",children:n.replace(/([A-Z])/g," $1").trim()})]},n))})]})},fZ=()=>{const[r,e]=Qe.useState(3),[t,n]=Qe.useState(""),i=()=>{n(Array(r).fill("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.").join(`

`))};return b.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("input",{type:"number",min:"1",max:"20",value:r,onChange:a=>e(Number(a.target.value)),className:"w-24 p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-center"}),b.jsx("label",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Paragraphs"}),b.jsx("button",{onClick:i,className:"ml-auto px-6 py-3 bg-primary-600 text-white rounded-lg font-bold hover:bg-primary-700",children:"Generate"})]}),t&&b.jsx("textarea",{readOnly:!0,value:t,className:"w-full h-64 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400"})]})},pZ=(r,e)=>e===1&&r>=20||e===2&&r<=18?"Aquarius":e===2&&r>=19||e===3&&r<=20?"Pisces":e===3&&r>=21||e===4&&r<=19?"Aries":e===4&&r>=20||e===5&&r<=20?"Taurus":e===5&&r>=21||e===6&&r<=20?"Gemini":e===6&&r>=21||e===7&&r<=22?"Cancer":e===7&&r>=23||e===8&&r<=22?"Leo":e===8&&r>=23||e===9&&r<=22?"Virgo":e===9&&r>=23||e===10&&r<=22?"Libra":e===10&&r>=23||e===11&&r<=21?"Scorpio":e===11&&r>=22||e===12&&r<=21?"Sagittarius":"Capricorn",mZ=r=>["Monkey","Rooster","Dog","Pig","Rat","Ox","Tiger","Rabbit","Dragon","Snake","Horse","Goat"][r%12],gZ=r=>["Garnet","Amethyst","Aquamarine","Diamond","Emerald","Pearl","Ruby","Peridot","Sapphire","Opal","Topaz","Turquoise"][r-1],vZ=()=>{const r=new Date,e=r.getFullYear(),t=(r.getMonth()+1).toString().padStart(2,"0"),n=r.getDate().toString().padStart(2,"0");return`${e}-${t}-${n}`},bZ=()=>{const[r,e]=Qe.useState(""),[t,n]=Qe.useState(vZ()),[i,a]=Qe.useState(null),[s,o]=Qe.useState("summary"),l=()=>{if(!r||!t)return;const[c,u,d]=r.split("-").map(Number),[h,f,g]=t.split("-").map(Number),y=new Date(c,u-1,d),w=new Date(h,f-1,g);if(y>w){alert("Birth date cannot be in the future relative to the target date!");return}let x=h-c,T=f-u,v=g-d;if(v<0){const C=new Date(h,f-1,0).getDate();v+=C,T--}T<0&&(x--,T+=12);const R=w.getTime()-y.getTime();if(R<0)return;const M=Math.floor(R/1e3),B=Math.floor(M/60),L=Math.floor(B/60),z=Math.floor(L/24),H=Math.floor(z/7),$=x*12+T,U=new Date(h,u-1,d);U.getTime()<w.getTime()&&U.setFullYear(h+1);const D=U.getTime()-w.getTime(),ee=Math.ceil(D/(1e3*60*60*24)),J=U.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),re=B*80,q=B*16,W=z*8,le=z*3,ue=z/365.25,F=[{name:"Mercury",ratio:.2408,icon:b.jsx(hP,{className:"w-4 h-4 text-orange-400"})},{name:"Venus",ratio:.6152,icon:b.jsx(Pm,{className:"w-4 h-4 text-yellow-600"})},{name:"Mars",ratio:1.8808,icon:b.jsx(Pm,{className:"w-4 h-4 text-red-500"})},{name:"Jupiter",ratio:11.862,icon:b.jsx(Pm,{className:"w-4 h-4 text-orange-700"})},{name:"Saturn",ratio:29.457,icon:b.jsx(Pm,{className:"w-4 h-4 text-yellow-400"})}].map(C=>({name:C.name,age:(ue/C.ratio).toFixed(2),icon:C.icon}));a({years:x,months:T,days:v,totalMonths:$,totalWeeks:H,totalDays:z,totalHours:L,totalMinutes:B,totalSeconds:M,nextBirthdayDays:ee,nextBirthdayDate:J,dayBorn:y.toLocaleDateString("en-US",{weekday:"long"}),zodiac:pZ(d,u),chineseZodiac:mZ(c),birthstone:gZ(u),heartbeats:re,breaths:q,sleepHours:W,meals:le,planetaryAges:F})};return b.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[b.jsx(rT,{className:"w-5 h-5 text-primary-500"})," Date Details"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Date of Birth"}),b.jsx("input",{type:"date",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white transition-all appearance-none",value:r,max:t,onChange:c=>e(c.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Calculate Age At"}),b.jsx("input",{type:"date",className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-primary-500 outline-none dark:text-white transition-all appearance-none",value:t,onChange:c=>n(c.target.value)})]}),b.jsxs("button",{onClick:l,disabled:!r||!t,className:"w-full py-3 bg-gradient-to-r from-primary-600 to-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-primary-500/20 hover:from-primary-700 hover:to-indigo-700 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[b.jsx(Lb,{className:"w-5 h-5"})," Calculate Age"]})]})]}),b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-2xl p-6",children:[b.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2 flex items-center gap-2",children:[b.jsx(mg,{className:"w-4 h-4"})," Did you know?"]}),b.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Age calculation is tricky because months have different number of days. We use the most precise method to ensure your age is 100% accurate down to the day."})]})]}),b.jsx("div",{className:"lg:col-span-8",children:i?b.jsxs("div",{className:"animate-fade-in space-y-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-primary-600 via-indigo-600 to-purple-600 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),b.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[b.jsxs("div",{className:"text-center md:text-left",children:[b.jsx("p",{className:"text-primary-100 font-medium mb-1 uppercase tracking-wider text-sm",children:"Exact Age"}),b.jsxs("div",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-2",children:[i.years,b.jsx("span",{className:"text-2xl md:text-3xl opacity-60 font-medium",children:"y"}),"",i.months,b.jsx("span",{className:"text-2xl md:text-3xl opacity-60 font-medium",children:"m"}),"",i.days,b.jsx("span",{className:"text-2xl md:text-3xl opacity-60 font-medium",children:"d"})]}),b.jsxs("p",{className:"text-primary-100 text-sm",children:["Born on a ",b.jsx("span",{className:"font-bold text-white",children:i.dayBorn})]})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 min-w-[180px] text-center border border-white/20",children:[b.jsx("div",{className:"text-xs uppercase font-bold text-primary-200 mb-2",children:"Next Birthday"}),b.jsx(AP,{className:"w-8 h-8 text-white mx-auto mb-2"}),b.jsxs("div",{className:"text-2xl font-bold",children:[i.nextBirthdayDays," Days"]}),b.jsx("div",{className:"text-xs text-primary-100 mt-1",children:i.nextBirthdayDate})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[b.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-800 overflow-x-auto",children:[{id:"summary",label:"Summary",icon:b.jsx(B4,{className:"w-4 h-4"})},{id:"time",label:"Time Units",icon:b.jsx(Lb,{className:"w-4 h-4"})},{id:"facts",label:"Fun Facts",icon:b.jsx(gP,{className:"w-4 h-4"})},{id:"space",label:"Galactic Age",icon:b.jsx(N9,{className:"w-4 h-4"})}].map(c=>b.jsxs("button",{onClick:()=>o(c.id),className:`flex-1 py-4 px-4 text-sm font-bold flex items-center justify-center gap-2 whitespace-nowrap transition-colors ${s===c.id?"text-primary-600 border-b-2 border-primary-600 bg-slate-50 dark:bg-slate-800":"text-slate-500 hover:text-slate-800 dark:hover:text-slate-300"}`,children:[c.icon," ",c.label]},c.id))}),b.jsxs("div",{className:"p-6 min-h-[300px]",children:[s==="summary"&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-800",children:[b.jsx("p",{className:"text-xs font-bold text-indigo-500 uppercase mb-1",children:"Zodiac Sign"}),b.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:i.zodiac})]}),b.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-100 dark:border-orange-800",children:[b.jsx("p",{className:"text-xs font-bold text-orange-500 uppercase mb-1",children:"Chinese Zodiac"}),b.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:i.chineseZodiac})]}),b.jsxs("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/20 rounded-xl border border-teal-100 dark:border-teal-800",children:[b.jsx("p",{className:"text-xs font-bold text-teal-500 uppercase mb-1",children:"Birthstone"}),b.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:i.birthstone})]}),b.jsx("div",{className:"col-span-1 sm:col-span-3 mt-2",children:b.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["You have lived for ",b.jsx("b",{children:i.totalDays.toLocaleString()})," days. In that time, the Earth has traveled approximately ",b.jsxs("b",{children:[(i.totalDays*2.57).toLocaleString(void 0,{maximumFractionDigits:0})," million kilometers"]})," around the Sun."]})})]}),s==="time"&&b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[[{label:"Total Years",val:i.years},{label:"Total Months",val:i.totalMonths.toLocaleString()},{label:"Total Weeks",val:i.totalWeeks.toLocaleString()},{label:"Total Days",val:i.totalDays.toLocaleString()},{label:"Total Hours",val:i.totalHours.toLocaleString()},{label:"Total Minutes",val:i.totalMinutes.toLocaleString()}].map((c,u)=>b.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700",children:[b.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:c.label}),b.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:c.val})]},u)),b.jsxs("div",{className:"col-span-2 md:col-span-3 p-4 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700",children:[b.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Total Seconds"}),b.jsx("p",{className:"text-3xl font-mono font-bold text-primary-600",children:i.totalSeconds.toLocaleString()})]})]}),s==="facts"&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-rose-50 dark:bg-rose-900/20 rounded-xl border border-rose-100 dark:border-rose-800",children:[b.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-full text-rose-500",children:b.jsx(a9,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-rose-500 uppercase",children:"Heartbeats (Approx)"}),b.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:i.heartbeats.toLocaleString()}),b.jsx("p",{className:"text-xs text-rose-400",children:"~80 bpm avg"})]})]}),b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-sky-50 dark:bg-sky-900/20 rounded-xl border border-sky-100 dark:border-sky-800",children:[b.jsx("div",{className:"p-3 bg-sky-100 dark:bg-sky-900/50 rounded-full text-sky-500",children:b.jsx(tF,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-sky-500 uppercase",children:"Breaths Taken"}),b.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:i.breaths.toLocaleString()}),b.jsx("p",{className:"text-xs text-sky-400",children:"~16 per min"})]})]}),b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-violet-50 dark:bg-violet-900/20 rounded-xl border border-violet-100 dark:border-violet-800",children:[b.jsx("div",{className:"p-3 bg-violet-100 dark:bg-violet-900/50 rounded-full text-violet-500",children:b.jsx(uP,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-violet-500 uppercase",children:"Hours Slept"}),b.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:i.sleepHours.toLocaleString()}),b.jsx("p",{className:"text-xs text-violet-400",children:"~8 hrs/day"})]})]}),b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-100 dark:border-amber-800",children:[b.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-full text-amber-500",children:b.jsx(jP,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-amber-500 uppercase",children:"Meals Eaten"}),b.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:i.meals.toLocaleString()}),b.jsx("p",{className:"text-xs text-amber-400",children:"~3 meals/day"})]})]})]}),s==="space"&&b.jsxs("div",{className:"space-y-4",children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"A year is defined by how long a planet takes to orbit the Sun. Since other planets have different orbits, your age would be different there!"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:i.planetaryAges.map(c=>b.jsx("div",{className:"p-4 bg-slate-900 text-white rounded-xl border border-slate-700 flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-white/10 rounded-full",children:c.icon}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:c.name}),b.jsxs("p",{className:"text-xl font-bold",children:[c.age," ",b.jsx("span",{className:"text-sm font-normal text-slate-400",children:"yrs"})]})]})]})},c.name))})]})]})]})]}):b.jsxs("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center bg-slate-50/50 dark:bg-slate-900/50 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-800 text-center p-8",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-6",children:b.jsx(Lb,{className:"w-10 h-10 text-slate-300"})}),b.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Waiting for your birthday"}),b.jsx("p",{className:"text-slate-500 mt-2 max-w-sm",children:"Enter your date of birth to reveal precise age metrics, astrological details, and fun life statistics."})]})})]})},yZ=()=>{const[r,e]=Qe.useState(1),[t,n]=Qe.useState(100),[i,a]=Qe.useState(1),[s,o]=Qe.useState(!1),[l,c]=Qe.useState("none"),[u,d]=Qe.useState([]),[h,f]=Qe.useState(!1),g=()=>{if(r>=t){alert("Min must be less than Max");return}if(!s&&i>t-r+1){alert("Cannot generate unique numbers. Range is too small for the requested count.");return}const w=[],x=new Set;for(;w.length<i;){const T=Math.floor(Math.random()*(t-r+1))+r;s?w.push(T):x.has(T)||(x.add(T),w.push(T))}l==="asc"&&w.sort((T,v)=>T-v),l==="desc"&&w.sort((T,v)=>v-T),d(w)},y=()=>{navigator.clipboard.writeText(u.join(", ")),f(!0),setTimeout(()=>f(!1),2e3)};return b.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-5 space-y-6",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Min"}),b.jsx("input",{type:"number",value:r,onChange:w=>e(parseInt(w.target.value)),className:"w-full p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Max"}),b.jsx("input",{type:"number",value:t,onChange:w=>n(parseInt(w.target.value)),className:"w-full p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white"})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Quantity"}),b.jsx("input",{type:"number",value:i,min:"1",max:"1000",onChange:w=>a(parseInt(w.target.value)),className:"w-full p-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[b.jsx("input",{type:"checkbox",checked:s,onChange:w=>o(w.target.checked),className:"rounded border-slate-300 text-primary-600 focus:ring-primary-500"}),"Allow Duplicates"]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[b.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Sort:"}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded p-1",children:[b.jsx("button",{onClick:()=>c("none"),className:`px-2 py-1 rounded text-xs ${l==="none"?"bg-white shadow text-black":"text-slate-500"}`,children:"None"}),b.jsx("button",{onClick:()=>c("asc"),className:`px-2 py-1 rounded text-xs ${l==="asc"?"bg-white shadow text-black":"text-slate-500"}`,children:"Asc"}),b.jsx("button",{onClick:()=>c("desc"),className:`px-2 py-1 rounded text-xs ${l==="desc"?"bg-white shadow text-black":"text-slate-500"}`,children:"Desc"})]})]})]}),b.jsxs("button",{onClick:g,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 transition-all flex items-center justify-center gap-2",children:[b.jsx(RA,{className:"w-4 h-4"})," Generate"]})]})}),b.jsx("div",{className:"lg:col-span-7",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 min-h-[400px] flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30",children:[b.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-300",children:["Results (",u.length,")"]}),u.length>0&&b.jsxs("button",{onClick:y,className:"text-xs flex items-center gap-1 text-slate-500 hover:text-primary-600",children:[h?b.jsx(Qa,{className:"w-3 h-3"}):b.jsx(j1,{className:"w-3 h-3"})," ",h?"Copied":"Copy All"]})]}),b.jsx("div",{className:"p-6 flex-1 overflow-auto max-h-[500px] custom-scrollbar",children:u.length>0?b.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((w,x)=>b.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-slate-100 dark:bg-slate-800 rounded-full font-mono text-lg font-medium text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:w},x))}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[b.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:b.jsx(RA,{className:"w-8 h-8 opacity-30"})}),b.jsx("p",{children:"Ready to generate"})]})})]})})]})},xZ=()=>{const[r,e]=Qe.useState(0),[t,n]=Qe.useState(0),[i,a]=Qe.useState(0),[s,o]=Qe.useState(null),l=()=>{let u=0,d="";if(r===0)u=t/100*i,d=`${t}% of ${i} is ${u}`;else if(r===1){if(i===0){o("Cannot divide by zero");return}u=t/i*100,d=`${t} is ${u.toFixed(2)}% of ${i}`}else{if(t===0){o("Initial value cannot be zero");return}u=(i-t)/t*100,d=`${u>0?"Increase":"Decrease"} of ${Math.abs(u).toFixed(2)}%`}o(d)},c=[{label:"What is X% of Y?",icon:I_},{label:"X is what % of Y?",icon:dP},{label:"% Change (X to Y)",icon:xP}];return b.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8",children:[b.jsx("div",{className:"flex gap-2 mb-8 bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:c.map((u,d)=>b.jsxs("button",{onClick:()=>{e(d),o(null),n(0),a(0)},className:`flex-1 py-3 px-2 rounded-lg text-sm font-medium flex flex-col sm:flex-row items-center justify-center gap-2 transition-all ${r===d?"bg-white dark:bg-slate-700 shadow text-primary-600":"text-slate-500 hover:text-slate-900 dark:hover:text-white"}`,children:[b.jsx(u.icon,{className:"w-4 h-4"}),b.jsx("span",{className:"text-center",children:u.label})]},d))}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-8",children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:r===0?"Percentage (X)":r===1?"Number (X)":"From Value (X)"}),b.jsx("input",{type:"number",value:t||"",onChange:u=>n(parseFloat(u.target.value)),className:"w-full p-4 text-xl rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white font-mono",placeholder:"0"})]}),b.jsx("div",{className:"text-slate-400 font-bold text-xl pt-6",children:r===0?"OF":r===1?"IN":"TO"}),b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:r===0?"Value (Y)":r===1?"Total (Y)":"To Value (Y)"}),b.jsx("input",{type:"number",value:i||"",onChange:u=>a(parseFloat(u.target.value)),className:"w-full p-4 text-xl rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white font-mono",placeholder:"0"})]})]}),b.jsx("button",{onClick:l,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold text-lg hover:bg-primary-700 transition-colors mb-8",children:"Calculate"}),s&&b.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-2xl text-center animate-fade-in",children:[b.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider font-bold mb-2",children:"Result"}),b.jsx("p",{className:"text-3xl font-bold",children:s})]})]})},wZ=()=>{const[r,e]=Qe.useState("metric"),[t,n]=Qe.useState(""),[i,a]=Qe.useState(""),[s,o]=Qe.useState(""),[l,c]=Qe.useState(""),[u,d]=Qe.useState(null),h=()=>{let y=0,w=parseFloat(t);if(r==="metric"?y=parseFloat(i)/100:y=parseFloat(s||"0")*12+parseFloat(l||"0"),!w||!y)return;let x=0;r==="metric"?x=w/(y*y):x=703*w/(y*y),d(parseFloat(x.toFixed(1)))},g=u?(y=>y<18.5?{label:"Underweight",color:"text-blue-500",bg:"bg-blue-500"}:y<25?{label:"Normal weight",color:"text-green-500",bg:"bg-green-500"}:y<30?{label:"Overweight",color:"text-yellow-500",bg:"bg-yellow-500"}:{label:"Obese",color:"text-red-500",bg:"bg-red-500"})(u):null;return b.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8",children:[b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl mb-6",children:[b.jsx("button",{onClick:()=>e("metric"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${r==="metric"?"bg-white dark:bg-slate-700 shadow":"text-slate-500"}`,children:"Metric (kg/cm)"}),b.jsx("button",{onClick:()=>e("imperial"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${r==="imperial"?"bg-white dark:bg-slate-700 shadow":"text-slate-500"}`,children:"Imperial (lbs/ft)"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 flex items-center gap-2",children:[b.jsx(uT,{className:"w-4 h-4"})," Height"]}),r==="metric"?b.jsx("input",{type:"number",value:i,onChange:y=>a(y.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white",placeholder:"cm"}):b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"number",value:s,onChange:y=>o(y.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white",placeholder:"ft"}),b.jsx("input",{type:"number",value:l,onChange:y=>c(y.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white",placeholder:"in"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 flex items-center gap-2",children:[b.jsx(hT,{className:"w-4 h-4"})," Weight"]}),b.jsx("input",{type:"number",value:t,onChange:y=>n(y.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white",placeholder:r==="metric"?"kg":"lbs"})]}),b.jsx("button",{onClick:h,className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 transition-colors mt-4",children:"Calculate BMI"})]})]}),b.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 flex flex-col items-center justify-center min-h-[400px]",children:u?b.jsxs("div",{className:"text-center w-full animate-fade-in",children:[b.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-wider text-sm mb-2",children:"Your BMI Score"}),b.jsx("div",{className:"text-6xl font-extrabold text-slate-900 dark:text-white mb-2",children:u}),b.jsx("div",{className:`text-xl font-bold mb-8 ${g==null?void 0:g.color}`,children:g==null?void 0:g.label}),b.jsxs("div",{className:"relative h-4 bg-slate-200 dark:bg-slate-700 rounded-full w-full mb-2 overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-[18.5%] bg-blue-400"}),b.jsx("div",{className:"absolute top-0 bottom-0 left-[18.5%] w-[21.5%] bg-green-500"})," ",b.jsx("div",{className:"absolute top-0 bottom-0 left-[40%] w-[16%] bg-yellow-500"})," ",b.jsx("div",{className:"absolute top-0 bottom-0 left-[56%] right-0 bg-red-500"}),b.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-black dark:bg-white shadow-[0_0_10px_rgba(0,0,0,0.5)] z-10 transition-all duration-1000",style:{left:`${Math.min(100,Math.max(0,u/40*100))}%`}})]}),b.jsxs("div",{className:"flex justify-between text-xs text-slate-400 font-bold",children:[b.jsx("span",{children:"15"}),b.jsx("span",{children:"18.5"}),b.jsx("span",{children:"25"}),b.jsx("span",{children:"30"}),b.jsx("span",{children:"40+"})]}),b.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800 rounded-xl text-left text-sm text-slate-600 dark:text-slate-300 border border-slate-100 dark:border-slate-700",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(mg,{className:"w-5 h-5 text-primary-500 flex-shrink-0 mt-0.5"}),b.jsx("p",{children:"A BMI between 18.5 and 24.9 is considered normal. Keep in mind BMI is a general screening tool and does not account for muscle mass or body composition."})]})})]}):b.jsxs("div",{className:"text-center text-slate-400",children:[b.jsx(B4,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),b.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:"No Result Yet"}),b.jsx("p",{className:"text-sm mt-2",children:"Enter your height and weight to see your health score."})]})})]})},_Z=({tool:r,onBack:e,onSelectCategory:t,onNavigateToPricing:n})=>{const{isAuthenticated:i}=v2();Qe.useEffect(()=>{window.scrollTo(0,0)},[r]);const a=()=>{if(r.id==="logo-generator")return b.jsx(BY,{});if(r.id==="password-gen")return b.jsx(uZ,{});if(r.id==="qr-generator")return b.jsx(dZ,{});if(r.id==="word-counter")return b.jsx(hZ,{});if(r.id==="lorem-ipsum")return b.jsx(fZ,{});if(r.id==="serp-preview")return b.jsx(TY,{});if(r.id==="seo-content-analyzer")return b.jsx(NY,{});if(r.id==="backlink-checker")return b.jsx(RY,{});if(r.id==="robots-txt-gen")return b.jsx(MY,{});if(r.id==="sitemap-generator")return b.jsx(FY,{});if(r.id==="plagiarism-checker")return b.jsx(LY,{});if(r.id==="file-converter")return b.jsx(lZ,{});if(r.id==="unit-converter")return b.jsx(cZ,{});if(r.id==="age-calculator")return b.jsx(bZ,{});if(r.id==="random-number-gen")return b.jsx(yZ,{});if(r.id==="percentage-calculator")return b.jsx(xZ,{});if(r.id==="bmi-calculator")return b.jsx(wZ,{});switch(r.actionType){case"ai-text":return b.jsx(UU,{tool:r,onNavigateToPricing:n});case"ai-image":return b.jsx(HU,{tool:r});case"ai-image-edit":return b.jsx(VU,{});case"ai-hairstyle":return b.jsx(KU,{});case"pdf-to-word":return b.jsx(XH,{});case"image-to-pdf":return b.jsx(DG,{});case"pdf-to-image":return b.jsx(BG,{});case"pdf-merge":return b.jsx(wY,{});case"pdf-compress":return b.jsx(_Y,{});case"pdf-editor":return b.jsx(kY,{});case"regex-tester":return b.jsx(CY,{});case"coming-soon":return b.jsxs("div",{className:"min-h-[40vh] flex flex-col items-center justify-center text-center p-6 bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800",children:[b.jsx(Qs,{className:"w-16 h-16 text-yellow-500 mx-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold dark:text-white mb-2",children:"Coming Soon"}),b.jsx("p",{className:"text-slate-500",children:"We are currently building this tool."})]});default:return b.jsx("div",{className:"text-center p-12 bg-red-50 text-red-600 rounded-xl",children:"Error: Tool implementation not found."})}};return i?b.jsx(oF,{tool:r,onBack:e,onSelectCategory:t,children:a()}):b.jsx(mP,{})},TZ=Object.freeze(Object.defineProperty({__proto__:null,default:_Z},Symbol.toStringTag,{value:"Module"}));export{TZ as T,fr as _};
