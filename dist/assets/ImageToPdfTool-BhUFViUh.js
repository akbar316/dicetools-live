import{N as e,z as t,a1 as r,a2 as s,aL as a,U as l,g as d,a0 as n,V as o}from"./vendor-react-CWmbX_Im.js";import{E as i}from"./vendor-pdf-Chr6DQ98.js";import"./vendor-CIxjMMAQ.js";const c=()=>{const[c,x]=e.useState([]),[m,u]=e.useState(!1),[h,g]=e.useState(null),[b,p]=e.useState(null),f=e.useRef(null);return t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 md:p-12",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Convert Images to PDF"}),t.jsxs("div",{onClick:()=>{var e;return null==(e=f.current)?void 0:e.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:t.jsx(r,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),t.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Click to upload images"}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"JPG, PNG supported"})]}),t.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/png, image/jpeg, image/jpg",multiple:!0,onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=[];Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return;if(e.size>10485760)return;const r=URL.createObjectURL(e);t.push({id:Math.random().toString(36).substr(2,9),url:r,file:e})}),x(e=>[...e,...t]),p(null),g(null)}f.current&&(f.current.value="")}})]}),c.length>0&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[c.map((e,r)=>t.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 aspect-square bg-slate-50 dark:bg-slate-800",children:[t.jsx("img",{src:e.url,alt:`Upload ${r}`,className:"w-full h-full object-contain"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx("button",{onClick:()=>{return t=e.id,x(e=>e.filter(e=>e.id!==t)),void p(null);var t},className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:t.jsx(s,{className:"w-4 h-4"})})}),t.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded-md",children:r+1})]},e.id)),t.jsxs("div",{onClick:()=>{var e;return null==(e=f.current)?void 0:e.click()},className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl aspect-square cursor-pointer hover:border-primary-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx(a,{className:"w-6 h-6 text-slate-400"}),t.jsx("span",{className:"text-xs text-slate-500 mt-2",children:"Add More"})]})]}),t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.length>0&&!b&&t.jsxs("button",{onClick:async()=>{if(0!==c.length){u(!0),g(null);try{const e=new i,t=210,r=297;for(let l=0;l<c.length;l++){const s=c[l];l>0&&e.addPage();const a=e.getImageProperties(s.url),d=a.width/a.height;let n=t,o=t/d;o>r&&(o=r,n=r*d);const i=(t-n)/2,x=(r-o)/2;e.addImage(s.url,"JPEG",i,x,n,o)}const s=e.output("blob"),a=URL.createObjectURL(s);p(a)}catch(e){g("Failed to generate PDF. Please try again.")}finally{u(!1)}}},disabled:m,className:"w-full md:w-auto px-8 py-4 bg-primary-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-primary-500/30 flex items-center justify-center gap-2 hover:bg-primary-700 transition-all disabled:opacity-70",children:[m?t.jsx(l,{className:"w-6 h-6 animate-spin"}):t.jsx(d,{className:"w-6 h-6"}),m?"Converting...":`Convert ${c.length} Images to PDF`]}),b&&t.jsxs("div",{className:"w-full animate-fade-in bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/50 rounded-2xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(n,{className:"w-8 h-8 text-green-600"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"PDF Ready!"}),t.jsx("p",{className:"text-slate-500 mb-6",children:"Your images have been combined successfully."}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("a",{href:b,download:"converted-images.pdf",className:"px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:shadow-lg transition-all flex items-center gap-2",children:[t.jsx(n,{className:"w-4 h-4"})," Download PDF"]}),t.jsx("button",{onClick:()=>{p(null),x([])},className:"px-6 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Start Over"})]})]}),h&&t.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[t.jsx(o,{className:"w-5 h-5"}),h]})]})]})})};export{c as default};
